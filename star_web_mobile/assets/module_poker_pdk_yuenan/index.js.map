{"version":3,"sources":["../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/AudioControl.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/AudioMgr.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/Bar/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/Bar/Bar.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/BaseConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/CoinMatchConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/ConfigManager.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/Define.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/DuanjuConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/EventCenter.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/FaceConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/GameManager.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/GameTools.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/GD.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/GlobalConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/ItemConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/KernelDefine.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/LanguageConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/lobby_gold_room.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/OnGameSyncPlayerGold.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/OpenRoomConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/data/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/data/PDK_BattleData.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Card.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_CardFan.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_CardFanSlot.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_CardRecorder.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_CardTitle.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_ChatHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_ChatMenu.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_ConstDef.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_define.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_DismissMenu.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_DragCard.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_EmojiComp.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_FlyGold.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Game.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_GameEndPerformanceHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_GameLogic.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_GotoHallHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_HeadframeAni.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/PDK_Jackpot.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/PDK_JackpotInfo.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Player.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_PlayerInfo.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_PlayerInfoPropItem.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_PlayerSoundHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_PropItemHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Result_BigItem.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Result_Player.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Result.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_RewardBtns.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_RewardItem.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_RoomConfig.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/PDK_Setting.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/PDK_TopEffectLayer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/PdkYuNanGameMgr.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/Conifg/PeiMusicConfigContainer.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/message/PokerUtils.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/misc/jackpot/RollingNumber.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/effect/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/effect/SaoguangTexture.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/Singleton.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/TouchEffectHelper.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UILoading/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UILoading/UILoading.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UIDialogBox/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UIDialogBox/UIMessageBox.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UITips/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/PublicPrefab/UITips/UITips.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/kernel/Utils.ts","../file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/wait/file:/D:/work/github/star_client/assets/module_poker_pdk_yuenan/script/wait/WaitTime.ts"],"names":["rootPath","AudioControl","playClick","path","tgx","AudioMgr","inst","audio","playEffect","ModuleDef","POKER_PDK_YUENAN","playBGM","playMusicLoop","playFinish","playGetReward","_RF","pop","audioClipMap","bgm_on","effect_on","bgm","bindObj","_proto","prototype","onDestroy","isBgmOpen","isEffectOpen","loadAudioDir","dirName","callback","releaseAll","stopAll","getMusicVolume","setMusicVolume","audioNum","getEffectsVolume","setEffectsVolume","openBgm","on","openEffect","playMusic","music","effect","stopEffect","_createClass","key","get","_inst","ccclass","_decorator","property","MaskBar","_dec","_dec2","Sprite","_class","_class2","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_progress","_initializerDefineProperty","_descriptor","_assertThisInitialized","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","ConfigData","TITLES","RECORDS","BaseConfigContainer","CONFIG_FILE_DIR","mTag","set","value","CoinMatchData","coin_match_id","coin_match_name","clearing_type","base_coin","limit_enter_coin","commission","stage_integral_win","stage_integral_lose","win_extra_reward","bigwin_reward","CoinMatchTitle","CoinMatchConfigContainer","_BaseConfigContainer","caller","arg","configData","mapConfig","ResourceMgr","loadResByModuleBundle","JsonAsset","err","jsonAsset","Logger","error","json","i","record","data","decodeConfigItemString","getCoinMatchCfgByCoinMatchId","getCoinItemsByClearingType","arr","element","push","ConfigManager","configContainerList","curLoadedCount","_isLoaded","getInstance","instance","loadAllConfig","loadConfig","LanguageConfigContainer","ItemConfigContainer","OpenRoomConfigContainer","FaceConfigContainer","DuanjuConfigContainer","PeiMusicConfigContainer","GlobalConfigContainer","getConfig","configClass","tag","config","CARD_RANK","CARD_COLOR","EventMessage","POKER_ROOM_INFO","POKER_GAME_START","POKER_USER_PLAY","POKER_USER_PASS","POKER_GAME_END","POKER_ROOM_GOLD_CHANGE","POKER_BOMB_SCORE","POKER_USER_TRUSTEESHIP_STATUS","POKER_USER_CHAT","DuanjuData","id","text","sound","DuanjuDataTitle","pei_music_id","arrConfig","generateMapConfig","temp","Number","getDataArray","getDataById","faceData","numId","EventCenter","_Node","onEvent","strEvent","offEvent","off","emitEvent","arg1","arg2","arg3","arg4","arg5","emit","Node","FaceData","isShow","icon","res","num","FaceDataTitle","face_id","sort","show","cycle","face_icon","face_res","face_number","getFaceDataById","GameManager","_currentUserID","_currentUserChairID","_lastUserID","_lastUserChairID","_gameData","getTableUserItem","chairID","userList","init","gameNet","listenMsg","onGameStart","onRoomBack","onUserPlay","onUserPass","onUserTrusteeshipStatus","onGameEnd","onRoomGoldChange","onRoomBombScore","onChat","uinit","end","unlistenMsgAllByThis","onReady","RoomMgr","rpc_Ready","onCancelReady","onPlay","cards","msg","sendMsg","onPass","onTrustship","status","onCancelTrustship","chat","content","callApi","getUserInfoByID","userID","getUserInfoByChairID","console","log","GameData","serialNumber","currentUserID","currentUserId","currentUserChairID","currentUser","currentLeftTime","round","handRound","userCards","userGameInfo","UserGameInfo","userId","chairId","userCardCount","cardCount","prevCards","PrevCards","leftCardCount","director","PokerManager","roomData","roomStatus","ROOM_STATUS","PLAYING","startData","GameStartData","userCard","UserCard","j","gamePlayCard","GamePlayCard","nextUserChairID","nextUserID","user","index","indexOf","splice","gamePlayPass","GamePlayPass","IDLE","gameEndData","GameEndData","tongPai","tongPaiData","TongPaiData","userDatas","userData","userResultData","UserResultData","allGold","winGold","score","bombGold","bombScore","isWinner","playRecords","isCreator","nickname","roomGoldChange","RoomGoldChange","changeUser","RoomGoldChangeUser","gold","trusteeship","myChairID","UserMgr","uid","playerCount","head","GameTools","dateFormat","date","format","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","k","formatStr","sep","chars","toString","result","slice","toThousands","src","to10Thousands","toWan","randNum","min","max","isInt","offset","random","convertMoneyToCapitals","n","unit","str","p","charAt","getIsWatcher","showSpriteFrame","node","atlas","spriteName","frame","getSpriteFrame","sprite","getComponent","spriteFrame","getStrInBytes","bytesCount","c","setChildVisible","active","children","childrenCount","forEach","childNode","getDistance","gps1","gps2","arr1","split","arr2","getFlatternDistance","lat1","lng1","lat2","lng2","parseFloat","f","rad","g","l","sg","sin","sl","sf","s","w","r","d","h1","h2","a","EARTH_RADIUS","fl","atan","sqrt","PI","versionCompare","versionA","versionB","idx","vA","vB","size","parseInt","b","versionCompareHandle","setLabelStr","targetNode","Label","string","readLocalImg","url","trimMode","Promise","resolve","reject","SpriteFrame","sizeMode","SizeMode","TRIMMED","trim","getStringReplace","param","getThreeDotNum","ret","setGray","root","isGray","targetSprite","targetLabel","grayscale","child","nFormatter","digits","si","symbol","rx","toFixed","GetQueryString","name","sys","isBrowser","reg","window","location","search","match","unescape","wxLoginCallBack","wxShareCallBack","MUSIC_ON_OFF_KEY","EFFECT_ON_OFF_KEY","UUID_KEY","OPEN_ID_KEY","GD","staticclubID","staticisAdmin","clubID","isAdmin","watcherID","baoxID","roomConfig","GameConfig","GameLogic","goldSettlementType","isDebug","releaseUrl","debugUrl","useSSL","versionConfigUrl","version","isAudit","language","GameTool","createPanel","panelName","cb","showWaitLayer","canvas","find","panelRoot","getChildByName","self","Prefab","prefab","doCreatePanel","createPanelByPrefab","newNode","instantiate","parent","setPosition","opacity","updateWidget","sprite_splash","once","NodeEventType","TOUCH_END","destroy","bind","btn_close","widgets","getComponentsInChildren","Widget","currentScene","getScene","canvasComponent","getComponentInChildren","Canvas","canvasNode","target","updateAlignment","createPrefab","showTextTips","ui","UITips","showText","setWaitNode","_waitNode","UIMgr","getLayerNode","GameUILayers","LOADING","addChild","UILoading","showPanel","destroyWaitLayer","messageBox","cb1","cb2","showRuletip","rule_txt","updateGoldSettlementType","gold_settlementType","localStorage","getItem","GlobalData","config_id","GlobalDataTitle","globalConfigData","isNaN","getGlobalConfigData","getDataByConfigId","ItemData","item_id","desc","count","ItemInfo","itemId","ItemDataTitle","itemStr","itemList","list","itemConfigData","getItemConfigData","getItemDataById","itemData","langConfig","getLang","gameConst","US_NULL","US_FREE","US_SIT","US_READY","US_PLAYING","GAME_STATUS_FREE","GAME_STATUS_PLAY","GAME_STATUS_WAIT","GER_NORMAL","GER_DISMISS","GER_USER_LEAVE","GER_NETWORK_ERROR","START_MODE_ALL_READY","START_MODE_FULL_READY","START_MODE_HUNDRED","KICK_TYPE","INVALID_CHAIR","gameCMD","MDM_GR_LOGON","SUB_GR_LOGON_ACCOUNTS","SUB_GR_LOGON_SUCCESS","SUB_GR_LOGON_FAILURE","MDM_GR_USER","SUB_GR_USER_SIT_DOWN","SUB_GR_USER_STANDUP","SUB_GR_USER_STATUS","SUB_GR_USER_ENTER","SUB_GR_USER_SCORE","SUB_GR_USER_ONLINE","MDM_GF_GAME","MDM_GF_FRAME","SUB_GF_GAME_OPTION","SUB_GF_USER_READY","SUB_GF_USER_CHAT","SUB_GF_DISMISS_START","SUB_GF_DISMISS_AGREE","SUB_GF_DISMISS_END","SUB_GF_CMD_DIALOG","SUB_GF_USE_ITEM","SUB_GF_CARD_RECORDER","SUB_GF_SYNC_PLAYER_DATA","SUB_GF_GET_EXTRA_REWARD","SUB_GF_APPLY_START","SUB_GF_APPLY_START_AGREE","SUB_GF_APPLY_START_END","SUB_GF_GAME_STATUS","SUB_GF_GAME_SCENE","SUB_GF_ROOM_INFO","SUB_GF_FORCE_CLOSE","SUB_GF_REQUEST_FAILURE","SUB_GF_TOAST_MSG","SUB_GF_FISH_NOTICE","SUB_GF_DO_DISMISS_GAME","SUB_GF_DISMISS_GAME_FAILED","SUB_GF_SEAT_CHANG","LanguageData","language_id","zh","vi","en","LanguageTitle","langId","getLangById","formatLang","replacementList","formatLangById","retStr","lang","_this2","parsePattern","undefined","toLowerCase","toUpperCase","splitted","day","month","year","time","mod","output","substring","lobby_gold_room","_dec3","_dec4","_descriptor2","_descriptor3","onLoad","item","closeAll","start","_start","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","updateGoodsInfo","stop","bindEvent","onItemClick","temparr","isMoreMoney","coin","onQuickStart","SubGameMgr","MatchRoom","SubGameDef","getBestIndex","coinMatchConfigContainer","itemlist","m","bestData","leaveGame","SceneUtil","loadScene","SceneDef","LOBBY","OnGameSyncPlayerGold","OnGameSyncPlayerGoldItem","SeverOpenConfig","moduleID","roomID","chipType","juShu","settlementType","bet","createRoomType","cardRecorder","OpenRoomCostType","OpenRoomBetType","ClearingType","OpenRoomItemData","cfg","title","childArray","OpenRoomChildItemData","OpenRoomData","game_id","room_name","play_count","play_number","bet_type","number","limit_enter","cost_type","play_cost","take_notes","OpenRoomTitle","mapConfigArray","getOpenRoomCfgBybetType","getOpenRoomCfgArrayBybetType","tempArr","object","childitem","PokerNum","OneBattleThree","Host","Average","Winer","Score","Coin","PDK_BattleData","_Singleton","local_head_auto_record","m_isAutoRecordCards","m_isUseRecorder","m_outCards","lastSeat","lastCardValues","isInBattle","enableCardRecorder","extraRewardData","clear","firstSitDown","setLastChupai","seat","PokerUtils","getCardRank","recordOutCards","card","gameEvent","EVENT_RECORD_OUT_CARD","EVENT_GAME_ROUND_START","onGameFinish","EVENT_GAME_ROUND_FINISH","onGameExit","checkUseRecorderItem","setItem","EVENT_USE_RECORDER","Singleton","PDK_Card","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","SpriteAtlas","_dec12","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","m_isSelected","_cardID","_team","_jiaoBiaoValue","setCard","bm","cardRank","cardColor","getCardColor","JokerSmall","JokerBig","color_mini","color_big","daWang","daWangValue","paiAtlas","setTeam","teamNode","setjiaoBiaoValue","jiaoBiao","cardData","Object","getOwnPropertyDescriptor","PDK_CardFan","m_cardSlots","m_isTouchStart","m_isTouchEnd","m_currentTouchCard","clearSlots","insertOneCard","initSlot","total","addOneCard","cardId","unfold","fold","onTouchStart","event","onTouchMove","onTouchEnd","destoryOneSlot","slot","getArrRotate","putAllCardBack","PDK_CardFanSlot","PDK_CardRecorder","_class3","RECORDER_ITEM_ID","m_isShow","m_marks","m_battleData","_proto2","unbindEvent","initUI","resetMarks","onGameRoundStart","onGameRoundFinish","initRecordedCards","onRecordCards","recordOneCard","onUseRecorder","isUse","onBtnAutoUse","onBtnRecorder","onUseItem","showRecorderNum","onShowRecorder","PDK_CardTitle","m_4ji","m_lian3dui","m_lian4dui","m_shuang2","m_chupai","m_seatIdx","m_isReady","ready","hideAll","getChupaiCenterX","x","uiTransform","UITransform","contentSize","scale","position","width","showTitle","scheduleOnce","y","tween","to","hideTitle","Tween","stopAllByTarget","show4ji","showLian3Dui","showLian4Dui","showShuang2","PDK_ChatHelper","gameScript","PDK_Game","onNewChatMsg","userInfo","seatID","getRelativeSeatID","chairData","faceConfig","showEmoji","playerScript","chatNode","PDK_PlayerSoundHelper","playerSound","duanjuConfig","duanjuData","player","chatText","Animation","play","faceNode","bundle","assetManager","getBundle","loadDir","assets","onLoadEmoji","emoji","PDK_EmojiComp","addComponent","startFrameAnimation","PDK_ChatMenu","EditBox","faceItem","phraseItem","createDuanju","createEmoji","btnSend","EventType","onBtnSend","lblSend","editbox","placeholder","onTextChange","label_tip","click_phrase","menu","currentTarget","closeMe","click_face","txt","faceIndex","duanjuArray","setParent","phraseNode","lbl","faceArray","CARD_TYPE","NULL","SINGLE","PAIR","THREE","STRAIGHT","PAIRS","FOUR","ACE","TWO","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","JACK","QUEEN","KING","CARD_SUIT","SPADE","CLUB","Diamond","HEART","EM_TimerID","Timer","action","US_OFFLINE","START_MODE_FISH","START_MODE_ALL_READY_TABLECONFIG","ONLINE_DEF_OFFLINE","ONLINE_DEF_ONLINE","EM_CorresCMD","EVENT_USER_STATUS","EVENT_USER_SCORE","EVENT_ANDROID","EVENT_GET_RESULT_DATA","EVENT_CLOSE_RESULT","EVENT_GET_GOTO_HALL","playerType","TYPE_INVALID","TYPE_DEALER","TYPE_PLAYER","TYPE_ANDROID","playerState","STATE_INVALID","STATE_IDLE","STATE_PLAYING","gameState","BEGIN","HUANPAI","DINGQUE","gameExpressionEvent","SHOW_BOMB","SHOW_RECORDER_MACHINE","SHOW_BIGWIN","SHOW_TONGPAI","PUT_MY_ALL_CARDS_BACK","SHOW_EXTRA_REWARD","SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE","CHECK_SHOW_EXTRA_REWARD_BTNS","UPDATE_ACCOUNT_MOBILE_CODE_BIND","NEWBIE_EXCHANGE_RED_DOT","NEWBIE_AUTO_POP","UPDATE_PLAYER_NEWS","PDK_DismissMenu","leftTime","nowTime","hideDismissMenu","onEnable","txt_leftTime","checkDisMiss","updateView","dismissData","showDismissMenu","onDismissStart","onUserAgreeDismiss","onDismissEnd","refreshPlayer","showPlayerAgree","agree","btnOnClick","update","dt","PDK_DragCard","interval","startTouchLocation","startTouchPoker","touchingLocation","poker","TOUCH_START","clickPoker","TOUCH_MOVE","slideTouchPoker","touchResult","TOUCH_CANCEL","touchWorldPos","touch","getUILocation","childUiTransform","rect","getBoundingBoxToWorld","contains","Vec2","select","touchPos","convertToNodeSpaceAR","Vec3","juli","subtract","getSiblingIndex","abs","ceil","touchIngDispose","pokeNode","isSelected","easing","backOut","checkChupaiBtns","ins","checkChupaiBtnUseable","m_sprite","m_assets","m_totalIndex","m_currentIndex","m_isAnim","m_deltaTime","SWITCH_IMG_TIME","getSprite","onCompleteAnim","PDK_FlyGold","m_animation","m_flySpeed","m_selfPos","m_targetPos","enabled","targetx","targety","getRandomPos","delay","Utils","randomRange","startAni","defaultClip","wrapMode","AnimationClip","WrapMode","Loop","readyPosition","moveTween","fadeInTween","flyDelay","setTimeout","startFly","_this3","distance","quadInOut","onFlyComplete","isValid","outVec2","PDK_Player","_dec13","_descriptor12","sortType","TienlenLogic","countDownTime","countDownTotal","m_btnSort","m_sorting","m_gameEndPerformanceHelper","PDK_GameEndPerformanceHelper","m_prevCards","m_enableColor","Color","m_disableColor","operateMenu","idleOperateMenu","btns","Button","onBtnClick","langCfg","showNotice","PokerEventMessage","POKER_USER_LEAVE_ROOM","onEventUserLeave","POKER_USER_ENTER_ROOM","onEventUserEnter","POKER_USER_STATUS_CHANGE","onUserStatusChange","onS_BOMB","SubGameMessage","EnterSubGameRoomSuccess","reStart","initPlayerInfo","release","rpc_ClientReady","onReplay","onGotRoomInfo","lblDestTitle","lblDeskBg","getSeatInfo","showBombAni","deactiveWhenRoundEnd","activeClock","roundCountDown","showIdleOperateMenu","clearCardPool","cardPool","destroyAllChildren","removeAllChildren","playSelfWinLoseSond","isSelfWin","playSoundUrl","onEventSyncPlayerGold","syncPlayerData","UserOnlineOffline","userItem","onUserGetExtraReward","rewardData","rewardList","getAllCard","shouPai","cardID","getBounceCard","setCountDown","clock","clockPos","showReadyBtn","globalConfig","btn_ready","startBattleSort","sortCard","playerNode","shouPaiNode","scaleSmallTween","quartIn","scaleNormalTween","then","doSortCard","onSortCardComplete","allCard","sortArr","sortByCardType","fillShouPai","pai","setting","UIAlert","getLangByID","onClick","ok","clearAll","exitRoom","clearAllChuPai","resetChuPai","clearAllPassMark","showPass","createCardRecorder","showJackpot","createJackpot","_this4","isActive","isAni","ani","setRotationFromEuler","setScale","parallel","shockClock","state","scoreRecords","dstPlayer","srcPlayer","addScore","subScore","showHeadScoreAni","showGoldFly","soundUrl","headAni","showGoldFall","hideScoreAni","playCountDown","checkChupaiBtnDisplay","myCards","btn_chuPai","bRet","canChupai","checkCanPlayCards","outline","LabelOutline","valid","checkValidCardType","isBigger","color","ProgressBar","progress","nowDt","WAITING","myUserInfo","userSeatID","setCardCount","cardTemp","cardPrefab","anchor_x","_this5","selfCard","reset","renShu","countArr","intervalId","setInterval","isSelf","toNode","newVec2","getWorldPosition","vec2","pdkCard","subIndex","clearInterval","showGameEnd","nextPlayChairID","isChupaiDisplay","btn_buChu","btn_buChu1","isBuChu","chu_seatID","playChuPai","cardType","getCardType","showCardTitle","playCardSound","playPass","setScore","isReady","setReady","m_game","m_data","m_winnerSeat","m_isSelfWin","initEndData","doShowGameEnd","_doShowGameEnd","abrupt","showTongpai","showNormal","panelGameResult","PDK_Result","showGameResult","oneUserData","myUserID","showHeadAni","showHeadWinLoseAni","showHandCard","_this$m_data","playTongpai","playWin","resetShouPai","resetHandCard","resetAllPlayerEffect","showGoldFlyAni","_showGoldFlyAni","_callee2","waitTime","_callee2$","_context2","doGoldFly","showRoundEndScore","wait","_x","showExtraReward","_showExtraReward","_callee3","_callee3$","_context3","_x2","showTongpaiBigwWin","_showTongpaiBigwWin","_callee4","_callee4$","_context4","_showTongpai","_callee5","_callee5$","_context5","WaitTime","showBigWin","_showBigWin","_callee6","_callee6$","_context6","_showNormal","_callee7","_callee7$","_context7","spade3Check","deck","spade3Index","randomIndex","getCardSuit","getCardWeight","rank","initArray","getSortValue","cardList","targetCardList","tempCardList","findPromptCards","targetCards","pairs","four","hasPairs4","_iterator","_createForOfIteratorHelperLoose","_step","done","straight","three","pair","single","playRet","playCards","leftCards","greaterThan","card1","card2","checkPair","checkContinuous","rank1","rank2","checkThree","card3","checkFour","card4","checkPairs","checkStraight","prevCardType","pn","checkPlayCards","handCards","_iterator2","_step2","tempCards","_iterator3","_step3","_iterator4","_step4","type","straight_list","flag","reverse","_iterator5","_step5","pairs_list","tempPairs","_iterator6","_step6","getPlayCards","card_type_list","first_card","includes","getTongPaiCards","_iterator7","_step7","tempCardType","_iterator8","_step8","sixPairCards","_iterator9","_step9","isIn","_iterator10","_step10","tempCard","blackCards","redCards","colors","_iterator11","_step11","_i6","_colors","calcHandCardTimes","timeList","copyCards","times","spade2","club2","diamond2","heart2","cardTypeList","pairs4","_iterator12","_step12","pairs3","badTotalTimes","_i7","_timeList","t","PDK_GotoHallHelper","isGetResult","isGotoHall","onGetResultData","onGoToHall","onCloseResult","gotoHall","PDK_HeadframeAni","dragonBones","ArmatureDisplay","m_lblPosScore","m_lblNegScore","m_seatIndex","m_passAni","parentName","battleScoreNode","spWin","spLose","showWin","doShowWin","showScoreAni","goldFall","playAnimation","showLose","scaleTween","showFlyGold","winSeatIndex","goldCount","randomRangeInt","winSeat","selfSeat","flyGoldPrefab","seatRoot","goldFly","isPass","_this6","PDK_Jackpot","m_arrRollingNums","m_prefabRollNum","m_numContainer","onJackpotUpdate","onShowInfo","PDK_JackpotInfo","m_arrScoreItem","showScore","showReward","_dec14","_descriptor13","m_isBind","chariID","m_cardTitle","m_scoreNum","m_soundHelper","_this$shouPai","chuPai","chatBubble","roomPlayerData","getPlayData","loadHeadIcon","visualId","setBanker","reduceNum","arrCardId","isMatch","cardComp","_loop","ZERO","anchorX","anchorY","cardChild","shouPaiCardComp","_this$m_cardTitle","_loop2","fadeOutTween","removeFromParent","_loop3","_this$shouPai2","isBanker","icon_bank","_this$shouPai3","setScoreLayout","goldIcon","playerData","onClickHead","winner","PDK_PlayerInfo","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","m_chairID","m_gameId","setData","_setData","showItemList","onClickPropItem","getCalcInfo","_getCalcInfo","_x3","PDK_PlayerInfoPropItem","m_itemId","m_sex","m_seat","sex","lastCardsValue","currentRoundFirst","processSingle","processPair","processThree","processStraight","processPairs","processFour","playRandom","playSingle","playSoundById","soundId","playPair","len","fun1","param1","fun2","param2","fun3","param3","fun4","param4","peiConfig","pei","idxMax","arrSound","sexPath","PDK_PropItemHelper","propPool","playThrow","from","playAni","PDK_Result_BigItem","PDK_Result_Player","lblScore","bg","selfMark","tableUser","lblNickname","icon_creator","bigResultItem","roundRoot","bigRoot","player_name_lbl","player_curscore_lbl","btn_name","onRestart","showRoundResult","isWin","roundLayout","selfNode","itemNode","roundResultItem","originx","winNode","loseNode","_onRestart","matchGameAgainRet","MatchGameAgain","gameMgr","subType","sent","isSucc","PDK_RewardBtns","m_isGiftOpen","m_isFragmentOpen","nodeGift","nodeFragment","lblGift","lblFragment","fragmentEffect","updateFragmentText","onCheckShowExtraRewardBtns","showContentWhenStart","showFragment","hideGift","hideFragment","setBtns","btnGift","onBtnGift","btnFragment","onBtnFragment","showGift","showScoreExchange","showChipExchange","showContent","hideContent","PDK_RewardItem","m_rewardList","onShowRewardItem","showOneRewardItem","reward","onRewardItemFlyComplete","onSeasonScoreFlyComplete","checkShowNextReward","PDK_RoomConfig","PDK_Setting","array","btn_effect","btn_music","on_lbl","off_lbl","switchMusic","switchEffect","clickClose","PDK_TopEffectLayer","_TouchEffectHelper","bomb_effect","gold_explo_effect","bigwin_effect","tongpai_effect","showBomb","showBigwin","EventObject","COMPLETE","showBigwinText","TouchEffectHelper","PdkYuNanGameMgr","_GameMgr","_preloadResIndex","_preloadResTotal","_gameType","_entryScene","_gameScene","_loadingScene","BASIC","preLoadRes","_preLoadRes","processFun","loadResource","preLoadLobbyScene","preLoadGameScene","_loadResource","loadConfigComplete","loadPrefabCount","loadPrefabComplete","preloadResByModuleBundle","sp","SkeletonData","_preLoadLobbyScene","preloadScene","entryScene","_preLoadGameScene","FISH","gameScene","_x4","enterGame","_enterGame","gameType","GameMgr","registerGameMgr","PeiData","PeiDataTitle","chairCount","RollingNumber","m_arrNum","m_currentNum","m_targetNum","m_isRolling","checkRoll","onRollComplete","setNum","SaoguangTexture","_speed","_time","s_inst","destory","onTouch","onTouch_preventSwallow","preventSwallow","localPos","touch_effect","aniName","stayTime","lbl_text","UIMessageBox","_yesCB","_cancelCB","container","fadeInAction","delayAction","fadeOutAction","removeSelfAction","sequenceAction","_wait","sec"],"mappings":"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AAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEX,IAAI;;MAAA,IAAAtB,OAAA,MAAAD,MAAA;MAoJ3C;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;MC5UA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAKJmwB,eAAe,uBAAAjwB,IAAA,GADnCJ,OAAO,CAAC,gBAAgB,CAAC,EAAAK,KAAA,GAErBH,QAAQ,CAACkI,IAAI,CAAC,EAAAh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;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA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A;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC3fA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAeJq8B,YAAY,uBAAAn8B,IAAA,GADhCJ,OAAO,CAAC,aAAa,CAAC,EAAAK,KAAA,GAGlBH,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAA67B,YAAA,EAAA97B,UAAA;QAAA,SAAA87B;UAAA,IAAA57B,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;;UADhBO,0BAAA,CAAAX,KAAA,WAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;;UAGAA,KAAA,CACC67B,QAAQ,GAAG,IAAI;;UAChB77B,KAAA,CACC87B,kBAAkB,GAAG,IAAI;;UAC1B97B,KAAA,CACC+7B,eAAe,GAAQ,IAAI;;UAC5B/7B,KAAA,CACCg8B,gBAAgB,GAAQ,IAAI;UAAA,OAAAh8B,KAAA;;QAAA,IAAArC,MAAA,GAAAi+B,YAAA,CAAAh+B,SAAA;;QAC7BD,MAAA,CACCqnB,MAAM,GAAN,SAAAA,SAAS;;UAEL,IAAI,CAAC,IAAI,CAACiX,KAAK,EAAE;YACT,IAAI,CAACA,KAAK,GAAG,IAAI,CAAC3pB,IAAI;;SAEjC;QAAA3U,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ;UAAA,IAAArB,MAAA;;UAEJ,IAAI,CAACsO,YAAY,CAAC,YAAM;YACpB,IAAItO,MAAI,CAACmY,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,IAAI,CAAC,EAAE;cACjC2jB,MAAI,CAAC+X,QAAQ,GAAG/X,MAAI,CAACmY,KAAK,CAAC9oB,QAAQ,CAAC,CAAC,CAAC,CAACye,CAAC,GAAG9N,MAAI,CAACmY,KAAK,CAAC9oB,QAAQ,CAAC,CAAC,CAAC,CAACye,CAAC;aACtE,MAAM;cACH9N,MAAI,CAAC+X,QAAQ,GAAG,EAAE;;YAGtB3wB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE2Y,MAAI,CAAC+X,QAAQ,CAAC;WAC1C,CAAC;UAEF3wB,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;;UAEzB,IAAI,CAACmH,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAAC6G,WAAW,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;;UAE/D,IAAI,CAAC7pB,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAAC+G,UAAU,EAAE,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;;UAEnE,IAAI,CAAC/pB,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAAC1Z,SAAS,EAAE,IAAI,CAAC2gB,WAAW,EAAE,IAAI,CAAC;;UAE9D,IAAI,CAAChqB,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAACkH,YAAY,EAAE,IAAI,CAACD,WAAW,EAAE,IAAI,CAAC;UAEjE11B,WAAW,CAACE,OAAO,CAAC8yB,mBAAmB,CAACK,qBAAqB,EAAE,IAAI,CAACxK,cAAc,EAAE,IAAI,CAAC;SAG5F;QAAA9xB,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;UACR,IAAI,CAACyU,IAAI,CAACrL,GAAG,CAACQ,IAAI,CAAC4tB,SAAS,CAAC6G,WAAW,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;UAChE,IAAI,CAAC7pB,IAAI,CAACrL,GAAG,CAACQ,IAAI,CAAC4tB,SAAS,CAAC+G,UAAU,EAAE,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;UACpE,IAAI,CAAC/pB,IAAI,CAACrL,GAAG,CAACQ,IAAI,CAAC4tB,SAAS,CAAC1Z,SAAS,EAAE,IAAI,CAAC2gB,WAAW,EAAE,IAAI,CAAC;UAC/D,IAAI,CAAChqB,IAAI,CAACrL,GAAG,CAACQ,IAAI,CAAC4tB,SAAS,CAACkH,YAAY,EAAE,IAAI,CAACD,WAAW,EAAE,IAAI,CAAC;UAClE11B,WAAW,CAACI,QAAQ,CAAC4yB,mBAAmB,CAACK,qBAAqB,EAAE,IAAI,CAACxK,cAAc,EAAE,IAAI,CAAC;;;;;QAE/F9xB,MAAA,CACCw+B,UAAU,GAAV,SAAAA,WAAWhN,KAAgB,EAAE;;UAEzB,IAAM0C,WAAW,GAAG,IAAI,CAACoK,KAAK,CAACrpB,YAAY,CAACkf,WAAW,CAAC;UACxD,IAAI,CAACD,WAAW,EAAE;UAClB,IAAM2K,aAAa,GAAGrN,KAAK,CAACsN,KAAK,CAACC,aAAa,EAAE;;UAEjD,IAAI,CAACZ,kBAAkB,GAAGU,aAAa;;;UAGvC,KAAK,IAAIl5B,CAAC,GAAG,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,GAAG,CAAC,EAAEmD,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YACtD,IAAMgQ,SAAS,GAAG,IAAI,CAAC2oB,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC;YACxC,IAAMq5B,gBAAgB,GAAGrpB,SAAS,CAACV,YAAY,CAACkf,WAAW,CAAC;YAC5D,IAAI6K,gBAAgB,EAAE;cAClB,IAAMC,IAAI,GAAGD,gBAAgB,CAACE,qBAAqB,EAAE;;cAErD,IAAID,IAAI,CAACE,QAAQ,CAAC,IAAIC,IAAI,CAACP,aAAa,CAAC5K,CAAC,EAAC4K,aAAa,CAACnK,CAAC,CAAC,CAAC,EAAE;gBAC1D,IAAI,CAAC0J,eAAe,GAAG,IAAI,CAACE,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC;gBAE7C,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,IAAI;gBAClE;;;;;;;;QAMjBvV,MAAA,CACC0+B,eAAe,GAAf,SAAAA,gBAAgBlN,KAAK,EAAE;;UAEnB,IAAI,IAAI,CAAC4M,eAAe,IAAI,IAAI,EAAE;YAC9B;;UAGJ,IAAMlK,WAAW,GAAG,IAAI,CAACoK,KAAK,CAACrpB,YAAY,CAACkf,WAAW,CAAC;UACxD,IAAI,CAACD,WAAW,EAAE;UAClB,IAAM2K,aAAa,GAAGrN,KAAK,CAACuN,aAAa,EAAE;UAC3C,IAAMO,QAAQ,GAAGpL,WAAW,CAACqL,oBAAoB,CAAC,IAAIC,IAAI,CAACX,aAAa,CAAC5K,CAAC,EAAE4K,aAAa,CAACnK,CAAC,EAAE,CAAC,CAAC,CAAC;UAChG,IAAI,CAAC2J,gBAAgB,GAAGiB,QAAQ;UAGhC,IAAI,IAAI,CAACjB,gBAAgB,CAACpK,CAAC,GAAG,IAAI,CAACmK,eAAe,CAACnK,CAAC,EAAE;YAClD,IAAIwL,IAAI,GAAG,IAAI;YACfA,IAAI,GAAG,IAAI,CAACpB,gBAAgB,CAACqB,QAAQ,CAAC,IAAIF,IAAI,CAAC,IAAI,CAACpB,eAAe,CAACnK,CAAC,CAAC,CAAC,CAACA,CAAC,GAAG,IAAI,CAACiK,QAAQ;;YAEzF,IAAItuB,KAAK,GAAG,IAAI,CAACwuB,eAAe,CAACuB,eAAe,EAAE;YAClD,IAAI/vB,KAAK,GAAGuI,QAAQ,CAACsnB,IAAI,CAAC,IAAI,IAAI,CAACnB,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,EAAE;cACtD;;YAEJ,KAAK,IAAImD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;;;cAGjD,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,KAAK;;YAEvE,KAAK,IAAI5P,EAAC,GAAGiK,KAAK,EAAEjK,EAAC,IAAIiK,KAAK,GAAGuI,QAAQ,CAACsnB,IAAI,CAAC,EAAE95B,EAAC,EAAE,EAAE;;;cAGlD,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAC7P,EAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,IAAI;;WAEzE,MACI;;;YAGD,IAAIkqB,KAAI,GAAG,IAAI;YACfA,KAAI,GAAG,IAAI,CAACpB,gBAAgB,CAACqB,QAAQ,CAAC,IAAIF,IAAI,CAAC,IAAI,CAACpB,eAAe,CAACnK,CAAC,CAAC,CAAC,CAACA,CAAC,GAAE,IAAI,CAACiK,QAAQ;YACxFuB,KAAI,GAAGhtB,IAAI,CAACmtB,GAAG,CAACH,KAAI,CAAC;;YAErB,IAAI7vB,KAAK,GAAG,IAAI,CAACwuB,eAAe,CAACuB,eAAe,EAAE;YAClD,IAAI/vB,KAAK,GAAGuI,QAAQ,CAACsnB,KAAI,CAAC,IAAI,CAAC,EAAE;cAC7B;;;YAGJ,KAAK,IAAI95B,GAAC,GAAGiK,KAAK,EAAEjK,GAAC,IAAIiK,KAAK,GAAGuI,QAAQ,CAAC1F,IAAI,CAACotB,IAAI,CAACJ,KAAI,CAAC,CAAC,EAAE95B,GAAC,EAAE,EAAE;;;cAG7D,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAC7P,GAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,IAAI;;;YAGtE,KAAK,IAAI5P,GAAC,GAAGiK,KAAK,GAAGuI,QAAQ,CAAC1F,IAAI,CAACotB,IAAI,CAACJ,KAAI,CAAC,CAAC,GAAG,CAAC,EAAE95B,GAAC,IAAI,CAAC,EAAEA,GAAC,EAAE,EAAE;;;cAG7D,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAC7P,GAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,KAAK;;;;;;;QAOhFvV,MAAA,CACC8/B,eAAe,GAAf,SAAAA,gBAAgBnrB,IAAS,EAAE;;;;;;;;;;UAUvBA,IAAI,CAACM,YAAY,CAACgZ,QAAQ,CAAC,CAACoR,MAAM,CAAC9pB,MAAM,GAAG,IAAI;;;;;QAErDvV,MAAA,CACC2+B,WAAW,GAAX,SAAAA,cAAc;;UAEV,KAAK,IAAIh5B,CAAC,GAAG,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,GAAG,CAAC,EAAEmD,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YACtD,IAAIo6B,QAAQ,GAAG,IAAI,CAACzB,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC;YACrC,IAAI24B,KAAK,GAAGyB,QAAQ,CAAC9qB,YAAY,CAACgZ,QAAQ,CAAC;YAC3C,IAAIqQ,KAAK,CAACe,MAAM,CAAC9pB,MAAM,EAAE;cACrB+oB,KAAK,CAACe,MAAM,CAAC9pB,MAAM,GAAG,KAAK;cAC3Buf,KAAK,CAACC,eAAe,CAACgL,QAAQ,CAAC;cAC/B,IAAI9L,CAAC,GAAG8L,QAAQ,CAAC9L,CAAC;cAClB,IAAIqK,KAAK,CAAC0B,UAAU,EAAE;gBAClB1B,KAAK,CAAC0B,UAAU,GAAG,KAAK;;gBAExBrL,KAAK,CAACoL,QAAQ,CAAC,CACdnL,EAAE,CAAC,GAAG,EAAE;kBAAEN,QAAQ,EAAE,IAAIkL,IAAI,CAACvL,CAAC,EAAE,CAAC,EAAE,CAAC;iBAAG,EAAE;kBAAEgM,MAAM,EAAEA,MAAM,CAACC;iBAAS,CAAC,CACpE1Y,KAAK,EAAE;eACX,MACI;gBACD8W,KAAK,CAAC0B,UAAU,GAAG,IAAI;;gBAEvBrL,KAAK,CAACoL,QAAQ,CAAC,CACdnL,EAAE,CAAC,GAAG,EAAE;kBAAEN,QAAQ,EAAE,IAAIkL,IAAI,CAACvL,CAAC,EAAE,EAAE,EAAE,CAAC;iBAAG,EAAE;kBAAEgM,MAAM,EAAEA,MAAM,CAACC;iBAAS,CAAC,CACrE1Y,KAAK,EAAE;;;;UAIpB,IAAI,CAAC2Y,eAAe,EAAE;UACtB,IAAI,CAAC/B,eAAe,GAAG,IAAI;SAC9B;QAAAp+B,MAAA,CACO8xB,cAAc,GAAtB,SAAAA,iBAAyB;UACrB,KAAK,IAAInsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC24B,KAAK,CAAC9oB,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACjD,IAAI24B,KAAK,GAAG,IAAI,CAACA,KAAK,CAAC9oB,QAAQ,CAAC7P,CAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC;YACzD,IAAIqQ,KAAK,CAAC0B,UAAU,EAAE;cAClB1B,KAAK,CAACe,MAAM,CAAC9pB,MAAM,GAAG,KAAK;cAC3B+oB,KAAK,CAAC3pB,IAAI,CAAC+f,CAAC,GAAG,CAAC;cAChB4J,KAAK,CAAC0B,UAAU,GAAG,KAAK;;;UAGhC,IAAI,CAACG,eAAe,EAAE;SACzB;QAAAngC,MAAA,CACOmgC,eAAe,GAAvB,SAAAA,kBAA0B;UACtB7K,QAAQ,CAAC8K,GAAG,CAACC,qBAAqB,EAAE;;;;;QAEzC,OAAApC,YAAA;MAAA,EAnMuC96B,SAAS,GAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAG1B,IAAI;;MAAA,IAAAtB,OAAA,MAAAD,MAAA;cAHI,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;MCbjC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGJo1B,aAAa,uBAAAl1B,IAAA,GADjCJ,OAAO,CAAC,cAAc,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAA40B,aAAA,EAAA70B,UAAA;QAAA,SAAA60B;UAAA,IAAA30B,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEZi+B,QAAQ;UAAAj+B,KAAA,CACRk+B,QAAQ;UAAAl+B,KAAA,CACRm+B,YAAY,GAAW,CAAC;UAAAn+B,KAAA,CACxBo+B,cAAc,GAAW,CAAC;UAAAp+B,KAAA,CAC1Bq+B,QAAQ,GAAY,KAAK;UAAAr+B,KAAA,CACzBs+B,WAAW,GAAU,CAAC;UAAAt+B,KAAA,CACtBu+B,eAAe,GAAW,GAAG;UAAA,OAAAv+B,KAAA;;QAAA,IAAArC,MAAA,GAAAg3B,aAAA,CAAA/2B,SAAA;QAAAD,MAAA,CACrCqnB,MAAM,GAAN,SAAAA,SAAS;UACL,IAAI,IAAI,CAACiZ,QAAQ,IAAI,IAAI,EAAE;YACvB,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC3rB,IAAI,CAACM,YAAY,CAACjT,MAAM,CAAC;;SAErD;QAAAhC,MAAA,CACMk3B,mBAAmB,GAA1B,SAAAA,oBAA2BL,MAAqB,EAAE;UAC9C,IAAI,CAACgK,SAAS,EAAE;UAChB,IAAI,IAAI,CAACP,QAAQ,IAAI,IAAI,EAAE;UAC3B,IAAI,CAACC,QAAQ,GAAG1J,MAAM;UACtB,IAAI,CAAC2J,YAAY,GAAG3J,MAAM,CAACr0B,MAAM;UACjC,IAAI,CAACi+B,cAAc,GAAG,CAAC;UACvB,IAAI,CAACE,WAAW,GAAG,CAAC;UACpB,IAAI,CAACD,QAAQ,GAAG,IAAI;UACpB,IAAI,CAACJ,QAAQ,CAACprB,WAAW,GAAG2hB,MAAM,CAAC,CAAC,CAAC;UACrC,IAAI,CAACliB,IAAI,CAACY,MAAM,GAAG,IAAI;UACvB,IAAI,CAACZ,IAAI,CAACgJ,OAAO,GAAG,CAAC;;UAErBmX,KAAK,CAACC,eAAe,CAAC,IAAI,CAACpgB,IAAI,CAAC;;;UAGhCggB,KAAK,CAAC,IAAI,CAAChgB,IAAI,CAAC,CACZigB,EAAE,CAAC,GAAG,EAAE;YAAEjX,OAAO,EAAE;WAAK,CAAC,CACzB6J,KAAK,EAAE;SACd;QAAAxnB,MAAA,CACD+9B,MAAM,GAAN,SAAAA,OAAOC,EAAU,EAAE;UACf,IAAI,IAAI,CAAC0C,QAAQ,EAAE;YACnB,IAAI,IAAI,CAACJ,QAAQ,IAAI,IAAI,EAAE;YAC3B,IAAI,CAACK,WAAW,IAAI3C,EAAE;YACtB,IAAI,IAAI,CAAC2C,WAAW,IAAI,IAAI,CAACC,eAAe,EAAE;cAC9C,IAAI,CAACD,WAAW,GAAG,CAAC;cACpB,IAAI,CAACF,cAAc,EAAG;cACtB,IAAI,IAAI,CAACA,cAAc,IAAI,IAAI,CAACD,YAAY,EAAE;gBAC9C,IAAI,CAACF,QAAQ,CAACprB,WAAW,GAAG,IAAI,CAACqrB,QAAQ,CAAC,IAAI,CAACE,cAAc,CAAC;eAC7D,MACI;gBACL,IAAI,CAACK,cAAc,EAAE;;;;SAIxB;QAAA9gC,MAAA,CACO8gC,cAAc,GAAtB,SAAAA,iBAAyB;UACrB,IAAI,CAACnsB,IAAI,CAACY,MAAM,GAAG,KAAK;UACxB,IAAI,CAACmrB,QAAQ,GAAG,KAAK;SACxB;QAAA1gC,MAAA,CACO6gC,SAAS,GAAjB,SAAAA,YAAoB;UAChB,IAAI,IAAI,CAACP,QAAQ,IAAI,IAAI,EAAE;YAC3B,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC3rB,IAAI,CAACM,YAAY,CAACjT,MAAM,CAAC;;SAEjD;QAAA,OAAAg1B,aAAA;MAAA,EAxDsC7zB,SAAS,MAAAlB,MAAA;cAAlB,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCClC,IAAOgC,OAAO,GAAcC,UAAU,CAA/BD,OAAO;QAAEE,QAAQ,GAAID,UAAU,CAAtBC,QAAQ;UAGHm/B,WAAW,uBAAAj/B,IAAA,GAD/BJ,OAAO,CAAC,YAAY,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAA2+B,WAAA,EAAA5+B,UAAA;QAAA,SAAA4+B;UAAA,IAAA1+B,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEVi+B,QAAQ,GAAiB,IAAI;UAAAj+B,KAAA,CAC7B2+B,WAAW,GAAqB,IAAI;UAAA3+B,KAAA,CACpC4+B,UAAU,GAAU,IAAI;UAAA5+B,KAAA,CACxB6+B,SAAS,GAAgB,IAAI;UAAA7+B,KAAA,CAC7B8+B,WAAW,GAAgB,IAAI;UAAA,OAAA9+B,KAAA;;QAAA,IAAArC,MAAA,GAAA+gC,WAAA,CAAA9gC,SAAA;QAAAD,MAAA,CACvCqnB,MAAM,GAAN,SAAAA,SAAU;UACN,IAAI,CAACiZ,QAAQ,GAAG,IAAI,CAAC3rB,IAAI,CAACM,YAAY,CAACjT,MAAM,CAAC;UAC9C,IAAI,CAACs+B,QAAQ,CAACc,OAAO,GAAG,KAAK;UAE7B,IAAI,CAACJ,WAAW,GAAG,IAAI,CAACrsB,IAAI,CAACM,YAAY,CAACqhB,SAAS,CAAC;SACvD;QAAAt2B,MAAA,CACMsL,IAAI,GAAX,SAAAA,KAAY2oB,CAAS,EAAES,CAAS,EAAE2M,OAAc,EAAEC,OAAc,EAAE;UAE9D,IAAI,CAACJ,SAAS,GAAG,IAAI9B,IAAI,EAAE;UAC3B,IAAI,CAACmC,YAAY,CAACtN,CAAC,EAAES,CAAC,EAAE,IAAI,CAACwM,SAAS,CAAC;UACvC,IAAI,CAACvsB,IAAI,CAAC+I,WAAW,CAACuW,CAAC,EAAES,CAAC,CAAC;UAC3B,IAAI,CAACyM,WAAW,GAAG,IAAI/B,IAAI,CAACiC,OAAO,EAAEC,OAAO,CAAC;UAE7C,IAAIE,KAAY,GAAGC,KAAK,CAACC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC;UAC/C,IAAI,CAACjN,YAAY,CAAC,IAAI,CAACkN,QAAQ,EAAEH,KAAK,CAAC;SAC1C;QAAAxhC,MAAA,CACO2hC,QAAQ,GAAhB,SAAAA,WAAmB;UACf,IAAI,CAACrB,QAAQ,CAACc,OAAO,GAAG,IAAI;UAC5B,IAAI,CAACJ,WAAW,CAACY,WAAW,CAACC,QAAQ,GAAGC,aAAa,CAACC,QAAQ,CAACC,IAAI;UACnE,IAAI,CAACC,aAAa,EAAE;SACvB;QAAAjiC,MAAA,CACOiiC,aAAa,GAArB,SAAAA,gBAAwB;UAAA,IAAA9b,MAAA;UACpB,IAAI,CAACxR,IAAI,CAACgJ,OAAO,GAAG,CAAC;;UAErBmX,KAAK,CAACC,eAAe,CAAC,IAAI,CAACpgB,IAAI,CAAC;;;UAGhC,IAAMutB,SAAS,GAAGvN,KAAK,CAAC,IAAI,CAAChgB,IAAI,CAAC,CAC9BigB,EAAE,CAAC,GAAG,EAAE;YAAEN,QAAQ,EAAE,IAAIkL,IAAI,CAAC,IAAI,CAAC0B,SAAS,CAACjN,CAAC,EAAC,IAAI,CAACiN,SAAS,CAACxM,CAAC;WAAG,CAAC;;;UAGtE,IAAMyN,WAAW,GAAGxN,KAAK,CAAC,IAAI,CAAChgB,IAAI,CAAC,CAChCigB,EAAE,CAAC,GAAG,EAAE;YAAEjX,OAAO,EAAE;WAAK,CAAC;;;UAG7BukB,SAAS,CAACt/B,IAAI,CAAC,YAAM;YACb,IAAMw/B,QAAQ,GAAGX,KAAK,CAACC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC;YAC5CW,UAAU,CAAC,YAAM;cACblc,MAAI,CAACmc,QAAQ,EAAE;aAClB,EAAEF,QAAQ,GAAG,IAAI,CAAC;WACtB,CAAC,CACF5a,KAAK,EAAE;;;UAGX2a,WAAW,CAAC3a,KAAK,EAAE;SACtB;QAAAxnB,MAAA,CACOsiC,QAAQ,GAAhB,SAAAA,WAAmB;UAAA,IAAAC,MAAA;UACf,IAAI,CAACvB,WAAW,CAACzK,IAAI,EAAE;UACvB,IAAMiM,QAAQ,GAAGpD,IAAI,CAACoD,QAAQ,CAAC,IAAI,CAACrB,WAAW,EAAE,IAAI,CAACD,SAAS,CAAC;UAChE,IAAMta,IAAI,GAAG4b,QAAQ,GAAG,IAAI,CAACvB,UAAU;;;UAGvCtM,KAAK,CAAC,IAAI,CAAChgB,IAAI,CAAC,CACZigB,EAAE,CAAChO,IAAI,EAAE;YAAE0N,QAAQ,EAAE,IAAIkL,IAAI,CAAC,IAAI,CAAC2B,WAAW,CAAClN,CAAC,EAAC,IAAI,CAACkN,WAAW,CAACzM,CAAC;WAAG,EAAE;YAAEuL,MAAM,EAAEA,MAAM,CAACwC;WAAW,CAAC,CACrG7/B,IAAI,CAAC,YAAM;YACP2/B,MAAI,CAACG,aAAa,EAAE;WACvB,CAAC,CACFlb,KAAK,EAAE;SACd;QAAAxnB,MAAA,CACO0iC,aAAa,GAArB,SAAAA,gBAAwB;UACpB,IAAI,IAAI,CAAC/tB,IAAI,CAACguB,OAAO,EAAE;YACnB,IAAI,CAAChuB,IAAI,CAACY,MAAM,GAAG,KAAK;YACxB,IAAI,CAACZ,IAAI,CAACsJ,OAAO,EAAE;;SAE1B;QAAAje,MAAA,CACOuhC,YAAY,GAApB,SAAAA,aAAqBtN,CAAC,EAAES,CAAC,EAAEkO,OAAa,EAAE;UACtCA,OAAO,CAAC3O,CAAC,GAAGwN,KAAK,CAACC,WAAW,CAACzN,CAAC,GAAG,GAAG,EAAEA,CAAC,GAAG,GAAG,CAAC;UAC/C2O,OAAO,CAAClO,CAAC,GAAG+M,KAAK,CAACC,WAAW,CAAChN,CAAC,GAAG,GAAG,EAAEA,CAAC,GAAG,GAAG,CAAC;SAClD;QAAA,OAAAqM,WAAA;MAAA,EA1EoC59B,SAAS,MAAAlB,MAAA;cAAlB,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCPhC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UA8CJ0zB,QAAQ,uBAAAxzB,IAAA,GAD5BJ,OAAO,CAAC,SAAS,CAAC,EAAAK,KAAA,GAGdH,QAAQ,CAACihC,UAAU,CAAC,EAAA5b,KAAA,GAEpBrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAACub,MAAM,CAAC,EAAA+Q,KAAA,GAEhBtsB,QAAQ,CAACkI,IAAI,CAAC,EAAAqkB,KAAA,GAEdvsB,QAAQ,CAACkI,IAAI,CAAC,EAAAskB,KAAA,GAEdxsB,QAAQ,CAACkI,IAAI,CAAC,EAAAukB,KAAA,GAEdzsB,QAAQ,CAACkI,IAAI,CAAC,EAAAwkB,KAAA,GAEd1sB,QAAQ,CAACkI,IAAI,CAAC,EAAAykB,MAAA,GAEd3sB,QAAQ,CAACub,MAAM,CAAC,EAAAqR,MAAA,GAEhB5sB,QAAQ,CAACub,MAAM,CAAC,EAAAuR,MAAA,GAEhB9sB,QAAQ,CAAC4W,KAAK,CAAC,EAAAsqB,MAAA,GAEflhC,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,IAAA+vB,OAAA,0BAAA9vB,UAAA;QAAAC,cAAA,CAAAkzB,QAAA,EAAAnzB,UAAA;QAAA,SAAAmzB;UAAA,IAAAjzB,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,kBAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,gBAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,oBAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,iBAAAwsB,YAAA,EAAA3rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,qBAAAysB,YAAA,EAAA5rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAA0sB,YAAA,EAAA7rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,aAAA2sB,YAAA,EAAA9rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,qBAAA4sB,aAAA,EAAA/rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,kBAAA6sB,aAAA,EAAAhsB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAA0gC,aAAA,EAAA7/B,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAEhB2gC,QAAQ,GAAG,CAAC;UAAA3gC,KAAA,CACZ0Z,SAAS,GAAG,IAAIknB,YAAY,EAAE;UAAA5gC,KAAA,CAC9B6gC,aAAa,GAAW,CAAC,CAAC;UAAA7gC,KAAA,CAC1B8gC,cAAc,GAAW,EAAE;UAAA9gC,KAAA,CACnB+gC,SAAS,GAAgB,IAAI;UAAA/gC,KAAA,CAC7BghC,SAAS,GAAY,KAAK;UAAAhhC,KAAA,CAC1BihC,0BAA0B,GAAiC,IAAIC,4BAA4B,EAAE;UAAAlhC,KAAA,CAC7FmhC,WAAW,GAAQ,IAAI;UAAAnhC,KAAA,CACvBohC,aAAa,GAAU,IAAIC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;UAAArhC,KAAA,CAC/CshC,cAAc,GAAU,IAAID,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;UAAA,OAAArhC,KAAA;;QAAA,IAAArC,MAAA,GAAAs1B,QAAA,CAAAr1B,SAAA;QAAAD,MAAA,CACxDqnB,MAAM,GAAN,SAAAA,SAAS;UACLvoB,GAAG,CAACwgB,KAAK,CAACtgB,IAAI,CAACuoB,QAAQ,EAAE;UACzB+N,QAAQ,CAAC8K,GAAG,GAAG,IAAI;UAEnB,IAAI,CAACwD,WAAW,CAACruB,MAAM,GAAG,KAAK;UAC/B,IAAI,CAACsuB,eAAe,CAACtuB,MAAM,GAAG,KAAK;UACnC,IAAI,CAAC6tB,SAAS,GAAG,IAAI,CAACzuB,IAAI,CAACsI,cAAc,CAAC,UAAU,CAAC;UACrD,IAAI,CAACmmB,SAAS,CAAC7tB,MAAM,GAAG,KAAK;UAE7B,IAAIuuB,IAAI,GAAG,IAAI,CAACnvB,IAAI,CAAC0J,uBAAuB,CAAC0lB,MAAM,CAAC;UACpD,KAAK,IAAIp+B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGm+B,IAAI,CAACthC,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAClCm+B,IAAI,CAACn+B,CAAC,CAAC,CAACgP,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAAC1Z,SAAS,EAAE,IAAI,CAACgmB,UAAU,EAAE,IAAI,CAAC;;UAIpE,IAAIC,OAAgC,GAAG79B,aAAa,CAACI,WAAW,EAAE,CAACW,SAAS,CAACP,uBAAuB,CAA4B;UAChI,IAAI+xB,GAAG,GAAG5b,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC6mB,WAAW,CAAC,CAAC3uB,YAAY,CAACuD,KAAK,CAAC;UACvEmgB,GAAG,CAAClgB,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;UAEvC8S,GAAG,GAAG5b,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC6mB,WAAW,CAAC,CAAC3uB,YAAY,CAACuD,KAAK,CAAC;UACrEmgB,GAAG,CAAClgB,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;UAEvC8S,GAAG,GAAG5b,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC6mB,WAAW,CAAC,CAAC3uB,YAAY,CAACuD,KAAK,CAAC;UACpEmgB,GAAG,CAAClgB,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;UAEvC8S,GAAG,GAAG5b,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC8mB,eAAe,CAAC,CAAC5uB,YAAY,CAACuD,KAAK,CAAC;UACvEmgB,GAAG,CAAClgB,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;;;;SAK1C;;QAAA7lB,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ;;UAEJ,IAAI,CAAC0c,UAAU,EAAE;;;;UAIjBvlC,YAAY,CAACU,OAAO,EAAE;UAEtBuP,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACC,eAAe,EAAC,IAAI,CAACgE,UAAU,EAAC,IAAI,CAAC;UAC9DkD,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACE,gBAAgB,EAAC,IAAI,CAAC8D,WAAW,EAAC,IAAI,CAAC;UAChEmD,QAAQ,CAAC5N,EAAE,CAACmjC,iBAAiB,CAACC,qBAAqB,EAAC,IAAI,CAACC,gBAAgB,EAAC,IAAI,CAAC;UAC/Ez1B,QAAQ,CAAC5N,EAAE,CAACmjC,iBAAiB,CAACG,qBAAqB,EAAC,IAAI,CAACC,gBAAgB,EAAC,IAAI,CAAC;UAC/E31B,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACK,cAAc,EAAC,IAAI,CAACgE,SAAS,EAAC,IAAI,CAAC;UAC5D8C,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACG,eAAe,EAAC,IAAI,CAAC+D,UAAU,EAAC,IAAI,CAAC;UAC9DiD,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACI,eAAe,EAAC,IAAI,CAAC+D,UAAU,EAAC,IAAI,CAAC;UAC9DgD,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACM,sBAAsB,EAAC,IAAI,CAACgE,gBAAgB,EAAC,IAAI,CAAC;UAC3E6C,QAAQ,CAAC5N,EAAE,CAACmjC,iBAAiB,CAACK,wBAAwB,EAAC,IAAI,CAACC,kBAAkB,EAAC,IAAI,CAAC;UACpF71B,QAAQ,CAAC5N,EAAE,CAACyG,YAAY,CAACO,gBAAgB,EAAC,IAAI,CAAC08B,QAAQ,EAAC,IAAI,CAAC;UAC7D91B,QAAQ,CAAC5N,EAAE,CAAC2jC,cAAc,CAACC,uBAAuB,EAAC,IAAI,CAACC,OAAO,EAAC,IAAI,CAAC;UAErEh2B,YAAY,CAAC7P,IAAI,CAACwoB,KAAK,EAAE;SAC5B;QAAAxnB,MAAA,CACDsL,IAAI,GAAJ,SAAAA,OACA;UACI,IAAI,CAACs4B,WAAW,CAACruB,MAAM,GAAG,KAAK;UAC/B,IAAI,CAACsuB,eAAe,CAACtuB,MAAM,GAAG,KAAK;UACnC,IAAI,CAAC6tB,SAAS,GAAG,IAAI,CAACzuB,IAAI,CAACsI,cAAc,CAAC,UAAU,CAAC;UACrD,IAAI,CAACmmB,SAAS,CAAC7tB,MAAM,GAAG,KAAK;UAC7B,KAAK,IAAI5P,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmwB,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAE/C,IAAI,CAACmwB,YAAY,CAACnwB,CAAC,CAAC,CAACm/B,cAAc,CAAC,IAAI,CAAC;;SAEhD;QAAA9kC,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;UACRksB,cAAc,CAAC3lB,QAAQ,EAAE,CAACmnB,UAAU,EAAE;UACtC,IAAI,CAAC0V,0BAA0B,CAACyB,OAAO,EAAE;UACzC,IAAI,CAACzB,0BAA0B,GAAG,IAAI;UACtC10B,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACC,eAAe,EAAC,IAAI,CAACgE,UAAU,EAAC,IAAI,CAAC;UAC/DkD,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACE,gBAAgB,EAAC,IAAI,CAAC8D,WAAW,EAAC,IAAI,CAAC;UACjEmD,QAAQ,CAACtF,GAAG,CAAC66B,iBAAiB,CAACC,qBAAqB,EAAC,IAAI,CAACC,gBAAgB,EAAC,IAAI,CAAC;UAChFz1B,QAAQ,CAACtF,GAAG,CAAC66B,iBAAiB,CAACG,qBAAqB,EAAC,IAAI,CAACC,gBAAgB,EAAC,IAAI,CAAC;UAChF31B,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACK,cAAc,EAAC,IAAI,CAACgE,SAAS,EAAC,IAAI,CAAC;UAC7D8C,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACG,eAAe,EAAC,IAAI,CAAC+D,UAAU,EAAC,IAAI,CAAC;UAC/DiD,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACI,eAAe,EAAC,IAAI,CAAC+D,UAAU,EAAC,IAAI,CAAC;UAC/DgD,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACM,sBAAsB,EAAC,IAAI,CAAC08B,kBAAkB,EAAC,IAAI,CAAC;UAC9E71B,QAAQ,CAACtF,GAAG,CAAC66B,iBAAiB,CAACK,wBAAwB,EAAC,IAAI,CAACC,kBAAkB,EAAC,IAAI,CAAC;UACrF71B,QAAQ,CAACtF,GAAG,CAAC7B,YAAY,CAACO,gBAAgB,EAAC,IAAI,CAAC08B,QAAQ,EAAC,IAAI,CAAC;UAC9D91B,QAAQ,CAACtF,GAAG,CAACq7B,cAAc,CAACC,uBAAuB,EAAC,IAAI,CAACC,OAAO,EAAC,IAAI,CAAC;SACzE;QAAA7kC,MAAA,CACD6kC,OAAO,GAAP,SAAAA,UACA;UACI,IAAI,CAACv5B,IAAI,EAAE;UACXgB,OAAO,CAACtN,IAAI,CAACgmC,eAAe,EAAE;SACjC;QAAAhlC,MAAA,CACDilC,QAAQ,GAAR,SAAAA,SAASp/B,IAAI,EAAE,EAAG;QAAA7F,MAAA,CAClBklC,aAAa,GAAb,SAAAA,cAAcr/B,IAAa,EAAE;UACzB,IAAI+b,UAAmC,GAAGxb,aAAa,CAACI,WAAW,EAAE,CAACW,SAAS,CAACP,uBAAuB,CAAC;;;UAGxG,IAAI,CAACu+B,YAAY,CAAC1sB,MAAM,GAAGmJ,UAAU,CAACiE,WAAW,CAAC,KAAK,CAAC;;;UAGxD,IAAIhgB,IAAI,CAAC6H,YAAY,IAAI2Y,SAAS,EAAE;;YAEhC,IAAI,CAAC+e,SAAS,CAAC3sB,MAAM,GAAGmJ,UAAU,CAACiE,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG9T,SAAS,CAACiI,UAAU,CAACnU,IAAI,CAAC6H,YAAY,CAAC;WAExG,MAED;YACI,IAAIiH,IAAI,GAAGoI,IAAI,CAAC,SAAS,EAAE,IAAI,CAACpI,IAAI,CAAC;YACrCA,IAAI,CAACY,MAAM,GAAG,KAAK;YACnB,IAAI,CAAC6vB,SAAS,CAACzwB,IAAI,CAACY,MAAM,GAAG,KAAK;;;SAGzC;;QAAAvV,MAAA,CACDqlC,WAAW,GAAX,SAAAA,YAAYx/B,IAAa,EAAE;UACvB,KAAK,IAAIF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmwB,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC/C,IAAIgK,IAAa,GAAGd,YAAY,CAAC7P,IAAI,CAACmM,gBAAgB,CAACxF,CAAC,CAAC;YACzD,IAAI,CAACgK,IAAI,EACT;cACI;;YAEJ,IAAI8lB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC/lB,IAAI,CAACvE,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YACpF,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAACqP,cAAc,CAACn1B,IAAI,CAAC;;;;;;;QAM1D3P,MAAA,CACI0kC,QAAQ,GAAR,SAAAA,SAAS7+B,IAAkB,EAAE;UACzB,IAAI,CAACy/B,WAAW,CAACz/B,IAAI,CAAC;SACzB;QAAA7F,MAAA,CAEMulC,oBAAoB,GAA3B,SAAAA,uBAA8B;UAC1B,IAAI,CAAC3B,WAAW,CAACruB,MAAM,GAAG,KAAK;UAC/B,IAAI,CAACsuB,eAAe,CAACtuB,MAAM,GAAG,KAAK;UACnC,IAAI,CAAC6tB,SAAS,CAAC7tB,MAAM,GAAG,KAAK;UAC7B,IAAI,CAACiwB,WAAW,CAAC,KAAK,CAAC;UACvB,IAAI,CAACC,cAAc,CAAClwB,MAAM,GAAG,KAAK;SACrC;QAAAvV,MAAA,CACM0lC,mBAAmB,GAA1B,SAAAA,sBAA6B;UACzB,IAAI,IAAI,CAAC7B,eAAe,IAAI,IAAI,IAAI,IAAI,CAACA,eAAe,CAAClB,OAAO,EAAE;YAClE,IAAI,CAACkB,eAAe,CAACtuB,MAAM,GAAG,IAAI;;SAErC;QAAAvV,MAAA,CACM2lC,aAAa,GAApB,SAAAA,gBAAuB;UACnB,IAAI,IAAI,CAACC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,CAACjD,OAAO,EAAE;YACpD,IAAI,CAACiD,QAAQ,CAACC,kBAAkB,EAAE;YAClC,IAAI,CAACD,QAAQ,CAACE,iBAAiB,EAAE;;SAEpC;QAAA9lC,MAAA,CACM+lC,mBAAmB,GAA1B,SAAAA,oBAA2BlgC,IAAiB,EAAE;UAC1C,IAAM2K,QAAQ,GAAI3K,IAAI,CAAhB2K,QAAQ;UACd,IAAIA,QAAQ,IAAI,IAAI,EAAE;;UAEtB,IAAIw1B,SAAkB,GAAG,KAAK;UAC9B,KAAK,IAAIrgC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6K,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACtC,IAAIE,KAAoB,GAAG2K,QAAQ,CAAC7K,CAAC,CAAC;YACtC,IAAIA,CAAC,IAAIkJ,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,EAAE;cAClCs0B,SAAS,GAAGngC,KAAI,CAACmL,QAAQ;cACzB;;;UAGR,IAAIg1B,SAAS,EAAE;;;;;;;YAOPhQ,qBAAqB,CAACiQ,YAAY,CAAC,aAAa,CAAC;;WAExD,MACI;;;;;;;YAOGjQ,qBAAqB,CAACiQ,YAAY,CAAC,cAAc,CAAC;;;SAG7D;;QAAAjmC,MAAA,CAEDkmC,qBAAqB,GAArB,SAAAA,sBAAsBjgC,GAA2B,EAAE;UAC/C,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGM,GAAG,CAACzD,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACjC,IAAIE,IAA0B,GAAGI,GAAG,CAACN,CAAC,CAAC;YACvC,IAAIE,IAAI,IAAI,IAAI,EAAE;cACd,IAAI4vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;cACpF,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAAC0Q,cAAc,CAACtgC,IAAI,CAAC;;;SAGzD;QAAA7F,MAAA,CACDomC,iBAAiB,GAAjB,SAAAA,kBAAkBC,QAAQ,EAAE,EAE3B;QAAArmC,MAAA,CAEDsmC,oBAAoB,GAApB,SAAAA,qBAAqBC,UAAU,EAAE;UAC7B,IAAOC,UAAU,GAAID,UAAU,CAAxBC,UAAU;UACjBpa,cAAc,CAAC3lB,QAAQ,EAAE,CAACqmB,eAAe,GAAGyZ,UAAU;;;;;;;;;;QAO1DvmC,MAAA,CACAymC,UAAU,GAAV,SAAAA,aAAa;UACT,IAAIlyB,CAAC,GAAG,EAAE;UACV,IAAImyB,OAAO,GAAG,IAAI,CAAC5Q,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO;UAC1C,KAAK,IAAI/gC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+gC,OAAO,CAAClxB,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC9C4O,CAAC,CAACpO,IAAI,CAACugC,OAAO,CAAClxB,QAAQ,CAAC7P,CAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC,CAAC0Y,MAAM,CAAC;;UAE7D,OAAOpyB,CAAC;SACX;QAAAvU,MAAA,CACD4mC,aAAa,GAAb,SAAAA,gBAAgB;UACZ,IAAI3gC,GAAG,GAAG,EAAE;UACZ,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmwB,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAAClxB,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACnE,IAAI24B,KAAK,GAAG,IAAI,CAACxI,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAAClxB,QAAQ,CAAC7P,CAAC,CAAC,CAACsP,YAAY,CAACgZ,QAAQ,CAAC;YAC3E,IAAIqQ,KAAK,CAAC0B,UAAU,EAAE;cAClB/5B,GAAG,CAACE,IAAI,CAACm4B,KAAK,CAACqI,MAAM,CAAC;;;UAG9B,OAAO1gC,GAAG;SACb;QAAAjG,MAAA,CACD6mC,YAAY,GAAZ,SAAAA,aAAapR,MAAM,EAAE7O,IAAI,EAAO;UAAA,IAAXA,IAAI;YAAJA,IAAI,GAAG,EAAE;;UAC1B,IAAIwP,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACL,MAAM,CAAC;UAClD,IAAIW,MAAM,IAAI,IAAI,EAAE;UACpB,IAAI,CAACoP,WAAW,CAAC,IAAI,EAAE/P,MAAM,IAAI,CAAC,CAAC,CAAC;UACpC,IAAI,CAACqR,KAAK,CAACrpB,MAAM,GAAG2Y,MAAM,CAAC2Q,QAAQ;UACnC,IAAI,CAACD,KAAK,CAACppB,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;UAC5B,IAAI,CAACwlB,aAAa,GAAGtc,IAAI;UACzB,IAAI,CAACuc,cAAc,GAAGvc,IAAI;UAC1B,IAAI,CAAC6e,cAAc,CAAClwB,MAAM,GAAG,KAAK;SAErC;QAAAvV,MAAA,CACDgnC,YAAY,GAAZ,SAAAA,aAAah9B,MAAe,EAAE;UAC1B,IAAIA,MAAM,EAAE;YACR,IAAI+8B,QAAQ,GAAG,IAAI,CAAClD,eAAe,CAAC5mB,cAAc,CAAC,UAAU,CAAC;YAE9D8pB,QAAQ,CAACxxB,MAAM,GAAG,IAAI;YAEtB,IAAI0xB,YAAmC,GAAG7gC,aAAa,CAACI,WAAW,EAAE,CAACW,SAAS,CAACD,qBAAqB,CAAC;YACtG,IAAI0f,IAAI,GAAGqgB,YAAY,CAACpmB,iBAAiB,CAAC,KAAK,CAAC;YAChD,IAAI,CAACqiB,aAAa,GAAGtc,IAAI;YACzB,IAAI,CAACuc,cAAc,GAAGvc,IAAI;YAC1B,IAAI,CAAC4e,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC;YAC5B,IAAI,CAACsB,KAAK,CAACrpB,MAAM,GAAGspB,QAAQ;YAC5B,IAAI,CAACD,KAAK,CAACppB,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;WAG/B,MAED;YACI,IAAIqpB,SAAQ,GAAG,IAAI,CAAClD,eAAe,CAAC5mB,cAAc,CAAC,UAAU,CAAC;YAE9D8pB,SAAQ,CAACxxB,MAAM,GAAG,KAAK;;UAG3B,IAAI,CAAC2xB,SAAS,CAAC3xB,MAAM,GAAGvL,MAAM;;;;;;;;;;;;;;;;;;;QAiBtChK,MAAA,CACYmnC,eAAe,GAAvB,SAAAA,kBAA0B;UACtB,IAAI,IAAI,CAAC/D,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAACA,SAAS,CAAC7tB,MAAM,GAAG,IAAI;YAC5B,IAAI,CAAC6tB,SAAS,CAACzlB,OAAO,GAAG,CAAC;YAC1BmX,KAAK,CAACC,eAAe,CAAC,IAAI,CAACqO,SAAS,CAAC;YACrC,IAAI,CAACgE,QAAQ,EAAE;;SAEtB;QAAApnC,MAAA,CACDonC,QAAQ,GAAR,SAAAA,WAAW;UAAA,IAAAjhB,MAAA;UACP,IAAI,CAACkd,SAAS,GAAG,IAAI;UAErB,IAAIgE,UAAU,GAAG,IAAI,CAACvR,YAAY,CAAC,CAAC,CAAC;UACrC,IAAI,CAACuR,UAAU,EAAE;UAEjB,IAAIjR,MAAiB,GAAGiR,UAAU,CAACpyB,YAAY,CAAC4tB,UAAU,CAAC;UAC3D,IAAI,CAACzM,MAAM,IAAIA,MAAM,CAAC/nB,MAAM,KAAKsD,OAAO,CAAC3S,IAAI,CAAC4S,GAAG,EAAE;UAEnD,IAAI01B,WAAW,GAAGlR,MAAM,CAACsQ,OAAO;UAChC,IAAI,CAACY,WAAW,EAAE;;;UAGlBxS,KAAK,CAACC,eAAe,CAACuS,WAAW,CAAC;;;UAGlC,IAAMC,eAAe,GAAG5S,KAAK,CAAC2S,WAAW,CAAC,CACtC1S,EAAE,CAAC,GAAG,EAAE;YAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;WAAG,EAAE;YAAES,MAAM,EAAEA,MAAM,CAACuH;WAAS,CAAC;;;UAGrE,IAAMC,gBAAgB,GAAG9S,KAAK,CAAC2S,WAAW,CAAC,CACvC1S,EAAE,CAAC,GAAG,EAAE;YAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;WAAG,EAAE;YAAES,MAAM,EAAEA,MAAM,CAACC;WAAS,CAAC;;;UAGrEvL,KAAK,CAAC2S,WAAW,CAAC,CACdI,IAAI,CAACH,eAAe,CAAC,CACrB3kC,IAAI,CAAC;YAAA,OAAMujB,MAAI,CAACwhB,UAAU,EAAE;YAAC,CAC7BD,IAAI,CAACD,gBAAgB,CAAC,CACtB7kC,IAAI,CAAC;YAAA,OAAMujB,MAAI,CAACyhB,kBAAkB,EAAE;YAAC,CACrCpgB,KAAK,EAAE;SACd;QAAAxnB,MAAA,CACO2nC,UAAU,GAAlB,SAAAA,aAAqB;UACjB,IAAIE,OAAO,GAAG,IAAI,CAACpB,UAAU,EAAE;UAC/B,IAAIqB,OAAO,GAAG,IAAI;UAElB,IAAI,IAAI,CAAC9E,QAAQ,IAAI,CAAC,IAAI,IAAI,CAACA,QAAQ,IAAI,CAAC,EAAE;YAC9C,IAAI,CAACA,QAAQ,GAAG,CAAC;YACjB8E,OAAO,GAAG,IAAI,CAAC/rB,SAAS,CAACzR,IAAI,CAACu9B,OAAO,CAAC;YACtCt6B,OAAO,CAACC,GAAG,CAACs6B,OAAO,CAAC;WACnB,MACI,IAAI,IAAI,CAAC9E,QAAQ,IAAI,CAAC,EAAE;YAC7B,IAAI,CAACA,QAAQ,GAAG,CAAC;YACjB8E,OAAO,GAAG,IAAI,CAAC/rB,SAAS,CAACgsB,cAAc,CAACF,OAAO,CAAC;YAChDt6B,OAAO,CAACC,GAAG,CAACs6B,OAAO,CAAC;;UAEpB,IAAIA,OAAO,IAAI,IAAI,EAAE;YACrB,IAAI,CAAChS,YAAY,CAAC,CAAC,CAAC,CAACkS,WAAW,CAACF,OAAO,CAAC;;UAEzC7+B,WAAW,CAACM,SAAS,CAAC0yB,mBAAmB,CAACK,qBAAqB,CAAC;SACnE;QAAAt8B,MAAA,CACO4nC,kBAAkB,GAA1B,SAAAA,qBAA6B;UACzB,IAAI,CAACvE,SAAS,GAAG,KAAK;SACzB;QAAArjC,MAAA,CACDgkC,UAAU,GAAV,SAAAA,WAAWxS,KAAK,EAAE;UACf7yB,YAAY,CAACC,SAAS,EAAE;UACvB,IAAI2b,IAAI,GAAGiX,KAAK,CAAC2G,aAAa,CAAC5d,IAAI;UACnC,QAAQA,IAAI;YACR,KAAK,UAAU;;cAEX,IAAI,CAAC6sB,QAAQ,EAAE;cACf;YACJ,KAAK,WAAW;YAChB,KAAK,aAAa;;;cAGdv8B,WAAW,CAAC7L,IAAI,CAAC6N,MAAM,EAAE;cACzB;YACJ,KAAK,UAAU;;;;;;;;;;;;;cAYf;YACA,KAAK,YAAY;;cACb,IAAIo7B,GAAG,GAAG,IAAI,CAACrB,aAAa,EAAE;cAC9B,IAAIqB,GAAG,CAACzlC,MAAM,GAAG,CAAC,EAAE;gBAChBqI,WAAW,CAAC7L,IAAI,CAACyN,MAAM,CAACw7B,GAAG,CAAC;;cAEhC;YAEJ,KAAK,aAAa;cACd,IAAIlkC,GAAG,GAAGyZ,WAAW,CAAC,IAAI,CAAC0qB,OAAO,CAAC;cACnCt5B,QAAQ,CAAC4P,QAAQ,EAAE,CAAChJ,QAAQ,CAAC,CAAC,CAAC,CAACkK,QAAQ,CAAC3b,GAAG,CAAC;cAC7CA,GAAG,CAAC2Z,WAAW,CAAC,IAAI8hB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cAC/B;YACJ,KAAK,cAAc;;;cAEf;YACJ,KAAK,SAAS;cACV/iB,QAAQ,CAACC,WAAW,CAAC,4BAA4B,CAAC;cAClD;YACJ,KAAK,cAAc;;;;cAGnB;YACA,KAAK,aAAa;;cAEdD,QAAQ,CAACC,WAAW,CAAC,mBAAmB,CAAC;cACzC;YACJ,KAAK,WAAW;;cAEZ7N,YAAY,CAAC7P,IAAI,CAACqN,OAAO,EAAE;cAC3B;YACJ,KAAK,oBAAoB;cACrBpD,WAAW,CAACM,SAAS,CAAC0yB,mBAAmB,CAACE,qBAAqB,CAAC;cAChE;YACJ,KAAK,UAAU;cACVr9B,GAAG,CAACqpC,OAAO,CAAC59B,IAAI,CAAC+a,YAAY,CAAC8iB,WAAW,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,CAACC,OAAO,eAAA3gB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOygB,EAAW;gBAAA,OAAA3gB,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;kBAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;oBAAA;sBACjF,IAAIogB,EAAE,EAAE;wBACJxpC,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACspC,QAAQ,EAAE;wBAClCj8B,OAAO,CAACtN,IAAI,CAACwpC,QAAQ,EAAE;;oBAC1B;oBAAA;sBAAA,OAAAxgB,QAAA,CAAAI,IAAA;;mBAAAP,OAAA;eACJ,GAAC;cACN;YACJ;cACIta,OAAO,CAAC9H,KAAK,CAAC,OAAO,EAAE8U,IAAI,CAAC;cAC5B;;SAEX;QAAAva,MAAA,CACOyoC,cAAc,GAAtB,SAAAA,iBAAyB;UACrB,KAAK,IAAI9iC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmwB,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC/C,IAAIywB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACnwB,CAAC,CAAC;YAC7C,IAAIywB,MAAM,IAAI,IAAI,EAAE;cAChBA,MAAM,CAACsS,WAAW,EAAE;;;SAG/B;QAAA1oC,MAAA,CACM2oC,gBAAgB,GAAvB,SAAAA,mBAA0B;UACtB,KAAK,IAAIhjC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmwB,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC/C,IAAIywB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACnwB,CAAC,CAAC;YAC7C,IAAIywB,MAAM,IAAI,IAAI,EAAE;cAChBA,MAAM,CAACwS,QAAQ,CAAC,KAAK,CAAC;;;SAGjC;QAAA5oC,MAAA,CACO6oC,kBAAkB,GAA1B,SAAAA,qBAA6B;UAAA,IAAAtG,MAAA;UACzBp9B,WAAW,CAACnG,IAAI,CAACoG,qBAAqB,CAACjG,SAAS,CAACC,gBAAgB,EAAC,uBAAuB,EAAE+d,MAAM,EAAE,UAAC7X,GAAG,EAAE8X,MAAM,EAAK;YAChH,IAAI9X,GAAG,EAAE;cACLiI,OAAO,CAAC9H,KAAK,CAACH,GAAG,CAAC;cAClB;;YAEJ,IAAIi9B,MAAI,CAAC5tB,IAAI,CAACguB,OAAO,EAAE;cACnB,IAAIhuB,IAAI,GAAG6I,WAAW,CAACJ,MAAM,CAAC;cAC9B,IAAI1D,IAAI,GAAG6oB,MAAI,CAAC5tB,IAAI,CAACsI,cAAc,CAAC,eAAe,CAAC;cACpDvD,IAAI,CAACgG,QAAQ,CAAC/K,IAAI,CAAC;cACnBA,IAAI,CAACY,MAAM,GAAG,IAAI;;WAErB,CAAC;SACT;QAAAvV,MAAA,CACO8oC,WAAW,GAAnB,SAAAA,cAAsB;;SAErB;QAAA9oC,MAAA,CACO+oC,aAAa,GAArB,SAAAA,gBAAwB;UAAA,IAAAC,MAAA;UACpB7jC,WAAW,CAACnG,IAAI,CAACoG,qBAAqB,CAACjG,SAAS,CAACC,gBAAgB,EAAC,iBAAiB,EAAE+d,MAAM,EAAE,UAAC7X,GAAG,EAAE8X,MAAM,EAAK;YAC1G,IAAI9X,GAAG,EAAE;cACTiI,OAAO,CAAC9H,KAAK,CAACH,GAAG,CAAC;cAClB;;YAEA,IAAI0jC,MAAI,CAACr0B,IAAI,CAACguB,OAAO,EAAE;cACvB,IAAIhuB,IAAI,GAAG6I,WAAW,CAACJ,MAAM,CAAC;cAC9B,IAAI1D,IAAI,GAAGsvB,MAAI,CAACr0B,IAAI,CAACsI,cAAc,CAAC,cAAc,CAAC;cACnDvD,IAAI,CAACgG,QAAQ,CAAC/K,IAAI,CAAC;cACnBA,IAAI,CAACY,MAAM,GAAG,IAAI;;WAErB,CAAC;SACL;QAAAvV,MAAA,CACOkkC,UAAU,GAAlB,SAAAA,aAAqB;;;;;;;;;;;;;SAapB;QAAAlkC,MAAA,CACOwlC,WAAW,GAAnB,SAAAA,YAAoByD,QAAiB,EAAEC,KAAa,EAAU;UAAA,IAAvBA,KAAa;YAAbA,KAAa,GAAG,KAAK;;UACxD,IAAIC,GAAG,GAAG,IAAI,CAACrC,KAAK,CAAC7xB,YAAY,CAACqhB,SAAS,CAAC;UAC5C6S,GAAG,CAAC/gB,IAAI,EAAE;UAEV0M,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC+R,KAAK,CAAC;UACjC,IAAI,CAACA,KAAK,CAACvxB,MAAM,GAAG0zB,QAAQ;UAC5B,IAAI,CAACnC,KAAK,CAACsC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UACxC,IAAIH,QAAQ,IAAIC,KAAK,EAAE;YACnB,IAAI,CAACpC,KAAK,CAACuC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC5B,IAAI,CAACvC,KAAK,CAACnpB,OAAO,GAAG,CAAC;YACtBgX,KAAK,CAAC,IAAI,CAACmS,KAAK,CAAC,CACdlS,EAAE,CAAC,GAAG,EAAE;cAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;aAAG,EAAE;cAAES,MAAM,EAAEA,MAAM,CAACC;aAAS,CAAC,CACjEoJ,QAAQ,CACH3U,KAAK,CAAC,IAAI,CAACmS,KAAK,CAAC,CACdlS,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAK,CAC/B,CAAC,CACF6J,KAAK,EAAE;WACb,MACI;YACD,IAAI,CAACsf,KAAK,CAACnpB,OAAO,GAAG,GAAG;YACxB,IAAI,CAACmpB,KAAK,CAACuC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;SAEnC;QAAArpC,MAAA,CACOupC,UAAU,GAAlB,SAAAA,aAAqB;UACjB,IAAIJ,GAAG,GAAG,IAAI,CAACrC,KAAK,CAAC7xB,YAAY,CAACqhB,SAAS,CAAC;UAC5C,IAAIkT,KAAK,GAAGL,GAAG,CAAC5S,IAAI,EAAE;UACtB4S,GAAG,CAACvH,WAAW,CAACC,QAAQ,GAAGC,aAAa,CAACC,QAAQ,CAACC,IAAI;SACzD;QAAAhiC,MAAA,CACOslC,WAAW,GAAnB,SAAAA,YAAoBz/B,IAAkB,EAAE;;UAEpCoD,WAAW,CAACM,SAAS,CAAC0yB,mBAAmB,CAACC,SAAS,CAAC;UACpD,IAAMuN,YAAY,GAAK5jC,IAAI,CAArB4jC,YAAY;;UAElB,IAAIC,SAAqB,GAAG,IAAI;UAChC,IAAIC,SAAqB,GAAG,IAAI;UAChC,IAAIC,QAAgB,GAAG,CAAC;UACxB,IAAIC,QAAgB,GAAG,CAAC;UACxB,IAAI3c,IAAY,GAAG,CAAC,CAAC;UACrB,KAAK,IAAIvnB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8jC,YAAY,CAACjnC,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC1C,IAAIC,MAAM,GAAG6jC,YAAY,CAAC9jC,CAAC,CAAC;YAC5B,IAAIyF,OAAO,GAAGxF,MAAM,CAACwF,OAAO;YAC5B,IAAIyF,KAAK,GAAGjL,MAAM,CAACiL,KAAK;YACxB,IAAI4kB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAACtqB,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC/E,IAAI0kB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACL,MAAM,CAAC;YAClD,IAAIW,MAAM,IAAI,IAAI,EAAE;YACpB,IAAIvlB,KAAK,GAAG,CAAC,EAAE;cACX64B,SAAS,GAAGtT,MAAM;cAClBwT,QAAQ,GAAG/4B,KAAK;cAChBqc,IAAI,GAAGuI,MAAM;aAChB,MACI;cACDkU,SAAS,GAAGvT,MAAM;cAClByT,QAAQ,GAAGh5B,KAAK;;;UAGpB,IAAI64B,SAAS,IAAI,IAAI,IAAIC,SAAS,IAAI,IAAI,IAAIzc,IAAI,IAAI,CAAC,CAAC,EAAE;YACtDwc,SAAS,CAACI,gBAAgB,CAACF,QAAQ,CAAC;YACpCD,SAAS,CAACG,gBAAgB,CAACD,QAAQ,CAAC;YACpCF,SAAS,CAACI,WAAW,CAAC7c,IAAI,CAAC;YAC3B,IAAI8c,QAAgB,GAAG,gBAAgB,CAAC;YACxChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;YAC5C,IAAI,CAACvV,YAAY,CAAC,YAAM;cACxB,IAAIiV,SAAS,IAAI,IAAI,IAAIA,SAAS,CAAC/0B,IAAI,CAACguB,OAAO,IAAIvW,cAAc,CAAC3lB,QAAQ,EAAE,CAACmmB,UAAU,EAAE;gBACzF8c,SAAS,CAACO,OAAO,CAACC,YAAY,EAAE;;aAEnC,EAAE,CAAC,CAAC;YACLR,SAAS,CAACO,OAAO,CAACE,YAAY,CAAC,CAAC,CAAC;YACjCR,SAAS,CAACM,OAAO,CAACE,YAAY,CAAC,CAAC,CAAC;;SAExC;QAAAnqC,MAAA,CACOoqC,aAAa,GAArB,SAAAA,cAAsBnpB,KAAK,EAAE;UACzB,IAAI+oB,QAAQ,GAAG,QAAQ,GAAG/oB,KAAK,GAAG,GAAG;UACrC+U,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;SAC/C;QAAAhqC,MAAA,CACDqqC,qBAAqB,GAArB,SAAAA,sBAAsBxkC,IAAkB,EAAW;UAC/C,IAAM4I,SAAS,GAAK5I,IAAI,CAAlB4I,SAAS;UACf,IAAI67B,OAAiB,GAAG,IAAI,CAAC7D,UAAU,EAAE;UACzC,IAAI8D,UAAU,GAAG,IAAI,CAAC3G,WAAW,CAAC3mB,cAAc,CAAC,YAAY,CAAC;UAC9D,IAAIutB,IAAI,GAAG,KAAK;UAChB,IAAI/7B,SAAS,IAAI,IAAI,EAAE;YACnB,IAAIg8B,SAAS,GAAG,IAAI,CAAC1uB,SAAS,CAAC2uB,iBAAiB,CAACJ,OAAO,EAAE77B,SAAS,CAAC;YACpE87B,UAAU,CAACh1B,MAAM,GAAGk1B,SAAS;YAC7BD,IAAI,GAAGC,SAAS;WACnB,MACI;YACDF,UAAU,CAACh1B,MAAM,GAAG,IAAI;YACxBi1B,IAAI,GAAG,IAAI;;UAEf,OAAOA,IAAI;SACd;QAAAxqC,MAAA,CACDqgC,qBAAqB,GAArB,SAAAA,wBAAwB;UACpB,IAAI3zB,KAAe,GAAG,IAAI,CAACk6B,aAAa,EAAE;UAC1C,IAAI2D,UAAU,GAAG,IAAI,CAAC3G,WAAW,CAAC3mB,cAAc,CAAC,YAAY,CAAC;UAC9D,IAAIstB,UAAU,IAAI,IAAI,IAAI,CAACA,UAAU,CAACh1B,MAAM,EAAE;UAE9C,IAAIojB,GAAG,GAAG4R,UAAU,CAACttB,cAAc,CAAC,OAAO,CAAC;UAC5C,IAAI0tB,OAAO,GAAGhS,GAAG,CAAC1jB,YAAY,CAAC21B,YAAY,CAAC;UAC5C,IAAI,IAAI,CAACpH,WAAW,IAAI,IAAI,EAAE;YAC1B,IAAIqH,KAAK,GAAG,IAAI,CAAC9uB,SAAS,CAAC+uB,kBAAkB,CAACp+B,KAAK,EAAE,IAAI,CAAC82B,WAAW,CAAC,GAAG3K,SAAS,CAACC,IAAI;YACvF,IAAI2R,SAAS,GAAG,IAAI,CAAC1uB,SAAS,CAAC2uB,iBAAiB,CAACh+B,KAAK,EAAE,IAAI,CAAC82B,WAAW,CAAC;YACzE,IAAIuH,QAAQ,GAAGF,KAAK,IAAIJ,SAAS;YACjC,IAAIM,QAAQ,EAAE;cACVR,UAAU,CAACS,KAAK,GAAG,IAAI,CAACvH,aAAa;cACrC9K,GAAG,CAACqS,KAAK,GAAG,IAAI,CAACvH,aAAa;cAC9B,IAAI,CAACkH,OAAO,CAACvJ,OAAO,EAAE;gBAClBuJ,OAAO,CAACvJ,OAAO,GAAG,IAAI;;aAE7B,MACI;cACDmJ,UAAU,CAACS,KAAK,GAAG,IAAI,CAACrH,cAAc;cACtChL,GAAG,CAACqS,KAAK,GAAG,IAAI,CAACrH,cAAc;cAC/B,IAAIgH,OAAO,CAACvJ,OAAO,EAAE;gBACjBuJ,OAAO,CAACvJ,OAAO,GAAG,KAAK;;;WAGlC,MACI;YACDmJ,UAAU,CAACS,KAAK,GAAG,IAAI,CAACvH,aAAa;YACrC9K,GAAG,CAACqS,KAAK,GAAG,IAAI,CAACvH,aAAa;YAC9B,IAAI,CAACkH,OAAO,CAACvJ,OAAO,EAAE;cAClBuJ,OAAO,CAACvJ,OAAO,GAAG,IAAI;;;SAGjC;QAAAphC,MAAA,CACD+9B,MAAM,GAAN,SAAAA,OAAOC,EAAE,EAAE;UACP,IAAI,IAAI,CAACyH,cAAc,CAAClwB,MAAM,EAAE;YAC5B,IAAI,IAAI,CAAC2tB,aAAa,GAAG,CAAC,EAAE;cACxB,IAAI,CAACA,aAAa,IAAIlF,EAAE;cACxB,IAAI,CAACyH,cAAc,CAACxwB,YAAY,CAACg2B,WAAW,CAAC,CAACC,QAAQ,GAAG,IAAI,CAAChI,aAAa,GAAG,IAAI,CAACC,cAAc;aACpG,MAAM;cACH,IAAI,CAACD,aAAa,GAAG,IAAI,CAACC,cAAc;cACxC,IAAI,CAACsC,cAAc,CAACxwB,YAAY,CAACg2B,WAAW,CAAC,CAACC,QAAQ,GAAG,CAAC;;WAE7D,MACI,IAAI,IAAI,CAACpE,KAAK,CAACvxB,MAAM,EAAE;YACxB,IAAI,IAAI,CAAC2tB,aAAa,GAAG,CAAC,EAAE;cACxB,IAAIiI,KAAK,GAAG,IAAI,CAACjI,aAAa,GAAGlF,EAAE;cACnC,IAAI,IAAI,CAACkF,aAAa,GAAG,CAAC,IAAIiI,KAAK,IAAI,CAAC,EAAE;gBAC1C,IAAI,CAAC5B,UAAU,EAAE;gBACjB,IAAI,CAACa,aAAa,CAAC,CAAC,CAAC;eACxB,MACI,IAAI,IAAI,CAAClH,aAAa,GAAG,CAAC,IAAIiI,KAAK,IAAI,CAAC,EAAE;gBAC3C,IAAI,CAACf,aAAa,CAAC,CAAC,CAAC;eACxB,MACI,IAAI,IAAI,CAAClH,aAAa,GAAG,CAAC,IAAIiI,KAAK,IAAI,CAAC,EAAE;gBAC3C,IAAI,CAACf,aAAa,CAAC,CAAC,CAAC;;cAEzB,IAAI,CAAClH,aAAa,GAAGiI,KAAK;cAC1B,IAAI,CAACrE,KAAK,CAAC7pB,cAAc,CAAC,OAAO,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC,CAACC,MAAM,GAAGhG,IAAI,CAACotB,IAAI,CAAC,IAAI,CAACqD,aAAa,CAAC,CAAC5vB,QAAQ,EAAE;aACvG,MACA;cACD,IAAI,CAAC4vB,aAAa,GAAG,IAAI,CAACC,cAAc;cACxC,IAAI,CAAC2D,KAAK,CAAC7pB,cAAc,CAAC,OAAO,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC,CAACC,MAAM,GAAG,GAAG;;;SAG9E;QAAAzY,MAAA,CAEO0L,UAAU,GAAlB,SAAAA,WAAmB7F,IAAa,EAChC;UACI,IAAI,CAACq/B,aAAa,CAACr/B,IAAI,CAAC;UACxB,IAAI,CAACw/B,WAAW,CAACx/B,IAAI,CAAC;UACtB,IAAI,CAACmhC,YAAY,CAAC,KAAK,CAAC;UAExB,IAAIn8B,WAAW,CAAC7L,IAAI,CAAC8P,QAAQ,CAACC,UAAU,IAAIC,WAAW,CAACiB,IAAI,IAAIpF,WAAW,CAAC7L,IAAI,CAAC8P,QAAQ,CAACC,UAAU,IAAIC,WAAW,CAACo8B,OAAO,EAAE;;YACzH79B,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;YAC1C,IAAI,CAACq2B,eAAe,CAACtuB,MAAM,GAAG,IAAI;YAClC,IAAI81B,UAAmB,GAAGx8B,YAAY,CAAC7P,IAAI,CAACoO,eAAe,CAACuE,OAAO,CAAC3S,IAAI,CAAC4S,GAAG,CAAC;YAC7E,IAAGy5B,UAAU,EACb;cACI,IAAI,CAACrE,YAAY,CAAC,KAAK,CAAC;;YAE5Bn4B,YAAY,CAAC7P,IAAI,CAACqN,OAAO,EAAE;WAC9B,MAED;YACI,KAAK,IAAI1G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,IAAI,CAACwF,QAAQ,CAAC7I,MAAM,EAAEmD,CAAC,EAAE,EAAE;cAC3C,IAAI2lC,UAAU,GAAGne,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACwF,QAAQ,CAAC1F,CAAC,CAAC,CAACyF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;cACpG,IAAI45B,UAAU,IAAI,CAAC,EAAE;;gBAEjB,IAAI,CAACxV,YAAY,CAACwV,UAAU,CAAC,CAACC,YAAY,CAAC1lC,IAAI,CAACwF,QAAQ,CAAC1F,CAAC,CAAC,CAAC4I,aAAa,EAAE,IAAI,CAAC;eACnF,MAED;gBACI,IAAI,CAACunB,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAACZ,iBAAiB,EAAE;gBAChD,IAAIwE,OAAgB,GAAGzkC,IAAI,CAACwF,QAAQ,CAAC1F,CAAC,CAAC,CAAC+G,KAAK;gBAC7C,KAAK,IAAI4C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGg7B,OAAO,CAAC9nC,MAAM,EAAE8M,CAAC,EAAE,EAAE;kBACrC,IAAIk8B,QAAQ,GAAGhuB,WAAW,CAAC,IAAI,CAACiuB,UAAU,CAAC;kBAC3CD,QAAQ,CAAC/S,SAAS,CAAC,IAAI,CAAC3C,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAAC;kBAChD8E,QAAQ,CAAC9tB,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;kBAC1B8tB,QAAQ,CAACv2B,YAAY,CAACgZ,QAAQ,CAAC,CAAC0Y,MAAM,GAAI2D,OAAO,CAACh7B,CAAC,CAAE;kBACrDk8B,QAAQ,CAACE,QAAQ,GAAG,CAAC;;;;;YAMjC,IAAIn8B,YAAyB,GAAG,IAAIC,YAAY,EAAE;YAClDD,YAAY,CAACd,SAAS,GAAG5I,IAAI,CAAC4I,SAAS;YACvCc,YAAY,CAACE,eAAe,GAAG5J,IAAI,CAACgI,kBAAkB;YACtD,IAAI,CAAClC,UAAU,CAAC4D,YAAY,EAAC1J,IAAI,CAACkI,eAAe,CAAC;;SAIzD;QAAA/N,MAAA,CACOyL,WAAW,GAAnB,SAAAA,YAAoB5F,IAAkB,EACtC;UAAA,IAAA8lC,MAAA;;UAEI,IAAI,CAAC9H,eAAe,CAACtuB,MAAM,GAAG,KAAK;UACnC6W,cAAc,CAAC3lB,QAAQ,EAAE,CAACgF,WAAW,EAAE;UAEvC,IAAImgC,QAAkB;UACtB,KAAK,IAAIjmC,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGE,IAAI,CAACqI,SAAS,CAAC1L,MAAM,EAAEmD,EAAC,EAAE,EAAE;YAC5C,IAAI2lC,UAAU,GAAGne,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACqI,SAAS,CAACvI,EAAC,CAAC,CAACyF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YACrG,IAAI,CAACokB,YAAY,CAACwV,UAAU,CAAC,CAACO,KAAK,EAAE;YACrC,IAAGhmC,IAAI,CAACqI,SAAS,CAACvI,EAAC,CAAC,CAACyF,OAAO,IAAIyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,EAC3D;cACIk6B,QAAQ,GAAG/lC,IAAI,CAACqI,SAAS,CAACvI,EAAC,CAAC,CAACyJ,QAAQ;;;UAI7Cw8B,QAAQ,GAAGA,QAAQ,CAACthC,IAAI,CAAC,UAAUgN,CAAC,EAAEc,CAAC,EAAE;YACzC,OAAO,EAAE,GAAG3F,IAAI,CAACyB,MAAM,EAAE;WACxB,CAAC;UACF,IAAI,CAAC8uB,QAAQ,GAAG,CAAC;UAEjB,IAAI8I,MAAM,GAAGj9B,YAAY,CAAC7P,IAAI,CAAC8P,QAAQ,CAAC+C,WAAW;UACnD,KAAK,IAAIlM,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,EAAE,GAAGmmC,MAAM,EAAEnmC,GAAC,EAAE,EAAE;YAClC,IAAI2nB,IAAI,GAAG9P,WAAW,CAAC,IAAI,CAACiuB,UAAU,CAAC;YACvCne,IAAI,CAACmL,SAAS,CAAC,IAAI,CAACmN,QAAQ,CAAC;YAC7BtY,IAAI,CAAC5P,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;YACtB4P,IAAI,CAAC/X,MAAM,GAAG,IAAI;;;UAGtB,IAAI5P,CAAC,GAAG,IAAI,CAACigC,QAAQ,CAACpwB,QAAQ,CAAChT,MAAM,GAAG,CAAC;UACzC,IAAIupC,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;UAC3B,IAAIC,UAAU,GAAGC,WAAW,CAAC,YAAM;YAC/B,IAAIC,MAAM,GAAGvmC,CAAC,GAAGmmC,MAAM,IAAI,CAAC;YAC5B,IAAIxe,IAAI,GAAGqe,MAAI,CAAC/F,QAAQ,CAACpwB,QAAQ,CAAC7P,CAAC,CAAC;YACpC,IAAIwmC,MAAM,GAAGD,MAAM,GAAGP,MAAI,CAAC7V,YAAY,CAACnwB,CAAC,GAAGmmC,MAAM,CAAC,CAACpF,OAAO,GAAGiF,MAAI,CAAC7V,YAAY,CAACnwB,CAAC,GAAGmmC,MAAM,CAAC,CAACt9B,SAAS;YACrG,IAAI49B,OAAO,GAAGD,MAAM,CAACE,gBAAgB,EAAE;YACvC,IAAIC,IAAI,GAAGX,MAAI,CAAC/F,QAAQ,CAAC3wB,YAAY,CAACkf,WAAW,CAAC,CAACoL,oBAAoB,CAAC6M,OAAO,CAAC;YAChF,IAAI/X,KAAK,GAAG6X,MAAM,GAAG,CAAC,GAAG,GAAG;YAC5BvX,KAAK,CAACrH,IAAI,CAAC,CACVkU,KAAK,CAAC,IAAI,CAAC,CACX5M,EAAE,CAAC,GAAG,EAAE;cAAEN,QAAQ,EAAEgY,IAAI;cAAEjY,KAAK,EAAE,IAAImL,IAAI,CAACnL,KAAK,EAAEA,KAAK,EAAEA,KAAK;aAAG,CAAC,CACjEzxB,IAAI,CAAC,YAAM;cACN,IAAIspC,MAAM,EAAE;gBACR,IAAIV,QAAQ,GAAGhuB,WAAW,CAAC8P,IAAI,CAAC;gBAChCke,QAAQ,CAAC/S,SAAS,CAACkT,MAAI,CAAC7V,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAAC;gBAChD8E,QAAQ,CAAC9tB,WAAW,CAAC,IAAI8hB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpC,IAAI+M,OAAO,GAAGf,QAAQ,CAACv2B,YAAY,CAACgZ,QAAQ,CAAC;gBAC7C,IAAIse,OAAO,EAAE;kBACTA,OAAO,CAAC5F,MAAM,GAAIiF,QAAQ,CAACD,MAAI,CAAC7V,YAAY,CAAC,CAAC,CAAC,CAAC4Q,OAAO,CAAClxB,QAAQ,CAAChT,MAAM,GAAG,CAAC,CAAE;;gBAEjFgpC,QAAQ,CAACE,QAAQ,GAAG,CAAC;eACxB,MAAM;gBACH,IAAIc,QAAQ,GAAGlf,IAAI,CAACqS,eAAe,EAAE;gBACrCoM,QAAQ,CAACS,QAAQ,GAAGV,MAAM,CAAC,EAAE;gBAC7BH,MAAI,CAAC7V,YAAY,CAAC0W,QAAQ,GAAGV,MAAM,CAAC,CAACP,YAAY,CAACQ,QAAQ,CAACS,QAAQ,GAAGV,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;;;cAEzFxe,IAAI,CAAC/X,MAAM,GAAG,KAAK;aACtB,CAAC,CACHiS,KAAK,EAAE;YACR7hB,CAAC,EAAE;YACH,IAAIA,CAAC,GAAG,CAAC,EAAE;cACP8mC,aAAa,CAACT,UAAU,CAAC;cACzB3J,UAAU,CAAC,YAAM;gBACbsJ,MAAI,CAACxE,eAAe,EAAE;eACzB,EAAE,GAAG,CAAC;;WAEV,EAAC,EAAE,CAAC;UACTnR,qBAAqB,CAACiQ,YAAY,CAAC,aAAa,CAAC;SACpD;QAAAjmC,MAAA,CACDukC,gBAAgB,GAAhB,SAAAA,iBAAiB1+B,IAAa,EAAE;UAC5B,IAAI4vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;UACpF,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAACqP,cAAc,CAACj/B,IAAI,CAAC;SACjD;QAAA7F,MAAA,CACDqkC,gBAAgB,GAAhB,SAAAA,iBAAiBx+B,IAAa,EAAE;UAC5B,IAAI4vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;UACpF,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAAC9gB,IAAI,CAACY,MAAM,GAAG,KAAK;SAChD;QAAAvV,MAAA,CACD8L,SAAS,GAAT,SAAAA,UAAUjG,IAAiB,EAAE;UACzB0H,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE3H,IAAI,CAAC;UAC9B,IAAI,IAAI,CAACy9B,0BAA0B,IAAI,IAAI,EAAE;YAC7C,IAAI,CAACA,0BAA0B,CAACoJ,WAAW,CAAC,IAAI,EAAE7mC,IAAI,CAAC;;UAGvD,IAAI,CAAC0/B,oBAAoB,EAAE;UAC3B,IAAI,CAACoD,gBAAgB,EAAE;UACvBvc,cAAc,CAAC3lB,QAAQ,EAAE,CAACinB,YAAY,EAAE;;;;;SAK3C;;QAAA1tB,MAAA,CAED2L,UAAU,GAAV,SAAAA,WAAW9F,IAAiB,EAAC+gB,IAAW,EAAO;UAAA,IAAlBA,IAAW;YAAXA,IAAW,GAAG,EAAE;;UACzC,IAAuB+lB,eAAe,GAAiB9mC,IAAI,CAArD4J,eAAe;YAAmBhB,SAAS,GAAM5I,IAAI,CAAnB4I,SAAS;UACjD,IAAI,CAAC+0B,WAAW,GAAG/0B,SAAS;UAC5B,IAAII,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,IAAIi7B,eAAe,EAAE;;YAEhD,IAAI,CAACvJ,SAAS,CAAC7tB,MAAM,GAAG,IAAI;YAC5B,IAAI,CAACquB,WAAW,CAACruB,MAAM,GAAG,IAAI;YAC9B,IAAI,CAACquB,WAAW,CAACjmB,OAAO,GAAG,CAAC;YAC5BmX,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC6O,WAAW,CAAC;YACvCjP,KAAK,CAAC,IAAI,CAACiP,WAAW,CAAC,CACtBhP,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAK,CAAC,CACzB6J,KAAK,EAAE;YAER,IAAIolB,eAAe,GAAG,IAAI,CAACvC,qBAAqB,CAACxkC,IAAI,CAAC;YACtD,IAAI,CAACw6B,qBAAqB,EAAE;YAC5B,IAAIwM,SAAS,GAAG,IAAI,CAACjJ,WAAW,CAAC3mB,cAAc,CAAC,WAAW,CAAC;YAC5D,IAAI6vB,UAAU,GAAG,IAAI,CAAClJ,WAAW,CAAC3mB,cAAc,CAAC,aAAa,CAAC;;YAE/D,IAAI8vB,OAAO,GAAGt+B,SAAS,IAAI,IAAI;YAC/B,IAAIm+B,eAAe,EAAE;cACrBC,SAAS,CAACt3B,MAAM,GAAGw3B,OAAO;cAC1BD,UAAU,CAACv3B,MAAM,GAAG,KAAK;aACxB,MACI;cACLs3B,SAAS,CAACt3B,MAAM,GAAG,KAAK;cACxBu3B,UAAU,CAACv3B,MAAM,GAAGw3B,OAAO;;WAE9B,MACI;;;YAGFjY,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC6O,WAAW,CAAC;YACvCjP,KAAK,CAAC,IAAI,CAACiP,WAAW,CAAC,CACtBhP,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAG,CAAC,CACvB6J,KAAK,EAAE;;UAIX,IAAIiO,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAACiX,eAAe,EAAE99B,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;UACvF,IAAI,CAACm1B,YAAY,CAACpR,MAAM,EAAC7O,IAAI,CAAC;UAC9B,IAAI,CAACkP,YAAY,CAACL,MAAM,CAAC,CAACiT,WAAW,EAAE;UAEvC,IAAIj6B,SAAS,EAAE;;YACX,IAAM/B,KAAK,GAA8B+B,SAAS,CAA5C/B,KAAK;cAAEtB,OAAO,GAAqBqD,SAAS,CAArCrD,OAAO;cAAEuD,aAAa,GAAMF,SAAS,CAA5BE,aAAa;YACnC,IAAIq+B,UAAU,GAAG7f,UAAU,CAACuI,iBAAiB,CAACtqB,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YACnF,IAAI0kB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACkX,UAAU,CAAC;YAEtD5W,MAAM,CAAC6W,UAAU,CAACvgC,KAAK,CAAC;YACxB,IAAIsgC,UAAU,IAAI,CAAC,EAAE;;cAEjB5W,MAAM,CAACznB,aAAa,CAACA,aAAa,CAAC;;YAEvC,IAAIu+B,QAAQ,GAAG,IAAI,CAACnxB,SAAS,CAACoxB,WAAW,CAACzgC,KAAK,CAAC;YAChD0pB,MAAM,CAACgX,aAAa,CAAC1gC,KAAK,EAAEwgC,QAAQ,CAAC;;;YAGrC,IAAI9gB,cAAc,CAAC3lB,QAAQ,EAAE,CAACimB,QAAQ,IAAIsgB,UAAU,EAAE;cAClD5W,MAAM,CAACiX,aAAa,CAACxnC,IAAI,CAAC;cAC1BumB,cAAc,CAAC3lB,QAAQ,EAAE,CAACwmB,aAAa,CAAC+f,UAAU,EAAEtgC,KAAK,CAAC;aAC7D,MACI;;cAED0f,cAAc,CAAC3lB,QAAQ,EAAE,CAACwmB,aAAa,CAAC+f,UAAU,EAAEtgC,KAAK,CAAC;;YAG9D0f,cAAc,CAAC3lB,QAAQ,EAAE,CAAC4mB,cAAc,CAAC3gB,KAAK,CAAC;WAClD,MACI;;YAED,IAAI,CAAC+7B,cAAc,EAAE;;YAErB,IAAI,CAACE,gBAAgB,EAAE;;YAEvBvc,cAAc,CAAC3lB,QAAQ,EAAE,CAACimB,QAAQ,GAAG,CAAC,CAAC;;SAE9C;QAAA1sB,MAAA,CACD4L,UAAU,GAAV,SAAAA,WAAW/F,IAAkB,EAAE;UAC3B,IAAI4vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;UACpF,IAAI0kB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACL,MAAM,CAAC;UAClD,IAAIW,MAAM,EAAE;YACZA,MAAM,CAACkX,QAAQ,EAAE;YACjBlX,MAAM,CAACwS,QAAQ,CAAC,IAAI,CAAC;YACrB,IAAIxS,MAAM,CAAC/nB,MAAM,IAAIsD,OAAO,CAAC3S,IAAI,CAAC4S,GAAG,EAAE;;cAEnC3I,WAAW,CAACM,SAAS,CAAC0yB,mBAAmB,CAACK,qBAAqB,CAAC;;;SAIvE;QAAAt8B,MAAA,CACD+L,gBAAgB,GAAhB,SAAAA,iBAAiBlG,IAAoB,EAAE;UACnC,IAAM2K,QAAQ,GAAK3K,IAAI,CAAjB2K,QAAQ;UACd,IAAIA,QAAQ,IAAI,IAAI,EAAE;UAEtB,KAAK,IAAI7K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6K,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EACxC;YACI,IAAI2hB,IAAI,GAAG9W,QAAQ,CAAC7K,CAAC,CAAC;YACtB,IAAIyF,OAAO,GAAGkc,IAAI,CAAClc,OAAO;YAC1B,IAAIoG,IAAI,GAAG8V,IAAI,CAAC9V,IAAI;YACpB,IAAIikB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAACtqB,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC/E,IAAI0kB,MAAkB,GAAG,IAAI,CAACN,YAAY,CAACL,MAAM,CAAC;YAClD,IAAIW,MAAM,IAAI,IAAI,EAAE;YACpB,IAAIzV,KAAK,CAACnP,IAAI,CAAC,EAAE;YACjB4kB,MAAM,CAACmX,QAAQ,CAAC/7B,IAAI,CAAC;;SAE5B;QAAAxR,MAAA,CACDykC,kBAAkB,GAAlB,SAAAA,mBAAmB5+B,IAAa,EAAC;UAC7B,IAAI,CAACA,IAAI,CAAC2nC,OAAO,EAAE;;YAEf,IAAI3nC,IAAI,CAACuF,OAAO,IAAIyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,EAAE;cAC7C,IAAI,CAACs1B,YAAY,CAAC,IAAI,CAAC;;YAE3B,IAAIvR,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YACpF,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAACgY,QAAQ,CAAC,IAAI,CAAC;WAC3C,MAAM,IAAI5nC,IAAI,CAAC2nC,OAAO,EAAE;YACrB,IAAI/X,MAAa,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC7vB,IAAI,CAACuF,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI,CAACokB,YAAY,CAACL,MAAM,CAAC,CAACgY,QAAQ,CAAC,KAAK,CAAC;YACzC,IAAI5nC,IAAI,CAACuF,OAAO,IAAIyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,EAAE;cAC7C,IAAI,CAACs1B,YAAY,CAAC,KAAK,CAAC;;;SAInC;QAAA,OAAA1R,QAAA;MAAA,EAv5BiCnyB,SAAS,GAAA8uB,OAAA,CAC7BmO,GAAG,WAAAnO,OAAA,IAAAhvB,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,mBAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEY,EAAE;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEP,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEA,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,qBAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEF,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEb,IAAI;;MAAA,IAAAqrB,YAAA,GAAAzrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,kBAAAmuB,KAAA;QAAA/qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,IAAAsrB,YAAA,GAAA1rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,sBAAAouB,KAAA;QAAAhrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEA,IAAI;;MAAA,IAAAurB,YAAA,GAAA3rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAquB,KAAA;QAAAjrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEV,IAAI;;MAAA,IAAAwrB,YAAA,GAAA5rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAAsuB,MAAA;QAAAlrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEJ,IAAI;;MAAA,IAAAyrB,aAAA,GAAA7rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,sBAAAuuB,MAAA;QAAAnrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEI,IAAI;;MAAA,IAAA0rB,aAAA,GAAA9rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,mBAAAyuB,MAAA;QAAArrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAER,IAAI;;MAAA,IAAAu/B,aAAA,GAAA3/B,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAA6iC,MAAA;QAAAz/B,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEP,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cAzBL,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCpCR6jC,4BAA4B;QAAA,SAAAA;UAAA,KACrCmK,MAAM,GAAa,IAAI;UAAA,KACvBC,MAAM,GAAgB,IAAI;UAAA,KAC1BC,YAAY,GAAW,CAAC,CAAC;UAAA,KACzBC,WAAW,GAAY,KAAK;;QAAA,IAAA7tC,MAAA,GAAAujC,4BAAA,CAAAtjC,SAAA;QAAAD,MAAA,CAC7B0sC,WAAW,GAAlB,SAAAA,YAAmBrX,UAAoB,EAAExvB,IAAiB,EAAE;UACxD,IAAI,CAAC6nC,MAAM,GAAGrY,UAAU;UACxB,IAAI,CAACsY,MAAM,GAAG9nC,IAAI;;;UAGlB,IAAI,CAACioC,WAAW,EAAE;;;UAGlB,IAAI,CAAC3D,YAAY,CAAC,CAAC,CAAC;UAEpB,IAAI,CAAC4D,aAAa,EAAE;SACvB;QAAA/tC,MAAA,CACa+tC,aAAa;UAAA,IAAAC,cAAA,GAAAtmB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC;YAAA,IAAAxlB,KAAA;YAAA,OAAAslB,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;cAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBAAA,MACQ,IAAI,CAACwlB,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI;oBAAA3lB,QAAA,CAAAE,IAAA;oBAAA;;kBAAA,OAAAF,QAAA,CAAAimB,MAAA;gBAAA;kBAAA,MAE1C,IAAI,CAACN,MAAM,CAACv9B,OAAO,IAAI,IAAI;oBAAA4X,QAAA,CAAAE,IAAA;oBAAA;;kBAAAF,QAAA,CAAAE,IAAA;kBAAA,OACrB,IAAI,CAACgmB,WAAW,EAAE;gBAAA;kBAAAlmB,QAAA,CAAAE,IAAA;kBAAA;gBAAA;kBAAAF,QAAA,CAAAE,IAAA;kBAAA,OAGlB,IAAI,CAACimB,UAAU,EAAE;gBAAA;kBAAA,MAGvB,IAAI,CAACT,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI;oBAAA3lB,QAAA,CAAAE,IAAA;oBAAA;;kBAAA,OAAAF,QAAA,CAAAimB,MAAA;gBAAA;kBAC9CxxB,QAAQ,CAACI,aAAa,CAAC,IAAI,CAAC;kBAC5BJ,QAAQ,CAACa,mBAAmB,CAAC,IAAI,CAACowB,MAAM,CAACU,eAAe,EAAE,UAACz5B,IAAI,EAAK;oBAChE,IAAIpB,MAAkB,GAAGoB,IAAI,CAACM,YAAY,CAACo5B,UAAU,CAAC;oBACtD96B,MAAM,CAAC+6B,cAAc,CAACjsC,KAAI,CAACsrC,MAAM,CAAC;oBAClClxB,QAAQ,CAACI,aAAa,CAAC,KAAK,CAAC;mBAChC,CAAC;;;;;;;;;;;;;;;;;;;;;;kBAsBF,IAAI,CAAC6wB,MAAM,CAAC/H,aAAa,EAAE;gBAAC;gBAAA;kBAAA,OAAA3d,QAAA,CAAAI,IAAA;;eAAAP,OAAA;WAC/B;UAAA,SAAAkmB;YAAA,OAAAC,cAAA,CAAAnrC,KAAA,OAAAN,SAAA;;UAAA,OAAAwrC,aAAA;;QAAA/tC,MAAA,CACM+kC,OAAO,GAAd,SAAAA,UAAiB;;;SAGhB;QAAA/kC,MAAA,CACO8tC,WAAW,GAAnB,SAAAA,cAAsB;UAClB,IAAI,IAAI,CAACJ,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;UAChD,IAAI,CAACE,WAAW,GAAG,KAAK;UACxB,IAAI,CAACD,YAAY,GAAG,CAAC,CAAC;UAEtB,KAAK,IAAIjoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACgoC,MAAM,CAACn9B,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAC9C,IAAI4oC,WAA2B,GAAG,IAAI,CAACZ,MAAM,CAACn9B,QAAQ,CAAC7K,CAAC,CAAC;YACzD,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,EAAE;YAEpB,IAAImY,WAAW,CAACv9B,QAAQ,EAAE;cAClB,IAAI,CAAC48B,YAAY,GAAGnY,MAAM;cAC1B,IAAIW,MAAM,CAAC/nB,MAAM,IAAIQ,YAAY,CAAC7P,IAAI,CAACwvC,QAAQ,EAC/C;gBACQ,IAAI,CAACX,WAAW,GAAG,IAAI;;cAE/B;;;SAGnB;QAAA7tC,MAAA,CACOyuC,WAAW,GAAnB,SAAAA,cAAsB;UAClBlhC,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;UAChE,IAAI,IAAI,CAACkgC,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;UAChD,IAAMn9B,QAAQ,GAAI,IAAI,CAACm9B,MAAM,CAAvBn9B,QAAQ;UAEd,KAAK,IAAI7K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6K,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACtC,IAAI4oC,WAA2B,GAAG/9B,QAAQ,CAAC7K,CAAC,CAAC;YAC7C,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,EAAE;YAEpBA,MAAM,CAACsY,kBAAkB,CAACH,WAAW,CAAC;;;;;;QAGlDvuC,MAAA,CACY2uC,YAAY,GAApB,SAAAA,eAAuB;UACnBphC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;UAC1D,IAAI,IAAI,CAACkgC,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;UAChD,IAAAiB,YAAA,GAA2B,IAAI,CAACjB,MAAM;YAAhCv9B,OAAO,GAAAw+B,YAAA,CAAPx+B,OAAO;YAAEI,QAAQ,GAAAo+B,YAAA,CAARp+B,QAAQ;UAEvB,KAAK,IAAI7K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6K,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACtC,IAAI4oC,WAA2B,GAAG/9B,QAAQ,CAAC7K,CAAC,CAAC;YAC7C,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,EAAE;YAEpB,IAAIX,MAAM,IAAI,IAAI,CAACmY,YAAY,EAAE;cAC7B,IAAIx9B,OAAO,IAAI,IAAI,EAAE;gBACjBgmB,MAAM,CAACyY,WAAW,EAAE;gBACpBzY,MAAM,CAAC6W,UAAU,CAAC78B,OAAO,CAAC1D,KAAK,CAAC;eACnC,MACI;gBACD0pB,MAAM,CAAC0Y,OAAO,EAAE;gBAChB,IAAIP,WAAW,CAACn/B,QAAQ,IAAI,IAAI,IAAIm/B,WAAW,CAACn/B,QAAQ,CAAC5M,MAAM,IAAI,CAAC,EAAE;kBAClE4zB,MAAM,CAAC6W,UAAU,CAACsB,WAAW,CAACn/B,QAAQ,CAAC;;gBAE3CgnB,MAAM,CAAC2Y,YAAY,EAAE;;aAE5B,MACI;cACD,IAAIR,WAAW,CAACn/B,QAAQ,IAAI,IAAI,IAAIm/B,WAAW,CAACn/B,QAAQ,CAAC5M,MAAM,IAAI,CAAC,EAAE;gBAClE4zB,MAAM,CAAC6W,UAAU,CAACsB,WAAW,CAACn/B,QAAQ,EAAE,IAAI,CAAC;;cAEjDgnB,MAAM,CAAC2Y,YAAY,EAAE;;;;;;;QAIrC/uC,MAAA,CACYgvC,aAAa,GAArB,SAAAA,gBAAwB;UACpBzhC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;UAC3D,IAAI,IAAI,CAACkgC,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;UAChD,KAAK,IAAIhoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACgoC,MAAM,CAACn9B,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAClD,IAAI4oC,WAA2B,GAAG,IAAI,CAACZ,MAAM,CAACn9B,QAAQ,CAAC7K,CAAC,CAAC;YACzD,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,EAAE;YAEpBA,MAAM,CAAC2Y,YAAY,EAAE;YACrB3Y,MAAM,CAACsS,WAAW,EAAE;YACpBtS,MAAM,CAACmV,YAAY,CAAC,CAAC,EAAE,KAAK,CAAC;;SAEpC;QAAAvrC,MAAA,CACOivC,oBAAoB,GAA5B,SAAAA,uBAA+B;UAC3B1hC,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;UAClE,IAAI,IAAI,CAACkgC,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;UAChD,KAAK,IAAIhoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+nC,MAAM,CAAC5X,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACtD,IAAIywB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACnwB,CAAC,CAAC;YACpD,IAAIywB,MAAM,IAAI,IAAI,EAAE;cAChBA,MAAM,CAACyV,KAAK,EAAE;;;;;;;QAI9B7rC,MAAA,CACkBkvC,cAAc;QAAA;UAAA,IAAAC,eAAA,GAAAznB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA5B,SAAAwnB,SAA6BC,QAAkB;YAAA,OAAA1nB,mBAAA,GAAAG,IAAA,UAAAwnB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAtnB,IAAA,GAAAsnB,SAAA,CAAArnB,IAAA;gBAAA;kBAC3C3a,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;kBAAC,MACzD,IAAI,CAACkgC,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI;oBAAA4B,SAAA,CAAArnB,IAAA;oBAAA;;kBAAA,OAAAqnB,SAAA,CAAAtB,MAAA;gBAAA;;kBAE9C,IAAI,CAACP,MAAM,CAAC3H,mBAAmB,CAAC,IAAI,CAAC4H,MAAM,CAAC;kBAC5C,IAAI,CAAC6B,SAAS,EAAE;kBAChB,IAAI,CAACf,WAAW,EAAE;kBAClB,IAAI,CAACgB,iBAAiB,EAAE;kBAACF,SAAA,CAAArnB,IAAA;kBAAA,OACnBmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;gBAAA;kBAAA,OAAA6B,SAAA,CAAAnnB,IAAA;;eAAAgnB,QAAA;WACtC;UAAA,SAAAF,eAAAS,EAAA;YAAA,OAAAR,eAAA,CAAAtsC,KAAA,OAAAN,SAAA;;UAAA,OAAA2sC,cAAA;;QAAAlvC,MAAA,CACOwvC,SAAS,GAAjB,SAAAA,YAAoB;UAChB,IAAI,IAAI,CAAC9B,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI,EAAE;;UAEhD,IAAI,IAAI,CAACC,YAAY,IAAI,CAAC,CAAC,EAAE;YACzB,KAAK,IAAIjoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+nC,MAAM,CAAC5X,YAAY,CAACtzB,MAAM,EAAEmD,CAAC,EAAE,EAAE;cAC1D,IAAIywB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACnwB,CAAC,CAAC;cACpD,IAAIywB,MAAM,IAAI,IAAI,EAAE;cACpB,IAAIzwB,CAAC,IAAI,IAAI,CAACioC,YAAY,EAAE;gBACxBxX,MAAM,CAAC2T,WAAW,CAAC,IAAI,CAAC6D,YAAY,CAAC;;;;UAK7C,IAAI5D,QAAgB,GAAG,gBAAgB,CAAC;UACxChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;SAC/C;QAAAhqC,MAAA,CACa4vC,eAAe;UAAA,IAAAC,gBAAA,GAAAnoB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAAkoB,SAA8BT,QAAkB;YAAA,OAAA1nB,mBAAA,GAAAG,IAAA,UAAAioB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAA/nB,IAAA,GAAA+nB,SAAA,CAAA9nB,IAAA;gBAAA;gBAAA;kBAAA,OAAA8nB,SAAA,CAAA5nB,IAAA;;eAAA0nB,QAAA;WAe/C;UAAA,SAAAF,gBAAAK,GAAA;YAAA,OAAAJ,gBAAA,CAAAhtC,KAAA,OAAAN,SAAA;;UAAA,OAAAqtC,eAAA;;QAAA5vC,MAAA,CACOyvC,iBAAiB,GAAzB,SAAAA,oBAA4B;UACxBliC,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;UAC/D,KAAK,IAAI7H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACgoC,MAAM,CAACn9B,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAClD,IAAI4oC,WAA2B,GAAG,IAAI,CAACZ,MAAM,CAACn9B,QAAQ,CAAC7K,CAAC,CAAC;YACzD,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,IAAI,CAACA,MAAM,CAACuM,OAAO,EAAE;YAEvCvM,MAAM,CAACqZ,iBAAiB,CAAClB,WAAW,CAAC;;SAE5C;QAAAvuC,MAAA,CACOmqC,YAAY,GAApB,SAAAA,aAAqB3I,KAAY,EAAE;UAC/B,KAAK,IAAI77B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACgoC,MAAM,CAACn9B,QAAQ,CAAChO,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAClD,IAAI4oC,WAA2B,GAAG,IAAI,CAACZ,MAAM,CAACn9B,QAAQ,CAAC7K,CAAC,CAAC;YACzD,IAAI8vB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC6Y,WAAW,CAACnjC,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YAC3F,IAAI0kB,MAAkB,GAAG,IAAI,CAACsX,MAAM,CAAC5X,YAAY,CAACL,MAAM,CAAC;YACzD,IAAIW,MAAM,IAAI,IAAI,IAAI,CAACA,MAAM,CAACuM,OAAO,EAAE;YACvCvM,MAAM,CAAC6T,OAAO,CAACE,YAAY,CAAC3I,KAAK,CAAC;;SAEzC;QAAAxhC,MAAA,CAEakwC,kBAAkB;UAAA,IAAAC,mBAAA,GAAAzoB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAAwoB;YAAA,OAAAzoB,mBAAA,GAAAG,IAAA,UAAAuoB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAroB,IAAA,GAAAqoB,SAAA,CAAApoB,IAAA;gBAAA;gBAAA;kBAAA,OAAAooB,SAAA,CAAAloB,IAAA;;eAAAgoB,QAAA;WA4BC;UAAA,SAAAF;YAAA,OAAAC,mBAAA,CAAAttC,KAAA,OAAAN,SAAA;;UAAA,OAAA2tC,kBAAA;;QAAAlwC,MAAA,CACakuC,WAAW;UAAA,IAAAqC,YAAA,GAAA7oB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAA4oB;YAAA,IAAAnB,QAAA;YAAA,OAAA1nB,mBAAA,GAAAG,IAAA,UAAA2oB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAzoB,IAAA,GAAAyoB,SAAA,CAAAxoB,IAAA;gBAAA;kBAAA,MACQ,IAAI,CAACwlB,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI;oBAAA+C,SAAA,CAAAxoB,IAAA;oBAAA;;kBAAA,OAAAwoB,SAAA,CAAAzC,MAAA;gBAAA;kBAC1CoB,QAAkB,GAAG,IAAIsB,QAAQ,EAAE;kBAAAD,SAAA,CAAAxoB,IAAA;kBAAA,OAEjCmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACiB,YAAY,EAAE;kBAAC+B,SAAA,CAAAxoB,IAAA;kBAAA,OACdmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACwB,cAAc,CAACG,QAAQ,CAAC;kBAC7BpmC,WAAW,CAACM,SAAS,CAAC0yB,mBAAmB,CAACI,YAAY,EAAE,IAAI,CAACwR,WAAW,CAAC;kBAAC6C,SAAA,CAAAxoB,IAAA;kBAAA,OAEpEmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACsB,aAAa,EAAE;;kBACrB0B,SAAA,CAAAxoB,IAAA;kBAAA,OACO,IAAI,CAAC0nB,eAAe,CAACP,QAAQ,CAAC;gBAAA;kBACpC,IAAI,CAAClF,YAAY,CAAC,CAAC,CAAC;gBAAC;gBAAA;kBAAA,OAAAuG,SAAA,CAAAtoB,IAAA;;eAAAooB,QAAA;WACxB;UAAA,SAAAtC;YAAA,OAAAqC,YAAA,CAAA1tC,KAAA,OAAAN,SAAA;;UAAA,OAAA2rC,WAAA;;QAAAluC,MAAA,CACa4wC,UAAU;UAAA,IAAAC,WAAA,GAAAnpB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAxB,SAAAkpB;YAAA,OAAAnpB,mBAAA,GAAAG,IAAA,UAAAipB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAA/oB,IAAA,GAAA+oB,SAAA,CAAA9oB,IAAA;gBAAA;gBAAA;kBAAA,OAAA8oB,SAAA,CAAA5oB,IAAA;;eAAA0oB,QAAA;WAwBC;UAAA,SAAAF;YAAA,OAAAC,WAAA,CAAAhuC,KAAA,OAAAN,SAAA;;UAAA,OAAAquC,UAAA;;QAAA5wC,MAAA,CACamuC,UAAU;UAAA,IAAA8C,WAAA,GAAAvpB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAxB,SAAAspB;YAAA,IAAA7B,QAAA;YAAA,OAAA1nB,mBAAA,GAAAG,IAAA,UAAAqpB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAnpB,IAAA,GAAAmpB,SAAA,CAAAlpB,IAAA;gBAAA;kBAAA,MACQ,IAAI,CAACwlB,MAAM,IAAI,IAAI,IAAI,IAAI,CAACC,MAAM,IAAI,IAAI;oBAAAyD,SAAA,CAAAlpB,IAAA;oBAAA;;kBAAA,OAAAkpB,SAAA,CAAAnD,MAAA;gBAAA;kBAC1CoB,QAAkB,GAAG,IAAIsB,QAAQ,EAAE;kBAAAS,SAAA,CAAAlpB,IAAA;kBAAA,OAEjCmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACiB,YAAY,EAAE;kBAACyC,SAAA,CAAAlpB,IAAA;kBAAA,OACdmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACwB,cAAc,CAACG,QAAQ,CAAC;kBAAC+B,SAAA,CAAAlpB,IAAA;kBAAA,OAExBmnB,QAAQ,CAACK,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE,CAAC,CAAC;gBAAA;;kBAEnC,IAAI,CAACsB,aAAa,EAAE;;kBACrBoC,SAAA,CAAAlpB,IAAA;kBAAA,OACO,IAAI,CAAC0nB,eAAe,CAACP,QAAQ,CAAC;gBAAA;kBACpC,IAAI,CAAClF,YAAY,CAAC,CAAC,CAAC;gBAAC;gBAAA;kBAAA,OAAAiH,SAAA,CAAAhpB,IAAA;;eAAA8oB,QAAA;WACxB;UAAA,SAAA/C;YAAA,OAAA8C,WAAA,CAAApuC,KAAA,OAAAN,SAAA;;UAAA,OAAA4rC,UAAA;;QAAA,OAAA5K,4BAAA;MAAA;cApT4C,CAAA9jC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;UCF5BujC,YAAY;QAAA,SAAAA;QAAA,IAAAjjC,MAAA,GAAAijC,YAAA,CAAAhjC,SAAA;;;;;;QAE7BD,MAAA,CAKAqxC,WAAW,GAAX,SAAAA,YAAYC,IAAa,EAAEz/B,WAAkB,EAC7C;UACI,IAAKA,WAAW,GAAG,EAAE,IAAKy/B,IAAI,CAAC9uC,MAAM,EAAE;YACnC,OAAO,IAAI;;UAGf,IAAI+uC,WAAW,GAAGD,IAAI,CAACzhC,OAAO,CAAC,IAAI,CAAC;UACpC,IAAI0hC,WAAW,IAAK1/B,WAAW,GAAG,EAAE,GAAG,CAAE,EAAE;;YAEvC,IAAI2/B,WAAW,GAAG/+B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACyB,MAAM,EAAE,GAAGrC,WAAW,GAAG,EAAE,CAAC;YAC9Dy/B,IAAI,CAACC,WAAW,CAAC,GAAGD,IAAI,CAACE,WAAW,CAAC;YACrCF,IAAI,CAACE,WAAW,CAAC,GAAG,IAAI;;UAG5B,OAAO,IAAI;;;;;;;;QAGfxxC,MAAA,CAKAotB,WAAW,GAAX,SAAAA,YAAYE,IAAY,EAAE;UACtB,OAAQA,IAAI,GAAG,IAAI;SACtB;;;;;;QAEDttB,MAAA,CAKAyxC,WAAW,GAAX,SAAAA,YAAYnkB,IAAY,EAAE;UACtB,OAAO,CAACA,IAAI,GAAG,IAAI,KAAK,CAAC;SAC5B;;;;;;QAEDttB,MAAA,CAKA0xC,aAAa,GAAb,SAAAA,cAAcpkB,IAAY,EAAE;UACxB,IAAIqkB,IAAI,GAAG,IAAI,CAACvkB,WAAW,CAACE,IAAI,CAAC;UACjC,IAAIqkB,IAAI,GAAG,CAAC,EAAE,OAAOA,IAAI,GAAG,CAAC;UAC7B,OAAOA,IAAI,GAAG,EAAE;SACnB;;;;;;QAED3xC,MAAA,CAKC2vB,YAAY,GAAZ,SAAAA,aAAarC,IAAY,EAAE;UACxB,OAAO,IAAI,CAACmkB,WAAW,CAACnkB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;SAC5C;;;;;;QAEDttB,MAAA,CAKA4xC,SAAS,GAAT,SAAAA,UAAU3wB,KAAa,EAAEjd,KAAU,EAAM;UAAA,IAAhBA,KAAU;YAAVA,KAAU,GAAG,CAAC;;UACnCA,KAAK,GAAGA,KAAK,IAAI,CAAC;UAClB,IAAIiC,GAAG,GAAG,EAAE;UACZ,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsb,KAAK,EAAEtb,CAAC,EAAE,EAAE;YAC5BM,GAAG,CAACE,IAAI,CAACnC,KAAK,CAAC;;UAEnB,OAAOiC,GAAG;SACb;;;;;;QAEDjG,MAAA,CAKA6xC,YAAY,GAAZ,SAAAA,aAAavkB,IAAY,EAAE;UACvB,OAAQ,IAAI,CAACokB,aAAa,CAACpkB,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAACmkB,WAAW,CAACnkB,IAAI,CAAC;SAChE;;;;;QAEDttB,MAAA,CAIAsK,IAAI,GAAJ,SAAAA,KAAKwnC,QAAkB,EAAE;UAAA,IAAAzvC,KAAA;UACrByvC,QAAQ,CAACxnC,IAAI,CAAC,UAACgN,CAAC,EAAEc,CAAC,EAAK;YACpB,OAAO/V,KAAI,CAACwvC,YAAY,CAACv6B,CAAC,CAAC,GAAGjV,KAAI,CAACwvC,YAAY,CAACz5B,CAAC,CAAC;WACrD,CAAC;UACF,OAAO05B,QAAQ;SAClB;;;;;QAED9xC,MAAA,CAIA+nC,cAAc,GAAd,SAAAA,eAAe+J,QAAkB,EAAE;UAC/B,IAAIC,cAAwB,GAAG,EAAE,CAAC;UAClC,IAAIC,YAAsB,MAAAlvC,MAAA,CAAOgvC,QAAQ,CAAC;UAE1C,KAAK,IAAInsC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmsC,QAAQ,CAACtvC,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACtC,IAAI6T,GAAG,GAAG,IAAI,CAACy4B,eAAe,CAACD,YAAY,CAAC;YAC5C,IAAIE,WAAW,GAAG,EAAE;YACpB,IAAI14B,GAAG,CAAC24B,KAAK,CAAC3vC,MAAM,GAAG,CAAC,EAAE;cACtB,IAAIgX,GAAG,CAAC44B,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;;gBAErB,IAAI6vC,SAAS,GAAG,KAAK;gBACrB,SAAAC,SAAA,GAAAC,+BAAA,CAAiB/4B,GAAG,CAAC24B,KAAK,GAAAK,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;kBAAA,IAAnB9pC,IAAI,GAAA6pC,KAAA,CAAAxuC,KAAA;kBACT,IAAI2E,IAAI,CAAC+D,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;oBACxB0vC,WAAW,GAAGvpC,IAAI,CAAC+D,KAAK;oBACxB2lC,SAAS,GAAG,IAAI;oBAChB;;;gBAIR,IAAI,CAACA,SAAS,EAAE;kBACZH,WAAW,GAAG14B,GAAG,CAAC44B,IAAI,CAAC,CAAC,CAAC,CAAC1lC,KAAK;;eAEtC,MAAM;gBACHwlC,WAAW,GAAG14B,GAAG,CAAC24B,KAAK,CAAC,CAAC,CAAC,CAACzlC,KAAK;;aAEvC,MAAM,IAAI8M,GAAG,CAAC44B,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;cAC5B0vC,WAAW,GAAG14B,GAAG,CAAC44B,IAAI,CAAC,CAAC,CAAC,CAAC1lC,KAAK;aAClC,MAAM,IAAI8M,GAAG,CAACk5B,QAAQ,CAAClwC,MAAM,GAAG,CAAC,EAAE;cAChC0vC,WAAW,GAAG14B,GAAG,CAACk5B,QAAQ,CAAC,CAAC,CAAC,CAAChmC,KAAK;aACtC,MAAM,IAAI8M,GAAG,CAACm5B,KAAK,CAACnwC,MAAM,GAAG,CAAC,EAAE;cAC7B0vC,WAAW,GAAG14B,GAAG,CAACm5B,KAAK,CAAC,CAAC,CAAC,CAACjmC,KAAK;aACnC,MAAM,IAAI8M,GAAG,CAACo5B,IAAI,CAACpwC,MAAM,GAAG,CAAC,EAAE;cAC5B0vC,WAAW,GAAG14B,GAAG,CAACo5B,IAAI,CAAC,CAAC,CAAC,CAAClmC,KAAK;aAClC,MAAM,IAAI8M,GAAG,CAACq5B,MAAM,CAACrwC,MAAM,GAAG,CAAC,EAAC;cAC7B0vC,WAAW,GAAG14B,GAAG,CAACq5B,MAAM,CAAC,CAAC,CAAC,CAACnmC,KAAK;aACpC,MAAM;cACHa,OAAO,CAAC9H,KAAK,CAAC,mBAAmB,CAAC;;;;;YAKtCssC,cAAc,CAAC5rC,IAAI,CAAAtD,KAAA,CAAnBkvC,cAAc,EAASG,WAAW,CAAC;;YAEnC,IAAIY,OAAO,GAAG,IAAI,CAACC,SAAS,CAACf,YAAY,EAAEE,WAAW,CAAC;YACvD,IAAIY,OAAO,CAACE,SAAS,CAACxwC,MAAM,IAAI,CAAC,EAAE;cAC/B;;YAGJwvC,YAAY,GAAGc,OAAO,CAACE,SAAS;;UAGpC,KAAK,IAAIrtC,EAAC,IAAImsC,QAAQ,EAAE;YACpBA,QAAQ,CAACnsC,EAAC,CAAC,GAAGosC,cAAc,CAACpsC,EAAC,CAAC;;UAEnC,OAAOosC,cAAc;SACxB;QAAA/xC,MAAA,CAEDizC,WAAW,GAAX,SAAAA,YAAYC,KAAa,EAAEC,KAAa,EACxC;UACI,OAAO,IAAI,CAACtB,YAAY,CAACqB,KAAK,CAAC,GAAG,IAAI,CAACrB,YAAY,CAACsB,KAAK,CAAC;;;;;;;;QAG9DnzC,MAAA,CAKAozC,SAAS,GAAT,SAAAA,UAAUF,KAAa,EAAEC,KAAa,EACtC;UACI,IAAI,IAAI,CAAC/lB,WAAW,CAAC8lB,KAAK,CAAC,IAAI,IAAI,CAAC9lB,WAAW,CAAC+lB,KAAK,CAAC,EAAE;YACpD,OAAO,IAAI;;UAGf,OAAO,KAAK;;;;;;;;QAGhBnzC,MAAA,CAKAqzC,eAAe,GAAf,SAAAA,gBAAgBH,KAAa,EAAEC,KAAa,EAAE;UAC1C,IAAIG,KAAK,GAAG,IAAI,CAAClmB,WAAW,CAAC8lB,KAAK,CAAC;UACnC,IAAIK,KAAK,GAAG,IAAI,CAACnmB,WAAW,CAAC+lB,KAAK,CAAC;UACnC,IAAIG,KAAK,GAAG,CAAC,IAAIC,KAAK,IAAKD,KAAK,IAAI/rC,SAAS,CAACwyB,IAAI,IAAIwZ,KAAK,IAAIhsC,SAAS,CAAC8xB,GAAI,EAAE;YAC3E,OAAO,IAAI;;UAGf,OAAO,KAAK;;;;;;;;;QAGhBr5B,MAAA,CAMAwzC,UAAU,GAAV,SAAAA,WAAWN,KAAa,EAAEC,KAAa,EAAEM,KAAa,EAAE;UACpD,IAAI,IAAI,CAACL,SAAS,CAACF,KAAK,EAAEC,KAAK,CAAC,IAAI,IAAI,CAACC,SAAS,CAACD,KAAK,EAAEM,KAAK,CAAC,EAAE;YAC9D,OAAO,IAAI;;UAGf,OAAO,KAAK;;;;;;;;;;QAGhBzzC,MAAA,CAOC0zC,SAAS,GAAT,SAAAA,UAAUR,KAAa,EAAEC,KAAa,EAAEM,KAAa,EAAEE,KAAa,EAAE;UACnE,IAAI,IAAI,CAACP,SAAS,CAACF,KAAK,EAAEC,KAAK,CAAC,IAAI,IAAI,CAACC,SAAS,CAACD,KAAK,EAAEM,KAAK,CAAC,IAAI,IAAI,CAACL,SAAS,CAACK,KAAK,EAAEE,KAAK,CAAC,EAAE;YAC9F,OAAO,IAAI;;UAGf,OAAO,KAAK;;;;;;;;QAGhB3zC,MAAA,CAKAmtC,WAAW,GAAX,SAAAA,YAAYzgC,KAAe,EAAE;UACzB,IAAI,CAACpC,IAAI,CAACoC,KAAK,CAAC;UAEhB,IAAI0H,CAAC,GAAG1H,KAAK,CAAClK,MAAM;UAEpB,IAAI4R,CAAC,IAAI,CAAC,EAAE;YACR,OAAOykB,SAAS,CAACE,MAAM;;UAG3B,IAAI3kB,CAAC,IAAI,CAAC,EAAE;YACR,IAAI,IAAI,CAACo/B,UAAU,CAAC9mC,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;cAC/C,OAAOmsB,SAAS,CAACI,KAAK;;;UAI9B,IAAI7kB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACZ,IAAIA,CAAC,IAAI,CAAC,EAAE;cACR,IAAI,IAAI,CAACg/B,SAAS,CAAC1mC,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACpC,OAAOmsB,SAAS,CAACG,IAAI;eACxB,MAAM;gBACH,OAAOH,SAAS,CAACC,IAAI;;;YAI7B,IAAI1kB,CAAC,IAAI,CAAC,EAAE;cACR,IAAI,IAAI,CAACs/B,SAAS,CAAChnC,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACxD,OAAOmsB,SAAS,CAACO,IAAI;;;YAI7B,IAAIhlB,CAAC,IAAI,CAAC,EAAE;cACR,IAAI,IAAI,CAACw/B,UAAU,CAAClnC,KAAK,CAAC,EAAE;gBACxB,OAAOmsB,SAAS,CAACM,KAAK;;;;UAKlC,IAAI,IAAI,CAAC0a,aAAa,CAACnnC,KAAK,CAAC,EAAE;YAC3B,OAAOmsB,SAAS,CAACK,QAAQ;;UAG7B,OAAOL,SAAS,CAACC,IAAI;SACxB;;;;;;QAED94B,MAAA,CAKA4zC,UAAU,GAAV,SAAAA,WAAWlnC,KAAe,EAC1B;UACI,IAAIA,KAAK,CAAClK,MAAM,GAAG,CAAC,IAAIkK,KAAK,CAAClK,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;YAC3C,OAAO,KAAK;;;;UAIhB,IAAI,IAAI,CAAC4qB,WAAW,CAAC1gB,KAAK,CAACA,KAAK,CAAClK,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI+E,SAAS,CAAC+xB,GAAG,EAAE;YAC5D,OAAO,KAAK;;UAGhB,KAAK,IAAI3zB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+G,KAAK,CAAClK,MAAM,GAAG,CAAC,EAAEmD,CAAC,IAAI,CAAC,EAAE;;YAE1C,IAAI,CAAC,IAAI,CAACytC,SAAS,CAAC1mC,KAAK,CAAC/G,CAAC,CAAC,EAAE+G,KAAK,CAAC/G,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC0tC,eAAe,CAAC3mC,KAAK,CAAC/G,CAAC,CAAC,EAAE+G,KAAK,CAAC/G,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;cAC1F,OAAO,KAAK;;;;;UAKpB,IAAI,CAAC,IAAI,CAACytC,SAAS,CAAC1mC,KAAK,CAACA,KAAK,CAAClK,MAAM,GAAG,CAAC,CAAC,EAAEkK,KAAK,CAACA,KAAK,CAAClK,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;YACnE,OAAO,KAAK;;UAGhB,OAAO,IAAI;;;;;;;;QAGfxC,MAAA,CAKA6zC,aAAa,GAAb,SAAAA,cAAcnnC,KAAe,EAC7B;;UAEI,IAAIA,KAAK,CAAClK,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC4qB,WAAW,CAAC1gB,KAAK,CAACA,KAAK,CAAClK,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI+E,SAAS,CAAC+xB,GAAG,EAAE;YAChF,OAAO,KAAK;;UAGhB,KAAK,IAAI3zB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+G,KAAK,CAAClK,MAAM,GAAG,CAAC,EAAEmD,CAAC,EAAE,EAAE;YACvC,IAAI,CAAC,IAAI,CAAC0tC,eAAe,CAAC3mC,KAAK,CAAC/G,CAAC,CAAC,EAAE+G,KAAK,CAAC/G,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;cAC/C,OAAO,KAAK;;;UAIpB,OAAO,IAAI;;;;;;;;;QAGf3F,MAAA,CAMA8qC,kBAAkB,GAAlB,SAAAA,mBAAmBiI,SAAmB,EAAEe,YAAiB,EACzD;UACI,IAAI,CAACxpC,IAAI,CAACyoC,SAAS,CAAC;UACpB,IAAI,CAACzoC,IAAI,CAACwpC,YAAY,CAACpnC,KAAK,CAAC;;;UAG7B,IAAI,IAAI,CAAC0gB,WAAW,CAAC0mB,YAAY,CAACpnC,KAAK,CAAConC,YAAY,CAACpnC,KAAK,CAAClK,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI+E,SAAS,CAAC+xB,GAAG,EAAE;;YAEtF,IAAIwa,YAAY,CAACpnC,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;cAChC,IAAIuwC,SAAS,CAACvwC,MAAM,IAAI,CAAC,EAAE;gBACvB,IAAIgX,GAAG,GAAG,IAAI,CAACk6B,SAAS,CAACX,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC;gBAChF,IAAIv5B,GAAG,EAAE;kBACL,OAAOqf,SAAS,CAACO,IAAI;;eAE5B,MAAM,IAAI2Z,SAAS,CAACvwC,MAAM,IAAK,CAAC,GAAG,CAAC,GAAGsxC,YAAY,CAACpnC,KAAK,CAAClK,MAAO,EAAE;gBAChE,IAAIgX,GAAG,GAAG,IAAI,CAACo6B,UAAU,CAACb,SAAS,CAAC;gBACpC,IAAIv5B,GAAG,EAAE;kBACL,OAAOqf,SAAS,CAACM,KAAK;;;;;UAKtC,IAAI+T,QAAe,GAAG,IAAI,CAACC,WAAW,CAAC2G,YAAY,CAACpnC,KAAK,CAAC;;UAE1D,IAAIwgC,QAAQ,IAAIrU,SAAS,CAACM,KAAK,EAAE;YAC7B,IAAI4Z,SAAS,CAACvwC,MAAM,IAAI,CAAC,EAAE;cACvB,IAAIgX,GAAG,GAAG,IAAI,CAACk6B,SAAS,CAACX,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC;cAChF,IAAIv5B,GAAG,EAAE;gBACL,OAAOqf,SAAS,CAACO,IAAI;eACxB,MAAM;gBACH,OAAOP,SAAS,CAACC,IAAI;;;;;;UAMjC,IAAIoU,QAAQ,IAAIrU,SAAS,CAACO,IAAI,EAAE;YAC5B,IAAI2Z,SAAS,CAACvwC,MAAM,IAAI,CAAC,EAAE;cACvB,IAAIgX,GAAG,GAAG,IAAI,CAACo6B,UAAU,CAACb,SAAS,CAAC;cACpC,IAAIv5B,GAAG,EAAE;gBACL,OAAOqf,SAAS,CAACM,KAAK;eACzB,MAAM;gBACH,OAAON,SAAS,CAACC,IAAI;;;;UAKjC,IAAIib,EAAE,GAAGD,YAAY,CAACpnC,KAAK,CAAClK,MAAM;UAClC,IAAIsxC,YAAY,CAACpnC,KAAK,CAAClK,MAAM,IAAIuwC,SAAS,CAACvwC,MAAM,EAAE;YAC/C,IAAIuxC,EAAE,IAAI,CAAC,EAAE;cACT,IAAIv6B,GAAG,GAAG,IAAI,CAACy5B,WAAW,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEe,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC;cAC/D,IAAI8M,GAAG,EAAE;gBACL,OAAOqf,SAAS,CAACE,MAAM;;aAE9B,MAAM,IAAIgb,EAAE,IAAI,CAAC,EAAE;cAChB,IAAI7G,QAAQ,IAAIrU,SAAS,CAACI,KAAK,EAAE;gBAC7B,IAAI,IAAI,CAACua,UAAU,CAACT,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;kBAC3D,IAAIv5B,GAAG,GAAG,IAAI,CAACy5B,WAAW,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEe,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC;kBAC/D,IAAI8M,GAAG,EAAE;oBACL,OAAOqf,SAAS,CAACI,KAAK;;;;aAIrC,MAAM,IAAI8a,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE;cACpB,IAAIA,EAAE,IAAI,CAAC,EAAE;gBACT,IAAI7G,QAAQ,IAAIrU,SAAS,CAACG,IAAI,EAAE;kBAC5B,IAAI,IAAI,CAACoa,SAAS,CAACL,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC5C,IAAIv5B,GAAG,GAAG,IAAI,CAACy5B,WAAW,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEe,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAI8M,GAAG,EAAE;sBACL,OAAOqf,SAAS,CAACG,IAAI;;;;eAIpC,MAAM,IAAI+a,EAAE,IAAI,CAAC,EAAE;gBAChB,IAAI7G,QAAQ,IAAIrU,SAAS,CAACO,IAAI,EAAE;kBAC5B,IAAI,IAAI,CAACsa,SAAS,CAACX,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;oBACxE,IAAIv5B,GAAG,GAAG,IAAI,CAACy5B,WAAW,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEe,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAI8M,GAAG,EAAE;sBACL,OAAOqf,SAAS,CAACO,IAAI;;;;;;YAOzC,IAAI2a,EAAE,GAAG,CAAC,IAAI7G,QAAQ,IAAIrU,SAAS,CAACK,QAAQ,EAAE;cAC1C,IAAI6Z,SAAS,CAACvwC,MAAM,IAAIuxC,EAAE,IAAI,IAAI,CAACF,aAAa,CAACd,SAAS,CAAC,EAAE;gBACzD,IAAIv5B,GAAG,GAAG,IAAI,CAACy5B,WAAW,CAACF,SAAS,CAACgB,EAAE,GAAG,CAAC,CAAC,EAAED,YAAY,CAACpnC,KAAK,CAACqnC,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,IAAIv6B,GAAG,EAAE;kBACL,OAAOqf,SAAS,CAACK,QAAQ;;;;;UAMzC,IAAI6a,EAAE,IAAI,CAAC,EAAE;YACT,IAAI7G,QAAQ,IAAIrU,SAAS,CAACM,KAAK,EAAE;cAC7B,IAAI,IAAI,CAACya,UAAU,CAACb,SAAS,CAAC,EAAE;gBAC5B,IAAIA,SAAS,CAACvwC,MAAM,GAAGuxC,EAAE,IACjBhB,SAAS,CAACvwC,MAAM,IAAIsxC,YAAY,CAACpnC,KAAK,CAAClK,MAAM,IAAI,IAAI,CAACywC,WAAW,CAACF,SAAS,CAACgB,EAAE,GAAG,CAAC,CAAC,EAAED,YAAY,CAACpnC,KAAK,CAACqnC,EAAE,GAAG,CAAC,CAAC,CAAE,EAAE;kBACvH,OAAOlb,SAAS,CAACM,KAAK;;;;;UAMtC,OAAON,SAAS,CAACC,IAAI;;;;;;;;;QAGzB94B,MAAA,CAMAg0C,cAAc,GAAd,SAAAA,eAAeC,SAAmB,EAAElB,SAAmB,EACvD;UACI,SAAAmB,UAAA,GAAA3B,+BAAA,CAAiBQ,SAAS,GAAAoB,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAzB,IAAA,GAAE;YAAA,IAAnBnlB,IAAI,GAAA6mB,MAAA,CAAAnwC,KAAA;YACT,IAAIiwC,SAAS,CAACpkC,OAAO,CAACyd,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;cAC/B,OAAO,KAAK;;;UAIpB,OAAO,IAAI;;;;;;;;QAGfttB,MAAA,CAKA+yC,SAAS,GAAT,SAAAA,UAAUkB,SAAmB,EAAElB,UAAmB,EAClD;UACI,IAAIqB,SAAmB,MAAAtxC,MAAA,CAAOmxC,SAAS,CAAC;UACxC,SAAAI,UAAA,GAAA9B,+BAAA,CAAiBQ,UAAS,GAAAuB,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA5B,IAAA,GAAE;YAAA,IAAnBnlB,IAAI,GAAAgnB,MAAA,CAAAtwC,KAAA;YACT,IAAI4L,KAAK,GAAGwkC,SAAS,CAACvkC,OAAO,CAACyd,IAAI,CAAC;YACnC,IAAI1d,KAAK,IAAI,CAAC,CAAC,EAAE;cACb,OAAO;gBAAC2D,MAAM,EAAE,KAAK;gBAAEy/B,SAAS,EAAEiB;eAAU;aAC/C,MAAM;cACHG,SAAS,CAACtkC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;;UAIlC,OAAO;YAAC2D,MAAM,EAAE,IAAI;YAAEy/B,SAAS,EAAEoB;WAAU;;;;;;;;QAG/Cp0C,MAAA,CAKAiyC,eAAe,GAAf,SAAAA,gBAAgBgC,SAAmB,EAAEH,YAAwB,EAC7D;UACI,IAAIt6B,GAAO,GAAG;YACVq5B,MAAM,EAAE,EAAE;YACVD,IAAI,EAAE,EAAE;YACRD,KAAK,EAAE,EAAE;YACTD,QAAQ,EAAE,EAAE;YACZP,KAAK,EAAE,EAAE;YACTC,IAAI,EAAE;WACT;UAED,IAAI6B,SAAS,CAACzxC,MAAM,IAAI,CAAC,EAAE;YACvB,OAAOgX,GAAG;;UAGd,IAAI,CAAClP,IAAI,CAAC2pC,SAAS,CAAC;UAEpB,IAAI/G,QAAe,GAAG,CAAC;UAEvB,IAAI6G,EAAE,GAAG,CAAC;UACV,IAAID,YAAY,EAAE;YACd,IAAI,CAACxpC,IAAI,CAACwpC,YAAY,CAACpnC,KAAK,CAAC;YAC7BqnC,EAAE,GAAGD,YAAY,CAACpnC,KAAK,CAAClK,MAAM;YAC9B0qC,QAAQ,GAAG,IAAI,CAACC,WAAW,CAAC2G,YAAY,CAACpnC,KAAK,CAAC;;;;UAInD,IAAI,CAAConC,YAAY,IAAI5G,QAAQ,IAAIrU,SAAS,CAACE,MAAM,EAAE;YAC/C,SAAAwb,UAAA,GAAAhC,+BAAA,CAAiB0B,SAAS,GAAAO,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA9B,IAAA,GAAE;cAAA,IAAnBnlB,IAAI,GAAAknB,MAAA,CAAAxwC,KAAA;cACT,IAAI,CAAC8vC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAAC,CAACxd,IAAI,CAAC,EAAEwmB,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,EAAE;gBACjFtf,GAAG,CAACq5B,MAAM,CAAC1sC,IAAI,CAAC;kBACZsuC,IAAI,EAAE5b,SAAS,CAACE,MAAM;kBACtBrsB,KAAK,EAAE,CAAC4gB,IAAI;iBACf,CAAC;;;;;;UAMd,IAAI,CAACwmB,YAAY,IAAI5G,QAAQ,IAAIrU,SAAS,CAACG,IAAI,EAAE;YAC7C,KAAK,IAAIrzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsuC,SAAS,CAACzxC,MAAM,GAAG,CAAC,EAAEmD,CAAC,EAAE,EAAE;cAC3C,IAAI,IAAI,CAACytC,SAAS,CAACa,SAAS,CAACtuC,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,CAAC,GAAG,CAAC,CAAC,CAAC,KAC1C,CAACmuC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAAC,CAACmJ,SAAS,CAACtuC,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEmuC,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,CAAC,EAAE;gBAChHtf,GAAG,CAACo5B,IAAI,CAACzsC,IAAI,CAAC;kBACVsuC,IAAI,EAAE5b,SAAS,CAACG,IAAI;kBACpBtsB,KAAK,EAAE,CAACunC,SAAS,CAACtuC,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,CAAC,GAAG,CAAC,CAAC;iBACzC,CAAC;;;;;;UAMd,IAAI,CAACmuC,YAAY,IAAI5G,QAAQ,IAAIrU,SAAS,CAACI,KAAK,EAAE;YAC9C,KAAK,IAAItzB,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGsuC,SAAS,CAACzxC,MAAM,GAAG,CAAC,EAAEmD,GAAC,EAAE,EAAE;cAC3C,IAAI,IAAI,CAAC6tC,UAAU,CAACS,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,CAAC,KAC7D,CAACmuC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAAC,CAACmJ,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,CAAC,EAAEmuC,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,CAAC,EAAE;gBAClItf,GAAG,CAACm5B,KAAK,CAACxsC,IAAI,CAAC;kBACXsuC,IAAI,EAAE5b,SAAS,CAACG,IAAI;kBACpBtsB,KAAK,EAAE,CAACunC,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC;iBAC3D,CAAC;;;;;;UAMd,IAAI,CAACmuC,YAAY,IAAI5G,QAAQ,IAAIrU,SAAS,CAACK,QAAQ,EAAE;YACjD,IAAI+a,SAAS,CAACzxC,MAAM,IAAIuxC,EAAE,EAAE;cACxB,IAAIW,aAAa,GAAG,EAAE;cACtB,KAAK,IAAI/uC,GAAC,GAAGsuC,SAAS,CAACzxC,MAAM,GAAG,CAAC,EAAEmD,GAAC,GAAGouC,EAAE,GAAG,CAAC,EAAEpuC,GAAC,EAAE,EAAE;gBAChD,IAAI,IAAI,CAACynB,WAAW,CAAC6mB,SAAS,CAACtuC,GAAC,CAAC,CAAC,IAAI4B,SAAS,CAAC+xB,GAAG,EAAE;kBACjD;;gBAGJ,IAAIoZ,QAAQ,GAAG,EAAE;gBACjB,IAAIiC,IAAI,GAAG,IAAI;gBACf,KAAK,IAAIrlC,CAAC,GAAG3J,GAAC,EAAE2J,CAAC,IAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;kBACxB,IAAIojC,QAAQ,CAAClwC,MAAM,IAAI,CAAC,EAAE;oBACtB,IAAI,CAACsxC,YAAY,IAAI,IAAI,CAACb,WAAW,CAACgB,SAAS,CAAC3kC,CAAC,CAAC,EAAEwkC,YAAY,CAACpnC,KAAK,CAACqnC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAG;sBAC9ErB,QAAQ,CAACvsC,IAAI,CAAC8tC,SAAS,CAAC3kC,CAAC,CAAC,CAAC;;mBAElC,MAAM;oBACH,IAAI,IAAI,CAAC8d,WAAW,CAAC6mB,SAAS,CAAC3kC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC8d,WAAW,CAACslB,QAAQ,CAACA,QAAQ,CAAClwC,MAAM,GAAE,CAAC,CAAC,CAAC,EAAE;;sBAElF,IAAIkwC,QAAQ,CAAClwC,MAAM,GAAG,CAAC,EAAE;wBACrBkwC,QAAQ,CAACA,QAAQ,CAAClwC,MAAM,GAAE,CAAC,CAAC,GAAGyxC,SAAS,CAAC3kC,CAAC,CAAC;;qBAElD,MAAM,IAAI,IAAI,CAAC+jC,eAAe,CAACY,SAAS,CAAC3kC,CAAC,CAAC,EAAEojC,QAAQ,CAACA,QAAQ,CAAClwC,MAAM,GAAE,CAAC,CAAC,CAAC,EAAE;;sBAEzEkwC,QAAQ,CAACvsC,IAAI,CAAC8tC,SAAS,CAAC3kC,CAAC,CAAC,CAAC;qBAC9B,MAAM;;sBAEH3J,GAAC,GAAG2J,CAAC,GAAG,CAAC;sBACTqlC,IAAI,GAAG,KAAK;;;kBAIpB,IAAI,CAACA,IAAI,IAAIrlC,CAAC,IAAI,CAAC,IAAKwkC,YAAY,IAAIC,EAAE,IAAIrB,QAAQ,CAAClwC,MAAO,EAAE;oBAC5D,IAAIkwC,QAAQ,CAAClwC,MAAM,IAAI,CAAC,KAAK,CAACsxC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAAC4H,QAAQ,EAAEoB,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,CAAC,EAAE;sBAC7G4b,aAAa,CAACvuC,IAAI,CAAC;wBACfsuC,IAAI,EAAE5b,SAAS,CAACK,QAAQ;wBACxBxsB,KAAK,EAAEgmC,QAAQ,CAACkC,OAAO;uBAC1B,CAAC;;oBAGN;;;;cAKZ,IAAIF,aAAa,CAAClyC,MAAM,GAAG,CAAC,EAAE;gBAC1B,SAAAqyC,UAAA,GAAAtC,+BAAA,CAAiBmC,aAAa,CAACE,OAAO,EAAE,GAAAE,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAApC,IAAA,GAAE;kBAAA,IAAjC9pC,IAAI,GAAAmsC,MAAA,CAAA9wC,KAAA;kBACTwV,GAAG,CAACk5B,QAAQ,CAACvsC,IAAI,CAACwC,IAAI,CAAC;;;;;;;UAOvC,IAAI,CAACmrC,YAAY,IACV5G,QAAQ,IAAIrU,SAAS,CAACM,KAAK,IAC1B+T,QAAQ,IAAIrU,SAAS,CAACE,MAAM,IAAI,IAAI,CAAC3L,WAAW,CAAC0mB,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAInF,SAAS,CAAC+xB,GAAI,IACzF4T,QAAQ,IAAIrU,SAAS,CAACG,IAAI,IAAI,IAAI,CAAC5L,WAAW,CAAC0mB,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAInF,SAAS,CAAC+xB,GAAI,IACxF4T,QAAQ,IAAIrU,SAAS,CAACO,IAAI,EAC3B;YACF,IAAI6a,SAAS,CAACzxC,MAAM,IAAI,CAAC,EAAE;cACvB,IAAIuyC,UAAU,GAAG,EAAE;cACnB,KAAK,IAAIpvC,GAAC,GAAGsuC,SAAS,CAACzxC,MAAM,GAAC,CAAC,EAAEmD,GAAC,IAAI,CAAC,EAAEA,GAAC,EAAE,EAAE;gBAC1C,IAAIwsC,KAAK,GAAG,EAAE;gBACd,IAAIwC,KAAI,GAAG,IAAI;gBACf,KAAK,IAAIrlC,EAAC,GAAG3J,GAAC,EAAE2J,EAAC,IAAI,CAAC,EAAEA,EAAC,EAAE,EAAE;kBACzB,IAAI6iC,KAAK,CAAC3vC,MAAM,IAAI,CAAC,EAAE;oBACnB2vC,KAAK,CAAChsC,IAAI,CAAC8tC,SAAS,CAAC3kC,EAAC,CAAC,CAAC;mBAC3B,MAAM;oBACH,IAAI6iC,KAAK,CAAC3vC,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;;sBAEvB,IAAI,IAAI,CAAC6wC,eAAe,CAACY,SAAS,CAAC3kC,EAAC,CAAC,EAAE6iC,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;wBAC7D2vC,KAAK,CAAChsC,IAAI,CAAC8tC,SAAS,CAAC3kC,EAAC,CAAC,CAAC;uBAC3B,MAAM,IAAI,IAAI,CAAC8d,WAAW,CAAC6mB,SAAS,CAAC3kC,EAAC,CAAC,CAAC,IAAI,IAAI,CAAC8d,WAAW,CAAC+kB,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAE,CAAC,CAAC,CAAC,EAAE;wBACnF2vC,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAE,CAAC,CAAC,GAAGyxC,SAAS,CAAC3kC,EAAC,CAAC;uBACxC,MAAM;;wBAEHqlC,KAAI,GAAG,KAAK;;qBAEnB,MAAM;sBACH,IAAI,IAAI,CAACvnB,WAAW,CAAC6mB,SAAS,CAAC3kC,EAAC,CAAC,CAAC,IAAI,IAAI,CAAC8d,WAAW,CAAC+kB,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAE,CAAC,CAAC,CAAC,EAAE;wBAC5E2vC,KAAK,CAAChsC,IAAI,CAAC8tC,SAAS,CAAC3kC,EAAC,CAAC,CAAC;uBAC3B,MAAM;;wBAEHqlC,KAAI,GAAG,KAAK;;;;;;kBAMxB,IAAI,CAACA,KAAI,IAAIrlC,EAAC,IAAI,CAAC,EAAE;;oBAEjB,IAAI6iC,KAAK,CAAC3vC,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE;sBACvB2vC,KAAK,CAACzyC,GAAG,EAAE;;oBAGf,IAAIs1C,SAAS,MAAAlyC,MAAA,CAAOqvC,KAAK,CAAC;oBAC1B,IAAIA,KAAK,CAAC3vC,MAAM,IAAI,CAAC,KAAK,CAACsxC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAACkK,SAAS,EAAElB,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,CAAC,EAAE;sBAC3Gic,UAAU,CAAC5uC,IAAI,CAAC;wBACZsuC,IAAI,EAAE5b,SAAS,CAACM,KAAK;wBACrBzsB,KAAK,EAAEylC;uBACV,CAAC;;;;oBAINxsC,GAAC,GAAG2J,EAAC,GAAG,CAAC;oBACT;;;;cAKZ,IAAIylC,UAAU,CAACvyC,MAAM,GAAG,CAAC,EAAE;gBACvB,SAAAyyC,UAAA,GAAA1C,+BAAA,CAAiBwC,UAAU,CAACH,OAAO,EAAE,GAAAM,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAxC,IAAA,GAAE;kBAAA,IAA9B9pC,KAAI,GAAAusC,MAAA,CAAAlxC,KAAA;kBACT2E,KAAI,CAAC+D,KAAK,CAACkoC,OAAO,EAAE;kBACpBp7B,GAAG,CAAC24B,KAAK,CAAChsC,IAAI,CAACwC,KAAI,CAAC;;;;;;;UAOpC,IAAI,CAACmrC,YAAY,IACV5G,QAAQ,IAAIrU,SAAS,CAACO,IAAI,IACzB8T,QAAQ,IAAIrU,SAAS,CAACM,KAAK,IAAI2a,YAAY,CAACpnC,KAAK,CAAClK,MAAM,IAAI,CAAE,IAC9D,CAAC0qC,QAAQ,IAAIrU,SAAS,CAACG,IAAI,IAAIkU,QAAQ,IAAIrU,SAAS,CAACE,MAAM,KAAK,IAAI,CAAC3L,WAAW,CAAC0mB,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAInF,SAAS,CAAC+xB,GAAI,EAC/H;YACE,IAAI2a,SAAS,CAACzxC,MAAM,IAAI,CAAC,EAAE;cACvB,KAAK,IAAImD,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGsuC,SAAS,CAACzxC,MAAM,GAAG,CAAC,EAAEmD,GAAC,EAAE,EAAE;gBAC3C,IAAI,IAAI,CAAC+tC,SAAS,CAACO,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,CAAC,KAC9E,CAACmuC,YAAY,IAAI,IAAI,CAAChJ,kBAAkB,CAAC,CAACmJ,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,CAAC,EAAEmuC,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,CAAC,EAAE;kBACpJtf,GAAG,CAAC44B,IAAI,CAACjsC,IAAI,CAAC;oBACVsuC,IAAI,EAAE5b,SAAS,CAACO,IAAI;oBACpB1sB,KAAK,EAAE,CAACunC,SAAS,CAACtuC,GAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC,EAAEsuC,SAAS,CAACtuC,GAAC,GAAG,CAAC,CAAC;mBAC7E,CAAC;;;;;UAMlB,OAAO6T,GAAG;;;;;;;;QAGdxZ,MAAA,CAKAm1C,YAAY,GAAZ,SAAAA,aAAalB,SAAmB,EAAEH,YAAkB,EAAE;UAClD,IAAIsB,cAAc,GAAG,IAAI,CAACnD,eAAe,CAACgC,SAAS,EAAEH,YAAY,CAAC;UAElE,IAAKjB,MAAM,GAAwCuC,cAAc,CAA5DvC,MAAM;YAAED,IAAI,GAAkCwC,cAAc,CAApDxC,IAAI;YAAED,KAAK,GAA2ByC,cAAc,CAA9CzC,KAAK;YAAED,QAAQ,GAAiB0C,cAAc,CAAvC1C,QAAQ;YAAEP,KAAK,GAAUiD,cAAc,CAA7BjD,KAAK;YAAEC,IAAI,GAAIgD,cAAc,CAAtBhD,IAAI;UAE/C,IAAI,CAAC0B,YAAY,EAAE;;YAEf,IAAI,IAAI,CAAC3G,WAAW,CAAC8G,SAAS,CAAC,GAAGpb,SAAS,CAACC,IAAI,EAAE;cAC9C,OAAOmb,SAAS;;;;YAIpB,IAAIoB,UAAU,GAAGpB,SAAS,CAAC,CAAC,CAAC;YAC7B,IAAIvB,QAAQ,CAAClwC,MAAM,GAAG,CAAC,IAAIkwC,QAAQ,CAAC,CAAC,CAAC,CAAChmC,KAAK,CAAC4oC,QAAQ,CAACD,UAAU,CAAC,EAAE;cAC/D,OAAO3C,QAAQ,CAAC,CAAC,CAAC,CAAChmC,KAAK;aAC3B,MAAM,IAAIimC,KAAK,CAACnwC,MAAM,GAAG,CAAC,IAAImwC,KAAK,CAAC,CAAC,CAAC,CAACjmC,KAAK,CAAC4oC,QAAQ,CAACD,UAAU,CAAC,EAAE;cAChE,OAAO1C,KAAK,CAAC,CAAC,CAAC,CAACjmC,KAAK;aACxB,MAAM,IAAIkmC,IAAI,CAACpwC,MAAM,GAAG,CAAC,IAAIowC,IAAI,CAAC,CAAC,CAAC,CAAClmC,KAAK,CAAC4oC,QAAQ,CAACD,UAAU,CAAC,EAAE;cAC9D,OAAOzC,IAAI,CAAC,CAAC,CAAC,CAAClmC,KAAK;aACvB,MAAM;cACH,OAAOmmC,MAAM,CAAC,CAAC,CAAC,CAACnmC,KAAK;;WAE7B,MAAM;;YAEH,IAAI,IAAI,CAACo+B,kBAAkB,CAACmJ,SAAS,EAAEH,YAAY,CAAC,GAAGjb,SAAS,CAACC,IAAI,EAAE;cACnE,OAAOmb,SAAS;;YAEpB,IAAI/G,QAAe,GAAG,IAAI,CAACC,WAAW,CAAC2G,YAAY,CAACpnC,KAAK,CAAC;;;YAG1D,IAAIwgC,QAAQ,IAAIrU,SAAS,CAACM,KAAK,IAAI+T,QAAQ,IAAIrU,SAAS,CAACO,IAAI,EAAE;cAC3D,QAAQ8T,QAAQ;gBACZ,KAAKrU,SAAS,CAACE,MAAM;kBACjB,IAAI8Z,MAAM,CAACrwC,MAAM,GAAG,CAAC,EAAE;oBACnB,OAAOqwC,MAAM,CAAC,CAAC,CAAC,CAACnmC,KAAK;;kBAE1B;gBACJ,KAAKmsB,SAAS,CAACG,IAAI;kBACf,IAAI4Z,IAAI,CAACpwC,MAAM,GAAG,CAAC,EAAE;oBACjB,OAAOowC,IAAI,CAAC,CAAC,CAAC,CAAClmC,KAAK;;kBAExB;gBACJ,KAAKmsB,SAAS,CAACK,QAAQ;kBACnB,IAAIwZ,QAAQ,CAAClwC,MAAM,GAAG,CAAC,EAAE;oBACrB,OAAOkwC,QAAQ,CAAC,CAAC,CAAC,CAAChmC,KAAK;;kBAE5B;gBACJ,KAAKmsB,SAAS,CAACI,KAAK;kBAChB,IAAI0Z,KAAK,CAACnwC,MAAM,GAAG,CAAC,EAAE;oBAClB,OAAOmwC,KAAK,CAAC,CAAC,CAAC,CAACjmC,KAAK;;kBAEzB;;;;;YAKZ,IAAIwgC,QAAQ,IAAIrU,SAAS,CAACM,KAAK,IACxB+T,QAAQ,IAAIrU,SAAS,CAACO,IAAI,IACzB0a,YAAY,CAACpnC,KAAK,CAAClK,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC4qB,WAAW,CAAC0mB,YAAY,CAACpnC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAInF,SAAS,CAAC+xB,GAAI,EAAE;cACjG,IAAI6Y,KAAK,CAAC3vC,MAAM,GAAG,CAAC,EAAE;gBAClB,IAAIkK,KAAK,GAAGylC,KAAK,CAAC,CAAC,CAAC,CAACzlC,KAAK;gBAC1B,IAAIA,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;;kBAEnB,IAAI4vC,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;oBACjB,OAAO4vC,IAAI,CAAC,CAAC,CAAC,CAAC1lC,KAAK;;kBAGxB,OAAOA,KAAK;;;;;cAKpB,IAAI0lC,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;gBACjB,OAAO4vC,IAAI,CAAC,CAAC,CAAC,CAAC1lC,KAAK;;;;UAKhC,OAAO,EAAE;;;;;;;;QAGb1M,MAAA,CAKC0qC,iBAAiB,GAAjB,SAAAA,kBAAkBuJ,SAAmB,EAAEH,YAAwB,EAAE;UAC9D,IAAIsB,cAAc,GAAG,IAAI,CAACnD,eAAe,CAACgC,SAAS,EAAEH,YAAY,CAAC;UAClE,IAAKjB,MAAM,GAAwCuC,cAAc,CAA5DvC,MAAM;YAAED,IAAI,GAAkCwC,cAAc,CAApDxC,IAAI;YAAED,KAAK,GAA2ByC,cAAc,CAA9CzC,KAAK;YAAED,QAAQ,GAAiB0C,cAAc,CAAvC1C,QAAQ;YAAEP,KAAK,GAAUiD,cAAc,CAA7BjD,KAAK;YAAEC,IAAI,GAAIgD,cAAc,CAAtBhD,IAAI;UAE/C,IAAIS,MAAM,CAACrwC,MAAM,GAAG,CAAC,EAAE;YACnB,OAAO,IAAI;WACd,MAAM,IAAIowC,IAAI,CAACpwC,MAAM,GAAG,CAAC,EAAE;YACxB,OAAO,IAAI;WACd,MAAM,IAAImwC,KAAK,CAACnwC,MAAM,GAAG,CAAC,EAAE;YACzB,OAAO,IAAI;WACd,MAAM,IAAIkwC,QAAQ,CAAClwC,MAAM,GAAG,CAAC,EAAE;YAC5B,OAAO,IAAI;WACd,MAAM,IAAI2vC,KAAK,CAAC3vC,MAAM,GAAG,CAAC,EAAE;YACzB,OAAO,IAAI;WACd,MAAM,IAAI4vC,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;YACxB,OAAO,IAAI;;UAGf,OAAO,KAAK;;;;;;;QAGhBxC,MAAA,CAIAu1C,eAAe,GAAf,SAAAA,gBAAgBtB,SAAmB,EAAa;UAC5C,IAAImB,cAAc,GAAG,IAAI,CAACnD,eAAe,CAACgC,SAAS,CAAC;UACpD,IAAKpB,MAAM,GAAwCuC,cAAc,CAA5DvC,MAAM;YAAED,IAAI,GAAkCwC,cAAc,CAApDxC,IAAI;YAAED,KAAK,GAA2ByC,cAAc,CAA9CzC,KAAK;YAAED,QAAQ,GAAiB0C,cAAc,CAAvC1C,QAAQ;YAAEP,KAAK,GAAUiD,cAAc,CAA7BjD,KAAK;YAAEC,IAAI,GAAIgD,cAAc,CAAtBhD,IAAI;;;UAG/C,IAAIM,QAAQ,CAAClwC,MAAM,GAAG,CAAC,IAAIkwC,QAAQ,CAACA,QAAQ,CAAClwC,MAAM,GAAG,CAAC,CAAC,CAACkK,KAAK,CAAClK,MAAM,IAAI,EAAE,EAAE;YACzE,OAAOkwC,QAAQ,CAACA,QAAQ,CAAClwC,MAAM,GAAG,CAAC,CAAC,CAACkK,KAAK;;;;UAI9C,IAAIylC,KAAK,CAAC3vC,MAAM,GAAG,CAAC,EAAE;YAClB,SAAAgzC,UAAA,GAAAjD,+BAAA,CAAyBJ,KAAK,GAAAsD,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA/C,IAAA,GAAE;cAAA,IAAvBiD,YAAY,GAAAD,MAAA,CAAAzxC,KAAA;cACjB,IAAI0xC,YAAY,CAAChpC,KAAK,CAAC4oC,QAAQ,CAAC,IAAI,CAAC,IAAII,YAAY,CAAChpC,KAAK,CAAClK,MAAM,IAAI,EAAE,EAAE;gBACtE,OAAOkzC,YAAY,CAAChpC,KAAK;;;;;;UAMrC,IAAI0lC,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;YACjB,SAAAmzC,UAAA,GAAApD,+BAAA,CAAyBH,IAAI,GAAAwD,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAlD,IAAA,GAAE;cAAA,IAAtBiD,aAAY,GAAAE,MAAA,CAAA5xC,KAAA;cACjB,IAAI,IAAI,CAACopB,WAAW,CAACsoB,aAAY,CAAChpC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAInF,SAAS,CAAC+xB,GAAG,EAAE;gBAC1D,OAAOoc,aAAY,CAAChpC,KAAK;;;;;;UAMrC,IAAIkmC,IAAI,CAACpwC,MAAM,IAAI,CAAC,EAAE;YAClB,IAAIqzC,YAAqB,GAAG,EAAE;YAC9B,SAAAC,UAAA,GAAAvD,+BAAA,CAAyBK,IAAI,GAAAmD,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAArD,IAAA,GAAE;cAAA,IAAtBiD,cAAY,GAAAK,MAAA,CAAA/xC,KAAA;cACjB,IAAIgyC,IAAI,GAAG,KAAK;cAChB,SAAAC,WAAA,GAAA1D,+BAAA,CAAqBmD,cAAY,CAAChpC,KAAK,GAAAwpC,OAAA,IAAAA,OAAA,GAAAD,WAAA,IAAAxD,IAAA,GAAE;gBAAA,IAAhC0D,QAAQ,GAAAD,OAAA,CAAAlyC,KAAA;gBACb,IAAI6xC,YAAY,CAAChmC,OAAO,CAACsmC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;kBACtCH,IAAI,GAAG,IAAI;kBACX;;;cAIR,IAAI,CAACA,IAAI,EAAE;gBACPH,YAAY,CAAC1vC,IAAI,CAAAtD,KAAA,CAAjBgzC,YAAY,EAASH,cAAY,CAAChpC,KAAK,CAAC;;;YAIhD,IAAImpC,YAAY,CAACrzC,MAAM,IAAI,EAAE,EAAE;cAC3B,OAAOqzC,YAAY;;;UAI3B,IAAIO,UAAmB,GAAG,EAAE;UAC5B,IAAIC,QAAiB,GAAG,EAAE;UAC1B,IAAIC,MAAM,GAAG,CAACF,UAAU,EAAEC,QAAQ,CAAC;UACnC,SAAAE,WAAA,GAAAhE,+BAAA,CAAiB0B,SAAS,GAAAuC,OAAA,IAAAA,OAAA,GAAAD,WAAA,IAAA9D,IAAA,GAAE;YAAA,IAAnBnlB,IAAI,GAAAkpB,OAAA,CAAAxyC,KAAA;YACTsyC,MAAM,CAAC,IAAI,CAAC3mB,YAAY,CAACrC,IAAI,CAAC,CAAC,CAACnnB,IAAI,CAACmnB,IAAI,CAAC;;UAG9C,SAAAmpB,GAAA,MAAAC,OAAA,GAAkBJ,MAAM,EAAAG,GAAA,GAAAC,OAAA,CAAAl0C,MAAA,EAAAi0C,GAAA,IAAE;YAArB,IAAIzL,KAAK,GAAA0L,OAAA,CAAAD,GAAA;YACV,IAAIzL,KAAK,CAACxoC,MAAM,IAAI,EAAE,EAAE;cACpB,OAAOwoC,KAAK;;;UAIpB,OAAO,EAAE;;;;;;;QAGbhrC,MAAA,CAIA22C,iBAAiB,GAAjB,SAAAA,kBAAkB1C,SAAmB,EAAE1pB,GAAQ,EAAE;;UAE7C,IAAIqsB,QAAQ,GAAG,EAAE;UACjB,IAAIC,SAAS,MAAA/zC,MAAA,CAAOmxC,SAAS,CAAC;UAE9B,IAAIA,SAAS,CAACpkC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;;YAC/B+mC,QAAQ,CAACzwC,IAAI,CAAC;cAACuG,KAAK,EAAE,CAAC,IAAI,CAAC;cAAEoqC,KAAK,EAAEvsB,GAAG,CAACwsB;aAAO,CAAC;YACjD,IAAI,CAAChE,SAAS,CAAC8D,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC;;UAGrC,IAAI5C,SAAS,CAACpkC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;;YAC/B+mC,QAAQ,CAACzwC,IAAI,CAAC;cAACuG,KAAK,EAAE,CAAC,IAAI,CAAC;cAAEoqC,KAAK,EAAEvsB,GAAG,CAACysB;aAAM,CAAC;YAChD,IAAI,CAACjE,SAAS,CAAC8D,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC;;UAGrC,IAAI5C,SAAS,CAACpkC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;;YAC/B+mC,QAAQ,CAACzwC,IAAI,CAAC;cAACuG,KAAK,EAAE,CAAC,IAAI,CAAC;cAAEoqC,KAAK,EAAEvsB,GAAG,CAAC0sB;aAAS,CAAC;YACnD,IAAI,CAAClE,SAAS,CAAC8D,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC;;UAGrC,IAAI5C,SAAS,CAACpkC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;;YAC/B+mC,QAAQ,CAACzwC,IAAI,CAAC;cAACuG,KAAK,EAAE,CAAC,IAAI,CAAC;cAAEoqC,KAAK,EAAEvsB,GAAG,CAAC2sB;aAAO,CAAC;YACjD,IAAI,CAACnE,SAAS,CAAC8D,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC;;UAGrC,KAAK,IAAIlxC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsuC,SAAS,CAACzxC,MAAM,EAAEmD,CAAC,EAAE,EAAE;YACvC,IAAIwxC,YAAY,GAAG,IAAI,CAAClF,eAAe,CAAC4E,SAAS,CAAC;YAClD,IAAK1E,KAAK,GAAUgF,YAAY,CAA3BhF,KAAK;cAAEC,IAAI,GAAI+E,YAAY,CAApB/E,IAAI;YAEhB,IAAID,KAAK,CAAC3vC,MAAM,GAAG,CAAC,IAAI2vC,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAG,CAAC,CAAC,CAACkK,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;cAC/Do0C,QAAQ,CAACzwC,IAAI,CAAC;gBAACuG,KAAK,EAAEylC,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAG,CAAC,CAAC,CAACkK,KAAK;gBAAEoqC,KAAK,EAAEvsB,GAAG,CAAC6sB;eAAO,CAAC;cACxE,IAAI,CAACrE,SAAS,CAAC8D,SAAS,EAAE1E,KAAK,CAACA,KAAK,CAAC3vC,MAAM,GAAG,CAAC,CAAC,CAACkK,KAAK,CAAC;cACxD;;YAGJ,IAAI0lC,IAAI,CAAC5vC,MAAM,GAAG,CAAC,EAAE;cACjB,SAAA60C,WAAA,GAAA9E,+BAAA,CAAyBH,IAAI,GAAAkF,OAAA,IAAAA,OAAA,GAAAD,WAAA,IAAA5E,IAAA,GAAE;gBAAA,IAAtBiD,YAAY,GAAA4B,OAAA,CAAAtzC,KAAA;gBACjB4yC,QAAQ,CAACzwC,IAAI,CAAC;kBAACuG,KAAK,EAAEgpC,YAAY,CAAChpC,KAAK;kBAAEoqC,KAAK,EAAEvsB,GAAG,CAAC6nB;iBAAK,CAAC;gBAC3D,IAAI,CAACW,SAAS,CAAC8D,SAAS,EAAEnB,YAAY,CAAChpC,KAAK,CAAC;;cAEjD;;YAGJ,IAAIylC,KAAK,CAAC3vC,MAAM,GAAG,CAAC,EAAE;cAClBo0C,QAAQ,CAACzwC,IAAI,CAAC;gBAACuG,KAAK,EAAEylC,KAAK,CAAC,CAAC,CAAC,CAACzlC,KAAK;gBAAEoqC,KAAK,EAAEvsB,GAAG,CAACgtB;eAAO,CAAC;cACzD,IAAI,CAACxE,SAAS,CAAC8D,SAAS,EAAE1E,KAAK,CAAC,CAAC,CAAC,CAACzlC,KAAK,CAAC;cACzC;;YAGJ;;UAGJ,IAAI8qC,aAAa,GAAG,CAAC;UACrB,SAAAC,GAAA,MAAAC,SAAA,GAAcd,QAAQ,EAAAa,GAAA,GAAAC,SAAA,CAAAl1C,MAAA,EAAAi1C,GAAA,IAAE;YAAnB,IAAIE,CAAC,GAAAD,SAAA,CAAAD,GAAA;YACND,aAAa,IAAIG,CAAC,CAACb,KAAK;;UAG5B,OAAO;YAACU,aAAa,EAAbA,aAAa;YAAEZ,QAAQ,EAARA,QAAQ;YAAE5D,SAAS,EAAE6D;WAAU;SACzD;QAAA,OAAA5T,YAAA;MAAA;cA/5B4B,CAAAxjC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;MCFjC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAKJg2C,kBAAkB,uBAAA91C,IAAA,GADtCJ,OAAO,CAAC,mBAAmB,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAAw1C,kBAAA,EAAAz1C,UAAA;QAAA,SAAAy1C;UAAA,IAAAv1C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEzBw1C,WAAW,GAAY,KAAK;;UAAGx1C,KAAA,CAC/By1C,UAAU,GAAY,KAAK;UAAA,OAAAz1C,KAAA;;QAAA,IAAArC,MAAA,GAAA43C,kBAAA,CAAA33C,SAAA;;QAAKD,MAAA,CAChCqnB,MAAM,GAAN,SAAAA,SAAS;;;;;;SAMR;QAAArnB,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;;;;SAIX;QAAAF,MAAA,CACD+3C,eAAe,GAAf,SAAAA,kBAAkB;;;SAGjB;QAAA/3C,MAAA,CACDg4C,UAAU,GAAV,SAAAA,aAAa;;;;;;;;;SASZ;QAAAh4C,MAAA,CACDi4C,aAAa,GAAb,SAAAA,gBAAgB;;;;;;;;SAQf;QAAAj4C,MAAA,CACDk4C,QAAQ,GAAR,SAAAA,WAAW;;;;SAIV;QAAA,OAAAN,kBAAA;MAAA,EA1C2Cz0C,SAAS,MAAAlB,MAAA;MA8CzD;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC7HA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAgBJu2C,gBAAgB,uBAAAr2C,IAAA,GADpCJ,OAAO,CAAC,iBAAiB,CAAC,EAAAK,KAAA,GAEtBH,QAAQ,CAAC00B,SAAS,CAAC,EAAArP,KAAA,GAEnBrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAACkI,IAAI,CAAC,EAAAokB,KAAA,GAEdtsB,QAAQ,CAACw2C,WAAW,CAACC,eAAe,CAAC,EAAAlqB,KAAA,GAErCvsB,QAAQ,CAACub,MAAM,CAAC,EAAAiR,KAAA,GAEhBxsB,QAAQ,CAACkI,IAAI,CAAC,EAAAukB,KAAA,GAEdzsB,QAAQ,CAACkI,IAAI,CAAC,EAAAwkB,KAAA,GAEd1sB,QAAQ,CAACkI,IAAI,CAAC,EAAAykB,MAAA,GAEd3sB,QAAQ,CAACkI,IAAI,CAAC,EAAA0kB,MAAA,GAEd5sB,QAAQ,CAACkI,IAAI,CAAC,EAAA4kB,MAAA,GAEd9sB,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAA+1C,gBAAA,EAAAh2C,UAAA;QAAA,SAAAg2C;UAAA,IAAA91C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,SAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,YAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,mBAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,qBAAAwsB,YAAA,EAAA3rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAysB,YAAA,EAAA5rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA0sB,YAAA,EAAA7rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA2sB,YAAA,EAAA9rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA4sB,aAAA,EAAA/rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA6sB,aAAA,EAAAhsB,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAEPi2C,aAAa,GAAiB,IAAI;UAAAj2C,KAAA,CAClCk2C,aAAa,GAAiB,IAAI;UAAAl2C,KAAA,CAClCm2C,WAAW;UAAAn2C,KAAA,CACXo2C,SAAS,GAAqB,IAAI;UAAA,OAAAp2C,KAAA;;QAAA,IAAArC,MAAA,GAAAm4C,gBAAA,CAAAl4C,SAAA;QAAAD,MAAA,CAC1CqnB,MAAM,GAAN,SAAAA,SAAS;UAEL,IAAI,CAACoxB,SAAS,GAAG,IAAI,CAAC9jC,IAAI,CAACsI,cAAc,CAAC,UAAU,CAAC,CAAChI,YAAY,CAACqhB,SAAS,CAAC;UAC7E,IAAIoiB,UAAU,GAAG,IAAI,CAAC/jC,IAAI,CAAC8I,MAAM,CAAClD,IAAI;UACtC,IAAI,CAACi+B,WAAW,GAAG5vC,MAAM,CAAC8vC,UAAU,CAAC7lC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;UAC1D,IAAI,CAACylC,aAAa,GAAG,IAAI,CAACK,eAAe,CAAC17B,cAAc,CAAC,KAAK,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC;UACnF,IAAI,CAAC8/B,aAAa,CAAC3jC,IAAI,CAACY,MAAM,GAAG,KAAK;UACtC,IAAI,CAACgjC,aAAa,GAAG,IAAI,CAACI,eAAe,CAAC17B,cAAc,CAAC,KAAK,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC;UACnF,IAAI,CAAC+/B,aAAa,CAAC5jC,IAAI,CAACY,MAAM,GAAG,KAAK;UACtC,IAAI,CAACs2B,KAAK,EAAE;SACf;QAAA7rC,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY,EAEX;QAAAF,MAAA,CACD6rC,KAAK,GAAL,SAAAA,QAAQ;UACJ,IAAI,CAAC1C,GAAG,CAACx0B,IAAI,CAACY,MAAM,GAAG,KAAK;UAC5B,IAAI,CAACqjC,KAAK,CAACrjC,MAAM,GAAG,KAAK;UACzB,IAAI,CAACsjC,MAAM,CAACtjC,MAAM,GAAG,KAAK;UAC1B,IAAI,IAAI,CAACkjC,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAACA,SAAS,CAAC9jC,IAAI,CAACY,MAAM,GAAG,KAAK;;SAEzC;QAAAvV,MAAA,CACD84C,OAAO,GAAP,SAAAA,QAAQjoC,KAAa,EAAE;UAAA,IAAAsV,MAAA;UACnB,IAAI,CAACsO,YAAY,CAAC,YAAM;YACpBtO,MAAI,CAAC4yB,SAAS,CAACloC,KAAK,CAAC;WACxB,EAAE,CAAC,CAAC;SACR;QAAA7Q,MAAA,CACD+4C,SAAS,GAAT,SAAAA,UAAUloC,KAAK,EAAE;UAAA,IAAA0xB,MAAA;UACb,IAAI,CAAC4G,GAAG,CAACx0B,IAAI,CAACY,MAAM,GAAG,IAAI;UAC3B,IAAI,CAACqjC,KAAK,CAACrjC,MAAM,GAAG,IAAI;UACxB,IAAI,CAACsjC,MAAM,CAACtjC,MAAM,GAAG,KAAK;UAC1B,IAAI,CAAC4zB,GAAG,CAAC5S,IAAI,CAAC,KAAK,CAAC;UACpB,IAAI,CAAC9B,YAAY,CAAC,YAAM;YACxB8N,MAAI,CAAC2H,YAAY,EAAE;WAClB,EAAE,GAAG,CAAC;UACP,IAAI,CAACzV,YAAY,CAAC,YAAM;YACxB8N,MAAI,CAACyW,YAAY,CAACnoC,KAAK,CAAC;WACvB,EAAE,GAAG,CAAC;SACV;QAAA7Q,MAAA,CACMkqC,YAAY,GAAnB,SAAAA,eAAsB;UAClB,IAAI,CAAC+O,QAAQ,CAACC,aAAa,CAAC,cAAc,EAAE,CAAC,CAAC;UAC9C,IAAIlP,QAAgB,GAAG,aAAa;UACpChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;SAC/C;QAAAhqC,MAAA,CACDm5C,QAAQ,GAAR,SAAAA,SAAStoC,KAAa,EAAE;UAAA,IAAAm4B,MAAA;UACpB,IAAI,CAACG,GAAG,CAACx0B,IAAI,CAACY,MAAM,GAAG,IAAI;UAC3B,IAAI,CAACqjC,KAAK,CAACrjC,MAAM,GAAG,KAAK;UACzB,IAAI,CAACsjC,MAAM,CAACtjC,MAAM,GAAG,IAAI;UACzB,IAAI,CAAC4zB,GAAG,CAAC5S,IAAI,CAAC,KAAK,CAAC;UACpB,IAAI,CAAC9B,YAAY,CAAC,YAAM;YACpBuU,MAAI,CAACgQ,YAAY,CAACnoC,KAAK,CAAC;WAC3B,EAAE,GAAG,CAAC;SACV;QAAA7Q,MAAA,CACDg5C,YAAY,GAAZ,SAAAA,aAAanoC,KAAY,EAAE;UACvB,IAAI8nB,GAAU,GAAG,IAAI;UACrB,IAAI9nB,KAAK,GAAG,CAAC,EAAE;YACX,IAAI,CAAC0nC,aAAa,CAAC5jC,IAAI,CAACY,MAAM,GAAG,KAAK;YACtC,IAAI,CAAC+iC,aAAa,CAAC3jC,IAAI,CAACY,MAAM,GAAG,IAAI;YACrC,IAAI,CAAC+iC,aAAa,CAAC7/B,MAAM,GAAG,GAAG,GAAG1G,SAAS,CAACiI,UAAU,CAACnJ,KAAK,CAAC;YAC7D8nB,GAAG,GAAG,IAAI,CAAC2f,aAAa;WAC3B,MACI;YACDznC,KAAK,GAAG,CAACA,KAAK;YACd,IAAI,CAAC0nC,aAAa,CAAC5jC,IAAI,CAACY,MAAM,GAAG,IAAI;YACrC,IAAI,CAAC+iC,aAAa,CAAC3jC,IAAI,CAACY,MAAM,GAAG,KAAK;YACtC,IAAI,CAACgjC,aAAa,CAAC9/B,MAAM,GAAG,GAAG,GAAG1G,SAAS,CAACiI,UAAU,CAACnJ,KAAK,CAAC;YAC7D8nB,GAAG,GAAG,IAAI,CAAC4f,aAAa;;UAE5B,IAAI5f,GAAG,EAAE;YACLA,GAAG,CAAChkB,IAAI,CAACgJ,OAAO,GAAG,CAAC;YACpBgb,GAAG,CAAChkB,IAAI,CAAC00B,QAAQ,CAAC,IAAI7J,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;;;YAGxC1K,KAAK,CAACC,eAAe,CAAC4D,GAAG,CAAChkB,IAAI,CAAC;;;YAG/B,IAAMwtB,WAAW,GAAGxN,KAAK,CAACgE,GAAG,CAAChkB,IAAI,CAAC,CAC/BigB,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAK,CAAC;;;YAG7B,IAAMy7B,UAAU,GAAGzkB,KAAK,CAACgE,GAAG,CAAChkB,IAAI,CAAC,CAC9BigB,EAAE,CAAC,CAAC,EAAE;cAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;aAAG,EAAE;cAAES,MAAM,EAAEA,MAAM,CAACC;aAAS,CAAC;;;YAGnEvL,KAAK,CAACgE,GAAG,CAAChkB,IAAI,CAAC,CACX20B,QAAQ,CAACnH,WAAW,EAAEiX,UAAU,CAAC,CACjC5xB,KAAK,EAAE;;SAElB;QAAAxnB,MAAA,CACDmqC,YAAY,GAAZ,SAAAA,aAAa3I,KAAa,EAAM;UAAA,IAAAmK,MAAA;UAAA,IAAnBnK,KAAa;YAAbA,KAAa,GAAG,CAAC;;UAC1B,IAAI,CAAC/M,YAAY,CAAE,YAAM;YACrB,IAAIkX,MAAI,CAAC4M,aAAa,CAAC5jC,IAAI,CAACguB,OAAO,EAAE;cACjCgJ,MAAI,CAAC4M,aAAa,CAAC5jC,IAAI,CAACY,MAAM,GAAG,KAAK;cACtCo2B,MAAI,CAAC2M,aAAa,CAAC3jC,IAAI,CAACY,MAAM,GAAG,KAAK;;WAE7C,EAAEisB,KAAK,CAAC;SACZ;QAAAxhC,MAAA,CACDq5C,WAAW,GAAX,SAAAA,YAAYC,YAAoB,EAAE;UAC9B,IAAIA,YAAY,IAAI,IAAI,CAACd,WAAW,EAAE;UAClC,IAAIe,SAAiB,GAAG9X,KAAK,CAAC+X,cAAc,CAAC,EAAE,EAAE,EAAE,CAAC;UACpD,IAAIC,OAAa,GAAG,IAAI,CAAC,MAAM,GAAGH,YAAY,CAAC;UAC/C,IAAII,QAAc,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAClB,WAAW,CAAC;UACpD,IAAIiB,OAAO,IAAI,IAAI,IAAIC,QAAQ,IAAI,IAAI,EAAE;UACzC,KAAK,IAAI/zC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4zC,SAAS,EAAE5zC,CAAC,EAAE,EAAE;YACpC,IAAI6L,IAAU,GAAGgM,WAAW,CAAC,IAAI,CAACm8B,aAAa,CAAC;YAChDnoC,IAAI,CAACinB,SAAS,CAAC,IAAI,CAACmhB,QAAQ,CAAC;YAC7B,IAAIC,OAAoB,GAAGroC,IAAI,CAACyD,YAAY,CAAC8rB,WAAW,CAAC;YACzD8Y,OAAO,CAACvuC,IAAI,CAACouC,QAAQ,CAACzlB,CAAC,EAAEylB,QAAQ,CAAChlB,CAAC,EAAE+kB,OAAO,CAACxlB,CAAC,EAAEwlB,OAAO,CAAC/kB,CAAC,CAAC;;SAEjE;QAAA10B,MAAA,CACD4oC,QAAQ,GAAR,SAAAA,SAASkR,MAAe,EAAE;UAAA,IAAAC,MAAA;UACtB,IAAI,CAAC,IAAI,CAACtB,SAAS,EAAE;UAErB,IAAIqB,MAAM,EAAE;YACR,IAAI,CAACrB,SAAS,CAAC9jC,IAAI,CAACY,MAAM,GAAG,IAAI;YACjC,IAAI,CAACkjC,SAAS,CAAC7W,WAAW,CAACC,QAAQ,GAAGC,aAAa,CAACC,QAAQ,CAACC,IAAI;YACjE,IAAI,CAACyW,SAAS,CAACliB,IAAI,EAAE;;;YAGrBzB,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC0jB,SAAS,CAAC9jC,IAAI,CAAC;YAC1C,IAAI,CAAC8jC,SAAS,CAAC9jC,IAAI,CAACgJ,OAAO,GAAG,CAAC;;;YAG/BgX,KAAK,CAAC,IAAI,CAAC8jB,SAAS,CAAC9jC,IAAI,CAAC,CACtBigB,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAK,CAAC,CACzB6J,KAAK,EAAE;WACd,MAAM;YACH,IAAI,IAAI,CAACixB,SAAS,CAAC9jC,IAAI,CAACY,MAAM,EAAE;;cAE5Buf,KAAK,CAACC,eAAe,CAAC,IAAI,CAAC0jB,SAAS,CAAC9jC,IAAI,CAAC;;;cAG1CggB,KAAK,CAAC,IAAI,CAAC8jB,SAAS,CAAC9jC,IAAI,CAAC,CACtBigB,EAAE,CAAC,GAAG,EAAE;gBAAEjX,OAAO,EAAE;eAAG,CAAC,CACvB/a,IAAI,CAAC,YAAM;gBACPm3C,MAAI,CAACtB,SAAS,CAACrwB,IAAI,EAAE;gBACrB2xB,MAAI,CAACtB,SAAS,CAAC9jC,IAAI,CAACY,MAAM,GAAG,KAAK;eACrC,CAAC,CACFiS,KAAK,EAAE;;;SAGtB;QAAA,OAAA2wB,gBAAA;MAAA,EAxKyCh1C,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,UAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAE3B,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEP,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,aAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEc,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,oBAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEb,IAAI;;MAAA,IAAAqrB,YAAA,GAAAzrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,sBAAAmuB,KAAA;QAAA/qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEJ,IAAI;;MAAA,IAAAsrB,YAAA,GAAA1rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAouB,KAAA;QAAAhrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEX,IAAI;;MAAA,IAAAurB,YAAA,GAAA3rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAquB,KAAA;QAAAjrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEP,IAAI;;MAAA,IAAAwrB,YAAA,GAAA5rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAsuB,MAAA;QAAAlrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEJ,IAAI;;MAAA,IAAAyrB,aAAA,GAAA7rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAuuB,MAAA;QAAAnrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEJ,IAAI;;MAAA,IAAA0rB,aAAA,GAAA9rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAyuB,MAAA;QAAArrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEJ,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cAtBQ,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;MChBrC,IAAOgC,OAAO,GAAcC,UAAU,CAA/BD,OAAO;QAAEE,QAAQ,GAAID,UAAU,CAAtBC,QAAQ;UAKHo4C,WAAW,uBAAAl4C,IAAA,GAD/BJ,OAAO,CAAC,YAAY,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAA43C,WAAA,EAAA73C,UAAA;QAAA,SAAA63C;UAAA,IAAA33C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEV43C,gBAAgB,GAAoB,EAAE;UAAA53C,KAAA,CACtC63C,eAAe,GAAgB,IAAI;UAAA73C,KAAA,CACnC83C,cAAc,GAAgB,IAAI;UAAA93C,KAAA,CAE1CtC,OAAO;UAAA,OAAAsC,KAAA;;QAAA,IAAArC,MAAA,GAAAg6C,WAAA,CAAA/5C,SAAA;QAAAD,MAAA,CACPqnB,MAAM,GAAN,SAAAA,SAAS;;;;;;;;SAQR;QAAArnB,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;;;;;;SAMX;QAAAF,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ;;SAEP;QAAAxnB,MAAA,CAEOqoB,SAAS,GAAjB,SAAAA,YAAoB;;;SAInB;QAAAroB,MAAA,CACOo6C,eAAe,GAAvB,SAAAA,kBAA0B;;;;;;;;;SASzB;QAAAp6C,MAAA,CACOutC,QAAQ,GAAhB,SAAAA,SAAiB18B,KAAa,EAAE;;;;;;;;;;;;;;;;;;;SAmB/B;QAAA7Q,MAAA,CACOq6C,UAAU,GAAlB,SAAAA,aAAqB;;;;SAIpB;QAAA,OAAAL,WAAA;MAAA,EAjEoC72C,SAAS,MAAAlB,MAAA;MAqElD;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;MChKA,IAAOgC,OAAO,GAAcC,UAAU,CAA/BD,OAAO;QAAEE,QAAQ,GAAID,UAAU,CAAtBC,QAAQ;UAIH04C,eAAe,uBAAAx4C,IAAA,GADnCJ,OAAO,CAAC,gBAAgB,CAAC,EAAAK,KAAA,GAErBH,QAAQ,CAACkI,IAAI,CAAC,EAAAmd,KAAA,GAEdrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAACkI,IAAI,CAAC,EAAAokB,KAAA,GAGdtsB,QAAQ,CAAC4W,KAAK,CAAC,EAAA2V,KAAA,GAGfvsB,QAAQ,CAAC4W,KAAK,CAAC,EAAA4V,KAAA,GAEfxsB,QAAQ,CAAC4W,KAAK,CAAC,EAAA6V,KAAA,GAGfzsB,QAAQ,CAAC4W,KAAK,CAAC,EAAA8V,KAAA,GAGf1sB,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAk4C,eAAA,EAAAn4C,UAAA;QAAA,SAAAm4C;UAAA,IAAAj4C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,cAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,oBAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,aAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAAwsB,YAAA,EAAA3rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAAysB,YAAA,EAAA5rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA0sB,YAAA,EAAA7rB,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAERk4C,cAAc,GAAU,EAAE;UAAA,OAAAl4C,KAAA;;QAAA,IAAArC,MAAA,GAAAs6C,eAAA,CAAAr6C,SAAA;QAAAD,MAAA,CAClCqnB,MAAM,GAAN,SAAAA,SAAS;;SAER;QAAArnB,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ;;;;SAIP;QAAAxnB,MAAA,CAEOw6C,SAAS,GAAjB,SAAAA,YAAoB;;;;;;;;;;;;;;;;;;;;;SAqBnB;QAAAx6C,MAAA,CACOy6C,UAAU,GAAlB,SAAAA,aAAqB;;;;;;;;;;;;;;;;;;;;;;;SAuBpB;QAAAz6C,MAAA,CACDo4B,OAAO,GAAP,SAAAA,UAAU;;;SAGT;QAAA,OAAAkiB,eAAA;MAAA,EAhFwCn3C,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAE1B,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,qBAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAET,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGJ,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGL,IAAI;;MAAA,IAAAqrB,YAAA,GAAAzrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAmuB,KAAA;QAAA/qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEN,IAAI;;MAAA,IAAAsrB,YAAA,GAAA1rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAouB,KAAA;QAAAhrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGJ,IAAI;;MAAA,IAAAurB,YAAA,GAAA3rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAquB,KAAA;QAAAjrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGJ,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;MAgE9B;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC7LA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UA0BJihC,UAAU,uBAAA/gC,IAAA,GAD9BJ,OAAO,CAAC,WAAW,CAAC,EAAAK,KAAA,GAEhBH,QAAQ,CAAC4W,KAAK,CAAC,EAAAyO,KAAA,GAEfrlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA0O,KAAA,GAEftlB,QAAQ,CAACkI,IAAI,CAAC,EAAAokB,KAAA,GAEdtsB,QAAQ,CAACkI,IAAI,CAAC,EAAAqkB,KAAA,GAEdvsB,QAAQ,CAACkI,IAAI,CAAC,EAAAskB,KAAA,GAEdxsB,QAAQ,CAACkI,IAAI,CAAC,EAAAukB,KAAA,GAEdzsB,QAAQ,CAACkI,IAAI,CAAC,EAAAwkB,KAAA,GAEd1sB,QAAQ,CAACkI,IAAI,CAAC,EAAAykB,MAAA,GAEd3sB,QAAQ,CAACkI,IAAI,CAAC,EAAA0kB,MAAA,GAEd5sB,QAAQ,CAAC4W,KAAK,CAAC,EAAAkW,MAAA,GAEf9sB,QAAQ,CAACu2C,gBAAgB,CAAC,EAAArV,MAAA,GAE1BlhC,QAAQ,CAACkI,IAAI,CAAC,EAAA4wC,MAAA,GAEd94C,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAygC,UAAA,EAAA1gC,UAAA;QAAA,SAAA0gC;UAAA,IAAAxgC,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,cAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,QAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,aAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,YAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAAwsB,YAAA,EAAA3rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAysB,YAAA,EAAA5rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA0sB,YAAA,EAAA7rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,UAAA2sB,YAAA,EAAA9rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA4sB,aAAA,EAAA/rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,aAAA6sB,aAAA,EAAAhsB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA0gC,aAAA,EAAA7/B,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAs4C,aAAA,EAAAz3C,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAGhBgM,MAAM,GAAW,EAAE;UAAAhM,KAAA,CACXu4C,QAAQ,GAAY,KAAK;UAAAv4C,KAAA,CACjCw4C,OAAO;UAAAx4C,KAAA,CACCy4C,WAAW,GAAkB,IAAI;UAAAz4C,KAAA,CACjC04C,UAAU,GAAW,CAAC;UAAA14C,KAAA,CACtB24C,aAAa,GAA0B,IAAIhlB,qBAAqB,EAAE;UAAA,OAAA3zB,KAAA;;QAAA,IAAArC,MAAA,GAAA6iC,UAAA,CAAA5iC,SAAA;QAAAD,MAAA,CAC1EqnB,MAAM,GAAN,SAAAA,SAAS;UAAA,IAAA4zB,aAAA;UACL,IAAI,CAACtmC,IAAI,CAACY,MAAM,GAAG,KAAK;UACxB,IAAI,CAACnN,EAAE,CAACqQ,MAAM,GAAG,EAAE;UACnB,CAAAwiC,aAAA,OAAI,CAACvU,OAAO,aAAZuU,aAAA,CAAcpV,kBAAkB,EAAE;UAClC,IAAI,CAACqV,MAAM,CAACrV,kBAAkB,EAAE;UAChC,IAAI,CAAC0F,YAAY,CAAC,CAAC,EAAE,KAAK,CAAC;UAC3B,IAAI,CAACkC,QAAQ,CAAC,KAAK,CAAC;UACpB,IAAI,CAAC58B,KAAK,KAAK,IAAI,CAACA,KAAK,CAAC4H,MAAM,GAAG,GAAG,CAAC;UACvC,IAAI0iC,UAAU,GAAG,IAAI,CAACplB,QAAQ,CAAC9Y,cAAc,CAAC,aAAa,CAAC;UAC5Dk+B,UAAU,CAAC9mB,KAAK,GAAG,IAAImL,IAAI,CAAC,CAAC,EAAC,CAAC,CAAC;UAChC,IAAI,CAACsb,WAAW,GAAG,IAAI,CAACnmC,IAAI,CAACsI,cAAc,CAAC,YAAY,CAAC,CAAChI,YAAY,CAACqe,aAAa,CAAC;SACxF;QAAAtzB,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ,EAAG;QAAAxnB,MAAA,CACXE,SAAS,GAAT,SAAAA,YAAY;UACR,IAAI,CAAC86C,aAAa,GAAG,IAAI;;;;;QAE9Bh7C,MAAA,CAGC8kC,cAAc,GAAd,SAAAA,eAAeuB,QAAkB,EAAE;UAC/B,IAAI,CAAC1xB,IAAI,CAACY,MAAM,GAAG,KAAK;UACxB,IAAI,CAACs2B,KAAK,EAAE;UACZ,IAAIxF,QAAQ,EAAE;YACV,IAAI,CAAC1xB,IAAI,CAACY,MAAM,GAAG,IAAI;YACvB,IAAI,CAACpE,QAAQ,KAAK,IAAI,CAACA,QAAQ,CAACsH,MAAM,GAAG4tB,QAAQ,CAACl1B,QAAQ,CAAC;;;;;;;;;;YAU3D,IAAIiqC,cAAwB,GAAG9uC,OAAO,CAACtN,IAAI,CAACq8C,WAAW,CAAChV,QAAQ,CAACh5B,MAAM,CAAC;YACxE,IAAG+tC,cAAc,EACjB;cACIzpC,OAAO,CAAC3S,IAAI,CAACs8C,YAAY,CAACF,cAAc,CAACG,QAAQ,EAAC,IAAI,CAACzpC,IAAI,CAACmD,YAAY,CAACjT,MAAM,CAAC,CAAC;;YAGrF,IAAI,CAACw5C,SAAS,CAAC,KAAK,CAAC;YACrB,IAAI,CAAC/N,QAAQ,CAAC,KAAK,CAAC;YAEpB,IAAI,CAACoN,OAAO,GAAGxU,QAAQ,CAACj7B,OAAO;YAC/B,IAAI,CAACiD,MAAM,GAAGg4B,QAAQ,CAACh5B,MAAM;YAC7B,IAAIg5B,QAAQ,CAACmH,OAAO,IAAI,KAAK,EAAC;cAC1B,IAAI,CAACC,QAAQ,CAAC,IAAI,CAAC;;;;YAIvB,IAAI,CAACF,QAAQ,CAAClH,QAAQ,CAAC70B,IAAI,CAAC;YAC5B,IAAIikB,MAAM,GAAGtI,UAAU,CAACuI,iBAAiB,CAAC2Q,QAAQ,CAACj7B,OAAO,EAAEyD,YAAY,CAAC7P,IAAI,CAAC0S,SAAS,CAAC;YACxF,IAAI,IAAI,CAACspC,aAAa,IAAI,IAAI,EAAE;cAC5B,IAAI,CAACA,aAAa,CAAC1vC,IAAI,CAACmqB,MAAM,EAAE,CAAC,CAAC,CAAC;;;SAG9C;;QAAAz1B,MAAA,CACDurC,YAAY,GAAZ,SAAAA,aAAaphC,GAAW,EAAE8+B,QAAQ,EAAS;UAAA,IAAjBA,QAAQ;YAARA,QAAQ,GAAG,IAAI;;UACrC,IAAI,IAAI,CAACz6B,SAAS,CAAC+G,MAAM,IAAI0zB,QAAQ,EAAE;YACnC,IAAI,CAACz6B,SAAS,CAAC+G,MAAM,GAAG0zB,QAAQ;;UAEpC,IAAItQ,GAAG,GAAG,IAAI,CAACnqB,SAAS,CAACyO,cAAc,CAAC,OAAO,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC;UACpE,IAAImgB,GAAG,IAAI,IAAI,EAAE;YACbA,GAAG,CAAClgB,MAAM,GAAGtO,GAAG,CAACmJ,QAAQ,EAAE;;;;;;QAGvCtT,MAAA,CACI2O,aAAa,GAAb,SAAAA,cAAc8sC,SAAiB,EAAE;UAC7B,IAAI,CAAClQ,YAAY,CAACkQ,SAAS,CAAC;;;;;;;;;;SAU/B;;QAAAz7C,MAAA,CACDgoC,WAAW,GAAX,SAAAA,YAAY0T,SAAmB,EAAE;UAC7B,IAAI,IAAI,CAAChV,OAAO,EAAE;YACd,KAAK,IAAI/gC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+gC,OAAO,CAAClxB,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;cACnD,IAAIA,CAAC,GAAG+1C,SAAS,CAACl5C,MAAM,EAAE;gBACtB,IAAI0D,OAAO,GAAG,IAAI,CAACwgC,OAAO,CAAClxB,QAAQ,CAAC7P,CAAC,CAAC;gBACtC,IAAIyrB,MAAM,GAAGsqB,SAAS,CAAC/1C,CAAC,CAAC;gBACzB,IAAIO,OAAO,IAAI,IAAI,EAAE;kBACjBA,OAAO,CAAC+O,YAAY,CAACgZ,QAAQ,CAAC,CAAC0Y,MAAM,GAAGvV,MAAM;;;;;SAKjE;QAAApxB,MAAA,CACDitC,UAAU,GAAV,SAAAA,WAAWvgC,KAAe,EAAEiN,MAAe,EAAU;UAAA,IAAAwM,MAAA;UAAA,IAAzBxM,MAAe;YAAfA,MAAe,GAAG,KAAK;;;UAE/C,IAAIgiC,OAAgB,GAAG,IAAI;UAC3B,IAAI,IAAI,CAACT,MAAM,EAAE;YACb,IAAI,IAAI,CAACA,MAAM,CAAC1lC,QAAQ,CAAChT,MAAM,KAAKkK,KAAK,CAAClK,MAAM,EAAE;cAC9Cm5C,OAAO,GAAG,KAAK;aAClB,MAAM;cACH,KAAK,IAAIh2C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACu1C,MAAM,CAAC1lC,QAAQ,CAAChT,MAAM,EAAEmD,CAAC,EAAE,EAAE;gBAClD,IAAIO,OAAO,GAAG,IAAI,CAACg1C,MAAM,CAAC1lC,QAAQ,CAAC7P,CAAC,CAAC;gBACrC,IAAIi2C,QAAQ,GAAG11C,OAAO,CAAC+O,YAAY,CAACgZ,QAAQ,CAAC;gBAC7C,IAAI2tB,QAAQ,IAAIA,QAAQ,CAACjV,MAAM,KAAKj6B,KAAK,CAAC/G,CAAC,CAAC,EAAE;kBAC1Cg2C,OAAO,GAAG,KAAK;kBACf;;;;;UAMhB,IAAIA,OAAO,EAAE;YACT;;UAGJ,IAAI,IAAI,CAACT,MAAM,EAAE;YACb,IAAI,CAACA,MAAM,CAACrV,kBAAkB,EAAE;;UAGpC,IAAIrE,KAAK,GAAG,CAAC;UAAC,IAAAqa,KAAA,YAAAA,QACyB;YACnC,IAAIvuB,IAAI,GAAG5gB,KAAK,CAAC/G,EAAC,CAAC;YACnB,IAAIwgB,MAAI,CAAC+0B,MAAM,EAAE;cACb,IAAI1P,QAAQ,GAAGhuB,WAAW,CAAC8X,QAAQ,CAAC8K,GAAG,CAACqL,UAAU,CAAC;cACnDD,QAAQ,CAAC/S,SAAS,CAACtS,MAAI,CAAC+0B,MAAM,CAAC;cAC/B1P,QAAQ,CAAC9tB,WAAW,CAAC8hB,IAAI,CAACsc,IAAI,CAAC;cAC/B,IAAIF,SAAQ,GAAGpQ,QAAQ,CAACv2B,YAAY,CAACgZ,QAAQ,CAAC;cAC9C,IAAI2tB,SAAQ,EAAE;gBACVA,SAAQ,CAACjV,MAAM,GAAGrZ,IAAI;;;cAG1B,IAAM4G,WAAW,GAAGsX,QAAQ,CAACv2B,YAAY,CAACkf,WAAW,CAAC;cACtD,IAAID,WAAW,EAAE;gBACbA,WAAW,CAAC6nB,OAAO,GAAG,CAAC;gBACvB7nB,WAAW,CAAC8nB,OAAO,GAAG,GAAG;;cAG7B,IAAIriC,MAAM,EAAE;gBACR,IAAIiiC,SAAQ,EAAE;kBACVA,SAAQ,CAACvc,MAAM,CAAC9pB,MAAM,GAAG,IAAI;;;cAIrCi2B,QAAQ,CAAC7tB,OAAO,GAAG,CAAC;cACpB,IAAIs+B,SAAS,GAAGzQ,QAAQ,CAACvuB,cAAc,CAAC,MAAM,CAAC;cAC/C,IAAIg/B,SAAS,EAAE;gBACXA,SAAS,CAAC5S,QAAQ,CAAC7J,IAAI,CAACsc,IAAI,CAAC;;;;cAIjC,IAAM3Z,WAAW,GAAGxN,KAAK,CAAC6W,QAAQ,CAAC,CAC/B5W,EAAE,CAAC,GAAG,EAAE;gBAAEjX,OAAO,EAAE;eAAK,CAAC;;;cAG7B,IAAMy7B,UAAU,GAAG6C,SAAS,GAAGtnB,KAAK,CAACsnB,SAAS,CAAC,CAC3CrnB,EAAE,CAAC,GAAG,EAAE;gBAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;eAAG,EAAE;gBAAES,MAAM,EAAEA,MAAM,CAACC;eAAS,CAAC,GAAG,IAAI;cAE5EmC,UAAU,CAAC,YAAM;gBACb,IAAImJ,QAAQ,CAAC7I,OAAO,EAAE;kBAClBR,WAAW,CAAC3a,KAAK,EAAE;kBACnB4xB,UAAU,YAAVA,UAAU,CAAE5xB,KAAK,EAAE;;eAE1B,EAAEga,KAAK,GAAG,IAAI,CAAC;cAEhBA,KAAK,IAAI,IAAI;;YAGjB,IAAIrb,MAAI,CAACugB,OAAO,EAAE;cACd,KAAK,IAAIp3B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6W,MAAI,CAACugB,OAAO,CAAClxB,QAAQ,CAAChT,MAAM,EAAE8M,CAAC,EAAE,EAAE;gBACnD,IAAIpJ,QAAO,GAAGigB,MAAI,CAACugB,OAAO,CAAClxB,QAAQ,CAAClG,CAAC,CAAC;gBACtC,IAAI4sC,eAAe,GAAGh2C,QAAO,CAAC+O,YAAY,CAACgZ,QAAQ,CAAC;gBACpD,IAAIiuB,eAAe,IAAIA,eAAe,CAACvV,MAAM,KAAKrZ,IAAI,EAAE;kBACpDpnB,QAAO,CAAC+X,OAAO,EAAE;kBACjB;;;;WAIf;UAzDD,KAAK,IAAItY,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG+G,KAAK,CAAClK,MAAM,EAAEmD,EAAC,EAAE;YAAAk2C,KAAA;;SA0DxC;QAAA77C,MAAA,CAEDotC,aAAa,GAAb,SAAAA,cAAc1gC,KAAe,EAAE+nC,IAAY,EAAE;UACzC,IAAIA,IAAI,IAAI5b,SAAS,CAACC,IAAI,IAAI,IAAI,CAACgiB,WAAW,IAAI,IAAI,EAAE;UAExD,IAAIrG,IAAI,IAAI5b,SAAS,CAACG,IAAI,EAAE;YACxB,IAAI1L,IAAI,GAAG5gB,KAAK,CAAC,CAAC,CAAC;YACnB,IAAI4gB,IAAI,IAAIH,UAAU,CAACC,WAAW,CAACE,IAAI,CAAC,IAAI/lB,SAAS,CAAC+xB,GAAG,EAAE;;cAEvD,IAAI,CAACwhB,WAAW,CAAC3lB,WAAW,EAAE;cAC9B;;;UAGR,IAAIsf,IAAI,IAAI5b,SAAS,CAACM,KAAK,EAAE;YACzB,IAAIzsB,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;cACnB,IAAI,CAACs4C,WAAW,CAAC7lB,YAAY,EAAE;cAC/B;;YAEJ,IAAIvoB,KAAK,CAAClK,MAAM,IAAI,CAAC,EAAE;cACnB,IAAI,CAACs4C,WAAW,CAAC5lB,YAAY,EAAE;cAC/B;;;UAIR,IAAIuf,IAAI,IAAI5b,SAAS,CAACO,IAAI,EAAE;;YAExB,IAAI,CAAC0hB,WAAW,CAAC9lB,OAAO,EAAE;YAC1B;;SAEP;QAAAh1B,MAAA,CACD0oC,WAAW,GAAX,SAAAA,YAAYQ,KAAc,EAAU;UAAA,IAAAiT,iBAAA;UAAA,IAAxBjT,KAAc;YAAdA,KAAc,GAAG,KAAK;;UAC9B,IAAI,IAAI,CAACgS,MAAM,EAAE;YACb,IAAIhS,KAAK,EAAE;cACP,IAAI1H,KAAK,GAAG,CAAC;cACb,IAAMhsB,QAAQ,GAAG,IAAI,CAAC0lC,MAAM,CAAC1lC,QAAQ;cAAC,IAAA4mC,MAAA,YAAAA,SACS;gBAC3C,IAAMl2C,OAAO,GAAGsP,QAAQ,CAAC7P,CAAC,CAAC;;gBAE3BmvB,KAAK,CAACC,eAAe,CAAC7uB,OAAO,CAAC;gBAE9B,IAAMm2C,YAAY,GAAG1nB,KAAK,CAACzuB,OAAO,CAAC,CAC/B0uB,EAAE,CAAC,IAAI,EAAE;kBAAEjX,OAAO,EAAE;iBAAG,CAAC,CACxB/a,IAAI,CAAC,YAAM;kBACP,IAAIsD,OAAO,CAACy8B,OAAO,EAAE;oBACjBz8B,OAAO,CAACo2C,gBAAgB,EAAE;oBAC1Bp2C,OAAO,CAAC+X,OAAO,EAAE;;iBAExB,CAAC;gBAENokB,UAAU,CAAC,YAAM;kBACb,IAAIn8B,OAAO,CAACy8B,OAAO,EAAE;oBACjB0Z,YAAY,CAAC70B,KAAK,EAAE;;iBAE3B,EAAEga,KAAK,GAAG,IAAI,CAAC;gBAEhBA,KAAK,IAAI,IAAI;eAChB;cArBD,KAAK,IAAI77B,CAAC,GAAG6P,QAAQ,CAAChT,MAAM,GAAG,CAAC,EAAEmD,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE;gBAAAy2C,MAAA;;aAsBhD,MAAM;cACH,IAAM5mC,SAAQ,GAAG,IAAI,CAAC0lC,MAAM,CAAC1lC,QAAQ;cAAC,IAAA+mC,MAAA,YAAAA,SACS;gBAC3C,IAAMr2C,OAAO,GAAGsP,SAAQ,CAAC7P,GAAC,CAAC;;gBAE3BmvB,KAAK,CAACC,eAAe,CAAC7uB,OAAO,CAAC;gBAE9ByuB,KAAK,CAACzuB,OAAO,CAAC,CACV0uB,EAAE,CAAC,GAAG,EAAE;kBAAEjX,OAAO,EAAE;iBAAG,CAAC,CACvB/a,IAAI,CAAC,YAAM;kBACP,IAAIsD,OAAO,CAACy8B,OAAO,EAAE;oBACjBz8B,OAAO,CAACo2C,gBAAgB,EAAE;oBAC1Bp2C,OAAO,CAAC+X,OAAO,EAAE;;iBAExB,CAAC,CACFuJ,KAAK,EAAE;eACd;cAdD,KAAK,IAAI7hB,GAAC,GAAG6P,SAAQ,CAAChT,MAAM,GAAG,CAAC,EAAEmD,GAAC,IAAI,CAAC,EAAEA,GAAC,EAAE;gBAAA42C,MAAA;;;;UAiBrD,CAAAJ,iBAAA,OAAI,CAACrB,WAAW,aAAhBqB,iBAAA,CAAkBroB,KAAK,EAAE,CAAC;SAC7B;;QAAA9zB,MAAA,CACD+uC,YAAY,GAAZ,SAAAA,eAAe;UAAA,IAAAyN,cAAA;UACX,CAAAA,cAAA,OAAI,CAAC9V,OAAO,aAAZ8V,cAAA,CAAc3W,kBAAkB,EAAE;SACrC;QAAA7lC,MAAA,CACDytC,QAAQ,GAAR,SAAAA,SAASD,OAAO,EAAS;UAAA,IAAhBA,OAAO;YAAPA,OAAO,GAAG,IAAI;;UACnB,IAAI,IAAI,CAAC1Z,KAAK,EAAE;YACZ,IAAI0Z,OAAO,EAAE;cACT,IAAI,CAAC1Z,KAAK,CAACve,MAAM,GAAG,IAAI;cACxB,IAAI,CAACue,KAAK,CAACnW,OAAO,GAAG,CAAC;cACtB,IAAI,CAACmW,KAAK,CAACuV,QAAQ,CAAC7J,IAAI,CAACsc,IAAI,CAAC;;;cAG9BhnB,KAAK,CAACC,eAAe,CAAC,IAAI,CAACjB,KAAK,CAAC;;;cAGjC,IAAMqO,WAAW,GAAGxN,KAAK,CAAC,IAAI,CAACb,KAAK,CAAC,CACjCc,EAAE,CAAC,GAAG,EAAE;gBAAEjX,OAAO,EAAE;eAAK,CAAC;;;cAG7B,IAAMy7B,UAAU,GAAGzkB,KAAK,CAAC,IAAI,CAACb,KAAK,CAAC,CAChCc,EAAE,CAAC,GAAG,EAAE;gBAAEP,KAAK,EAAE,IAAImL,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;eAAG,EAAE;gBAAES,MAAM,EAAEA,MAAM,CAACC;eAAS,CAAC;;;cAGrEvL,KAAK,CAAC,IAAI,CAACb,KAAK,CAAC,CACbwV,QAAQ,CAACnH,WAAW,EAAEiX,UAAU,CAAC,CACjC5xB,KAAK,EAAE;aACd,MAAM;cACH,IAAI,CAACsM,KAAK,CAACve,MAAM,GAAG,KAAK;;;SAGpC;QAAAvV,MAAA,CACDw7C,SAAS,GAAT,SAAAA,UAAUiB,QAAiB,EAAE;UACzB,IAAI,CAACC,SAAS,KAAK,IAAI,CAACA,SAAS,CAACnnC,MAAM,GAAG,CAAC,CAACknC,QAAQ,CAAC;SACzD;QAAAz8C,MAAA,CACD6rC,KAAK,GAAL,SAAAA,QAAQ;UAAA,IAAA8Q,cAAA;UACJ,CAAAA,cAAA,OAAI,CAACjW,OAAO,aAAZiW,cAAA,CAAc9W,kBAAkB,EAAE;UAClC,IAAI,CAACqV,MAAM,CAACrV,kBAAkB,EAAE;UAChC,IAAI,CAAC0F,YAAY,CAAC,CAAC,EAAE,KAAK,CAAC;UAC3B,IAAI,CAACtB,OAAO,CAAC4B,KAAK,EAAE;;;;;;;QAEzB7rC,MAAA,CAKCutC,QAAQ,GAAR,SAAAA,SAAS18B,KAAK,EAAU;UACpB,IAAI,CAACA,KAAK,KAAK,IAAI,CAACA,KAAK,CAAC4H,MAAM,GAAG1G,SAAS,CAACiI,UAAU,CAACnJ,KAAK,CAAC,CAAC;UAC/D,IAAIoD,MAAM,GAAGpD,KAAK,GAAG,IAAI,CAACkqC,UAAU;UACpC,IAAI,CAACA,UAAU,GAAGlqC,KAAK;UACvB,OAAOoD,MAAM;SAChB;QAAAjU,MAAA,CACO48C,cAAc,GAAtB,SAAAA,iBAAyB;UACrB,IAAIn/B,MAAM,GAAG,IAAI,CAAC5M,KAAK,CAAC8D,IAAI,CAAC8I,MAAM;UACnC,IAAIA,MAAM,IAAI,IAAI,EAAE;YAChB,IAAIo/B,QAAQ,GAAGp/B,MAAM,CAACR,cAAc,CAAC,WAAW,CAAC;YACjD4/B,QAAQ,KAAKA,QAAQ,CAACtnC,MAAM,GAAG,KAAK,CAAC;;UAEzC,IAAI,CAAC1E,KAAK,IAAK,IAAI,CAACA,KAAK,CAAC8D,IAAI,CAAC+I,WAAW,CAAC,CAAC,EAAE,CAAC,CAAE;SACpD;QAAA1d,MAAA,CACDmmC,cAAc,GAAd,SAAAA,eAAe2W,UAAgC,EAAE;UAC7C,IAAIA,UAAU,CAACj3C,IAAI,IAAI,IAAI,EAAE;YACzBi3C,UAAU,CAACj3C,IAAI,CAAC2L,IAAI,IAAK,IAAI,CAAC+7B,QAAQ,CAACuP,UAAU,CAACj3C,IAAI,CAAC2L,IAAI,CAAE;;SAEpE;QAAAxR,MAAA,CACD0uC,kBAAkB,GAAlB,SAAAA,mBAAmB7oC,IAAoB,EAAE;UACrC,IAAIgL,KAAK,GAAGhL,IAAI,CAAC+K,OAAO,GAAG/K,IAAI,CAACiL,QAAQ;UACxC,IAAIjL,IAAI,CAACmL,QAAQ,EAAE;YACf,IAAI,CAACi5B,OAAO,CAAC6O,OAAO,CAACjoC,KAAK,CAAC;WAC9B,MACI;YACD,IAAI,CAACo5B,OAAO,CAACkP,QAAQ,CAACtoC,KAAK,CAAC;;SAEnC;QAAA7Q,MAAA,CACD8pC,gBAAgB,GAAhB,SAAAA,iBAAiBj5B,KAAa,EAAE;UAC5B,IAAI,CAACo5B,OAAO,CAAC+O,YAAY,CAACnoC,KAAK,CAAC;SACnC;QAAA7Q,MAAA,CACDyvC,iBAAiB,GAAjB,SAAAA,kBAAkB5pC,IAAoB,EAAE;UACpC,IAAI,CAAC0nC,QAAQ,CAAC1nC,IAAI,CAAC8K,OAAO,CAAC;SAC9B;QAAA3Q,MAAA,CACO+8C,WAAW,GAAnB,SAAAA,cAAsB;;;;;;;SAOrB;QAAA/8C,MAAA,CACM+pC,WAAW,GAAlB,SAAAA,YAAmBiT,MAAc,EAAE;UAC/B,IAAI,CAAC/S,OAAO,CAACoP,WAAW,CAAC2D,MAAM,CAAC;SACnC;QAAAh9C,MAAA,CACMqtC,aAAa,GAApB,SAAAA,cAAqBxnC,IAAI,EAAE;UACvB,IAAI,IAAI,CAACm1C,aAAa,EAAE;YACpB,IAAI,CAACA,aAAa,CAAC3N,aAAa,CAACxnC,IAAI,CAAC;;SAE7C;QAAA7F,MAAA,CACMstC,QAAQ,GAAf,SAAAA,WAAkB;UACd,IAAI,IAAI,CAAC0N,aAAa,EAAE;YACpB,IAAI,CAACA,aAAa,CAAC1N,QAAQ,EAAE;;SAEpC;QAAAttC,MAAA,CACM8uC,OAAO,GAAd,SAAAA,UAAiB;UACb,IAAI,IAAI,CAACkM,aAAa,EAAE;YACpB,IAAI,CAACA,aAAa,CAAClM,OAAO,EAAE;;SAEnC;QAAA9uC,MAAA,CACM6uC,WAAW,GAAlB,SAAAA,cAAqB;UAAA,IAAAtM,MAAA;UACjB,IAAI,IAAI,CAACyY,aAAa,EAAE;YACpB,IAAI,CAACA,aAAa,CAACnM,WAAW,EAAE;YAChC,IAAI,CAACpa,YAAY,CAAC,YAAM;cACpB8N,MAAI,CAACyY,aAAa,CAAClM,OAAO,EAAE;aAC/B,EAAE,CAAC,CAAC;;SAEZ;QAAA9uC,MAAA,CACM4oC,QAAQ,GAAf,SAAAA,SAAgBkR,MAAM,EAAE;UACpB,IAAI,CAAC7P,OAAO,CAACrB,QAAQ,CAACkR,MAAM,CAAC;SAChC;QAAA,OAAAjX,UAAA;MAAA,EAnZmC1/B,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEpB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,SAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEV,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEN,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,aAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAqrB,YAAA,GAAAzrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAmuB,KAAA;QAAA/qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAED,IAAI;;MAAA,IAAAsrB,YAAA,GAAA1rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAouB,KAAA;QAAAhrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAurB,YAAA,GAAA3rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAquB,KAAA;QAAAjrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEP,IAAI;;MAAA,IAAAwrB,YAAA,GAAA5rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,WAAAsuB,MAAA;QAAAlrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAyrB,aAAA,GAAA7rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAuuB,MAAA;QAAAnrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEF,IAAI;;MAAA,IAAA0rB,aAAA,GAAA9rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAAyuB,MAAA;QAAArrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,IAAAu/B,aAAA,GAAA3/B,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAA6iC,MAAA;QAAAz/B,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAER,IAAI;;MAAA,IAAAm3C,aAAA,GAAAv3C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAy6C,MAAA;QAAAr3C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cA1BF,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;MC3B/B,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAMJq7C,cAAc,uBAAAn7C,IAAA,GADlCJ,OAAO,CAAC,eAAe,CAAC,EAAAK,KAAA,GAEpBH,QAAQ,CAACkI,IAAI,CAAC,EAAAmd,KAAA,GAEdrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA0V,KAAA,GAEftsB,QAAQ,CAACkI,IAAI,CAAC,EAAAqkB,KAAA,GAEdvsB,QAAQ,CAACkI,IAAI,CAAC,EAAAskB,KAAA,GAEdxsB,QAAQ,CAACkI,IAAI,CAAC,EAAAukB,KAAA,GAEdzsB,QAAQ,CAACkI,IAAI,CAAC,EAAAwkB,KAAA,GAEd1sB,QAAQ,CAACkI,IAAI,CAAC,EAAAykB,MAAA,GAEd3sB,QAAQ,CAACkI,IAAI,CAAC,EAAA0kB,MAAA,GAEd5sB,QAAQ,CAACkI,IAAI,CAAC,EAAA4kB,MAAA,GAEd9sB,QAAQ,CAAC4W,KAAK,CAAC,EAAAsqB,MAAA,GAEflhC,QAAQ,CAAC4W,KAAK,CAAC,EAAAkiC,MAAA,GAEf94C,QAAQ,CAACkI,IAAI,CAAC,EAAAozC,MAAA,GAEdt7C,QAAQ,CAACkI,IAAI,CAAC,EAAAqzC,MAAA,GAEdv7C,QAAQ,CAACkI,IAAI,CAAC,EAAAszC,MAAA,GAEdx7C,QAAQ,CAACkI,IAAI,CAAC,EAAAuzC,MAAA,GAEdz7C,QAAQ,CAACkI,IAAI,CAAC,EAAAwzC,MAAA,GAEd17C,QAAQ,CAACkI,IAAI,CAAC,EAAAyzC,MAAA,GAEd37C,QAAQ,CAAC6sB,WAAW,CAAC,EAAA3sB,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAA66C,cAAA,EAAA96C,UAAA;QAAA,SAAA86C;UAAA,IAAA56C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,gBAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,oBAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAAwsB,YAAA,EAAA3rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAAysB,YAAA,EAAA5rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA0sB,YAAA,EAAA7rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAA2sB,YAAA,EAAA9rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,UAAA4sB,aAAA,EAAA/rB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,aAAA6sB,aAAA,EAAAhsB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA0gC,aAAA,EAAA7/B,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAAs4C,aAAA,EAAAz3C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,UAAAm7C,aAAA,EAAAt6C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,SAAAo7C,aAAA,EAAAv6C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,QAAAq7C,aAAA,EAAAx6C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,SAAAs7C,aAAA,EAAAz6C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,gBAAAu7C,aAAA,EAAA16C,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAAw7C,aAAA,EAAA36C,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAEdgzB,UAAU,GAAa,IAAI;UAAAhzB,KAAA,CAC3By7C,SAAS,GAAW,CAAC;UAAAz7C,KAAA,CACrB07C,QAAQ,GAAW,CAAC;UAAA,OAAA17C,KAAA;;QAAA,IAAArC,MAAA,GAAAi9C,cAAA,CAAAh9C,SAAA;QAAAD,MAAA,CAC5BqnB,MAAM,GAAN,SAAAA,SAAS;;;SAGR;QAAArnB,MAAA,CACKg+C,OAAO;UAAA,IAAAC,QAAA,GAAAv2B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAb,SAAAC,QAAcxa,MAAc,EAAEjC,OAAe;YAAA,OAAAuc,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;cAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;gBAAA;kBAAA,OAAAF,QAAA,CAAAI,IAAA;;eAAAP,OAAA;WAiD5C;UAAA,SAAAm2B,QAAArO,EAAA,EAAAM,GAAA;YAAA,OAAAgO,QAAA,CAAAp7C,KAAA,OAAAN,SAAA;;UAAA,OAAAy7C,OAAA;;QAAAh+C,MAAA,CACOk+C,YAAY,GAApB,SAAAA,eAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;SA2BtB;QAAAl+C,MAAA,CACOm+C,eAAe,GAAvB,SAAAA,gBAAwB3sB,KAAK,EAAE;;;;;;;;SAS9B;QAAAxxB,MAAA,CACDo4B,OAAO,GAAP,SAAAA,UAAU;;;SAGT;QAAAp4B,MAAA,CACKo+C,WAAW;UAAA,IAAAC,YAAA,GAAA32B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAjB,SAAAwnB,SAAkB/hC,MAAM;YAAA,OAAAsa,mBAAA,GAAAG,IAAA,UAAAwnB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAtnB,IAAA,GAAAsnB,SAAA,CAAArnB,IAAA;gBAAA;gBAAA;kBAAA,OAAAqnB,SAAA,CAAAnnB,IAAA;;eAAAgnB,QAAA;WAYvB;UAAA,SAAAgP,YAAAE,GAAA;YAAA,OAAAD,YAAA,CAAAx7C,KAAA,OAAAN,SAAA;;UAAA,OAAA67C,WAAA;;QAAA,OAAAnB,cAAA;MAAA,EAtJuC95C,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEvB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEN,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,qBAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,IAAAqrB,YAAA,GAAAzrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAmuB,KAAA;QAAA/qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEb,IAAI;;MAAA,IAAAsrB,YAAA,GAAA1rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAouB,KAAA;QAAAhrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEA,IAAI;;MAAA,IAAAurB,YAAA,GAAA3rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAquB,KAAA;QAAAjrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAwrB,YAAA,GAAA5rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAsuB,MAAA;QAAAlrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAAyrB,aAAA,GAAA7rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,WAAAuuB,MAAA;QAAAnrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAET,IAAI;;MAAA,IAAA0rB,aAAA,GAAA9rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAAyuB,MAAA;QAAArrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEA,IAAI;;MAAA,IAAAu/B,aAAA,GAAA3/B,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAA6iC,MAAA;QAAAz/B,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEN,IAAI;;MAAA,IAAAm3C,aAAA,GAAAv3C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAy6C,MAAA;QAAAr3C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAED,IAAI;;MAAA,IAAAg6C,aAAA,GAAAp6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,WAAAi9C,MAAA;QAAA75C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAET,IAAI;;MAAA,IAAAi6C,aAAA,GAAAr6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,UAAAk9C,MAAA;QAAA95C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAk6C,aAAA,GAAAt6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,SAAAm9C,MAAA;QAAA/5C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAm6C,aAAA,GAAAv6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,UAAAo9C,MAAA;QAAAh6C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAAo6C,aAAA,GAAAx6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAAq9C,MAAA;QAAAj6C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEG,IAAI;;MAAA,IAAAq6C,aAAA,GAAAz6C,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAs9C,MAAA;QAAAl6C,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEE,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;MAoHxC;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;MC3VA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGJ28C,sBAAsB,uBAAAz8C,IAAA,GAD1CJ,OAAO,CAAC,uBAAuB,CAAC,EAAAK,KAAA,GAE5BH,QAAQ,CAACI,MAAM,CAAC,EAAAilB,KAAA,GAEhBrlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAm8C,sBAAA,EAAAp8C,UAAA;QAAA,SAAAo8C;UAAA,IAAAl8C,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,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5rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,uBAAAsuB,MAAA;QAAAlrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGM,IAAI;;MAAA,IAAAyrB,aAAA,GAAA7rB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,qBAAAuuB,MAAA;QAAAnrB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEb,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;MA+KtC;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;MC/bA,IAAOgC,OAAO,GAAcC,UAAU,CAA/BD,OAAO;QAAEE,QAAQ,GAAID,UAAU,CAAtBC,QAAQ;UAMHuiD,cAAc,uBAAAriD,IAAA,GADlCJ,OAAO,CAAC,eAAe,CAAC,EAAAK,KAAA,GAEpBH,QAAQ,CAACkI,IAAI,CAAC,EAAAmd,KAAA,GAEdrlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA0O,KAAA,GAEftlB,QAAQ,CAAC00B,SAAS,CAAC,EAAApI,KAAA,GAEnBtsB,QAAQ,CAACkI,IAAI,CAAC,EAAAqkB,KAAA,GAEdvsB,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAA+hD,cAAA,EAAAhiD,UAAA;QAAA,SAAAgiD;UAAA,IAAA9hD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,cAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,SAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,eAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,cAAAusB,YAAA,EAAA1rB,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAEP+hD,YAAY,GAAY,IAAI;UAAA,OAAA/hD,KAAA;;QAAA,IAAArC,MAAA,GAAAmkD,cAAA,CAAAlkD,SAAA;QAAAD,MAAA,CACpCqnB,MAAM,GAAN,SAAAA,SAAU;;;SAGT;QAAArnB,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;;SAEX;QAAAF,MAAA,CACOqkD,gBAAgB,GAAxB,SAAAA,iBAAyB7d,UAAoB,EAAE;;;SAG9C;QAAAxmC,MAAA,CACOskD,iBAAiB,GAAzB,SAAAA,kBAA0BC,MAAc,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAqCzC;QAAAvkD,MAAA,CACOwkD,uBAAuB,GAA/B,SAAAA,0BAAkC;;;;;;;;;;;;QAStCxkD,MAAA,CACYykD,wBAAwB,GAAhC,SAAAA,2BAAmC;;;;;;SAMlC;QAAAzkD,MAAA,CACO0kD,mBAAmB,GAA3B,SAAAA,sBAA8B;;;;;;SAM7B;QAAA,OAAAP,cAAA;MAAA,EApFuChhD,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEzB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,UAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,IAAAorB,YAAA,GAAAxrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAAkuB,KAAA;QAAA9qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;MA8EhC;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;MCvMA,IAAOgC,OAAO,GAAcC,UAAU,CAA/BD,OAAO;QAAEE,QAAQ,GAAID,UAAU,CAAtBC,QAAQ;UAGH+iD,cAAc,uBAAA7iD,IAAA,GADlCJ,OAAO,CAAC,eAAe,CAAC,EAAAK,KAAA,GAGpBH,QAAQ,CAAC4W,KAAK,CAAC,EAAAyO,KAAA,GAEfrlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA0O,KAAA,GAEftlB,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,IAAA+vB,OAAA,0BAAA9vB,UAAA;QAAAC,cAAA,CAAAuiD,cAAA,EAAAxiD,UAAA;QAAA,SAAAwiD;UAAA,IAAAtiD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,YAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,WAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,gBAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAA,OAAAA,KAAA;;QAAA,IAAArC,MAAA,GAAA2kD,cAAA,CAAA1kD,SAAA;;QAEpBD,MAAA,CACIqnB,MAAM,GAAN,SAAAA,SAAU;;;SAGT;QAAArnB,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAS;;;;QAGb,OAAAm9B,cAAA;MAAA,EAhB4CxhD,SAAS,GAAA8uB,OAAA,CACnCmO,GAAG,WAAAnO,OAAA,IAAAhvB,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,aAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEM,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,YAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEC,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cAPA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCoBnC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAIJgjD,WAAW,uBAAA9iD,IAAA,GAD/BJ,OAAO,CAAC,YAAY,CAAC,EAAAK,KAAA,GAEjBH,QAAQ,CAACkI,IAAI,CAAC,EAAAmd,KAAA,GAEdrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAwiD,WAAA,EAAAziD,UAAA;QAAA,SAAAyiD;UAAA,IAAAviD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,eAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,gBAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAA,OAAAA,KAAA;;QAAA,IAAArC,MAAA,GAAA4kD,WAAA,CAAA3kD,SAAA;;QAEnBD,MAAA,CACIqnB,MAAM,GAAN,SAAAA,SAAS;UACL,IAAI4c,OAAgC,GAAG79B,aAAa,CAACI,WAAW,EAAE,CAACW,SAAS,CAACP,uBAAuB,CAA4B;UAChI,IAAI+xB,GAAG,GAAG5b,IAAI,CAAC,kCAAkC,EAAE,IAAI,CAACpI,IAAI,CAAC,CAACM,YAAY,CAACuD,KAAK,CAAC;UACjFmgB,GAAG,CAAClgB,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;UAEvC,IAAIg/B,KAAK,GAAG,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,CAACC,SAAS,CAAC;UAC7C,KAAK,IAAI97B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG47B,KAAK,CAACriD,MAAM,EAAEymB,CAAC,EAAE,EAAE;YACnC,IAAI/iB,OAAO,GAAG2+C,KAAK,CAAC57B,CAAC,CAAC;YACtB,IAAI+7B,MAAM,GAAG9+C,OAAO,CAAC+W,cAAc,CAAC,OAAO,CAAC,CAACA,cAAc,CAAC,WAAW,CAAC;YACxE,IAAIgoC,OAAO,GAAG/+C,OAAO,CAAC+W,cAAc,CAAC,QAAQ,CAAC,CAACA,cAAc,CAAC,WAAW,CAAC;YAC1E+nC,MAAM,CAAC/vC,YAAY,CAACuD,KAAK,CAAC,CAACC,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;YAC9Do/B,OAAO,CAAChwC,YAAY,CAACuD,KAAK,CAAC,CAACC,MAAM,GAAGwrB,OAAO,CAACpe,WAAW,CAAC,KAAK,CAAC;;SAEtE;QAAA7lB,MAAA,CACDwnB,KAAK,GAAL,SAAAA,QAAQ;UACJ,IAAIrnB,SAAS,GAAIrB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACimD,WAAW;UACpD,IAAI,CAACH,SAAS,CAACvvC,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAGpV,SAAS;UAC7C,IAAI,CAAC4kD,SAAS,CAACvvC,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAG,CAACpV,SAAS;UAC9C,IAAIC,YAAY,GAAGtB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACkmD,YAAY;UACvD,IAAI,CAACL,UAAU,CAACtvC,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAGnV,YAAY;UACjD,IAAI,CAAC0kD,UAAU,CAACtvC,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAG,CAACnV,YAAY;UAElD,IAAI0jC,IAAI,GAAG,IAAI,CAACnvB,IAAI,CAAC0J,uBAAuB,CAAC0lB,MAAM,CAAC;UACpD,KAAK,IAAIp+B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGm+B,IAAI,CAACthC,MAAM,EAAEmD,CAAC,EAAE,EAAE;YAClCm+B,IAAI,CAACn+B,CAAC,CAAC,CAACgP,IAAI,CAAC3T,EAAE,CAAC8I,IAAI,CAAC4tB,SAAS,CAAC1Z,SAAS,EAAE,IAAI,CAACgmB,UAAU,EAAE,IAAI,CAAC;;SAEvE;QAAAhkC,MAAA,CACDolD,UAAU,GAAV,SAAAA,aAAa;UACT,IAAI,CAACzwC,IAAI,CAACsJ,OAAO,EAAE;SACtB;QAAAje,MAAA,CACDgkC,UAAU,GAAV,SAAAA,WAAWxS,KAAK,EAAE;UACd7yB,YAAY,CAACC,SAAS,EAAE;UACxB,IAAI2b,IAAI,GAAGiX,KAAK,CAAC2G,aAAa,CAAC5d,IAAI;UACnC,QAAQA,IAAI;YACR,KAAK,WAAW;cAEZ,IAAIpa,SAAS,GAAIrB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACimD,WAAW;cACpD1zB,KAAK,CAAC2G,aAAa,CAAC3iB,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAG,CAACpV,SAAS;cACnDqxB,KAAK,CAAC2G,aAAa,CAAC3iB,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAGpV,SAAS;cAClDrB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACimD,WAAW,GAAG,CAAC/kD,SAAS;cAChD;YACJ,KAAK,YAAY;cACb,IAAIC,YAAY,GAAGtB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACkmD,YAAY;cACvD3zB,KAAK,CAAC2G,aAAa,CAAC3iB,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAG,CAACnV,YAAY;cACtDoxB,KAAK,CAAC2G,aAAa,CAAC3iB,QAAQ,CAAC,CAAC,CAAC,CAACD,MAAM,GAAGnV,YAAY;cACrDtB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACkmD,YAAY,GAAG,CAAC/kD,YAAY;cACpD;YACJ,KAAK,WAAW;cACZ,IAAI,CAACglD,UAAU,EAAE;cACjB;YACJ,KAAK,UAAU;cACX,IAAI,CAACA,UAAU,EAAE;cACjBtmD,GAAG,CAACqpC,OAAO,CAAC59B,IAAI,CAAC+a,YAAY,CAAC8iB,WAAW,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,CAACC,OAAO,eAAA3gB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOygB,EAAW;gBAAA,OAAA3gB,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;kBAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;oBAAA;sBACpF,IAAIogB,EAAE,EAAE;wBACJxpC,GAAG,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACspC,QAAQ,EAAE;wBAClCj8B,OAAO,CAACtN,IAAI,CAACwpC,QAAQ,EAAE;;oBAC1B;oBAAA;sBAAA,OAAAxgB,QAAA,CAAAI,IAAA;;mBAAAP,OAAA;eACJ,GAAC;cACF;;;;;;QAGb,OAAA+8B,WAAA;MAAA,EAnEsCzhD,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,gBAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAErB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEH,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cAJF,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC3BhC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAcJyjD,kBAAkB,uBAAAvjD,IAAA,GADtCJ,OAAO,CAAC,mBAAmB,CAAC,EAAAK,KAAA,GAGxBH,QAAQ,CAACw2C,WAAW,CAACC,eAAe,CAAC,EAAApxB,KAAA,GAErCrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAACw2C,WAAW,CAACC,eAAe,CAAC,EAAAnqB,KAAA,GAErCtsB,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAojD,kBAAA;QAAAljD,cAAA,CAAAijD,kBAAA,EAAAC,kBAAA;QAAA,SAAAD;UAAA,IAAAhjD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAijD,kBAAA,CAAA1iD,IAAA,CAAAC,KAAA,CAAAyiD,kBAAA,SAAAxiD,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,iBAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,mBAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,uBAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,oBAAAssB,YAAA,EAAAzrB,sBAAA,CAAAb,KAAA;UAAA,OAAAA,KAAA;;QAAA,IAAArC,MAAA,GAAAqlD,kBAAA,CAAAplD,SAAA;QAAAD,MAAA,CAEfk9B,QAAQ,GAAR,SAAAA,WAAW;UACPooB,kBAAA,CAAArlD,SAAA,CAAMi9B,QAAQ,CAAAt6B,IAAA;UACd,IAAI,CAAC2iD,WAAW,CAAC5wC,IAAI,CAACY,MAAM,GAAG,KAAK;UACpC,IAAI,CAACiwC,iBAAiB,CAAC7wC,IAAI,CAACY,MAAM,GAAG,KAAK;UAC1C,IAAI,CAACkwC,aAAa,CAAClwC,MAAM,GAAG,KAAK;UACjC,IAAI,CAACmwC,cAAc,CAACnwC,MAAM,GAAG,KAAK;UAClCtM,WAAW,CAACE,OAAO,CAAC8yB,mBAAmB,CAACC,SAAS,EAAE,IAAI,CAACypB,QAAQ,EAAE,IAAI,CAAC;UACvE18C,WAAW,CAACE,OAAO,CAAC8yB,mBAAmB,CAACG,WAAW,EAAE,IAAI,CAACwpB,UAAU,EAAE,IAAI,CAAC;UAC3E38C,WAAW,CAACE,OAAO,CAAC8yB,mBAAmB,CAACI,YAAY,EAAE,IAAI,CAAC6R,WAAW,EAAE,IAAI,CAAC;SAEhF;QAAAluC,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAY;UACR+I,WAAW,CAACI,QAAQ,CAAC4yB,mBAAmB,CAACC,SAAS,EAAE,IAAI,CAACypB,QAAQ,EAAE,IAAI,CAAC;UACxE18C,WAAW,CAACI,QAAQ,CAAC4yB,mBAAmB,CAACG,WAAW,EAAE,IAAI,CAACwpB,UAAU,EAAE,IAAI,CAAC;UAC5E38C,WAAW,CAACI,QAAQ,CAAC4yB,mBAAmB,CAACI,YAAY,EAAE,IAAI,CAAC6R,WAAW,EAAE,IAAI,CAAC;SACjF;QAAAluC,MAAA,CACO2lD,QAAQ,GAAhB,SAAAA,WAAmB;UACf,IAAI,CAACJ,WAAW,CAAC5wC,IAAI,CAACY,MAAM,GAAG,IAAI;UACnC,IAAI,CAACgwC,WAAW,CAACrM,aAAa,CAAC,cAAc,EAAE,CAAC,CAAC;UACjD,IAAIlP,QAAgB,GAAG,YAAY;UACnChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;SAC/C;QAAAhqC,MAAA,CACO4lD,UAAU,GAAlB,SAAAA,WAAmB5f,SAAkB,EAAEn1B,KAAa,EAAE;UAAA,IAAAsV,MAAA;UAClD,IAAI6f,SAAS,EAAE;YACX,IAAI,CAACwf,iBAAiB,CAAC7wC,IAAI,CAACY,MAAM,GAAG,IAAI;YACzC,IAAI,CAACiwC,iBAAiB,CAACtM,aAAa,CAAC,cAAc,EAAE,CAAC,CAAC;YACvD,IAAIlP,QAAgB,GAAG,aAAa;YACpChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;YAC5C,IAAI,CAACwb,iBAAiB,CAAC1nC,IAAI,CAACs6B,WAAW,CAACyN,WAAW,CAACC,QAAQ,EAAE,YAAM;cAChE3/B,MAAI,CAAC4/B,cAAc,CAACl1C,KAAK,CAAC;aAC7B,EAAE,IAAI,CAAC;WACX,MACI;YACD,IAAI,CAACk1C,cAAc,CAACl1C,KAAK,CAAC;;SAEjC;QAAA7Q,MAAA,CACO+lD,cAAc,GAAtB,SAAAA,eAAuBl1C,KAAa,EAAE;UAAA,IAAA0xB,MAAA;UAClC,IAAI,CAACkjB,aAAa,CAAClwC,MAAM,GAAG,IAAI;UAChC,IAAI4zB,GAAG,GAAG,IAAI,CAACsc,aAAa,CAACxwC,YAAY,CAACqhB,SAAS,CAAC;UACpD,IAAI6S,GAAG,IAAI,IAAI,EAAE;YACbA,GAAG,CAAC5S,IAAI,EAAE;;UAEd,IAAIoC,GAAG,GAAG5b,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC0oC,aAAa,CAAC;UACtD,IAAI9sB,GAAG,IAAI,IAAI,EAAE;YACbA,GAAG,CAAC1jB,YAAY,CAACuD,KAAK,CAAC,CAACC,MAAM,GAAG,GAAG,GAAG1G,SAAS,CAACiI,UAAU,CAACnJ,KAAK,CAAC;;UAGtE,IAAIm5B,QAAgB,GAAG,cAAc;UACrChU,qBAAqB,CAACiQ,YAAY,CAAC+D,QAAQ,CAAC;UAE5C,IAAI,CAACvV,YAAY,CAAE,YAAM;YACrB0U,GAAG,CAAC/gB,IAAI,EAAE;YACVma,MAAI,CAACkjB,aAAa,CAAClwC,MAAM,GAAG,KAAK;WACpC,EAAE,CAAC,CAAC;SACR;QAAAvV,MAAA,CACOkuC,WAAW,GAAnB,SAAAA,YAAoBlI,SAAkB,EAAE;UAAA,IAAAgD,MAAA;UACpC,IAAI,CAAC0c,cAAc,CAACnwC,MAAM,GAAG,IAAI;UACjC,IAAI,CAACmwC,cAAc,CAAC/nC,OAAO,GAAG,CAAC;;UAE/BgX,KAAK,CAAC,IAAI,CAAC+wB,cAAc,CAAC,CACtB9wB,EAAE,CAAC,GAAG,EAAE;YAAEjX,OAAO,EAAE;WAAK,CAAC,CACzB6J,KAAK,EAAE;UACX,IAAI,CAACiN,YAAY,CAAC,YAAM;YACpBuU,MAAI,CAAC0c,cAAc,CAACnwC,MAAM,GAAG,KAAK;WACrC,EAAE,CAAC,CAAC;SACR;QAAA,OAAA8vC,kBAAA;MAAA,EA3E2CW,iBAAiB,IAAA/iD,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,kBAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAGlB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,oBAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAElB,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,wBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEgB,IAAI;;MAAA,IAAAmrB,YAAA,GAAAvrB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,qBAAAiuB,KAAA;QAAA7qB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEvB,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;cATC,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCDvC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGZqkD,eAAe,+BAAAnkD,IAAA,GAD3BJ,OAAO,CAAC,iBAAiB,CAAC,EAAAI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAgkD,QAAA;QAAA9jD,cAAA,CAAA6jD,eAAA,EAAAC,QAAA;QAavB,SAAAD,kBAAc;UAAA,IAAA5jD,KAAA;UACVA,KAAA,GAAA6jD,QAAA,CAAAtjD,IAAA,KAAM,CAAC;UAACP,KAAA,CAXJ8jD,gBAAgB,GAAU,CAAC;UAAA9jD,KAAA,CAC3B+jD,gBAAgB;UAWpB/jD,KAAA,CAAKgkD,SAAS,GAAGx9B,UAAU,CAACzpB,gBAAgB;UAC5CiD,KAAA,CAAKikD,WAAW,GAAG;YAAE/rC,IAAI,EAAE,kBAAkB;YAAEkc,MAAM,EAAEt3B,SAAS,CAACC;WAAkB;UACnFiD,KAAA,CAAKkkD,UAAU,GAAG;YAAEhsC,IAAI,EAAE,iBAAiB;YAAEkc,MAAM,EAAEt3B,SAAS,CAACC;WAAkB;UACjFiD,KAAA,CAAKmkD,aAAa,GAAG;YAAEjsC,IAAI,EAAE,iBAAiB;YAAEkc,MAAM,EAAEt3B,SAAS,CAACsnD;WAAO;UAAC,OAAApkD,KAAA;;QAE7E,IAAArC,MAAA,GAAAimD,eAAA,CAAAhmD,SAAA;QAAAD,MAAA,CACQsL,IAAI,GAAb,SAAAA,OAAgB;UACZT,WAAW,CAAC7L,IAAI,CAACsM,IAAI,EAAE;UACvBuD,YAAY,CAAC7P,IAAI,CAACsM,IAAI,EAAE;SAE3B;QAAAtL,MAAA,CAEQkM,KAAK,GAAd,SAAAA,QAAiB;UACbuQ,QAAQ,CAACoD,gBAAgB,EAAE;UAC3BhR,YAAY,CAAC7P,IAAI,CAACkN,KAAK,EAAE;UACzBrB,WAAW,CAAC7L,IAAI,CAACkN,KAAK,EAAE;;;;;QAE5BlM,MAAA,CAGsB0mD,UAAU;QAAA;UAAA,IAAAC,WAAA,GAAAj/B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAAC,QAAiC++B,UAAmB;YAAA,OAAAj/B,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;cAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBAChD,IAAI,CAACi+B,gBAAgB,GAAG,CAAC;kBACzB,IAAI,CAACC,gBAAgB,GAAG,CAAC;kBACzBQ,UAAU,CAAC,CAAC,CAAC;kBAAC5+B,QAAA,CAAAE,IAAA;kBAAA,OACR,IAAI,CAAC2+B,YAAY,CAACD,UAAU,CAAC;gBAAA;kBAAA5+B,QAAA,CAAAE,IAAA;kBAAA,OAC7B,IAAI,CAAC4+B,iBAAiB,CAACF,UAAU,CAAC;gBAAA;kBAAA5+B,QAAA,CAAAE,IAAA;kBAAA,OAClC,IAAI,CAAC6+B,gBAAgB,CAACH,UAAU,CAAC;gBAAA;kBACvCA,UAAU,CAAC,CAAC,CAAC;kBAAC,OAAA5+B,QAAA,CAAAimB,MAAA,WACP,IAAI;gBAAA;gBAAA;kBAAA,OAAAjmB,QAAA,CAAAI,IAAA;;eAAAP,OAAA;WACd;UAAA,SAAA6+B,WAAA/W,EAAA;YAAA,OAAAgX,WAAA,CAAA9jD,KAAA,OAAAN,SAAA;;UAAA,OAAAmkD,UAAA;;QAAA1mD,MAAA,CAEY6mD,YAAY;UAAA,IAAAG,aAAA,GAAAt/B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAAwnB,SAA0BwX,UAAmB;YAAA,IAAAzgC,MAAA;YAAA,OAAAwB,mBAAA,GAAAG,IAAA,UAAAwnB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAtnB,IAAA,GAAAsnB,SAAA,CAAArnB,IAAA;gBAAA;kBAAA,OAAAqnB,SAAA,CAAAtB,MAAA,WAElC,IAAIp1B,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;oBAC5B,SAASkuC,kBAAkBA,CAAAA,EAAG;sBAC1B,IAAIC,eAAsB,GAAG,CAAC;sBAC9B,IAAIhqC,IAAI,GAAG,IAAI;sBACf,SAASiqC,kBAAkBA,CAAAA,EAAG;wBAE1BD,eAAe,EAAE;wBACjBhqC,IAAI,CAACipC,gBAAgB,EAAE;wBACvBS,UAAU,CAAC1pC,IAAI,CAACipC,gBAAgB,GAACjpC,IAAI,CAACkpC,gBAAgB,CAAC;wBACvD,IAAGc,eAAe,IAAI,CAAC,EACvB;0BACIpuC,OAAO,CAAC,IAAI,CAAC;;;sBAGrB3T,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACC,gBAAgB,EAAE,mCAAmC,EAAC+d,MAAM,EAACgqC,kBAAkB,CAAC;sBACpIhiD,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACC,gBAAgB,EAAE,yCAAyC,EAAC+d,MAAM,EAACgqC,kBAAkB,CAAC;sBAC1IhiD,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACC,gBAAgB,EAAE,8CAA8C,EAAC+d,MAAM,EAACgqC,kBAAkB,CAAC;sBAG/IhiD,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACsnD,KAAK,EAAE,sBAAsB,EAACY,EAAE,CAACC,YAAY,EAACH,kBAAkB,CAAC;sBACrHhiD,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACsnD,KAAK,EAAE,0BAA0B,EAACY,EAAE,CAACC,YAAY,EAACH,kBAAkB,CAAC;sBACzHhiD,WAAW,CAACnG,IAAI,CAACooD,wBAAwB,CAACjoD,SAAS,CAACsnD,KAAK,EAAE,sBAAsB,EAACY,EAAE,CAACC,YAAY,EAACH,kBAAkB,CAAC;;oBAEzH/gD,aAAa,CAACI,WAAW,EAAE,CAACE,aAAa,CAACugD,kBAAkB,CAAC/oC,IAAI,CAACiI,MAAI,CAAC,CAAC;mBAE3E,CAAC;gBAAA;gBAAA;kBAAA,OAAAopB,SAAA,CAAAnnB,IAAA;;eAAAgnB,QAAA;WAEb;UAAA,SAAAyX,aAAA5W,GAAA;YAAA,OAAA+W,aAAA,CAAAnkD,KAAA,OAAAN,SAAA;;UAAA,OAAAskD,YAAA;;QAAA7mD,MAAA,CACa8mD,iBAAiB;UAAA,IAAAS,kBAAA,GAAA7/B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA/B,SAAAkoB,SAAgC8W,UAAmB;YAAA,IAAArkB,MAAA;YAAA,OAAA5a,mBAAA,GAAAG,IAAA,UAAAioB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAA/nB,IAAA,GAAA+nB,SAAA,CAAA9nB,IAAA;gBAAA;kBAAA,OAAA8nB,SAAA,CAAA/B,MAAA,WACxC,IAAIp1B,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;oBACpC,IAAI0d,MAAM,GAAGC,YAAY,CAACC,SAAS,CAACx3B,SAAS,CAACC,gBAAgB,CAAC;oBAC/D,IAAGq3B,MAAM,EACT;sBACIA,MAAM,CAAC+wB,YAAY,CAAC7+B,UAAU,CAAC45B,OAAO,CAACkF,UAAU,CAACltC,IAAI,EAAC,IAAI,EAAC,YAC5D;wBACI,IAAI,CAAC4rC,gBAAgB,EAAE;wBACvBS,UAAU,CAAC,IAAI,CAACT,gBAAgB,GAAC,IAAI,CAACC,gBAAgB,CAAC;wBACvDttC,OAAO,CAAC,IAAI,CAAC;uBAChB,CAACoF,IAAI,CAACqkB,MAAI,CAAC,CAAC,CAAC;qBAEjB,MAED;sBACIzpB,OAAO,CAAC,KAAK,CAAC;;mBAErB,CAAC;gBAAA;gBAAA;kBAAA,OAAAk3B,SAAA,CAAA5nB,IAAA;;eAAA0nB,QAAA;WAEL;UAAA,SAAAgX,kBAAAxI,GAAA;YAAA,OAAAiJ,kBAAA,CAAA1kD,KAAA,OAAAN,SAAA;;UAAA,OAAAukD,iBAAA;;QAAA9mD,MAAA,CACa+mD,gBAAgB;UAAA,IAAAW,iBAAA,GAAAhgC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA9B,SAAAwoB,SAA+BwW,UAAmB;YAAA,IAAA5d,MAAA;YAAA,OAAArhB,mBAAA,GAAAG,IAAA,UAAAuoB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAroB,IAAA,GAAAqoB,SAAA,CAAApoB,IAAA;gBAAA;kBAAA,OAAAooB,SAAA,CAAArC,MAAA,WACvC,IAAIp1B,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;oBACpC,IAAI0d,MAAM,GAAGC,YAAY,CAACC,SAAS,CAACx3B,SAAS,CAACwoD,IAAI,CAAC;oBACnD,IAAGlxB,MAAM,EACT;sBACIA,MAAM,CAAC+wB,YAAY,CAAC7+B,UAAU,CAAC45B,OAAO,CAACqF,SAAS,CAACrtC,IAAI,EAAC,IAAI,EAAC,YAC3D;wBACI,IAAI,CAAC4rC,gBAAgB,EAAE;wBACvBS,UAAU,CAAC,IAAI,CAACT,gBAAgB,GAAC,IAAI,CAACC,gBAAgB,CAAC;wBACvDttC,OAAO,CAAC,IAAI,CAAC;uBAChB,CAACoF,IAAI,CAAC8qB,MAAI,CAAC,CAAC,CAAC;qBAEjB,MAED;sBACIlwB,OAAO,CAAC,KAAK,CAAC;;mBAErB,CAAC;gBAAA;gBAAA;kBAAA,OAAAw3B,SAAA,CAAAloB,IAAA;;eAAAgoB,QAAA;WAEL;UAAA,SAAA2W,iBAAAc,GAAA;YAAA,OAAAH,iBAAA,CAAA7kD,KAAA,OAAAN,SAAA;;UAAA,OAAAwkD,gBAAA;;;;QACD/mD,MAAA,CACsB8nD,SAAS;QAAA;UAAA,IAAAC,UAAA,GAAArgC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA/B,SAAA4oB;YAAA,OAAA7oB,mBAAA,GAAAG,IAAA,UAAA2oB,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAAzoB,IAAA,GAAAyoB,SAAA,CAAAxoB,IAAA;gBAAA;kBACIS,UAAU,CAAC3pB,IAAI,CAAC4pB,SAAS,CAAC,IAAI,CAACo/B,QAAQ,EAAE,IAAI,CAAC;gBAAC;gBAAA;kBAAA,OAAAtX,SAAA,CAAAtoB,IAAA;;eAAAooB,QAAA;WAClD;UAAA,SAAAsX;YAAA,OAAAC,UAAA,CAAAllD,KAAA,OAAAN,SAAA;;UAAA,OAAAulD,SAAA;;QAAAxmD,YAAA,CAAA2kD,eAAA;UAAA1kD,GAAA;UAAAC,GAAA,EAjHD,SAAAA,MAA0C;YACtC,IAAI,CAAC,IAAI,CAACC,KAAK,EAAE;cACb,IAAI,CAACA,KAAK,GAAG,IAAIwkD,eAAe,EAAE;;YAEtC,OAAO,IAAI,CAACxkD,KAAK;;;QACpB,OAAAwkD,eAAA;MAAA,EAVgCgC,OAAO,GAAA/lD,OAAA,CACzBT,KAAK,WAAAS,OAAA,MAAAD,MAAA;MAwHxB0mB,UAAU,CAAC3pB,IAAI,CAACkpD,eAAe,CAACjC,eAAe,CAACjnD,IAAI,CAAC;cAAC,CAAAS,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;UCpIzCyoD,OAAO,+BAAAA;QAAA,KAChB//C,EAAE;QAAA,KACFE,KAAK;QAAA,KAEL+3C,QAAQ;MAAA;MACX,IAAA+H,YAAA;QAAAhgD,EAAA;QAAAI,YAAA;MAAA;UAOYvB,uBAAuB,6DAAAnC,oBAAA;QAAA1C,cAAA,CAAA6E,uBAAA,EAAAnC,oBAAA;QAKhC,SAAAmC,wBAAY1G,QAAkB,EAAEwE,MAAW,EAAEC,GAAQ,EAAE;UAAA,IAAA3C,KAAA;UACnDA,KAAA,GAAAyC,oBAAA,CAAAlC,IAAA,KAAM,CAAC;UAACP,KAAA,CALJ4C,UAAU,GAAe,IAAI;UAAA5C,KAAA,CAC7B6C,SAAS,GAAG,IAAI;UAAA7C,KAAA,CAChBoG,SAAS,GAAc,IAAI;UAI/BtD,WAAW,CAACnG,IAAI,CAACoG,qBAAqB,CAACjG,SAAS,CAACC,gBAAgB,EAACiD,KAAA,CAAKwB,eAAe,GAAG,WAAW,EAACwB,SAAS,EAAC,UAACC,GAAU,EAAEC,SAAoB,EAAK;YACjJ,IAAID,GAAG,EAAE;cACLE,MAAM,CAACC,KAAK,CAAC,oBAAoB,CAAC;aACrC,MACI;;;;;;;;;;cAUDpD,KAAA,CAAK4C,UAAU,GAAGM,SAAS,CAACG,IAAkB;cAE9C,IAAInF,QAAQ,EAAE;gBACVA,QAAQ,CAACqC,IAAI,CAACmC,MAAM,EAAEC,GAAG,CAAC;;;WAGrC,CAAC;UAAC,OAAA3C,KAAA;;QACN,IAAArC,MAAA,GAAAiH,uBAAA,CAAAhH,SAAA;QAAAD,MAAA,CAEO0I,iBAAiB,GAAzB,SAAAA,oBAA4B;UACxB,IAAI,IAAI,CAACxD,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAACA,SAAS,GAAG,EAAE;YACnB,IAAI,CAACuD,SAAS,GAAG,EAAE;YACnB,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACV,UAAU,CAACtB,OAAO,CAACnB,MAAM,EAAEmD,CAAC,EAAE,EAAE;cACrD,IAAIC,MAAM,GAAG,IAAI,CAACX,UAAU,CAACtB,OAAO,CAACgC,CAAC,CAAC;cACvC,IAAIgD,IAAI,GAAG,IAAIw/C,OAAO,EAAE;cACxBx/C,IAAI,CAACP,EAAE,GAAGQ,MAAM,CAAChD,MAAM,CAACwiD,YAAY,CAAChgD,EAAE,CAAC,CAAC,CAAC;cAC1CO,IAAI,CAACL,KAAK,GAAG1C,MAAM,CAACwiD,YAAY,CAAC5/C,YAAY,CAAC;cAC9CG,IAAI,CAAC03C,QAAQ,GAAG13C,IAAI,CAACL,KAAK,CAAC0N,KAAK,CAAC,GAAG,CAAC;cACrC,IAAI,CAAC9Q,SAAS,CAACyD,IAAI,CAACP,EAAE,CAAC,GAAGO,IAAI;cAC9B,IAAI,CAACF,SAAS,CAACtC,IAAI,CAACwC,IAAI,CAAC;;;SAGpC;QAAA3I,MAAA,CAGD6I,YAAY,GAAZ,SAAAA,eAA0B;UACtB,IAAI,IAAI,CAAC3D,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAACwD,iBAAiB,EAAE;;UAE5B,OAAO,IAAI,CAACD,SAAS;SACxB;QAAAzI,MAAA,CAED8I,WAAW,GAAX,SAAAA,YAAYV,EAAE,EAAW;UACrB,IAAIvC,IAAa,GAAG,IAAI;UACxB,IAAI,IAAI,CAACX,SAAS,IAAI,IAAI,EAAE;YACxB,IAAI,CAACwD,iBAAiB,EAAE;;UAE5B,IAAIM,KAAK,GAAG,CAAC;UACb,IAAI,OAAOZ,EAAE,IAAI,QAAQ,EAAE;YACvBY,KAAK,GAAGJ,MAAM,CAACR,EAAE,CAAC;WACrB,MACI;YACDY,KAAK,GAAGZ,EAAE;;UAEdvC,IAAI,GAAG,IAAI,CAACX,SAAS,CAAC8D,KAAK,CAAC;UAE5B,OAAOnD,IAAI;SACd;QAAA,OAAAoB,uBAAA;MAAA,EArEwCrD,mBAAmB;cAsE/D,CAAAnE,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;UCrFYytB,UAAU;QAAA,SAAAA;QAAA,IAAAntB,MAAA,GAAAmtB,UAAA,CAAAltB,SAAA;;;;;;QAElBD,MAAA,CAKAqxC,WAAW,GAAX,SAAAA,YAAYC,IAAa,EAAEz/B,WAAkB,EAC7C;UACI,IAAKA,WAAW,GAAG,EAAE,IAAKy/B,IAAI,CAAC9uC,MAAM,EAAE;YACnC,OAAO,IAAI;;UAGf,IAAI+uC,WAAW,GAAGD,IAAI,CAACzhC,OAAO,CAAC,IAAI,CAAC;UACpC,IAAI0hC,WAAW,IAAK1/B,WAAW,GAAG,EAAE,GAAG,CAAE,EAAE;;YAEvC,IAAI2/B,WAAW,GAAG/+B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACyB,MAAM,EAAE,GAAGrC,WAAW,GAAG,EAAE,CAAC;YAC9Dy/B,IAAI,CAACC,WAAW,CAAC,GAAGD,IAAI,CAACE,WAAW,CAAC;YACrCF,IAAI,CAACE,WAAW,CAAC,GAAG,IAAI;;UAG5B,OAAO,IAAI;;;;;;;QAEfrkB,UAAA,CAKaC,WAAW,GAAzB,SAAAA,YAA0BE,IAAY,EAAY;UAC9C,OAAQA,IAAI,GAAG,IAAI;;;;;;;;QAGvBH,UAAA,CAKcwC,YAAY,GAA1B,SAAAA,aAA2BrC,IAAY,EAAa;UAChD,OAAO,CAACA,IAAI,GAAG,IAAI,KAAK,CAAC;;;;;;;;;QAG7BH,UAAA,CAMeuI,iBAAiB,GAAhC,SAAAA,kBAAiCtqB,OAAc,EAAEsG,SAAgB,EAAE22C,UAAiB,EACpF;UAAA,IADmEA,UAAiB;YAAjBA,UAAiB,GAAC,CAAC;;UAElF,IAAGA,UAAU,IAAE,CAAC,EAChB;YACIA,UAAU,GAAGx5C,YAAY,CAAC7P,IAAI,CAAC8P,QAAQ,CAAC+C,WAAW;;UAEvD,OAAO,CAACzG,OAAO,GAAGi9C,UAAU,GAAG32C,SAAS,IAAI22C,UAAU;SACzD;QAAA,OAAAl7B,UAAA;MAAA;cAEJ,CAAA1tB,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;MC1DD,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGJ0mD,aAAa,uBAAAxmD,IAAA,GADjCJ,OAAO,CAAC,eAAe,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAAkmD,aAAA,EAAAnmD,UAAA;QAAA,SAAAmmD;UAAA,IAAAjmD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEbkmD,QAAQ,GAAW,EAAE;UAAAlmD,KAAA,CACrBmmD,YAAY,GAAW,GAAG;UAAAnmD,KAAA,CAC1BomD,WAAW,GAAW,IAAI;UAAApmD,KAAA,CAC1Bo+B,cAAc,GAAW,CAAC;UAAAp+B,KAAA,CAC1BqmD,WAAW,GAAY,KAAK;UAAA,OAAArmD,KAAA;;QAAA,IAAArC,MAAA,GAAAsoD,aAAA,CAAAroD,SAAA;QAAAD,MAAA,CACpCqnB,MAAM,GAAN,SAAAA,SAAS;;;;;;;;;;;;SAYR;QAAArnB,MAAA,CACO2oD,SAAS,GAAjB,SAAAA,YAAoB;;;;;;;;;;;;;;;;;;;;;;;SAuBnB;QAAA3oD,MAAA,CACO4oD,cAAc,GAAtB,SAAAA,iBAAyB;;;;;;;;SAQxB;QAAA5oD,MAAA,CACM6oD,MAAM,GAAb,SAAAA,OAAc1+C,GAAW,EAAE;;;;SAI1B;QAAA,OAAAm+C,aAAA;MAAA,EAxDsCnlD,SAAS,MAAAlB,MAAA;MA4DpD;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;MCnIA,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGJknD,eAAe,uBAAAhnD,IAAA,GADnCJ,OAAO,CAAC,iBAAiB,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAA0mD,eAAA,EAAA3mD,UAAA;QAAA,SAAA2mD;UAAA,IAAAzmD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAEf0mD,MAAM,GAAW,GAAG;UAAA1mD,KAAA,CACpB2mD,KAAK,GAAW,CAAC;UAAA,OAAA3mD,KAAA;;QAAA,IAAArC,MAAA,GAAA8oD,eAAA,CAAA7oD,SAAA;QAAAD,MAAA,CACzBqnB,MAAM,GAAN,SAAAA,SAAS;;;SAGR;QAAArnB,MAAA,CACD+9B,MAAM,GAAN,SAAAA,OAAOC,EAAE,EAAE;;;;;;;SAOV;QAAA,OAAA8qB,eAAA;MAAA,EAdwC3lD,SAAS,MAAAlB,MAAA;MAkBtD;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;UC9CkBsuB,SAAS;QAAA,SAAAA;QAAAA,SAAA,CAChBvnB,QAAQ,GAAf,SAAAA,WAAoD;UAChD,IAAI,CAAO,IAAI,CAAEwiD,MAAM,EAAE;YACf,IAAI,CAAEA,MAAM,GAAG,IAAI,IAAI,EAAE;;UAEnC,OAAa,IAAI,CAAEA,MAAM;SAC5B;QAAAj7B,SAAA,CACOk7B,OAAO,GAAf,SAAAA,UAAiB;UACb,IAAU,IAAI,CAAED,MAAM,EAAE;YACd,IAAI,CAAEA,MAAM,GAAE,IAAI;;SAE/B;QAAA,OAAAj7B,SAAA;MAAA;cACJ,CAAAvuB,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;MCXD,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAWJokD,iBAAiB,uBAAAlkD,IAAA,GADrCJ,OAAO,CAAC,mBAAmB,CAAC,EAAAK,KAAA,GAExBH,QAAQ,CAACw2C,WAAW,CAACC,eAAe,CAAC,EAAAv2C,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAA4jD,iBAAA,EAAA7jD,UAAA;QAAA,SAAA6jD;UAAA,IAAA3jD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,kBAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAA,OAAAA,KAAA;;QAAA,IAAArC,MAAA,GAAAgmD,iBAAA,CAAA/lD,SAAA;QAAAD,MAAA,CAEtCk9B,QAAQ,GAAR,SAAAA,WAAW;UACP,IAAI,CAACvoB,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAACC,SAAS,EAAE,IAAI,CAACmrC,OAAO,EAAE,IAAI,CAAC;UACzD,IAAI,CAACx0C,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAACwgB,WAAW,EAAE,IAAI,CAAC6qB,sBAAsB,EAAE,IAAI,CAAC;UAC1E,IAAI,CAACz0C,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAACC,SAAS,EAAE,IAAI,CAACorC,sBAAsB,EAAE,IAAI,CAAC;UACxE,IAAI,CAACz0C,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAAC0gB,UAAU,EAAE,IAAI,CAAC2qB,sBAAsB,EAAE,IAAI,CAAC;UACzE,IAAI,CAACz0C,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAACC,SAAS,EAAE,IAAI,CAACorC,sBAAsB,EAAE,IAAI,CAAC;UACxE,IAAI,CAACz0C,IAAI,CAAC3T,EAAE,CAAC+c,aAAa,CAAC6gB,YAAY,EAAE,IAAI,CAACwqB,sBAAsB,EAAE,IAAI,CAAC;SAC9E;QAAAppD,MAAA,CACOopD,sBAAsB,GAA9B,SAAAA,uBAA+B53B,KAAgB,EAC/C;UACIA,KAAK,CAAC63B,cAAc,GAAG,IAAI;SAC9B;QAAArpD,MAAA,CACOmpD,OAAO,GAAf,SAAAA,QAAgB33B,KAAiB,EAAE;UAC/B,IAAI8N,QAAa,GAAG9N,KAAK,CAACsN,KAAK,CAACC,aAAa,EAAE;UAC/C,IAAI7K,WAAW,GAAG,IAAI,CAACvf,IAAI,CAACM,YAAY,CAACkf,WAAW,CAAC;UACrD,IAAID,WAAW,EAAE;YACb,IAAIo1B,QAAQ,GAAGp1B,WAAW,CAACqL,oBAAoB,CAAC,IAAIC,IAAI,CAACF,QAAQ,CAACrL,CAAC,EAACqL,QAAQ,CAAC5K,CAAC,CAAC,CAAC;YAChFnnB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE87C,QAAQ,CAAC;YACxC,IAAI,CAACC,YAAY,CAAC50C,IAAI,CAAC+I,WAAW,CAAC4rC,QAAQ,CAAC;;;;;;;UAOhD,IAAIvxC,GAAG,GAAG0pB,KAAK,CAAC+X,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;UACpC,IAAIgQ,OAAO,GAAG,QAAQ,GAAGzxC,GAAG;UAC5B,IAAI,CAACwxC,YAAY,CAACrQ,aAAa,CAACsQ,OAAO,EAAE,CAAC,CAAC;UAC3Ch4B,KAAK,CAAC63B,cAAc,GAAG,IAAI;SAC9B;QAAA,OAAArD,iBAAA;MAAA,EAhC0C7iD,SAAS,GAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,mBAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAER,IAAI;;MAAA,IAAAtB,OAAA,MAAAD,MAAA;cAFd,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;MCNtC,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGZ+d,SAAS,yBAAA7d,IAAA,GADrBJ,OAAO,CAAC,WAAW,CAAC,EAAAK,KAAA,GAEhBH,QAAQ,CAAC4W,KAAK,CAAC,EAAA1W,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAud,SAAA,EAAAxd,UAAA;QAAA,SAAAwd;UAAA,IAAAtd,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,cAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAA,OAAAA,KAAA;;QAAA,IAAArC,MAAA,GAAA2f,SAAA,CAAA1f,SAAA;QAAAD,MAAA,CAGhBqnB,MAAM,GAAN,SAAAA,SAAU;;SAET;QAAArnB,MAAA,CACDE,SAAS,GAAT,SAAAA,YAAkB,EAEjB;QAAAF,MAAA,CACD4f,SAAS,GAAT,SAAAA,UAAWrV,IAAa,EAAElC,IAAY,EAAEohD,QAAgB,EAAM;UAAA,IAAAtjC,MAAA;UAAA,IAAtBsjC,QAAgB;YAAhBA,QAAgB,GAAG,CAAC;;UACxDphD,IAAI,GAAGA,IAAI,IAAI,EAAE;UACjB,IAAI,CAACsM,IAAI,CAACY,MAAM,GAAG,CAAC,CAAChL,IAAI;UACzB,IAAI,CAACm/C,QAAQ,CAACjxC,MAAM,GAAGpQ,IAAI;UAC3B,IAAIkC,IAAI,EAAE;;YAENoqB,KAAK,CAAC,IAAI,CAAChgB,IAAI,CAAC,CACZ6sB,KAAK,CAACioB,QAAQ,CAAC,CACf7mD,IAAI,CAAC,YAAM;cACPujB,MAAI,CAACxR,IAAI,CAACY,MAAM,GAAG,KAAK;aAC3B,CAAC,CACFiS,KAAK,EAAE;;SAElB;QAAA,OAAA7H,SAAA;MAAA,EAvB0Bxc,SAAS,GAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,eAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAElB,IAAI;;MAAA,IAAAtB,OAAA,MAAAD,MAAA;cAuBzB,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;MCjCD,IAAQgC,OAAO,GAAeC,UAAU,CAAhCD,OAAO;QAAEE,QAAQ,GAAKD,UAAU,CAAvBC,QAAQ;UAGZ+nD,YAAY,4BAAA7nD,IAAA,GADxBJ,OAAO,CAAC,cAAc,CAAC,EAAAK,KAAA,GAEnBH,QAAQ,CAAC4W,KAAK,CAAC,EAAAyO,KAAA,GAEfrlB,QAAQ,CAACkI,IAAI,CAAC,EAAAod,KAAA,GAEdtlB,QAAQ,CAACkI,IAAI,CAAC,EAAAhI,IAAA,CAAAG,MAAA,IAAAC,OAAA,0BAAAC,UAAA;QAAAC,cAAA,CAAAunD,YAAA,EAAAxnD,UAAA;QAAA,SAAAwnD;UAAA,IAAAtnD,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAO,0BAAA,CAAAX,KAAA,aAAAY,WAAA,EAAAC,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,iBAAA8kB,YAAA,EAAAjkB,sBAAA,CAAAb,KAAA;UAAAW,0BAAA,CAAAX,KAAA,gBAAA+kB,YAAA,EAAAlkB,sBAAA,CAAAb,KAAA;UAAAA,KAAA,CAEPunD,MAAM,GAAG,IAAI;UAAAvnD,KAAA,CACbwnD,SAAS,GAAG,IAAI;UAAA,OAAAxnD,KAAA;;QAAA,IAAArC,MAAA,GAAA2pD,YAAA,CAAA1pD,SAAA;QAAAD,MAAA,CAExBwnB,KAAK,GAAL,SAAAA,QAAS;;;;;;;;;SASR;QAAAxnB,MAAA,CAED8f,UAAU,GAAV,SAAAA,WAAYzX,IAAW,EAAE0X,GAAQ,EAAEC,GAAQ,EAAE;;;;;;;;;;SAU5C;QAAA,OAAA2pC,YAAA;MAAA,EA/B6BxmD,SAAS,IAAAF,WAAA,GAAAG,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,cAAA8B,KAAA;QAAAsB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEtB,IAAI;;MAAA,IAAA2jB,YAAA,GAAA/jB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,kBAAAgnB,KAAA;QAAA5jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEA,IAAI;;MAAA,IAAA4jB,YAAA,GAAAhkB,yBAAA,CAAAlB,OAAA,CAAAjC,SAAA,iBAAAinB,KAAA;QAAA7jB,YAAA;QAAAC,UAAA;QAAAC,QAAA;QAAAC,WAAA,WAAAA;UAAA,OAEL,IAAI;;MAAA,KAAAtB,OAAA,MAAAD,MAAA;;MA8B5B;;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;cAAA,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;;;;;MC3EA,IAAQgC,OAAO,GAAKC,UAAU,CAAtBD,OAAO;UAGFwd,MAAM,sBAAApd,IAAA,GADlBJ,OAAO,CAAC,QAAQ,CAAC,EAAAI,IAAA,CAAAG,MAAA,0BAAAE,UAAA;QAAAC,cAAA,CAAA8c,MAAA,EAAA/c,UAAA;QAAA,SAAA+c;UAAA,IAAA7c,KAAA;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;;UAAAN,KAAA,GAAAF,UAAA,CAAAS,IAAA,CAAAC,KAAA,CAAAV,UAAA,SAAAW,MAAA,CAAAL,IAAA;UAAAJ,KAAA,CAGNilB,IAAI,GAAQ,IAAI;UAAAjlB,KAAA,CAChBynD,SAAS,GAAQ,IAAI;UAAA,OAAAznD,KAAA;;QAAA,IAAArC,MAAA,GAAAkf,MAAA,CAAAjf,SAAA;QAAAD,MAAA,CAC7BqnB,MAAM,GAAN,SAAAA,SAAU;UACN,IAAI,CAACC,IAAI,GAAG,IAAI,CAAC3S,IAAI,CAACsI,cAAc,CAAC,MAAM,CAAC;UAC5C,IAAI,CAAC6sC,SAAS,GAAG,IAAI,CAACn1C,IAAI,CAACsI,cAAc,CAAC,WAAW,CAAC;UACtD,IAAI,CAACtI,IAAI,CAACY,MAAM,GAAG,KAAK;UACxBhI,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACmH,IAAI,CAAC4F,IAAI,CAAC;SACxC;QAAAva,MAAA,CAEDmf,QAAQ,GAAR,SAAAA,SAAU9W,IAAS,EAAE;UAAA,IAAA8d,MAAA;UACjB,IAAG,CAAC9d,IAAI,EAAE;UACV,IAAI,CAACsM,IAAI,CAACY,MAAM,GAAG,IAAI;UACvB,IAAI,CAAC+R,IAAI,CAAC/R,MAAM,GAAG,IAAI;UACvB,IAAIm0C,QAAQ,GAAG,IAAI,CAACpiC,IAAI,CAACrK,cAAc,CAAC,UAAU,CAAC,CAAChI,YAAY,CAACuD,KAAK,CAAC;UACvEkxC,QAAQ,CAACjxC,MAAM,GAAGpQ,IAAI;UACtB,IAAI,IAAI,CAACif,IAAI,EAAE;;YAEX,IAAMyiC,YAAY,GAAGp1B,KAAK,CAAC,IAAI,CAACrN,IAAI,CAAC,CAACsN,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAK,CAAC;;YAE/D,IAAMqsC,WAAW,GAAGr1B,KAAK,EAAE,CAAC6M,KAAK,CAAC,CAAC,CAAC;;YAEpC,IAAMyoB,aAAa,GAAGt1B,KAAK,CAAC,IAAI,CAACrN,IAAI,CAAC,CAACsN,EAAE,CAAC,GAAG,EAAE;cAAEjX,OAAO,EAAE;aAAG,CAAC;;YAE9D,IAAMusC,gBAAgB,GAAGv1B,KAAK,CAAC,IAAI,CAACrN,IAAI,CAAC,CAAC1kB,IAAI,CAAC,YAAM;cACjDujB,MAAI,CAACmB,IAAI,CAAErJ,OAAO,EAAE;aACvB,CAAC;;;YAGF,IAAMksC,cAAc,GAAGx1B,KAAK,CAAC,IAAI,CAACrN,IAAI,CAAC,CACpCogB,IAAI,CAACqiB,YAAY,CAAC,CAClBriB,IAAI,CAACsiB,WAAW,CAAC,CACjBtiB,IAAI,CAACuiB,aAAa,CAAC,CACnBviB,IAAI,CAACwiB,gBAAgB,CAAC;;;YAGzBC,cAAc,CAAC3iC,KAAK,EAAE;;SAE7B;QAAA,OAAAtI,MAAA;MAAA,EAvCuB/b,SAAS,MAAAlB,MAAA;cAyCpC,CAAAxC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;UC1DoB+hC,KAAK;QAAA,SAAAA;;QAC1BA,KAAA,CACkB+X,cAAc,GAA5B,SAAAA,eAA6B1lC,GAAW,EAAEC,GAAW,EAAU;UAE3DD,GAAG,GAAGrB,IAAI,CAACotB,IAAI,CAAC/rB,GAAG,CAAC;UACpBC,GAAG,GAAGtB,IAAI,CAACC,KAAK,CAACqB,GAAG,CAAC;;UAErB,OAAOtB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACyB,MAAM,EAAE,IAAIH,GAAG,GAAGD,GAAG,GAAG,CAAC,CAAC,CAAC,GAAGA,GAAG;;;;;QAEhE2tB,KAAA,CACkBC,WAAW,GAAzB,SAAAA,YAA0B5tB,GAAW,EAAEC,GAAW,EAAU;UACxD,OAAOtB,IAAI,CAACyB,MAAM,EAAE,IAAIH,GAAG,GAAGD,GAAG,CAAC,GAAGA,GAAG;SAC3C;QAAA,OAAA2tB,KAAA;MAAA;cAZqB,CAAAhiC,GAAA,CAAAC,GAAA;;;;;;;;;;;;;;;;UCELixC,QAAQ;QAAA,SAAAA;QAAA,IAAA3wC,MAAA,GAAA2wC,QAAA,CAAA1wC,SAAA;QAAAD,MAAA,CACZ0vC,IAAI;UAAA,IAAA0a,KAAA,GAAA1iC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAjB,SAAAC,QAAkB9iB,MAAiB,EAAEslD,GAAW;YAAA,OAAA1iC,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;cAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBAE5C3a,OAAO,CAACC,GAAG,CAAC,aAAa,GAAG68C,GAAG,CAAC;kBAAC,MAC7BtlD,MAAM,IAAI,IAAI,IAAI,CAACA,MAAM,CAAC49B,OAAO;oBAAA3a,QAAA,CAAAE,IAAA;oBAAA;;kBAAA,OAAAF,QAAA,CAAAimB,MAAA;gBAAA;kBAAA,OAAAjmB,QAAA,CAAAimB,MAAA,WAC9B,IAAIp1B,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;oBACpChU,MAAM,CAAC0vB,YAAY,CAAC,YAAM;sBACtB3b,OAAO,CAAC,IAAI,CAAC;qBAChB,EAAEuxC,GAAG,CAAC;mBACV,CAAC;gBAAA;gBAAA;kBAAA,OAAAriC,QAAA,CAAAI,IAAA;;eAAAP,OAAA;WACL;UAAA,SAAA6nB,KAAAC,EAAA,EAAAM,GAAA;YAAA,OAAAma,KAAA,CAAAvnD,KAAA,OAAAN,SAAA;;UAAA,OAAAmtC,IAAA;;QAAA,OAAAiB,QAAA;MAAA;cAVwB,CAAAlxC,GAAA,CAAAC,GAAA","file":"all.js","sourcesContent":["import { ModuleDef } from \"../../scripts/ModuleDef\";\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2021-12-13 00:00:16\r\n * @LastEditTime: 2022-01-03 23:48:28\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nconst rootPath = \"sound/\";\r\n\r\n//by_009:音频控制\r\nexport const AudioControl = {\r\n    //by_009:播放点击音效\r\n    playClick() {\r\n        let path = rootPath+\"click\";\r\n        tgx.AudioMgr.inst.audio.playEffect(path,ModuleDef.POKER_PDK_YUENAN);\r\n    },\r\n\r\n    //by_009:播放背景音乐\r\n    playBGM() {\r\n        let path = rootPath+\"BGM\";\r\n        tgx.AudioMgr.inst.audio.playMusicLoop(path,ModuleDef.POKER_PDK_YUENAN);\r\n    },\r\n\r\n    //by_009:播放完成\r\n    playFinish() {\r\n        let path = rootPath+\"finish\";\r\n        tgx.AudioMgr.inst.audio.playEffect(path,ModuleDef.POKER_PDK_YUENAN);\r\n    },\r\n\r\n    //播放获得奖励\r\n    playGetReward() {\r\n        let path = rootPath+\"gifteffect\";\r\n        tgx.AudioMgr.inst.audio.playEffect(path,ModuleDef.POKER_PDK_YUENAN);\r\n    }\r\n    \r\n}\r\n","// /**\r\n//  * 音效管理器， 对cc.audioEngine的封装\r\n//  */\r\n\r\nimport { _decorator } from 'cc';\r\nexport class AudioMgr {\r\n    private static _inst: AudioMgr;\r\n    audioClipMap = {}\r\n    bgm_on = true\r\n    effect_on = true\r\n    bgm = null\r\n    bindObj = []\r\n    constructor() {\r\n        // this.audioClipMap = {} //文件夹下的资源\r\n        // this.bgm_on = (cc.sys.localStorage.getItem(\"bgm_on\") || \"true\") == \"true\"\r\n        // this.effect_on = (cc.sys.localStorage.getItem(\"effect_on\") || \"true\") == \"true\"\r\n        // this.bgm = null\r\n        // this.bindObj = []\r\n    }\r\n    public static get inst(): AudioMgr {\r\n        if (!this._inst) {\r\n            this._inst = new AudioMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n    onDestroy() {\r\n        // this.releaseAll()\r\n    }\r\n//    //背景音乐是否打开\r\n    isBgmOpen() {\r\n        return this.bgm_on || false\r\n    }\r\n//    //音效是否打开\r\n    isEffectOpen() {\r\n        return this.effect_on || false\r\n    }\r\n//    //加载dirName下所有的音频 加载完回调\r\n    loadAudioDir(dirName, callback) {\r\n//        // 加载 sound 目录下所有 AudioClip，并且获取它们的路径\r\n        // cc.loader.loadResDir(dirName, cc.AudioClip, (err, assets, urls) => {\r\n        // if (err) {\r\n        // console.error(\"加载错误\")\r\n        // return\r\n        // }\r\n        // for (var i = 0; i < urls.length; ++i) {\r\n        // var url = urls[i]\r\n        // this.audioClipMap[url] = assets[i]\r\n\r\n        // }\r\n        // this.openBgm(this.bgm_on)\r\n        // this.openEffect(this.effect_on)\r\n        // callback()\r\n        // });\r\n    }\r\n//    //释放所有AudioMgr加载的音效\r\n    releaseAll() {\r\n        // this.stopAll()\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i])\r\n        // }\r\n\r\n        // for (const key in this.audioClipMap) {\r\n        // var sound = this.audioClipMap[key]\r\n        // cc.loader.releaseAsset(sound);\r\n        // }\r\n\r\n\r\n    }\r\n//    //停止所有音乐\r\n    stopAll() {\r\n        // cc.audioEngine.stopMusic();\r\n        // cc.audioEngine.stopAllEffects();\r\n    }\r\n    getMusicVolume() {\r\n        // return cc.audioEngine.getMusicVolume();\r\n    }\r\n    setMusicVolume(audioNum) {\r\n        // cc.audioEngine.setMusicVolume(audioNum);\r\n    }\r\n    getEffectsVolume() {\r\n        // return cc.audioEngine.getEffectsVolume();\r\n    }\r\n    setEffectsVolume(audioNum) {\r\n        // cc.audioEngine.setEffectsVolume(audioNum);\r\n    }\r\n//    //bgm开关\r\n    openBgm(on) {\r\n        // if (on && this.bgm) {\r\n        // cc.audioEngine.playMusic(this.bgm, true);\r\n        // } else {\r\n        // cc.audioEngine.stopMusic();\r\n        // }\r\n        // this.bgm_on = on\r\n        // cc.sys.localStorage.setItem(\"bgm_on\", on);\r\n\r\n    }\r\n//    //音效开关\r\n    openEffect(on) {\r\n        // if (!on) {\r\n        // cc.audioEngine.stopAllEffects(); //停止所有\r\n        // }\r\n        // this.effect_on = on\r\n        // cc.sys.localStorage.setItem(\"effect_on\", on);\r\n    }\r\n//    //播放背景音乐\r\n//    //music: cc.AudioClip 或者AudioMgr加载的音效资源路径\r\n    playMusic(music) {\r\n        // var clip = null\r\n        // if (\"string\" === typeof music) { //string 路径播放\r\n        // if (this.audioClipMap[music]) {\r\n        // clip = this.audioClipMap[music]\r\n        // } else {\r\n        // console.log(\"你要播放的音乐不存在：\", music)\r\n        // }\r\n        // } else if (music instanceof cc.AudioClip) {\r\n        // clip = music\r\n        // }\r\n\r\n        // if (clip) {\r\n        // this.bgm = clip\r\n        // } else {\r\n        // console.log(\"背景音乐错误null\")\r\n        // return\r\n        // }\r\n        // if (!this.isBgmOpen()) return; //背景音乐静音\r\n\r\n        // cc.audioEngine.stopMusic(); //怕有很多个music\r\n        // return cc.audioEngine.playMusic(this.bgm, true);\r\n\r\n    }\r\n//    //播放音效 返回effectID\r\n//    //effect: cc.AudioClip 或者AudioMgr加载的音效资源路径\r\n    playEffect(effect, ...args) {\r\n        // if (!this.isEffectOpen()) return //音效静音\r\n\r\n\r\n        // var clip = null\r\n        // if (\"string\" === typeof effect) { //string 路径播放\r\n        // if (this.audioClipMap[effect]) {\r\n        // clip = this.audioClipMap[effect]\r\n        // }\r\n        // } else if (effect instanceof cc.AudioClip) {\r\n        // clip = effect\r\n        // }\r\n\r\n        // if (!clip) {\r\n        // console.log(\"你要播放的音乐不存在：\", effect)\r\n        // return\r\n        // }\r\n\r\n//         //@ts-ignore\r\n        // return cc.audioEngine.playEffect(clip, ...args);\r\n\r\n    }\r\n    stopEffect(...args) {\r\n//        //@ts-ignore\r\n        // cc.audioEngine.stopEffect(...args);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// /**\r\n//  * 音效管理器， 对cc.audioEngine的封装\r\n//  */\r\n// \r\n// export class AudioMgr {\r\n//     audioClipMap = {}\r\n//     bgm_on = true\r\n//     effect_on = true\r\n//     bgm = null\r\n//     bindObj = []\r\n// \r\n//     constructor() {\r\n//         this.audioClipMap = {} //文件夹下的资源\r\n//         this.bgm_on = (cc.sys.localStorage.getItem(\"bgm_on\") || \"true\") == \"true\"\r\n//         this.effect_on = (cc.sys.localStorage.getItem(\"effect_on\") || \"true\") == \"true\"\r\n//         this.bgm = null\r\n//         this.bindObj = []\r\n//     }\r\n// \r\n// \r\n//     onDestroy() {\r\n//         this.releaseAll()\r\n//     }\r\n//     //背景音乐是否打开\r\n//     isBgmOpen() {\r\n//         return this.bgm_on || false\r\n//     }\r\n//     //音效是否打开\r\n//     isEffectOpen() {\r\n//         return this.effect_on || false\r\n//     }\r\n// \r\n//     //加载dirName下所有的音频 加载完回调\r\n//     loadAudioDir(dirName, callback) {\r\n//         // 加载 sound 目录下所有 AudioClip，并且获取它们的路径\r\n//         cc.loader.loadResDir(dirName, cc.AudioClip, (err, assets, urls) => {\r\n//             if (err) {\r\n//                 console.error(\"加载错误\")\r\n//                 return\r\n//             }\r\n//             for (var i = 0; i < urls.length; ++i) {\r\n//                 var url = urls[i]\r\n//                 this.audioClipMap[url] = assets[i]\r\n// \r\n//             }\r\n//             this.openBgm(this.bgm_on)\r\n//             this.openEffect(this.effect_on)\r\n//             callback()\r\n//         });\r\n//     }\r\n// \r\n//     //释放所有AudioMgr加载的音效\r\n//     releaseAll() {\r\n//         this.stopAll()\r\n//         for (let i = 0; i < this.bindObj.length; i++) {\r\n//             onfire.un(this.bindObj[i])\r\n//         }\r\n// \r\n//         for (const key in this.audioClipMap) {\r\n//             var sound = this.audioClipMap[key]\r\n//             cc.loader.releaseAsset(sound);\r\n//         }\r\n// \r\n// \r\n//     }\r\n// \r\n//     //停止所有音乐\r\n//     stopAll() {\r\n//         cc.audioEngine.stopMusic();\r\n//         cc.audioEngine.stopAllEffects();\r\n//     }\r\n// \r\n//     getMusicVolume() {\r\n//         return cc.audioEngine.getMusicVolume();\r\n//     }\r\n// \r\n//     setMusicVolume(audioNum) {\r\n//         cc.audioEngine.setMusicVolume(audioNum);\r\n//     }\r\n// \r\n//     getEffectsVolume() {\r\n//         return cc.audioEngine.getEffectsVolume();\r\n//     }\r\n// \r\n//     setEffectsVolume(audioNum) {\r\n//         cc.audioEngine.setEffectsVolume(audioNum);\r\n//     }\r\n// \r\n//     //bgm开关\r\n//     openBgm(on) {\r\n//         if (on && this.bgm) {\r\n//             cc.audioEngine.playMusic(this.bgm, true);\r\n//         } else {\r\n//             cc.audioEngine.stopMusic();\r\n//         }\r\n//         this.bgm_on = on\r\n//         cc.sys.localStorage.setItem(\"bgm_on\", on);\r\n// \r\n//     }\r\n// \r\n//     //音效开关\r\n//     openEffect(on) {\r\n//         if (!on) {\r\n//             cc.audioEngine.stopAllEffects(); //停止所有\r\n//         }\r\n//         this.effect_on = on\r\n//         cc.sys.localStorage.setItem(\"effect_on\", on);\r\n//     }\r\n// \r\n//     //播放背景音乐\r\n//     //music: cc.AudioClip 或者AudioMgr加载的音效资源路径\r\n//     playMusic(music) {\r\n//         var clip = null\r\n//         if (\"string\" === typeof music) { //string 路径播放\r\n//             if (this.audioClipMap[music]) {\r\n//                 clip = this.audioClipMap[music]\r\n//             } else {\r\n//                 console.log(\"你要播放的音乐不存在：\", music)\r\n//             }\r\n//         } else if (music instanceof cc.AudioClip) {\r\n//             clip = music\r\n//         }\r\n// \r\n//         if (clip) {\r\n//             this.bgm = clip\r\n//         } else {\r\n//             console.log(\"背景音乐错误null\")\r\n//             return\r\n//         }\r\n//         if (!this.isBgmOpen()) return; //背景音乐静音\r\n// \r\n//         cc.audioEngine.stopMusic(); //怕有很多个music\r\n//         return cc.audioEngine.playMusic(this.bgm, true);\r\n// \r\n//     }\r\n// \r\n//     //播放音效 返回effectID\r\n//     //effect: cc.AudioClip 或者AudioMgr加载的音效资源路径\r\n//     playEffect(effect, ...args) {\r\n//         if (!this.isEffectOpen()) return //音效静音\r\n// \r\n// \r\n//         var clip = null\r\n//         if (\"string\" === typeof effect) { //string 路径播放\r\n//             if (this.audioClipMap[effect]) {\r\n//                 clip = this.audioClipMap[effect]\r\n//             }\r\n//         } else if (effect instanceof cc.AudioClip) {\r\n//             clip = effect\r\n//         }\r\n// \r\n//         if (!clip) {\r\n//             console.log(\"你要播放的音乐不存在：\", effect)\r\n//             return\r\n//         }\r\n// \r\n//          //@ts-ignore\r\n//         return cc.audioEngine.playEffect(clip, ...args);\r\n// \r\n//     }\r\n// \r\n//     stopEffect(...args) {\r\n//         //@ts-ignore\r\n//         cc.audioEngine.stopEffect(...args);\r\n//     }\r\n// \r\n// }\r\n","// /**\r\n//  */\r\n\r\nimport { _decorator, Component, Sprite } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//遮罩进度条 跟processBar差不多\r\n\r\n@ccclass('Bar')\r\nexport default class MaskBar extends Component {\r\n    _progress = 1;\r\n    @property(Sprite)\r\n    bar: Sprite | null = null;\r\n    // @property\r\n    // get progress() {\r\n        // return this._progress\r\n        // };\r\n\r\n        // set progress(value) {\r\n\r\n        // let _value: number = value;\r\n        // if (value < 0) {\r\n        // _value = 0\r\n\r\n        // }\r\n        // if (value > 1) {\r\n        // _value = 1\r\n        // }\r\n\r\n        // this.bar.fillRange = _value\r\n        // this._progress = _value\r\n\r\n        // };\r\n\r\n\r\n\r\n\r\n        // start() {\r\n\r\n    // }\r\n//    // update (dt) {}\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// /**\r\n// 遮罩进度条 跟processBar差不多\r\n//  */\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class MaskBar extends cc.Component {\r\n// \r\n//     _progress = 1;\r\n// \r\n//     @property(cc.Sprite)\r\n//     bar: cc.Sprite = null;\r\n// \r\n//     @property\r\n//     get progress() {\r\n//         return this._progress\r\n//     };\r\n// \r\n//     set progress(value) {\r\n// \r\n//         let _value: number = value;\r\n//         if (value < 0) {\r\n//             _value = 0\r\n// \r\n//         }\r\n//         if (value > 1) {\r\n//             _value = 1\r\n//         }\r\n// \r\n//         this.bar.fillRange = _value\r\n//         this._progress = _value\r\n// \r\n//     };\r\n// \r\n// \r\n// \r\n// \r\n//     start() {\r\n// \r\n//     }\r\n// \r\n//     // update (dt) {}\r\n// }\r\n","export interface ConfigContainerClass<T extends BaseConfigContainer>\r\n{\r\n    new (callback: Function, caller: any, arg: any): T;\r\n}\r\n\r\nexport class ConfigData {\r\n    TITLES: string[];\r\n    RECORDS: any[];\r\n}\r\n\r\nexport abstract class BaseConfigContainer \r\n{\r\n    protected CONFIG_FILE_DIR = \"config/\"\r\n    protected mTag: any;\r\n    public get tag(): any\r\n    {\r\n        return this.mTag;\r\n    }\r\n    public set tag(value: any)\r\n    {\r\n        this.mTag = value;\r\n    }\r\n}","\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2021-12-05 14:34:50\r\n * @LastEditTime: 2021-12-09 09:59:59\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nimport { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { decodeConfigItemString } from \"./ItemConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class CoinMatchData {\r\n    coin_match_id;\r\n    coin_match_name;\r\n    clearing_type;\r\n    base_coin;\r\n    limit_enter_coin;\r\n    commission;\r\n    stage_integral_win;\r\n    stage_integral_lose;\r\n    win_extra_reward;\r\n    bigwin_reward;\r\n}\r\n\r\nconst enum CoinMatchTitle {\r\n    coin_match_id,\r\n    coin_match_name,\r\n    clearing_type,\r\n    base_coin,\r\n    limit_enter_coin,\r\n    commission,\r\n    stage_integral_win,\r\n    stage_integral_lose,\r\n    win_extra_reward,\r\n    bigwin_reward\r\n}\r\n\r\nexport class CoinMatchConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfig: any = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"coin_match\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load coin_match err\");\r\n            }\r\n            else {\r\n                this.configData = jsonAsset.json as ConfigData;\r\n\r\n                this.mapConfig = {};\r\n                for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                    let record = this.configData.RECORDS[i];\r\n                    let data = new CoinMatchData();\r\n                    data.coin_match_id = record[CoinMatchTitle.coin_match_id];\r\n                    data.coin_match_name = record[CoinMatchTitle.coin_match_name];\r\n                    data.clearing_type = record[CoinMatchTitle.clearing_type];\r\n                    data.base_coin = record[CoinMatchTitle.base_coin];\r\n                    data.limit_enter_coin = record[CoinMatchTitle.limit_enter_coin];\r\n                    data.commission = record[CoinMatchTitle.commission];\r\n                    data.stage_integral_win = decodeConfigItemString(record[CoinMatchTitle.stage_integral_win]);\r\n                    data.win_extra_reward = decodeConfigItemString(record[CoinMatchTitle.win_extra_reward]);\r\n                    data.bigwin_reward = decodeConfigItemString(record[CoinMatchTitle.bigwin_reward]);\r\n                    this.mapConfig[data.coin_match_id] = data;\r\n                }\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param coin_match_id \r\n     */\r\n    public getCoinMatchCfgByCoinMatchId(coin_match_id: string): CoinMatchData {\r\n        return this.mapConfig[coin_match_id];\r\n    }\r\n\r\n    public getCoinItemsByClearingType(clearing_type): CoinMatchData[] {\r\n        let arr = [];\r\n        for (const key in this.mapConfig) {\r\n            let element = this.mapConfig[key] as CoinMatchData;\r\n            if (element.clearing_type == clearing_type) {\r\n                arr.push(element);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n}","\r\nimport { BaseConfigContainer, ConfigContainerClass } from \"./Conifg/BaseConfigContainer\";\r\nimport { ItemConfigContainer } from \"./Conifg/ItemConfigContainer\";\r\nimport { LanguageConfigContainer } from \"./Conifg/LanguageConfigContainer\";\r\nimport { CoinMatchConfigContainer } from \"./Conifg/CoinMatchConfigContainer\";\r\nimport { OpenRoomConfigContainer } from \"./Conifg/OpenRoomConfigContainer\";\r\nimport { FaceConfigContainer } from \"./Conifg/FaceConfigContainer\";\r\nimport { DuanjuConfigContainer } from \"./Conifg/DuanjuConfigContainer\";\r\nimport { PeiMusicConfigContainer } from \"./Conifg/PeiMusicConfigContainer\";\r\nimport { GlobalConfigContainer } from \"./Conifg/GlobalConfigContainer\";\r\n\r\nexport class ConfigManager\r\n{\r\n    private static instance: ConfigManager;\r\n\r\n    private configContainerList: BaseConfigContainer[] = [];\r\n    private curLoadedCount: number = 0;\r\n    private _isLoaded:boolean = false;\r\n    public static getInstance(): ConfigManager\r\n    {\r\n        if(this.instance == null)\r\n        {\r\n            this.instance = new ConfigManager();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    public loadAllConfig(callback?: Function): void {\r\n        if(this._isLoaded)\r\n        {\r\n            if(callback)\r\n            {\r\n                callback();\r\n            }\r\n            return;\r\n        }\r\n        this._isLoaded = true;\r\n        this.loadConfig(LanguageConfigContainer, this.callback, callback);\r\n        this.loadConfig(ItemConfigContainer, this.callback, callback);\r\n        this.loadConfig(CoinMatchConfigContainer, this.callback, callback);\r\n        this.loadConfig(OpenRoomConfigContainer, this.callback, callback);\r\n        this.loadConfig(FaceConfigContainer, this.callback, callback);\r\n        this.loadConfig(DuanjuConfigContainer, this.callback, callback);\r\n        this.loadConfig(PeiMusicConfigContainer, this.callback, callback);\r\n        this.loadConfig(GlobalConfigContainer, this.callback, callback);\r\n    }\r\n\r\n    public getConfig<T extends BaseConfigContainer>(configClass: ConfigContainerClass<T>): T\r\n    {\r\n        for(let i = 0; i < this.configContainerList.length; ++i)\r\n        {\r\n            if(this.configContainerList[i].tag == configClass)\r\n            {\r\n                return this.configContainerList[i] as T;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public loadConfig<T extends BaseConfigContainer>(configClass: ConfigContainerClass<T>, callback: Function, arg: any)\r\n    {\r\n        let config = new configClass(callback, this, arg);\r\n        config.tag = configClass;\r\n        this.configContainerList.push(config);\r\n    }\r\n\r\n    private callback(callback: Function)\r\n    {\r\n        //cc.log(\"callback\");\r\n\r\n        this.curLoadedCount += 1;\r\n        if(this.configContainerList.length == this.curLoadedCount)\r\n        {\r\n            if(callback)\r\n            {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n}","export enum CARD_RANK\r\n{\r\n    ACE=        1,\r\n    TWO=        2,\r\n    THREE=      3,\r\n    FOUR=       4,\r\n    FIVE=       5,\r\n    SIX=        6,\r\n    SEVEN=      7,\r\n    EIGHT=      8,\r\n    NINE=       9,\r\n    TEN=        10,\r\n    JACK=       11,\r\n    QUEEN=      12,\r\n    KING=       13,\r\n    JokerSmall= 14,\r\n    JokerBig=   15,\r\n\r\n}\r\nexport enum CARD_COLOR\r\n{\r\n    Diamond=    0, //方块\r\n    HEART=      1, //红桃\r\n    CLUB=      2, //草花\r\n    SPADE=      3, //黑桃\r\n}\r\n\r\nexport class EventMessage\r\n{\r\n    //房间信息\r\n    public static POKER_ROOM_INFO: string = 'POKER_ROOM_INFO';\r\n    //游戏开始\r\n    public static POKER_GAME_START: string = 'POKER_GAME_START';\r\n    //玩家出牌\r\n    public static POKER_USER_PLAY: string = 'POKER_USER_PLAY';\r\n    //玩家过牌\r\n    public static POKER_USER_PASS: string = 'POKER_USER_PASS';\r\n    //游戏结算\r\n    public static POKER_GAME_END: string = 'POKER_GAME_END';\r\n    //房间玩家金币变更\r\n    public static POKER_ROOM_GOLD_CHANGE: string = 'POKER_ROOM_GOLD_CHANGE';\r\n    //炸弹斩杀\r\n    public static POKER_BOMB_SCORE: string = 'POKER_BOMB_SCORE';\r\n    //玩家托管状态变更\r\n    public static POKER_USER_TRUSTEESHIP_STATUS:string = 'POKER_USER_TRUSTEESHIP_STATUS';\r\n    //聊天\r\n    public static POKER_USER_CHAT:string = 'POKER_USER_CHAT';\r\n}","import { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class DuanjuData {\r\n    id: number;\r\n    text: string;\r\n    sound: number;\r\n}\r\n\r\nconst enum DuanjuDataTitle {\r\n    id,\r\n    text,\r\n    pei_music_id\r\n}\r\n\r\nexport class DuanjuConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfig = null;\r\n    private arrConfig: DuanjuData[] = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"duanju\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load duanju err\");\r\n            }\r\n            else {\r\n                // let encode = object.text;\r\n                // let decode = window.atob(encode);\r\n                // object = JSON.parse(decode);\r\n                // for (var i in object) {\r\n                //     this.monsterConfigData[i] = object[i];\r\n                // }\r\n                // if (callback) {\r\n                //     callback.call(caller, arg);\r\n                // }\r\n                this.configData = jsonAsset.json as ConfigData;\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private generateMapConfig() {\r\n        if (this.mapConfig == null) {\r\n            this.mapConfig = {};\r\n            this.arrConfig = [];\r\n            for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                let record = this.configData.RECORDS[i];\r\n                let temp = new DuanjuData();\r\n                temp.id = Number(record[DuanjuDataTitle.id]);   // 转成number 查表速度快一些\r\n                temp.text = record[DuanjuDataTitle.text];\r\n                temp.sound = record[DuanjuDataTitle.pei_music_id];\r\n                this.mapConfig[temp.id] = temp;\r\n                this.arrConfig.push(temp);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getDataArray(): DuanjuData[] {\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        return this.arrConfig;\r\n    }\r\n\r\n    getDataById(id): DuanjuData {\r\n        let faceData: DuanjuData = null;\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        let numId = 0;\r\n        if (typeof id == \"string\") {\r\n            numId = Number(id);\r\n        }\r\n        else {\r\n            numId = id;\r\n        }\r\n        faceData = this.mapConfig[numId];\r\n\r\n        return faceData;\r\n    }\r\n\r\n}","import { _decorator, Node } from 'cc';\r\nexport default class EventCenter extends Node {\r\n    private static _inst:EventCenter = null;\r\n    private static get inst():EventCenter {return this._inst || new EventCenter();}\r\n    public constructor() { super(); EventCenter._inst = this; }\r\n    \r\n    public static onEvent(strEvent:string, callback:Function, caller:any) {\r\n        this.inst.on(strEvent, callback, caller);\r\n    }\r\n    public static offEvent(strEvent:string, callback:Function, caller:any) {\r\n        this.inst.off(strEvent, callback, caller);\r\n    }\r\n    public static emitEvent(strEvent:string, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) {\r\n        this.inst.emit(strEvent, arg1, arg2, arg3, arg4, arg5);\r\n    }\r\n}\r\n\r\n\r\n","import { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class FaceData {\r\n    id: number;\r\n    isShow: boolean;\r\n    icon: string;\r\n    res: string;\r\n    num: number;\r\n    sound: number;\r\n}\r\n\r\nconst enum FaceDataTitle {\r\n    face_id,\r\n    sort,\r\n    show,\r\n    cycle,\r\n    face_icon,\r\n    face_res,\r\n    face_number,\r\n    pei_music_id\r\n}\r\n\r\nexport class FaceConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfig = null;\r\n    private arrConfig:FaceData[] = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"face\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load face err\");\r\n            }\r\n            else {\r\n                // let encode = object.text;\r\n                // let decode = window.atob(encode);\r\n                // object = JSON.parse(decode);\r\n                // for (var i in object) {\r\n                //     this.monsterConfigData[i] = object[i];\r\n                // }\r\n                // if (callback) {\r\n                //     callback.call(caller, arg);\r\n                // }\r\n                this.configData = jsonAsset.json as ConfigData;\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        }\r\n        );\r\n    }\r\n\r\n    private generateMapConfig() {\r\n        if (this.mapConfig == null) {\r\n            this.mapConfig = {};\r\n            this.arrConfig = [];\r\n            for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                let record = this.configData.RECORDS[i];\r\n                let temp = new FaceData();\r\n                temp.id = Number(record[FaceDataTitle.face_id]);   // 转成number 查表速度快一些\r\n                temp.isShow = record[FaceDataTitle.show] == \"1\";\r\n                temp.icon = record[FaceDataTitle.face_icon];\r\n                temp.res = record[FaceDataTitle.face_res];\r\n                temp.num = record[FaceDataTitle.face_number];\r\n                temp.sound = record[FaceDataTitle.pei_music_id];\r\n                this.mapConfig[temp.id] = temp;\r\n                this.arrConfig.push(temp);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getDataArray(): FaceData[] {\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        return this.arrConfig;\r\n    }\r\n\r\n    getFaceDataById(id): FaceData {\r\n        let faceData: FaceData = null;\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        let numId = 0;\r\n        if (typeof id == \"string\") {\r\n            numId = Number(id);\r\n        }\r\n        else {\r\n            numId = id;\r\n        }\r\n        faceData = this.mapConfig[numId];\r\n\r\n        return faceData;\r\n    }\r\n\r\n}","import { userData } from './../../../module_fish_whale/script/net/globalUtils';\r\nimport { _decorator, director } from 'cc';\r\nimport { PokerManager, RoomData, UserInfo } from 'db://assets/module_basic/scripts/poker/PokerManager';\r\nimport { MsgRoomInfo } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgRoomInfo';\r\nimport { MsgTrusteeshipStatus } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgTrusteeshipStatus';\r\nimport { MsgRoomScore } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgRoomScore';\r\nimport { EventMessage } from './Define';\r\nimport { MsgBombScore } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgBombScore';\r\nimport { MsgGameEnd } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgGameEnd';\r\nimport { MsgPassPlayer } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgPassPlayer';\r\nimport { MsgTurnPlayer } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgTurnPlayer';\r\nimport { MsgGameStart } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgGameStart';\r\nimport { ROOM_STATUS } from 'db://assets/module_basic/scripts/poker/PokerDefine';\r\nimport { UserMgr } from 'db://assets/module_basic/scripts/UserMgr';\r\nimport { gameNet } from 'db://assets/module_basic/scripts/NetGameServer';\r\nimport { RoomMgr } from 'db://assets/module_basic/scripts/RoomMgr';\r\nimport { MsgPlay } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgPlay';\r\nimport { MsgTrusteeship } from 'db://assets/module_basic/shared/protocols/public/tienlen/MsgTrusteeship';\r\nimport { MsgChat } from 'db://assets/module_basic/shared/protocols/public/chat/MsgChat';\r\nimport { ReqSendChat } from 'db://assets/module_basic/shared/protocols/public/chat/PtlSendChat';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/** 一副扑克牌 ×*/\r\nconst DECK = [\r\n    //  1   2   3   4   5   6   7   8   9   10  J   Q   K  \r\n        49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61,\t//红桃 A - K\r\n        33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,\t//方块 A - K\r\n        17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,\t//梅花 A - K\r\n        1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13,\t//黑桃 A - K\r\n        14, //小王\r\n        15, //大王\r\n    ];\r\n \r\nexport class GameManager{\r\n    private static _inst: GameManager;\r\n    private _currentUserID:string; //当前出牌的玩家id\r\n    private _currentUserChairID:number; //当前出牌得玩家座位\r\n\r\n    private _lastUserID:string;         //最后一次出牌得玩家id\r\n    private _lastUserChairID:number;    //最后一次出牌得玩家座位\r\n\r\n    private _gameData:GameData;\r\n    public static get inst(): GameManager {\r\n        if (!this._inst) {\r\n            this._inst = new GameManager();\r\n        }\r\n        return this._inst;\r\n    }\r\n    public get roomData():RoomData\r\n    {\r\n        return PokerManager.inst.roomData;\r\n    }\r\n    public get myChairID():number\r\n    {\r\n        return PokerManager.inst.myChairID;\r\n    }\r\n    public get myUserID():string\r\n    {\r\n        return UserMgr.inst.uid;\r\n    }\r\n    //获取对应位置的玩家信息\r\n    public getTableUserItem(chairID:number):UserGameInfo\r\n    {\r\n        for(var i:number = 0;i<this._gameData.userList.length;i++)\r\n        {\r\n            if(this._gameData.userList[i].chairID == chairID)\r\n            {\r\n                return this._gameData.userList[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    public init():void\r\n    {\r\n        //注册各种消息  \r\n        gameNet.listenMsg(\"tienlen/GameStart\", this.onGameStart, this);\r\n        gameNet.listenMsg(\"tienlen/RoomInfo\", this.onRoomBack, this);\r\n        gameNet.listenMsg(\"tienlen/TurnPlayer\", this.onUserPlay, this);\r\n        gameNet.listenMsg(\"tienlen/PassPlayer\", this.onUserPass, this);\r\n        gameNet.listenMsg(\"tienlen/TrusteeshipStatus\", this.onUserTrusteeshipStatus, this);\r\n        gameNet.listenMsg(\"tienlen/GameEnd\", this.onGameEnd, this);\r\n        gameNet.listenMsg(\"tienlen/RoomScore\", this.onRoomGoldChange, this);\r\n        gameNet.listenMsg(\"tienlen/BombScore\", this.onRoomBombScore, this);\r\n        gameNet.listenMsg(\"chat/Chat\", this.onChat, this);\r\n    }\r\n    public uinit():void\r\n    {\r\n        this.end();\r\n    }\r\n    /**\r\n     * 结束\r\n     */\r\n    public end():void {\r\n        //移除消息\r\n        gameNet.unlistenMsgAllByThis(this);\r\n    }\r\n    //准备\r\n    public onReady():void\r\n    {\r\n        RoomMgr.inst.rpc_Ready();\r\n    }\r\n    //取消准备\r\n    public onCancelReady():void\r\n    {\r\n        //gameNet.sendMsg('fish/Fire', msg);\r\n    }\r\n    //出牌\r\n    public onPlay(cards:number[]):void\r\n    {\r\n        var msg:MsgPlay = {} as MsgPlay;\r\n        msg.cards = cards;\r\n        gameNet.sendMsg('tienlen/Play', msg);\r\n    }\r\n    //过牌 不出 跳过\r\n    public onPass():void\r\n    {\r\n        gameNet.sendMsg('tienlen/Pass', {});\r\n    }\r\n    //托管\r\n    public onTrustship():void\r\n    {\r\n        var msg:MsgTrusteeship = {} as MsgTrusteeship;\r\n        msg.status = true;\r\n        gameNet.sendMsg('tienlen/Trusteeship', msg);\r\n    }\r\n    //取消托管\r\n    public onCancelTrustship():void\r\n    {\r\n        var msg:MsgTrusteeship = {} as MsgTrusteeship;\r\n        msg.status = false;\r\n        gameNet.sendMsg('tienlen/Trusteeship', msg);\r\n    }\r\n    /**聊天 */\r\n    public chat(content:string):void\r\n    {\r\n        var msg:ReqSendChat = {} as ReqSendChat ;\r\n        msg.content = content;\r\n        gameNet.callApi('chat/SendChat', msg);\r\n    }\r\n    /**通过玩家id 获取玩家数据 */\r\n    public getUserInfoByID(userID:string):UserGameInfo\r\n    {\r\n        for(var i:number = 0;i<this._gameData.userList.length;i++)\r\n        {\r\n            if(this._gameData.userList[i].userID == userID)\r\n            {\r\n               return this._gameData.userList[i]; \r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**通过玩家座号 获取玩家数据 */\r\n    public getUserInfoByChairID(chairID:number):UserGameInfo\r\n    {\r\n        for(var i:number = 0;i<this._gameData.userList.length;i++)\r\n        {\r\n            if(this._gameData.userList[i].chairID == chairID)\r\n            {\r\n               return this._gameData.userList[i]; \r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    //房间信息下发\r\n    private onRoomBack(msg:MsgRoomInfo):void\r\n    {\r\n        console.log(\"MsgRoomInfo\");\r\n        this._gameData = new GameData();\r\n        this._gameData.serialNumber = msg.serialNumber;\r\n        this._gameData.currentUserID = msg.currentUserId;\r\n        this._gameData.currentUserChairID = msg.currentUser;\r\n        this._gameData.currentLeftTime = msg.currentLeftTime;\r\n        this._gameData.round = msg.handRound;\r\n        this._gameData.userList = [];\r\n        if(msg.userCards)\r\n        {\r\n            for(var i:number = 0;i<msg.userCards.length;i++)\r\n            {\r\n                var userGameInfo:UserGameInfo = new UserGameInfo(); \r\n                userGameInfo.userID = msg.userCards[i].userId;\r\n                userGameInfo.chairID = msg.userCards[i].chairId;\r\n                userGameInfo.cards = msg.userCards[i].cards;\r\n                userGameInfo.userCardCount = msg.userCards[i].cardCount;\r\n                this._gameData.userList.push(userGameInfo);\r\n            }\r\n        }\r\n        if(msg.prevCards)\r\n        {\r\n            var prevCards:PrevCards = new PrevCards();\r\n            prevCards.cards = msg.prevCards.cards;\r\n            prevCards.chairID = msg.prevCards.chairID;\r\n            prevCards.userID =  msg.prevCards.userID;\r\n            prevCards.leftCardCount = msg.prevCards.leftCardCount;\r\n            this._gameData.prevCards = prevCards;\r\n        }\r\n       \r\n        this._currentUserID = this._gameData.currentUserID;\r\n        this._currentUserChairID = this._gameData.currentUserChairID;\r\n        \r\n        director.emit(EventMessage.POKER_ROOM_INFO,this._gameData);\r\n    }\r\n\r\n    //游戏开始\r\n    private onGameStart(msg:MsgGameStart):void\r\n    {\r\n        PokerManager.inst.roomData.roomStatus = ROOM_STATUS.PLAYING;\r\n        var startData:GameStartData = new GameStartData();\r\n        startData.currentUserChairID = msg.currentUser;\r\n        startData.round = msg.round;\r\n\r\n       var userCards:UserCard[] = [];\r\n       for(var i:number = 0;i<msg.userCards.length;i++)\r\n       {\r\n            var userCard:UserCard = new UserCard();\r\n            userCard.cardCount = msg.userCards[i].cardCount;\r\n            userCard.userID = msg.userCards[i].userId;\r\n            userCard.chairID = msg.userCards[i].chairId;\r\n            userCard.userCard = msg.userCards[i].cards;\r\n            userCards.push(userCard);\r\n       }\r\n       startData.userCards =userCards;\r\n       this._gameData.currentUserChairID = startData.currentUserChairID;\r\n       this._gameData.currentUserID = startData.currentUserID;\r\n       for(var i:number = 0;i<startData.userCards.length;i++)\r\n       {\r\n            for(var j:number = 0;j<this._gameData.userList.length;j++) \r\n            {\r\n                if(this._gameData.userList[j].chairID == startData.userCards[i].chairID)\r\n                {\r\n                    this._gameData.userList[j].cards = startData.userCards[i].userCard;\r\n                }\r\n            }\r\n       }\r\n       director.emit(EventMessage.POKER_GAME_START,startData);\r\n    }\r\n    //玩家出牌\r\n    private onUserPlay(msg:MsgTurnPlayer):void\r\n    {   \r\n        var gamePlayCard:GamePlayCard = new GamePlayCard();\r\n        // gamePlayCard.nextUserChairID = msg.nextUserID;\r\n        gamePlayCard.nextUserChairID = msg.currentUser;\r\n\r\n        if(msg.prevCards)\r\n        {\r\n            var prevCards:PrevCards = new PrevCards();\r\n            prevCards.cards = msg.prevCards.cards;\r\n            prevCards.chairID = msg.prevCards.chairID;\r\n            prevCards.userID =  msg.prevCards.userID;\r\n            prevCards.leftCardCount = msg.prevCards.leftCardCount;\r\n            gamePlayCard.prevCards = prevCards;\r\n        }\r\n        \r\n       \r\n        this._currentUserID = gamePlayCard.nextUserID;\r\n        this._currentUserChairID = gamePlayCard.nextUserChairID;\r\n        if(gamePlayCard.prevCards)\r\n        {\r\n            if(this._lastUserID != gamePlayCard.prevCards.userID)\r\n            {\r\n                //不同人出牌了\r\n                let user:UserGameInfo = this.getUserInfoByID(gamePlayCard.prevCards.userID);\r\n                if(user)\r\n                {\r\n                    for(var i:number = 0;i<gamePlayCard.prevCards.cards.length;i++)\r\n                    {\r\n                        var index = user.cards.indexOf(gamePlayCard.prevCards.cards[i]);\r\n                        if(index != -1)\r\n                        {\r\n                            user.cards.splice(index,1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._lastUserID = gamePlayCard.prevCards.userID;\r\n            this._lastUserChairID = gamePlayCard.prevCards.chairID;\r\n        }\r\n        else\r\n        {\r\n            this._lastUserID = \"\";\r\n            this._lastUserChairID = -1;\r\n        }\r\n        \r\n\r\n        director.emit(EventMessage.POKER_USER_PLAY,gamePlayCard);\r\n    }\r\n    //玩家过牌\r\n    private onUserPass(msg:MsgPassPlayer):void\r\n    {   \r\n        var gamePlayPass:GamePlayPass = new GamePlayPass();\r\n        gamePlayPass.userID = msg.userId;\r\n        gamePlayPass.chairID = msg.chairId;\r\n        director.emit(EventMessage.POKER_USER_PASS,gamePlayPass);\r\n    }\r\n    //游戏结束 结算\r\n    private onGameEnd(msg:MsgGameEnd):void\r\n    {   \r\n        PokerManager.inst.roomData.roomStatus = ROOM_STATUS.IDLE;\r\n        var gameEndData:GameEndData = new GameEndData();\r\n        if(msg.tongPai)\r\n        {\r\n            var tongPaiData: TongPaiData= new TongPaiData();\r\n            tongPaiData.userID = msg.tongPai.userId;\r\n            tongPaiData.chairID = msg.tongPai.chairId;\r\n            tongPaiData.cards = msg.tongPai.cards;\r\n            gameEndData.tongPai = tongPaiData;\r\n        }\r\n        var userDatas: UserResultData[] = [];\r\n        for(var i:number=0;i<msg.userData.length;i++)\r\n        {\r\n            var userResultData:UserResultData = new UserResultData();\r\n            userResultData.userCard = msg.userData[i].userCard;\r\n            userResultData.userID = msg.userData[i].userId;\r\n            userResultData.chairID = msg.userData[i].chairId;\r\n            userResultData.allGold = msg.userData[i].allGold;\r\n            userResultData.winGold = msg.userData[i].score;\r\n            userResultData.bombGold = msg.userData[i].bombScore;\r\n            userResultData.isWinner = msg.userData[i].isWinner;\r\n            userResultData.playRecords = msg.userData[i].playRecords;\r\n            userResultData.isCreator = msg.userData[i].isCreator;\r\n\r\n            var userData:UserInfo = PokerManager.inst.getUserInfoByID(userResultData.userID);\r\n            if(userData)\r\n            {\r\n                userResultData.nickname = userData.nickname;\r\n                // userResultData.headUrl = userData.headUrl;\r\n            }\r\n            userDatas.push(userResultData);\r\n\r\n            \r\n        }\r\n        gameEndData.userData = userDatas;\r\n        director.emit(EventMessage.POKER_GAME_END,gameEndData);\r\n    }\r\n    private onRoomGoldChange(msg:MsgRoomScore):void\r\n    {\r\n        var roomGoldChange:RoomGoldChange = new RoomGoldChange();\r\n        roomGoldChange.userData = [];\r\n        for(var i:number=0;i<msg.userData.length;i++)\r\n        {\r\n            var changeUser:RoomGoldChangeUser = new RoomGoldChangeUser();\r\n            changeUser.userID = msg.userData[i].userId;\r\n            changeUser.gold = msg.userData[i].gold;\r\n            changeUser.chairID = msg.userData[i].chairId;\r\n            roomGoldChange.userData.push(changeUser);\r\n        }\r\n        director.emit(EventMessage.POKER_ROOM_GOLD_CHANGE,roomGoldChange);\r\n    }\r\n    private onRoomBombScore(msg:MsgBombScore):void\r\n    {\r\n        director.emit(EventMessage.POKER_BOMB_SCORE,msg);\r\n    }\r\n    private onUserTrusteeshipStatus(msg:MsgTrusteeshipStatus):void\r\n    {\r\n        \r\n        for(var i:number = 0;i<this._gameData.userList.length;i++)\r\n        {\r\n            if(this._gameData.userList[i].userID == msg.userId)\r\n            {\r\n                this._gameData.userList[i].trusteeship = msg.status;\r\n                director.emit(EventMessage.POKER_USER_TRUSTEESHIP_STATUS,this._gameData.userList[i]);\r\n            }\r\n        }\r\n    }\r\n    private onChat(msg:MsgChat):void\r\n    {\r\n        director.emit(EventMessage.POKER_USER_CHAT,msg);\r\n    }\r\n}\r\n\r\n\r\nexport class GameData\r\n{\r\n    public serialNumber:number; //底分\r\n    public playerCount:number; //人数（不同游戏 不同玩法 人数不一样）\r\n    public prevCards:PrevCards;   //上回合的出牌\r\n    public currentUserID: string;    // 当前出牌玩家的id\r\n    public currentUserChairID: number;    // 当前出牌玩家的坐位号\r\n    public currentLeftTime: number;    // 当前玩家出牌倒计时 单位毫秒\r\n    public round:number; //第几回合\r\n    public userList:UserGameInfo[];    //玩家信息列表\r\n    constructor() {\r\n        this.userList = [];\r\n        this.round = 0;\r\n    }\r\n}\r\n\r\nexport class UserGameInfo\r\n{\r\n    public userID:string; // 玩家id\r\n    public chairID:number; // 座位\r\n   \r\n    public cards:number[];   //牌   ----只有自己能给数据 其他玩家不能给这个数据\r\n    public userCardCount:number;  //手牌数\r\n    public trusteeship:boolean; //是否托管\r\n    constructor() {\r\n        this.cards = [];\r\n        this.chairID = -1;\r\n    }\r\n}\r\n\r\nexport class UserResultData\r\n{\r\n    public userID: string;\r\n    public chairID: number; //座位\r\n    public userCard: number[]; //剩余牌\r\n    public playRecords: number[];  //打牌记录\r\n    public allGold: number;    //持有金币总量\r\n    public winGold: number;  //结算赢的金币\r\n    public isWinner:boolean;    //是否赢家\r\n    public bombGold:number; //炸弹金币\r\n    public isCreator:boolean; //是否房主\r\n    public nickname: string;\r\n    public head: string;\r\n    constructor() {\r\n        this.userCard = [];\r\n        this.playRecords = [];\r\n    }\r\n}\r\n\r\n//通牌数据\r\nexport class TongPaiData\r\n{\r\n    public userID: string;\r\n    public chairID: number; //座位\r\n    public cards: number[];\r\n    constructor() {\r\n        this.cards = [];\r\n    }\r\n}\r\nexport class PrevCards\r\n{\r\n    public userID: string;\r\n    public chairID: number; //座位\r\n    public cards: number[]; //出的牌\r\n    public leftCardCount: number; // 剩余牌数\r\n    constructor() {\r\n        this.cards = [];\r\n    }\r\n}\r\nexport class GameStartData\r\n{\r\n    public userCards: UserCard[];\r\n    public currentUserChairID:number; //当前出牌玩家座位\r\n    public currentUserID: string;    // 当前出牌玩家的id\r\n    public round:number; //回合数\r\n    constructor() {\r\n        this.userCards = [];\r\n    }\r\n}\r\nexport class UserCard\r\n{\r\n    public userCard: number[];\r\n    public chairID:number; //座位\r\n    public userID: string;\r\n    public cardCount:number;  //手牌数\r\n    constructor() {\r\n        this.userCard = [];\r\n    }\r\n}\r\n\r\n//出牌\r\nexport class GamePlayCard\r\n{\r\n    public nextUserID: string;    // 下一家出牌玩家id\r\n    public nextUserChairID: number;    // 下一家出牌玩家的坐位号\r\n    public prevCards: PrevCards; //上家出的牌\r\n}\r\n//过牌\r\nexport class GamePlayPass\r\n{\r\n    public userID: string;\r\n    public chairID: number; //座位\r\n}\r\n\r\n\r\nexport class GameEndData\r\n{\r\n    public tongPai: TongPaiData;  //通牌胜利,否则为null\r\n    public userData: UserResultData[] //本局数据 \r\n}\r\nexport class RoomGoldChange\r\n{\r\n    public userData:RoomGoldChangeUser[];\r\n}\r\n\r\nexport class RoomGoldChangeUser\r\n{\r\n    public userID: string;\r\n    public chairID:number;\r\n    public gold: number;\r\n}\r\n","import { Material } from './../../../extensions/plugin-import-2x/creator/components/Material';\r\nimport { Sprite } from \"cc\";\r\nimport { Logger } from \"../../core_tgx/base/log/Logger\";\r\nimport { Node } from \"cc\";\r\nimport { Label } from \"cc\";\r\nimport { ResourceMgr } from \"../../core_tgx/base/ResourceMgr\";\r\nimport { ModuleDef } from \"../../scripts/ModuleDef\";\r\nimport { SpriteFrame } from \"cc\";\r\nimport { sys } from 'cc';\r\nimport { PokerManager } from '../../module_basic/scripts/poker/PokerManager';\r\n\r\nexport default class GameTools {\r\n\r\n    /**\r\n     * zpF:格式化时间\r\n     * @param date 时间\r\n     * @param format 如：\"yyyy-MM-dd\"\r\n     * @returns {any} 格式化的字符串\r\n     */\r\n    public static dateFormat(date, format = \"yyyy-MM-dd hh:mm:ss\") {\r\n        let o = {\r\n            \"M+\": date.getMonth() + 1, //month\r\n            \"d+\": date.getDate(), //day\r\n            \"h+\": date.getHours(), //hour\r\n            \"m+\": date.getMinutes(), //minute\r\n            \"s+\": date.getSeconds(), //second\r\n            \"q+\": Math.floor((date.getMonth() + 3) / 3), //quarter\r\n            \"S\": date.getMilliseconds() //millisecond\r\n        };\r\n        if (/(y+)/.test(format)) format = format.replace(RegExp.$1,\r\n            (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n        for (let k in o)\r\n            if (new RegExp(\"(\" + k + \")\").test(format))\r\n                format = format.replace(RegExp.$1,\r\n                    RegExp.$1.length == 1 ? o[k] :\r\n                        (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n        return format;\r\n    }\r\n\r\n\r\n    /**\r\n     * zpF:微信登录的回调，一个参数是openid\r\n     * @type (openid)=>{}\r\n     */\r\n    public static wxLoginCallBack = null;\r\n\r\n    /**\r\n     * zpF:微信分享的回调\r\n     * @type  (errCode)=>{}\r\n     */\r\n    public static wxShareCallBack = null;\r\n\r\n    /**\r\n     * zpF:格式化字符串\r\n     * @param num\r\n     * @param sep\r\n     * @param chars\r\n     * @returns {string}\r\n     */\r\n    public static formatStr(num, sep, chars) {\r\n        var num = (num || 0).toString(),\r\n            result = '';\r\n        while (num.length > chars) {\r\n            result = sep + num.slice(-chars) + result;\r\n            num = num.slice(0, num.length - chars);\r\n        }\r\n        if (num) {\r\n            result = num + result;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * zpF:一个数字字符串，从右到左每隔3位加入一个逗号(1234567890 --> 1,234,567,890)\r\n     */\r\n    public static toThousands(src) {\r\n        return GameTools.formatStr(src, \",\", 3);\r\n    }\r\n\r\n    /**\r\n     * zpF:转换为万字\r\n     */\r\n    public static to10Thousands(src) {\r\n        return GameTools.formatStr(src, \" \", 4);\r\n    }\r\n\r\n    /**\r\n     * zpF:数字转x.x(万)\r\n     * @param src\r\n     * @returns {number}\r\n     */\r\n    public static toWan(src) {\r\n        return Math.floor(src / 1000) / 10;\r\n    }\r\n\r\n    /**\r\n     * zpF:随机数字方法，有区间\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     * @param isInt 是否整数\r\n     * @returns {number} 随机数\r\n     */\r\n    public static randNum(min, max, isInt) {\r\n        min = min || 0;\r\n        max = max || 0;\r\n        const offset = max - min;\r\n        const num = min + Math.random() * offset;\r\n\r\n        return isInt ? Math.floor(num) : num;\r\n    }\r\n\r\n\r\n    /**\r\n     * zpF:金额小写转大写\r\n     * @param n 金额\r\n     * @returns {*} 返回格式化字符串\r\n     */\r\n    public static convertMoneyToCapitals(n) {\r\n        if (n == 0) {\r\n            return \"零\"\r\n        }\r\n        if (!/^(0|[1-9]\\d*)(\\.\\d+)?$/.test(n))\r\n            return \"数据非法\";\r\n        let unit = \"万千百拾亿千百拾万千百拾元\",\r\n            str = \"\";\r\n        n += \"\";\r\n        const p = n.indexOf('.');\r\n        if (p >= 0)\r\n            return \"数据非法\";\r\n        unit = unit.substr(unit.length - n.length);\r\n        for (let i = 0; i < n.length; i++)\r\n            str += '零壹贰叁肆伍陆柒捌玖'.charAt(n.charAt(i)) + unit.charAt(i);\r\n        return str.replace(/零(千|百|拾|角)/g, \"零\").replace(/(零)+/g, \"零\").replace(/零(万|亿|元)/g, \"$1\").replace(/(亿)万|壹(拾)/g, \"$1$2\").replace(/^元零?|零分/g, \"\").replace(/元$/g, \"\");\r\n    };\r\n\r\n    /**\r\n     * 获取是否旁观玩家\r\n     * @param chairID 椅子号，如果不传，默认是KernelData.chairID\r\n     */\r\n    public static getIsWatcher(chairID = null) {\r\n        let id = chairID || PokerManager.inst.myChairID;\r\n        return id == 0xFFFF;\r\n    }\r\n\r\n\r\n    /**\r\n     *  zpF 动态设置精灵中的图片\r\n     * @param node 节点\r\n     * @param atlas 图集\r\n     * @param spriteName 图片的名字\r\n     */\r\n    public static showSpriteFrame(node, atlas, spriteName) {\r\n        const frame = atlas.getSpriteFrame(spriteName);\r\n        const sprite = node.getComponent(Sprite);\r\n        if (sprite && frame) {\r\n            sprite.spriteFrame = frame\r\n        } else {\r\n            Logger.error(\"showSpriteFrame 错误:\" + spriteName);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * zpF 获取字节长度，中文两个字节，英文一个字节\r\n     * @param str\r\n     * @returns {number}\r\n     */\r\n    public static getStrInBytes(str) {\r\n        let bytesCount = 0;\r\n        for (let i = 0; i < str.length; i++) {\r\n            const c = str.charAt(i);\r\n            if (/^[\\u0000-\\u00ff]$/.test(c)) //匹配双字节\r\n            {\r\n                bytesCount += 1;\r\n            } else {\r\n                bytesCount += 2;\r\n            }\r\n        }\r\n        return bytesCount\r\n    }\r\n\r\n    /**\r\n     * zpF 隐藏或显示子节点\r\n     * @param node 父节点\r\n     * @param active 显示或隐藏\r\n     */\r\n    public static setChildVisible(node, active) {\r\n        if (!node || !node.children || node.childrenCount < 1) {\r\n            return;\r\n        }\r\n\r\n        node.children.forEach((childNode) => {\r\n            childNode.active = active;\r\n        })\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 测距\r\n     */\r\n    public static getDistance(gps1, gps2) {\r\n        if (!gps1 || !gps2) return 0;\r\n\r\n        console.log(\"gps\", gps1, gps2);\r\n\r\n        let arr1 = gps1.split(',');\r\n        let arr2 = gps2.split(',');\r\n        if (arr1 && arr2 && arr1.length === 2 && arr2.length === 2)\r\n            return GameTools.getFlatternDistance(arr1[0], arr1[1], arr2[0], arr2[1]);\r\n\r\n        return 0;\r\n    };\r\n\r\n    /**\r\n     * 测距2\r\n     * @param {Object} lat1\r\n     * @param {Object} lng1\r\n     * @param {Object} lat2\r\n     * @param {Object} lng2\r\n     */\r\n    public static getFlatternDistance(lat1, lng1, lat2, lng2) {\r\n        lat1 = parseFloat(lat1);\r\n        lng1 = parseFloat(lng1);\r\n        lat2 = parseFloat(lat2);\r\n        lng2 = parseFloat(lng2);\r\n\r\n        let f = GameTools.rad((lat1 + lat2) / 2);\r\n        let g = GameTools.rad((lat1 - lat2) / 2);\r\n        const l = GameTools.rad((lng1 - lng2) / 2);\r\n\r\n        let sg = Math.sin(g);\r\n        let sl = Math.sin(l);\r\n        let sf = Math.sin(f);\r\n\r\n        let s, c, w, r, d, h1, h2;\r\n        const a = GameTools.EARTH_RADIUS;\r\n        const fl = 1 / 298.257;\r\n\r\n        sg = sg * sg;\r\n        sl = sl * sl;\r\n        sf = sf * sf;\r\n\r\n        s = sg * (1 - sl) + (1 - sf) * sl;\r\n        c = (1 - sg) * (1 - sl) + sf * sl;\r\n\r\n        w = Math.atan(Math.sqrt(s / c));\r\n        r = Math.sqrt(s * c) / w;\r\n        d = 2 * w * a;\r\n        h1 = (3 * r - 1) / 2 / c;\r\n        h2 = (3 * r + 1) / 2 / s;\r\n\r\n        let result = d * (1 + fl * (h1 * sf * (1 - sg) - h2 * (1 - sf) * sg));\r\n        result = Math.round(result);\r\n        console.log(\"结算结果\", result);\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n\r\n    static PI = Math.PI;\r\n    static EARTH_RADIUS = 6378137.0;    //单位M\r\n    private static rad(d) {\r\n        return d * GameTools.PI / 180.0;\r\n    }\r\n\r\n\r\n    /**\r\n     * 版本号比较，一般index=1表示比较前2位版本好\r\n     * @static\r\n     * @param {*} versionA\r\n     * @param {*} versionB\r\n     * @param {*} idx   比较大位数索引，-1表示全部比较大小，>0表示从左到右的位数，\r\n     * 如1.2.3 -1表示匹配1.2.3 ，0表示只比较主版本1，1表示比较主版本和次版本即0和1位，2表示比较build版本\r\n     * @returns 大于0表示A高于B的版本\r\n     * @memberof GameTools\r\n     */\r\n    public static versionCompare(versionA, versionB,idx=1) {\r\n        const vA = versionA.split('.');\r\n        const vB = versionB.split('.');\r\n        let size = Math.min(vA.length,vB.length);\r\n        // 判断比较的位数\r\n        if (idx >= 0){\r\n            size = Math.min(idx + 1,size);\r\n        }\r\n        for (let i = 0; i < size; ++i) {\r\n            const a = parseInt(vA[i]);\r\n            const b = parseInt(vB[i] || 0);\r\n           \r\n            if (a === b) {\r\n                continue;\r\n            } else {\r\n                return a - b;\r\n            }\r\n        }\r\n        if (idx == -1 && vB.length > vA.length) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 版本号比较\r\n     * @static\r\n     * @param {*} versionA\r\n     * @param {*} versionB\r\n     * @returns 大于0表示A高于B的版本\r\n     * @memberof GameTools\r\n     */\r\n    public static versionCompareHandle(versionA, versionB) {\r\n        const vA = versionA.split('.');\r\n        const vB = versionB.split('.');\r\n        for (let i = 0; i < vA.length; ++i) {\r\n            const a = parseInt(vA[i]);\r\n            const b = parseInt(vB[i] || 0);\r\n            if (a === b) {\r\n                continue;\r\n            } else {\r\n                return a - b;\r\n            }\r\n        }\r\n        if (vB.length > vA.length) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    public static setLabelStr(str: string, targetNode: Node) {\r\n        targetNode.getComponent(Label).string = str;\r\n    }\r\n\r\n    public static readLocalImg(url: string, targetNode?: Node, trimMode = 0) {\r\n        return new Promise((resolve, reject) => {\r\n            if (url.indexOf(\".jpg\") != -1 || url.indexOf(\".png\") != -1) {\r\n                url = url.substr(0, url.length - 4);\r\n            }\r\n            ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, url+\"/spriteFrame\", SpriteFrame, (err, spriteFrame: SpriteFrame) => {\r\n                if (err) return console.error(err);\r\n                if (!targetNode) return resolve(spriteFrame);\r\n                let sprite = targetNode.getComponent(Sprite);\r\n                if (sprite.spriteFrame != spriteFrame) {\r\n                    sprite.spriteFrame = spriteFrame;\r\n                }\r\n                if (trimMode == 1) {\r\n                    sprite.sizeMode = Sprite.SizeMode.TRIMMED;\r\n                    sprite.trim = true;\r\n                }\r\n                resolve(spriteFrame)\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n    //替换“aa{0}a{1}aa”\r\n    public static getStringReplace(s: string, ...param: any[]): string {\r\n        if (param && param.length) {\r\n            return s.replace(/\\{(\\d+)\\}/g, function (s, i) {\r\n                return param[i];\r\n            })\r\n        } else {\r\n            return s;\r\n        }\r\n    }\r\n\r\n    //使用正则替换，每隔三个数加一个','\r\n    public static getThreeDotNum(a: number): string {\r\n        let str = a + \"\";\r\n        let ret = str.replace(/\\B(?=(?:\\d{3})+\\b)/g, ',')\r\n        return ret;\r\n    }\r\n\r\n    public static setGray(root: Node, isGray: boolean = true) {\r\n        if (!root) return;\r\n        // 获取 Sprite 或 Label 组件\r\n        let targetSprite = root.getComponent(Sprite);\r\n        let targetLabel = root.getComponent(Label);\r\n        if (targetSprite) {\r\n            targetSprite.grayscale = isGray;\r\n        }\r\n        // 递归处理子节点\r\n        root.children.forEach((child) => {\r\n            this.setGray(child, isGray);\r\n        });\r\n    }\r\n\r\n    public static nFormatter(num: number, digits = 2) {\r\n        const si = [\r\n            { value: 1, symbol: \"\" },\r\n            { value: 1E3, symbol: \"K\" },\r\n            { value: 1E6, symbol: \"M\" },\r\n            { value: 1E9, symbol: \"B\" },\r\n            { value: 1E12, symbol: \"T\" },\r\n            // { value: 1E15, symbol: \"P\" },\r\n            // { value: 1E18, symbol: \"E\" }\r\n        ];\r\n        const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n        let i;\r\n        for (i = si.length - 1; i > 0; i--) {\r\n            if (num >= si[i].value) {\r\n                break;\r\n            }\r\n        }\r\n        return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n    }\r\n\r\n    /**\r\n     * zpF 获取H5版本中的浏览器参数\r\n     * @param name 参数名字\r\n     * @returns {string}\r\n     * @constructor\r\n     */\r\n    public static GetQueryString(name) {\r\n        if (sys.isBrowser) { //浏览器就跳转吧\r\n            let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n            const r = window.location.search.substr(1).match(reg);\r\n            if (r != null) return unescape(r[2]);\r\n        }\r\n\r\n    };\r\n    public static readonly MUSIC_ON_OFF_KEY = \"MUSIC_ON_OFF\";\r\n    public static readonly EFFECT_ON_OFF_KEY = \"EFFECT_ON_OFF\";\r\n\r\n    public static readonly UUID_KEY = \"UUID_KEY\";\r\n    public static readonly OPEN_ID_KEY = \"OPEN_ID_KEY\";\r\n\r\n}\r\n","\r\nimport { NodeEventType } from 'cc';\r\n// import {AudioControl} from \"../main/script/AudioControl\";\r\n\r\nimport { find } from \"cc\";\r\nimport { Prefab } from \"cc\";\r\nimport { ResourceMgr } from \"../../core_tgx/base/ResourceMgr\";\r\nimport { ModuleDef } from \"../../scripts/ModuleDef\";\r\nimport { Node } from 'cc';\r\nimport { Widget} from 'cc';\r\nimport { instantiate } from 'cc';\r\nimport { Canvas } from 'cc';\r\nimport { director } from 'cc';\r\nimport { Label } from 'cc';\r\nimport { sys } from 'cc';\r\nimport { UITips } from './PublicPrefab/UITips/UITips';\r\nimport { UILoading } from './PublicPrefab/UILoading/UILoading';\r\nimport { UIMgr } from '../../core_tgx/easy_ui_framework/UIMgr';\r\nimport { GameUILayers } from '../../scripts/GameUILayers';\r\n\r\n\r\n\r\n//by_009:全局对象\r\nexport class GD {\r\n    public static clubID;\r\n    public static isAdmin;\r\n\r\n    //by_009:观战者id（是旁观者就有座位id）\r\n    public static watcherID: any;\r\n\r\n    public staticclubID: any;\r\n    public static baoxID: any;\r\n    public staticisAdmin: any; //1是，0否\r\n\r\n    //by_009:房间配置\r\n    public static roomConfig: any;\r\n    //by_009:游戏配置\r\n    public static GameConfig: any;\r\n    //by_009:牌逻辑\r\n    public static GameLogic: any;\r\n    // GameLogic: new GameLogic(),\r\n\r\n    //金币场，历史结算类型\r\n    public static goldSettlementType: 1;\r\n}\r\n\r\nGD.GameConfig = {\r\n    isDebug: true,\r\n    releaseUrl: \"api.toyouonline.com\",\r\n    debugUrl: \"api.toyouonline.com\",\r\n    useSSL:true,\r\n    // versionConfigUrl: \"https://res.funnytl.com/test/debug/versionConfig.json\",  // test_debug\r\n    // versionConfigUrl: \"https://res.funnytl.com/release/private/versionConfig.json\",  // private_package 私包\r\n    versionConfigUrl: \"http://res.cctienlen.com/game/hotUpdatePdkPrivate/versionConfig.json\",\r\n    version: \"0.0.0\",   //客户端版本号，每次打原生包时更新，打热更新包不更新\r\n    isAudit: false,\r\n    language: 2,//1中文，2越南，3英文\r\n}\r\n\r\n\r\nexport class GameTool {\r\n    //by_009:动态创建面板\r\n    static createPanel(panelName: string, cb?: Function) {\r\n        console.log(\"create panel : \" + panelName);\r\n        GameTool.showWaitLayer(true);\r\n        let canvas = find(\"Canvas\");\r\n        let panelRoot = canvas.getChildByName(\"panel_root\");\r\n        let self = this;\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, panelName, Prefab, function (err, prefab) {\r\n            GameTool.showWaitLayer(false);\r\n            if (err) {\r\n                console.error(err);\r\n                return\r\n            }\r\n            self.doCreatePanel(panelRoot, prefab, cb);\r\n        });\r\n    }\r\n\r\n    // 根据已有预制体创建\r\n    static createPanelByPrefab(prefab: Prefab, cb?: Function) {\r\n        console.log(\"create panel : \" + prefab.name);\r\n        let canvas = find(\"Canvas\");\r\n        let panelRoot = canvas.getChildByName(\"panel_root\");\r\n        this.doCreatePanel(panelRoot, prefab, cb);\r\n    }\r\n\r\n    static doCreatePanel(panelRoot: Node, prefab: Prefab,cb?: Function):Node {\r\n\r\n        let newNode = instantiate(prefab);\r\n        newNode.parent = panelRoot;\r\n        newNode.setPosition(0, 0);\r\n        newNode.opacity = 255;\r\n        newNode.active = true;\r\n        GameTool.updateWidget(newNode);\r\n\r\n\r\n        //添加销毁的事件\r\n        let sprite_splash = find(\"panel/sprite_splash\", newNode);\r\n        if (sprite_splash) {\r\n            sprite_splash.once(NodeEventType.TOUCH_END, function () {\r\n                // AudioControl.playClick();\r\n                newNode.destroy();\r\n            }.bind(this), this)\r\n        }\r\n        //添加销毁的事件\r\n        let btn_close = find(\"panel/btn_close\", newNode);\r\n        if (btn_close) {\r\n            btn_close.once(NodeEventType.TOUCH_END, function () {\r\n                // AudioControl.playClick();\r\n                newNode.destroy();\r\n            }.bind(this), this)\r\n        }\r\n        cb && cb(newNode);\r\n        cb = null;\r\n        return newNode;\r\n    }\r\n\r\n    /**by_009:更新对齐组件*/\r\n    static updateWidget(targetNode: Node) {\r\n        let widgets:Widget[] = targetNode.getComponentsInChildren(Widget);\r\n        const currentScene = director.getScene();\r\n        if (currentScene) {\r\n            // 在场景中查找 Canvas 组件\r\n            const canvasComponent = currentScene.getComponentInChildren(Canvas);\r\n            if (canvasComponent) {\r\n                // 获取 Canvas 节点\r\n                const canvasNode = canvasComponent.node;\r\n                for (let i = 0; i < widgets.length; i++) {\r\n                    widgets[i].target = canvasNode;\r\n                    widgets[i].updateAlignment();\r\n                }\r\n            } else {\r\n                console.error('未找到 Canvas 组件');\r\n            }\r\n        }\r\n    }\r\n\r\n    //by_009:创建预制\r\n    static createPrefab(panelName: string, cb?: Function) {\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, panelName, Prefab, function (err, prefab) {\r\n            if (err) {\r\n                console.error(err);\r\n                return\r\n            }\r\n            let newNode = instantiate(prefab);\r\n            if (cb) {\r\n                cb(newNode);\r\n                cb = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    //by_009:显示文本提示\r\n    static showTextTips(value: string) {\r\n        let canvas = find(\"Canvas\");\r\n        let panelRoot = canvas.getChildByName(\"panel_root\");\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, \"kernel/PublicPrefab/UITips/UITips\", Prefab, function (err, prefab) {\r\n            let ui:Node = GameTool.doCreatePanel(panelRoot, prefab);\r\n            ui.getComponent(UITips).showText(value);\r\n        });\r\n    }\r\n    public static setWaitNode(prefab:Prefab)\r\n    {\r\n        GameTool._waitNode = instantiate(prefab);\r\n        GameTool._waitNode.active = false;\r\n        let parent = UIMgr.inst.getLayerNode(GameUILayers.LOADING);\r\n        parent.addChild(GameTool._waitNode);\r\n       \r\n    }\r\n    private static _waitNode:Node;\r\n    static showWaitLayer(isShow:boolean)\r\n    {\r\n        if(GameTool._waitNode)\r\n        {\r\n            GameTool._waitNode.getComponent(UILoading).showPanel(isShow,\"\");\r\n        }\r\n    }\r\n    static destroyWaitLayer()\r\n    {\r\n        if(GameTool._waitNode)\r\n        {\r\n            GameTool._waitNode.destroy();\r\n            GameTool._waitNode = null;\r\n        }\r\n        \r\n    }\r\n    //by_009:消息框\r\n    static messageBox(text: string, cb1?, cb2?) {\r\n        GameTool.createPanel(\"kernel/PublicPrefab/UIDialogBox/UIMessageBox\", (newNode) => {\r\n            find(\"panel/content\", newNode).getComponent(Label).string = text || \"\";\r\n            find(\"panel/btns/btn_confirm\", newNode).on(NodeEventType.TOUCH_END, () => {\r\n                if (cb1) {\r\n                    cb1();\r\n                }\r\n                newNode.destroy();\r\n            }, this);\r\n            find(\"panel/btns/btn_cancel\", newNode).on(NodeEventType.TOUCH_END, () => {\r\n                if (cb2) {\r\n                    cb2();\r\n                }\r\n                newNode.destroy();\r\n            }, this);\r\n            find(\"panel/btns/btn_cancel\", newNode).active = !!cb2;\r\n        })\r\n    }\r\n\r\n\r\n    // 显示规则提示\r\n    static showRuletip(rule_txt) {\r\n        // if (rule_txt) {\r\n        //     GD.GameTool.createPanel(\"hall/prefab/panel_rule_tip\", (newNode) => {\r\n        //         let panel: panel_rule_tip = newNode.getComponent(panel_rule_tip);\r\n        //         if (panel != null) {\r\n        //             panel.updateView(rule_txt);\r\n        //         }\r\n        //     })\r\n        // }\r\n    }\r\n\r\n    //刷新金币场历史结算类型\r\n    static updateGoldSettlementType() {\r\n        let gold_settlementType = sys.localStorage.getItem(\"gold_settlementType\");\r\n        if (gold_settlementType) {\r\n            GD.goldSettlementType = gold_settlementType;\r\n        } else {\r\n            GD.goldSettlementType = 1;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nwindow[\"GD\"] = GD;","\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2022-01-02 16:16:25\r\n * @LastEditTime: 2022-01-02 23:45:20\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { decodeConfigItemString } from \"./ItemConfigContainer\";\r\nimport { LanguageConfigContainer } from \"./LanguageConfigContainer\";\r\nimport { ConfigManager } from \"../ConfigManager\";\r\nimport { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class GlobalData {\r\n    config_id;\r\n    data;\r\n}\r\n\r\nconst enum GlobalDataTitle {\r\n    config_id,\r\n    data\r\n}\r\n\r\nexport class GlobalConfigContainer extends BaseConfigContainer {\r\n    private globalConfigData: ConfigData = null;\r\n    private mapConfig = null;\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"config\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load language err\");\r\n            }\r\n            else {\r\n                this.globalConfigData = jsonAsset.json as ConfigData;\r\n\r\n                if (this.mapConfig == null) {\r\n                    this.mapConfig = {};\r\n                    for (let i = 0; i < this.globalConfigData.RECORDS.length; i++) {\r\n                        let record = this.globalConfigData.RECORDS[i];\r\n                        let temp = new GlobalData();\r\n                        temp.config_id = Number(record[GlobalDataTitle.config_id]);   // \r\n                        let data = Number(record[GlobalDataTitle.data]);\r\n                        if (isNaN(data)) {\r\n                            temp.data  = record[GlobalDataTitle.data]\r\n                        }\r\n                        else {\r\n                            temp.data = data; \r\n                        }\r\n                          // \r\n                        this.mapConfig[temp.config_id] = temp;\r\n                    }\r\n                }\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        }\r\n        );\r\n    }\r\n\r\n    getGlobalConfigData(): ConfigData {\r\n        return this.globalConfigData;\r\n    }\r\n\r\n    getDataByConfigId(config_id) {\r\n        let configData = this.mapConfig[config_id];\r\n        return configData.data;\r\n    }\r\n}","\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2021-12-05 14:34:50\r\n * @LastEditTime: 2021-12-05 21:22:12\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nimport { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { ConfigManager } from \"../ConfigManager\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { LanguageConfigContainer } from \"./LanguageConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class ItemData {\r\n    item_id: number;\r\n    name: string;\r\n    desc: string;\r\n    icon: string;\r\n    count: number;\r\n}\r\n\r\nexport class ItemInfo {\r\n    itemId: number;\r\n    count: number;\r\n}\r\n\r\nconst enum ItemDataTitle {\r\n    item_id,\r\n    name,\r\n    desc,\r\n    icon\r\n}\r\n\r\nexport function decodeConfigItemString(itemStr: string): ItemInfo[] {\r\n    let itemList = [];\r\n    let list = itemStr.split(\"#\");\r\n    for (let i = 0; i < list.length; i++) {\r\n        let data = list[i].split(\"_\");\r\n        let itemId = Number(data[0]);\r\n        let count = Number(data[1]);\r\n        itemList.push({ itemId: itemId, count: count });\r\n    }\r\n    return itemList;\r\n};\r\n\r\nexport class ItemConfigContainer extends BaseConfigContainer {\r\n    private itemConfigData: ConfigData = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"item\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load item err\");\r\n            }\r\n            else {\r\n                this.itemConfigData = jsonAsset.json as ConfigData;\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        }\r\n        );\r\n    }\r\n\r\n    getItemConfigData(): ConfigData {\r\n        return this.itemConfigData;\r\n    }\r\n\r\n    getItemDataById(itemId): ItemData {\r\n        let itemData = new ItemData();\r\n        for (let i = 0; i < this.itemConfigData.RECORDS.length; i++) {\r\n            let record = this.itemConfigData.RECORDS[i];\r\n            if (record[ItemDataTitle.item_id] == itemId) {\r\n                itemData.item_id = itemId;\r\n                itemData.desc = record[ItemDataTitle.desc];\r\n                itemData.name = record[ItemDataTitle.name];\r\n                itemData.icon = record[ItemDataTitle.icon];\r\n                let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n                itemData.name = langConfig.getLang(itemData.name)\r\n                return itemData;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n}","//游戏常量定义\r\nexport const gameConst = {\r\n    //玩家状态\r\n    US_NULL: 0x00, //没有状态\r\n    US_FREE: 0x01, //站立状态\r\n    US_SIT: 0x02, //坐下状态\r\n    US_READY: 0x03, //同意状态\r\n    US_PLAYING: 0x05, //游戏状态\r\n    //桌子状态\r\n    GAME_STATUS_FREE: 0, //空闲状态\r\n    GAME_STATUS_PLAY: 100, //游戏状态\r\n    GAME_STATUS_WAIT: 200, //等待状态\r\n    //游戏结束原因\r\n    GER_NORMAL: 0x00, //常规结束\r\n    GER_DISMISS: 0x01, //游戏解散\r\n    GER_USER_LEAVE: 0x02, //用户离开\r\n    GER_NETWORK_ERROR: 0x03, //网络错误\r\n    //游戏模式\r\n    START_MODE_ALL_READY: 0x00, //所有准备\r\n    START_MODE_FULL_READY: 0x01, //满人开始\r\n    START_MODE_HUNDRED: 0x02, //百人游戏\r\n\r\n    //请求失败类型\r\n    KICK_TYPE: 0x01, //踢人\r\n\r\n    INVALID_CHAIR: 0xFFFF, //观战的人的座位号\r\n};\r\n//框架消息\r\nexport const gameCMD = {\r\n    //登入命令\r\n    MDM_GR_LOGON: 1, //登入主命令\r\n    //请求\r\n    SUB_GR_LOGON_ACCOUNTS: 1, //帐号登入\r\n    //返回\r\n    SUB_GR_LOGON_SUCCESS: 100, //登录成功\r\n    SUB_GR_LOGON_FAILURE: 101, //登录失败\r\n    //用户命令\r\n    MDM_GR_USER: 2, //用户主命令\r\n    //请求\r\n    SUB_GR_USER_SIT_DOWN: 1, //坐下命令\r\n    SUB_GR_USER_STANDUP: 2, //起立命令\r\n    //返回\r\n    SUB_GR_USER_STATUS: 100, //用户状态\r\n    SUB_GR_USER_ENTER: 101, //用户进入\r\n    SUB_GR_USER_SCORE: 102, //用户分数\r\n    SUB_GR_USER_ONLINE: 103, // 用户上线/掉线\r\n    //游戏命令\r\n    MDM_GF_GAME: 3, //游戏主命令\r\n    //框架命令\r\n    MDM_GF_FRAME: 4, //框架主命令\r\n    //用户命令\r\n    SUB_GF_GAME_OPTION: 1, //游戏配置\r\n    SUB_GF_USER_READY: 2, //用户准备\r\n    SUB_GF_USER_CHAT: 3, //用户聊天\r\n    SUB_GF_DISMISS_START: 4, //解散\r\n    SUB_GF_DISMISS_AGREE: 5, //同意/不同意解散\r\n    SUB_GF_DISMISS_END: 6, //结束解散\r\n    SUB_GF_CMD_DIALOG: 7, //对话框通知命令\r\n    SUB_GF_USE_ITEM: 8, //使用道具 item_id item_num chairID\r\n    SUB_GF_CARD_RECORDER: 9, // 记牌器数据\r\n    SUB_GF_SYNC_PLAYER_DATA: 10,  // 玩家数据同步\r\n    SUB_GF_GET_EXTRA_REWARD: 11,  // 玩家获取额外奖励\r\n    SUB_GF_APPLY_START: 20, //申请开始\r\n    SUB_GF_APPLY_START_AGREE: 21, //同意开始/不同意开始\r\n    SUB_GF_APPLY_START_END: 22, //结束申请开始\r\n\r\n    SUB_GF_GAME_STATUS: 100, //游戏状态\r\n    SUB_GF_GAME_SCENE: 101, //游戏场景\r\n    SUB_GF_ROOM_INFO: 103, //房间信息\r\n\r\n    SUB_GF_FORCE_CLOSE: 105, //强制关闭窗口\r\n    SUB_GF_REQUEST_FAILURE: 106, //请求失败\r\n\r\n    SUB_GF_TOAST_MSG: 108, //tip消息\r\n    SUB_GF_FISH_NOTICE: 111, //捕鱼消息， 用于 同房间不同桌子之间的类似公告的通知， 放在框架这占个坑， 防止后面框架用于111\r\n    SUB_GF_DO_DISMISS_GAME: 115, //房间已解散消息\r\n    SUB_GF_DISMISS_GAME_FAILED: 116, //房间j解散失败\r\n\r\n    SUB_GF_SEAT_CHANG: 117, //位置变动\r\n};\r\n","\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2021-12-05 14:34:50\r\n * @LastEditTime: 2022-01-11 10:07:16\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nimport { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\nimport GameTools from \"../../kernel/GameTools\";\r\nimport { GD } from \"../../kernel/GD\";\r\n\r\nexport class LanguageData {\r\n    language_id: number;\r\n    zh: string;\r\n    vi: string;\r\n    en: string;\r\n}\r\n\r\nconst enum LanguageTitle {\r\n    language_id,\r\n    zh,\r\n    vi,\r\n    en\r\n}\r\n\r\nexport class LanguageConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfig: any = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"language\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load language err\");\r\n            }\r\n            else {\r\n                this.configData = jsonAsset.json as ConfigData;\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取语言 id格式为\"language_1234\"\r\n     * @param id \r\n     */\r\n    public getLang(id: string): string {\r\n        if (id.indexOf(\"language_\") == -1) {\r\n            return id;\r\n        }\r\n        let langId: number = Number(id.replace(\"language_\", \"\"));\r\n        if (isNaN(langId)) {\r\n            return id;\r\n        }\r\n        return this.getLangById(langId);\r\n    }\r\n\r\n    public formatLang(id: string, replacementList: string[]): string {\r\n        if (id.indexOf(\"language_\") == -1) {\r\n            return id;\r\n        }\r\n        let langId: number = Number(id.replace(\"language_\", \"\"));\r\n        if (isNaN(langId)) {\r\n            return id;\r\n        }\r\n        return this.formatLangById(langId, replacementList);\r\n    }\r\n\r\n    // 返回格式化后的文字\r\n    public formatLangById(id: number, ...param: any[]): string {\r\n        let str: string = this.getLangById(id);\r\n        let retStr: string = this.format(str, param);\r\n        return retStr;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param id 根据ID获取文字数据\r\n     */\r\n    public getLangById(id: number): string {\r\n        let lang = GameTools.GetQueryString(\"language\") || GD.GameConfig.language;\r\n        let langId = id.toString();\r\n        if (this.mapConfig == null) {\r\n            this.mapConfig = {};\r\n            for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                let record = this.configData.RECORDS[i];\r\n                let data = new LanguageData();\r\n                data.language_id = record[LanguageTitle.language_id];\r\n                data.zh = record[LanguageTitle.zh];\r\n                data.vi = record[LanguageTitle.vi];\r\n                data.en = record[LanguageTitle.en];\r\n                this.mapConfig[data.language_id] = data;\r\n            }\r\n        }\r\n        let temp: LanguageData = this.mapConfig[langId];\r\n        if (temp) {\r\n            switch (Number(lang)) {\r\n                case 1:\r\n                    return temp.zh;\r\n                case 2:\r\n                    return temp.vi;\r\n                case 3:\r\n                    return temp.en;\r\n                default:\r\n                    return langId;\r\n            }\r\n        }\r\n        return langId;\r\n    }\r\n    \r\n\r\n    private format(format, args: any[]): string\r\n    {\r\n        return format.replace(/{(\\d+(:\\w*)?)}/g,\r\n            (match, i)=>\r\n            { //0\r\n                let s = match.split(':');\r\n                if (s.length > 1)\r\n                {\r\n                    i = i[0];\r\n                    match = s[1].replace('}', ''); //U\r\n                }\r\n                let arg = this.parsePattern(match, args[i]);\r\n                return typeof arg != 'undefined' && arg != null ? arg : \"\";\r\n            });\r\n    }\r\n\r\n    private parsePattern(match, arg):string \r\n    {\r\n        if (arg == null || arg == undefined)\r\n            return arg;\r\n\r\n        switch (match) \r\n        {\r\n            case 'L':\r\n                arg = arg.toLowerCase();\r\n                break;\r\n            case 'U':\r\n                arg = arg.toUpperCase();\r\n                break;\r\n            case 'd':\r\n            {\r\n                let splitted = arg.split('-');\r\n                if (splitted.length <= 1)\r\n                    return arg;\r\n                let day = splitted[splitted.length - 1];\r\n                let month = splitted[splitted.length - 2];\r\n                let year = splitted[splitted.length - 3];\r\n                day = day.split('T')[0];\r\n                day = day.split(' ')[0];\r\n                arg = day + '.' + month + '.' + year;\r\n            }\r\n                break;\r\n            case 's':\r\n            {\r\n                let splitted = arg.replace(',', '').split('.');\r\n                if (splitted.length <= 1)\r\n                    return arg;\r\n                let time = splitted[splitted.length - 1].split(' ');\r\n                if (time.length > 1)\r\n                    time = time[time.length - 1];\r\n                let year = splitted[splitted.length - 1].split(' ')[0];\r\n                let month = splitted[splitted.length - 2];\r\n                let day = splitted[splitted.length - 3];\r\n                arg = year + \"-\" + month + \"-\" + day;\r\n                if (time.length > 1)\r\n                    arg += \"T\" + time;\r\n                else\r\n                    arg += \"T\" + \"00:00:00\";\r\n            }\r\n                break;\r\n            case 'n': //Tausender Trennzeichen\r\n            {\r\n                if (isNaN(parseInt(arg)) || arg.length <= 3)\r\n                    break;\r\n                arg = arg.toString();\r\n                let mod = arg.length % 3;\r\n                let output = (mod > 0 ? (arg.substring(0, mod)) : \"\");\r\n                for (let i = 0; i < Math.floor(arg.length / 3); i++) {\r\n                    if ((mod == 0) && (i == 0))\r\n                        output += arg.substring(mod + 3 * i, mod + 3 * i + 3);\r\n                    else\r\n                        output += '.' + arg.substring(mod + 3 * i, mod + 3 * i + 3);\r\n                }\r\n                arg = output;\r\n            }\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        return arg;\r\n    }\r\n}","import { Vec3 } from 'cc';\r\n\r\n\r\nimport { _decorator, Component, Node, Label } from 'cc';\r\nimport { ConfigManager } from './ConfigManager';\r\nimport { CoinMatchConfigContainer, CoinMatchData } from './Conifg/CoinMatchConfigContainer';\r\nimport { LanguageConfigContainer } from './Conifg/LanguageConfigContainer';\r\nimport { instantiate } from 'cc';\r\nimport { find } from 'cc';\r\nimport { ResourceMgr } from '../../core_tgx/base/ResourceMgr';\r\nimport { ModuleDef } from '../../scripts/ModuleDef';\r\nimport { Prefab } from 'cc';\r\nimport GameTools from '../kernel/GameTools';\r\nimport { GameTool, GD } from '../kernel/GD';\r\nimport { SubGameMgr } from '../../module_basic/scripts/SubGameMgr';\r\nimport { SceneUtil } from '../../core_tgx/base/SceneUtils';\r\nimport { UserMgr } from '../../module_basic/scripts/UserMgr';\r\nimport { UITransform } from 'cc';\r\nimport { Layout } from 'cc';\r\nimport { PdkYuNanGameMgr } from '../PdkYuNanGameMgr';\r\nimport { RoomMgr } from '../../module_basic/scripts/RoomMgr';\r\nimport { SceneDef } from '../../scripts/SceneDef';\r\nimport { SubGameDef } from '../../module_basic/scripts/SubGameDef';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\n@ccclass('lobby_gold_room')\r\nexport default class lobby_gold_room extends Component {\r\n    @property(Node)\r\n    item: Node = null;\r\n    @property(Node)\r\n    content: Node = null;\r\n//    //金币场 一打三\r\n    @property(Label)\r\n    txt_quick: Label = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        this.item.active = false;\r\n        tgx.UIMgr.inst.closeAll();\r\n\r\n\r\n    }\r\n    async start() {\r\n        this.updateGoodsInfo();\r\n    }\r\n    bindEvent() {\r\n        // this.bindObj = [];\r\n        // this.bindObj.push(onfire.on(\"S_USER_PROP_CHANGED\", this.onS_USER_PROP_CHANGED.bind(this)));\r\n    }\r\n    onDestroy() {\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i]);\r\n        // }\r\n    }\r\n    updateGoodsInfo() {\r\n        // let coinMatchConfigContainer = ConfigManager.getInstance().getConfig(CoinMatchConfigContainer) as CoinMatchConfigContainer;\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // let itemlist = coinMatchConfigContainer.getCoinItemsByClearingType(1);\r\n\r\n        // this.content.removeAllChildren();\r\n        // var itemWidth:number = 0;\r\n        // for (let index = 0; index < itemlist.length; index++) {\r\n        //     let data = itemlist[index];\r\n\r\n\r\n        //     let item = instantiate(this.item);\r\n        //     item.setParent(this.content);\r\n        //     item.setPosition(new Vec3(0));\r\n        //     item.active = true;\r\n        //     let uiTransform = item.getComponent(UITransform);\r\n        //     itemWidth = uiTransform.contentSize.width;\r\n\r\n        //     let base_coin = find(\"base_coin\", item);\r\n        //     let base_desc = find(\"base_desc\", item);\r\n        //     let coin_match_name = find(\"coin_match_name\", item);\r\n        //     let limit_enter_coin = find(\"p/limit_enter_coin\", item);\r\n        //     let temparr = data.limit_enter_coin.split(\"#\");\r\n        //     let min = Number(temparr[0]);\r\n        //     let max = Number(temparr[1]);\r\n        //     if (max == -1) {\r\n        //         GameTools.setLabelStr(\"\" + min / 1000 + \"k-∞\", limit_enter_coin);\r\n        //     } else {\r\n        //         GameTools.setLabelStr(min / 1000 + \"k-\" + max / 1000 + \"k\", limit_enter_coin);\r\n        //     }\r\n            \r\n\r\n        //     GameTools.setLabelStr(GameTools.nFormatter(data.base_coin), base_coin);\r\n        //     GameTools.setLabelStr(\"\" + langConfig.getLang(data.coin_match_name), coin_match_name);\r\n        //     GameTools.setLabelStr(\"\" + langConfig.getLangById(10812), base_desc);\r\n        //     item.on(Node.EventType.TOUCH_END, this.onItemClick.bind(this, data), this);\r\n        // }\r\n        \r\n    }\r\n    private onItemClick(data:CoinMatchData)\r\n    {\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let temparr = data.limit_enter_coin.split(\"#\");\r\n        let min = Number(temparr[0]);\r\n        let max = Number(temparr[1]);\r\n        let isMoreMoney = false;\r\n        if (Number(UserMgr.inst.coin) < min) {\r\n            //金币不足\r\n            GameTool.showTextTips(langConfig.getLangById(10745));\r\n            return;\r\n        } \r\n        if (max != -1) \r\n        {\r\n            isMoreMoney = Number(UserMgr.inst.coin) > max;\r\n        } \r\n        if(isMoreMoney)\r\n        {\r\n            //金币太多\r\n            GameTool.messageBox(langConfig.getLangById(23171),function (){\r\n                this.onQuickStart();\r\n            }.bind(this))\r\n            \r\n        }\r\n        //todo 进入游戏\r\n        SubGameMgr.inst.MatchRoom(SubGameDef.POKER_PDK_YUENAN,true);\r\n        // SceneUtil.loadScene(SubGameMgr.gameMgr.gameScene);\r\n    }\r\n    //获取推荐的场次索引\r\n    getBestIndex() {\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n        let coinMatchConfigContainer = ConfigManager.getInstance().getConfig(CoinMatchConfigContainer) as CoinMatchConfigContainer;\r\n        let itemlist = coinMatchConfigContainer.getCoinItemsByClearingType(1)\r\n        for (let m = 0; m < itemlist.length; m++) {\r\n            let element = itemlist[m] as CoinMatchData;\r\n            let limit_enter_coin = element.limit_enter_coin;\r\n            let arr = limit_enter_coin.split(\"#\");\r\n            let min = Number(arr[0]);\r\n            let max = Number(arr[1]);\r\n            let coin_match_name = langConfig.getLang(element.coin_match_name);\r\n            let data = { index: m, coin_match_name: coin_match_name, coin_match_id: Number(element.coin_match_id) };\r\n            if (max == -1) {\r\n                if (UserMgr.inst.coin > min) {\r\n                    return data;\r\n                }\r\n            } else {\r\n                if (UserMgr.inst.coin >= min && UserMgr.inst.coin <= max) {\r\n                    return data;\r\n                }\r\n            }\r\n        }\r\n        return { index: 0, coin_match_name: \"\", coin_match_id: 0 };\r\n    }\r\n\r\n    private onQuickStart():void\r\n    {\r\n        let bestData = this.getBestIndex();\r\n        let coinMatchConfigContainer = ConfigManager.getInstance().getConfig(CoinMatchConfigContainer) as CoinMatchConfigContainer;\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let itemlist = coinMatchConfigContainer.getCoinItemsByClearingType(1);\r\n        //进入游戏\r\n        this.onItemClick(itemlist[bestData.index]);\r\n    }\r\n    private leaveGame():void\r\n    {\r\n        tgx.SceneUtil.loadScene(SceneDef.LOBBY);\r\n    }\r\n}\r\n","export default class OnGameSyncPlayerGold {\r\n    chairID: number;\r\n    data: OnGameSyncPlayerGoldItem;\r\n}\r\n\r\nexport class OnGameSyncPlayerGoldItem {\r\n    gold: number;\r\n}","\r\n\r\n/*\r\n * @Author: xz\r\n * @Date: 2021-12-05 14:34:50\r\n * @LastEditTime: 2021-12-11 12:23:42\r\n * @LastEditors: xz\r\n * @Description: \r\n */\r\nimport { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { ConfigManager } from \"../ConfigManager\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { decodeConfigItemString } from \"./ItemConfigContainer\";\r\nimport { LanguageConfigContainer } from \"./LanguageConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class SeverOpenConfig{\r\n    moduleID;//12\r\n    roomID;//1\r\n    chipType;//房间类型\r\n    juShu;//局数\r\n    playerCount;//人数\r\n    settlementType;//结算方式\r\n    bet;//投注数量\r\n    createRoomType;//支付类型\r\n    cardRecorder;//是否使用记牌器\r\n}\r\n\r\nexport enum OpenRoomCostType {\r\n    Host = 1,//房主支付\r\n    Average = 2,//均摊支付（多人均分向上取整\r\n    Winer = 3,//赢家支付\r\n}\r\n\r\nexport enum OpenRoomBetType {\r\n    Score = 1,//分数\r\n    Coin = 2,//金币\r\n}\r\n\r\nexport enum ClearingType {\r\n    PokerNum = 1,//记牌数\r\n    OneBattleThree = 2,//金币\r\n}\r\n\r\n//每条配置\r\nexport class OpenRoomItemData {\r\n    key;//字段值\r\n    cfg;//具体配置\r\n    title;//名称\r\n    childArray;//子项配置\r\n}\r\n\r\n//每条配置中子项的配置\r\nexport class OpenRoomChildItemData {\r\n    desc;//描述\r\n    value;//具体值\r\n}\r\n\r\nexport class OpenRoomData {\r\n    id;\r\n    game_id;//tien len\r\n    room_name;//开房名称\r\n    play_count;//开房局数\r\n    play_number;//开房人数\r\n    clearing_type: ClearingType;//游戏结算类型  1=记牌数，2=1打3\r\n    bet_type: OpenRoomBetType;//投注类型 1=分数 2=金币\r\n    number;//投注数量\r\n    limit_enter;//进场金币数量限制\r\n    cost_type: OpenRoomCostType;//支付类型 1=房主支付，2=均摊支付（多人均分向上取整），3=赢家支付\r\n    play_cost;//开房消耗（与局数相关联）格式：itemid_number#itemid_number\r\n    commission;//抽水佣金（中间用&隔开）\r\n    take_notes;//是否可以使用记牌器1=是，2=否\r\n}\r\n\r\nconst enum OpenRoomTitle {\r\n    id,\r\n    game_id,\r\n    room_name,\r\n    play_count,\r\n    play_number,\r\n    clearing_type,\r\n    bet_type,\r\n    number,\r\n    limit_enter,\r\n    cost_type,\r\n    play_cost,\r\n    commission,\r\n    take_notes\r\n}\r\n\r\nexport class OpenRoomConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfigArray: OpenRoomData[] = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"open_room\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load open_room err\");\r\n            }\r\n            else {\r\n                this.configData = jsonAsset.json as ConfigData;;\r\n                this.mapConfigArray = [];\r\n                for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                    let record = this.configData.RECORDS[i];\r\n                    let data = new OpenRoomData();\r\n                    data.id = record[OpenRoomTitle.id];\r\n                    data.game_id = record[OpenRoomTitle.game_id];\r\n                    data.room_name = record[OpenRoomTitle.room_name];\r\n                    data.play_count = record[OpenRoomTitle.play_count];\r\n                    data.play_number = record[OpenRoomTitle.play_number];\r\n                    data.clearing_type = record[OpenRoomTitle.clearing_type];\r\n                    data.bet_type = record[OpenRoomTitle.bet_type];\r\n                    data.number = record[OpenRoomTitle.number];\r\n                    data.limit_enter = record[OpenRoomTitle.limit_enter];\r\n                    data.cost_type = record[OpenRoomTitle.cost_type];\r\n                    data.play_cost = record[OpenRoomTitle.play_cost];\r\n                    data.commission = record[OpenRoomTitle.commission];\r\n                    data.take_notes = record[OpenRoomTitle.take_notes];\r\n                    this.mapConfigArray.push(data);\r\n                }\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param bet_type \r\n     */\r\n    public getOpenRoomCfgBybetType(bet_type: OpenRoomBetType): OpenRoomData {\r\n        for (let m = 0; m < this.mapConfigArray.length; m++) {\r\n            let element = this.mapConfigArray[m];\r\n            if (element.bet_type == bet_type) {\r\n                return element;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @param bet_type \r\n     */\r\n    public getOpenRoomCfgArrayBybetType(bet_type: OpenRoomBetType): Array<any> {\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n        let arr = [];\r\n        for (let m = 0; m < this.mapConfigArray.length; m++) {\r\n            let element = this.mapConfigArray[m];\r\n\r\n            if (element.bet_type == bet_type) {\r\n                for (const key in element) {\r\n                    let cfg = element[key];\r\n                    let o = new OpenRoomItemData();\r\n                    o.key = key + \"\";\r\n                    o.cfg = cfg;\r\n                    o.title = \"\";\r\n                    o.childArray = [];\r\n                    let tempArr;\r\n                    switch (key + \"\") {\r\n                        case \"play_count\":\r\n                            o.title = langConfig.getLangById(10804);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                childitem.desc = childitem.value + \"\";\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        case \"play_number\":\r\n                            o.title = langConfig.getLangById(10805);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                childitem.desc = childitem.value + \"\";\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        case \"clearing_type\":\r\n                            o.title = langConfig.getLangById(10806);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                if (childitem.value == ClearingType.PokerNum) {\r\n                                    childitem.desc = langConfig.getLangById(10010);\r\n                                } else if (childitem.value == ClearingType.OneBattleThree) {\r\n                                    childitem.desc = langConfig.getLangById(10009);\r\n                                }\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        case \"number\":\r\n                            o.title = langConfig.getLangById(10812);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                childitem.desc = childitem.value / 1000 + \"k\";\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        case \"cost_type\":\r\n                            o.title = langConfig.getLangById(10851);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                if (childitem.value == OpenRoomCostType.Host) {\r\n                                    childitem.desc = langConfig.getLangById(10852);\r\n                                } else if (childitem.value == OpenRoomCostType.Average) {\r\n                                    childitem.desc = langConfig.getLangById(10853);\r\n                                } else if (childitem.value == OpenRoomCostType.Winer) {\r\n                                    childitem.desc = langConfig.getLangById(10854);\r\n                                }\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        case \"take_notes\":\r\n                            o.title = langConfig.getLangById(10807);\r\n                            tempArr = cfg.split(\"#\");\r\n                            for (let m = 0; m < tempArr.length; m++) {\r\n                                let object = tempArr[m];\r\n                                let childitem = new OpenRoomChildItemData();\r\n                                childitem.value = Number(object);\r\n                                if (childitem.value == 1) {\r\n                                    childitem.desc = langConfig.getLangById(10808);\r\n                                } else {\r\n                                    childitem.desc = langConfig.getLangById(10809);\r\n                                }\r\n                                o.childArray.push(childitem);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    if (bet_type == OpenRoomBetType.Score) {\r\n                        if (key == \"play_count\" || key == \"play_number\" || key == \"clearing_type\" || key == \"cost_type\" || key == \"take_notes\") {\r\n                            if(key == \"cost_type\" && Number(cfg) == 0){\r\n\r\n                            }else{\r\n                                arr.push(o);\r\n                            }\r\n                        }\r\n                    } else if (bet_type == OpenRoomBetType.Coin) {\r\n                        if (key == \"play_count\" || key == \"play_number\" || key == \"number\" || key == \"clearing_type\" || key == \"cost_type\" || key == \"take_notes\") {\r\n                            arr.push(o);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    // 金币场\r\n\r\n    // 局数：8#16#32\r\n    // 人数：2#3#4\r\n    // 结算类型：记牌数#1打3\r\n    // 投注数量：1000#2000#5000#10000#20000#50000#100000#200000#500000\r\n    // 支付类型：房主支付#均摊支付#赢家支付\r\n    // 使用记牌器：是#否\r\n    //                             房卡图标X实际数量\r\n    // tips：id=10817\r\n\r\n\r\n\r\n    // 积分场\r\n\r\n    // 局数：8#16#32\r\n    // 人数：2#3#4\r\n    // 结算类型：记牌数#1打3\r\n    // 支付类型：房主支付#均摊支付#赢家支付\r\n    // 使用记牌器：是#否\r\n    //                             房卡图标X实际数量\r\n    // tips：id=10817\r\n}","import { _decorator } from 'cc';\r\nimport PDK_Card from \"../PDK_Card\";\r\nimport { gameEvent } from \"../PDK_define\";\r\nimport { Singleton } from '../../kernel/Singleton';\r\nimport { sys } from 'cc';\r\nimport EventCenter from '../../kernel/EventCenter';\r\nimport { PokerUtils } from '../message/PokerUtils';\r\n\r\nexport default class PDK_BattleData extends Singleton {\r\n//    // 本地存储\r\n    private readonly local_head_auto_record: string = \"local_head_auto_record\";\r\n//    // 是否自动记牌\r\n    private m_isAutoRecordCards: boolean = undefined;\r\n//    // 是否已使用记牌器\r\n    private m_isUseRecorder: boolean = false;\r\n//    // 已经出的牌\r\n    private m_outCards: number[] = [];\r\n//    // 上次出牌的座位号\r\n    public lastSeat: number = -1;\r\n//    // 上次出牌的牌面值\r\n    public lastCardValues: number[] = [];\r\n//    // 是否在战斗中 未开始 已结束的时候为false\r\n    public isInBattle: boolean = false;\r\n    public enableCardRecorder: boolean = false;\r\n    public static firstSitDown: boolean = false;\r\n    public extraRewardData: any = null; // {rewardList: string[]}\r\n    constructor() {\r\n        super();\r\n    }\r\n    private clear() {\r\n        PDK_BattleData.firstSitDown = false;\r\n\r\n        this.m_isAutoRecordCards = undefined;\r\n        this.m_isUseRecorder = undefined;\r\n        this.m_outCards.length = 0;\r\n        this.lastSeat = -1;\r\n        this.lastCardValues.length = 0;\r\n        this.isInBattle = false;\r\n    }\r\n//    // 设置上一次出牌数据\r\n    public setLastChupai(seat: number, cards: number[]) {\r\n        // console.log(\"set last chupai : \" + seat);\r\n        this.lastSeat = seat;\r\n        this.lastCardValues.length = 0;\r\n        for (let i = 0; i < cards.length; i++) {\r\n            let value = PokerUtils.getCardRank(cards[i]);\r\n            this.lastCardValues.push(value);\r\n        }\r\n    }\r\n//    // 获取是否自动记牌\r\n    public get isAutoRecordCards(): boolean {\r\n        if (this.m_isAutoRecordCards == null) {\r\n            let str = sys.localStorage.getItem(this.local_head_auto_record);\r\n            if (str == null) {\r\n                this.m_isAutoRecordCards = true;\r\n                sys.localStorage.setItem(this.local_head_auto_record, true);\r\n            }\r\n            else {\r\n                this.m_isAutoRecordCards = str == \"true\";\r\n            }\r\n        }\r\n        return this.m_isAutoRecordCards;\r\n    }\r\n//    // 设置是否自动记牌\r\n    public set isAutoRecordCards(value: boolean) {\r\n        this.m_isAutoRecordCards = value;\r\n        sys.localStorage.setItem(this.local_head_auto_record, value);\r\n    }\r\n//    // 记录已出卡牌\r\n    public recordOutCards(cards: number[]) {\r\n        for (let i = 0; i < cards.length; i++) {\r\n            let card = cards[i];\r\n            if (this.m_outCards.indexOf(card) == -1) {\r\n                this.m_outCards.push(card);\r\n            }\r\n        }\r\n        EventCenter.emitEvent(gameEvent.EVENT_RECORD_OUT_CARD, cards);\r\n    }\r\n//    // 获取已出卡牌数据\r\n    public get outCards(): number[] {\r\n        return this.m_outCards;\r\n    }\r\n//    // 设置使用记牌器状态\r\n    public set isUseRecorder(value: boolean) {\r\n        this.m_isUseRecorder = value;\r\n        EventCenter.emitEvent(gameEvent.EVENT_USE_RECORDER, value);\r\n    }\r\n    public get isUseRecorder(): boolean {\r\n        return this.m_isUseRecorder;\r\n    }\r\n//    // 游戏开始回调\r\n    public onGameStart() {\r\n        this.clear();\r\n        this.extraRewardData = null;\r\n        this.isInBattle = true;\r\n        EventCenter.emitEvent(gameEvent.EVENT_GAME_ROUND_START);\r\n    }\r\n    public onGameFinish() {\r\n        this.clear();\r\n        this.isInBattle = false;\r\n        EventCenter.emitEvent(gameEvent.EVENT_GAME_ROUND_FINISH);\r\n    }\r\n    public onGameExit() {\r\n        this.clear();\r\n        this.extraRewardData = null;\r\n    }\r\n    public checkUseRecorderItem() {\r\n        // if (!this.enableCardRecorder) return;\r\n\r\n        // let item = KernelData.pack[1003];\r\n        // if (item != null && item.cnt != 0) {\r\n        // let data = {\r\n        // item_id: 1003,\r\n        // toChairID: KernelData.chairID\r\n        // }\r\n        // clientKernel.use_item(data);\r\n        // }\r\n    }\r\n}","import { _decorator, Component, Sprite, Node, Label, SpriteAtlas } from 'cc';\r\nimport { find } from 'cc';\r\nimport { CARD_RANK } from './message/Define';\r\nimport { PokerUtils } from './message/PokerUtils';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PDKCard')\r\nexport default class PDK_Card extends Component {\r\n    \r\n//    //by_009:值\r\n    @property(Sprite)\r\n    value: Sprite | null = null;\r\n//    //by_009:颜色(小)\r\n    @property(Sprite)\r\n    color_mini: Sprite | null = null;\r\n//    //by_009:颜色(大)\r\n    @property(Sprite)\r\n    color_big: Sprite | null = null;\r\n//    //by_009:大王\r\n    @property(Node)\r\n    daWang: Node | null = null;\r\n//    //by_009:大王值\r\n    @property(Sprite)\r\n    daWangValue: Sprite | null = null;\r\n//    //by_009:队节点\r\n    @property(Node)\r\n    teamNode: Node | null = null;\r\n//    //by_009:角标\r\n    @property(Node)\r\n    jiaoBiao: Node | null = null;\r\n//    //by_009:张数统计\r\n    @property(Label)\r\n    count: Label | null = null;\r\n//    //by_009:背面\r\n    @property(Node)\r\n    bm: Node | null = null;\r\n//    //by_009:牌图集\r\n    @property(SpriteAtlas)\r\n    paiAtlas: SpriteAtlas | null = null;\r\n//    //by_009:选中\r\n    @property(Node)\r\n    select: Node | null = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    private m_isSelected: boolean = false;\r\n\r\n    _cardID = 0;\r\n    _team = 0;\r\n    \r\n//    //by_009:角标值\r\n    _jiaoBiaoValue = 0;\r\n\r\n    get cardID() {\r\n        return this._cardID;\r\n    }\r\n    set cardID(value) {\r\n        this._cardID = value;\r\n        this.setCard(this._cardID);\r\n    }\r\n    @property\r\n    get team() {\r\n        return this._team;\r\n    }\r\n    set team(value) {\r\n        this._team = value;\r\n        this.setTeam(value);\r\n    }\r\n    get jiaoBiaoValue() {\r\n        return this._jiaoBiaoValue;\r\n    }\r\n    set jiaoBiaoValue(value) {\r\n        this._jiaoBiaoValue = value;\r\n        this.setjiaoBiaoValue(value);\r\n    }\r\n\r\n//    // 选中卡牌上阵状态\r\n    get isSelected(): boolean {\r\n        return this.m_isSelected;\r\n    }\r\n    set isSelected(value: boolean) {\r\n        this.m_isSelected = value;\r\n    }\r\n    onLoad() { }\r\n    start() { }\r\n//    //by_009:设置牌值\r\n    private setCard(value:number) {\r\n        if (value == null || value == 0) \r\n        {\r\n            this.bm.active = true;\r\n            return;\r\n        } else \r\n        {\r\n            this.bm.active = false;\r\n        }\r\n        var cardRank: number = PokerUtils.getCardRank(value);\r\n        var cardColor: number = PDK_Card.getCardColor(value);\r\n        if (cardRank == CARD_RANK.JokerSmall || cardRank == CARD_RANK.JokerBig) \r\n        {//大小王\r\n            this.value.node.active = false;\r\n            this.color_mini.node.active = false;\r\n            this.color_big.node.active = false;\r\n\r\n            this.daWang.active = true;\r\n            this.daWangValue.spriteFrame = this.paiAtlas.getSpriteFrame(\"value_\" + cardRank);\r\n        } else {\r\n            this.value.node.active = true;\r\n            this.color_mini.node.active = true;\r\n            this.color_big.node.active = true;\r\n            this.daWang.active = false;\r\n            \r\n            if (value >= 17 && value <= 29) {\r\n                // 梅花\r\n                this.value.spriteFrame = this.paiAtlas.getSpriteFrame(`${cardRank}_1`);\r\n            }\r\n            else if (value >= 49 && value <= 61) {\r\n                // 红桃\r\n                this.value.spriteFrame = this.paiAtlas.getSpriteFrame(`${cardRank}_0`);\r\n            }\r\n            else {\r\n                this.value.spriteFrame = this.paiAtlas.getSpriteFrame(`${cardRank}_${cardColor % 2}`);\r\n            }\r\n\r\n            this.color_mini.spriteFrame = this.paiAtlas.getSpriteFrame(\"mini_\" + cardColor);\r\n            switch (cardRank) {\r\n                case 11:\r\n                case 12:\r\n                case 13:\r\n                case 27:\r\n                case 28:\r\n                case 29:\r\n                case 43:\r\n                case 44:\r\n                case 45:\r\n                case 59:\r\n                case 60:\r\n                case 61:\r\n                    this.color_big.spriteFrame = this.paiAtlas.getSpriteFrame(\"big_\" + this._cardID);\r\n                    break;\r\n                default:\r\n                    this.color_big.spriteFrame = this.paiAtlas.getSpriteFrame(\"big_\" + cardColor);\r\n                break;\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n   //by_009:设置敌友\r\n    setTeam(value = 0) {\r\n        if (value == 0) {\r\n            this.teamNode.children[0].active = false;\r\n            this.teamNode.children[1].active = false;\r\n        } else if (value == 1) {\r\n            this.teamNode.children[0].active = true;\r\n            this.teamNode.children[1].active = false;\r\n        } else if (value == 2) {\r\n            this.teamNode.children[0].active = false;\r\n            this.teamNode.children[1].active = true;\r\n        }\r\n    }\r\n   //by_009:设置角标值\r\n    setjiaoBiaoValue(value) {\r\n        if (value == null || value == 0)\r\n        {\r\n            this.jiaoBiao.active = false;\r\n            return;\r\n        }\r\n        this.jiaoBiao.active = true;\r\n        find(\"value\", this.jiaoBiao).getComponent(Label).string = value + \"\";\r\n    }\r\n    static getCardColor(cardData) {\r\n        if (cardData <= 13) {\r\n            // 黑桃\r\n            return 3;\r\n        }\r\n        else if (cardData >= 17 && cardData <= 29) {\r\n            // 梅花\r\n            return 2;\r\n        }\r\n        else if (cardData >= 33 && cardData <= 45) {\r\n            // 方块\r\n            return 0;\r\n        }\r\n        else if (cardData >= 49 && cardData <= 61) {\r\n            // 红桃\r\n            return 1;\r\n        }\r\n        return (cardData & 0xF0) >> 4;\r\n    }\r\n}","import { _decorator, Component, Prefab, Touch } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { gameExpressionEvent } from \"../PDK_define\";\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport PDK_CardFanSlot from \"./PDK_CardFanSlot\";\r\nimport PDK_Card from \"../PDK_Card\";\r\n\r\n@ccclass('PDKCardFan')\r\nexport default class PDK_CardFan extends Component {\r\n    @property(Prefab)\r\n    cardFanSlotPrefab: Prefab | null = null;\r\n    private m_cardSlots: PDK_CardFanSlot[] = [];\r\n    private m_isTouchStart: boolean = false;\r\n    private m_isTouchEnd: boolean = false;\r\n    private m_currentTouchCard: number = 0;\r\n    onLoad() {\r\n        // this.clearSlots();\r\n    }\r\n    start() {\r\n        // EventCenter.onEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n    }\r\n    onDestroy() {\r\n        // EventCenter.offEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n    }\r\n    public clearSlots() {\r\n        // for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n        // let slot = this.m_cardSlots[i];\r\n        // if (slot == null) return;\r\n        // this.destoryOneSlot(slot);\r\n        // }\r\n        // this.m_cardSlots.length = 0;\r\n        // this.node.removeAllChildren();\r\n    }\r\n    public insertOneCard(index: number, card: PDK_Card) {\r\n        // if (card == null) return;\r\n        // let slot = this.m_cardSlots[index];\r\n        // if (slot == null) return;\r\n        // slot.slot.addChild(card.node);\r\n        // slot.slot.width = card.node.width;\r\n        // slot.slot.height = card.node.height;\r\n        // card.node.setPosition(0, 0);\r\n\r\n        // slot.slot.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        // slot.slot.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n        // slot.slot.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        // slot.slot.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);\r\n    }\r\n    public initSlot(total: number) {\r\n        // this.clearSlots();\r\n        // let rotates = this.getArrRotate(total);\r\n        // for (let i = 0; i != total; i++) {\r\n        // let item = cc.instantiate(this.cardFanSlotPrefab);\r\n        // item.setParent(this.node);\r\n        // item.setPosition(0, -3000);\r\n        // item.rotation = rotates[i];\r\n        // let slot: PDK_CardFanSlot = item.getComponent(PDK_CardFanSlot);\r\n        // this.m_cardSlots.push(slot);\r\n        // }\r\n    }\r\n    public addOneCard(cardId) {\r\n        // let item = cc.instantiate(PDK_Game.ins.cardPrefab);\r\n        // let card: PDK_Card = item.getComponent(PDK_Card);\r\n        // card.cardID = cardId;\r\n    }\r\n    \r\n    public unfold() {\r\n        // let arrRotate = this.getArrRotate(this.m_cardSlots.length);\r\n        // if (arrRotate == null) return;\r\n        // for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n        // let rotate = arrRotate[i];\r\n        // let slot = this.m_cardSlots[i];\r\n        // if (rotate == slot.node.rotation) continue;\r\n        // let act = cc.rotateTo(0.2, rotate).easing(cc.easeBackOut());\r\n        // slot.node.stopAllActions();\r\n        // slot.node.runAction(act);\r\n        // }\r\n    }\r\n    public fold() {\r\n        // for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n        // let slot = this.m_cardSlots[i];\r\n        // if (0 == slot.node.rotation) continue;\r\n        // let act = cc.rotateTo(0.2, 0).easing(cc.easeBackOut());\r\n        // slot.node.stopAllActions();\r\n        // slot.node.runAction(act);\r\n        // }\r\n    }\r\n    private onTouchStart(event: Touch) {\r\n\r\n    }\r\n    private onTouchMove(event: Touch) {\r\n\r\n    }\r\n    private onTouchEnd(event: Touch) {\r\n\r\n    }\r\n    \r\n    private destoryOneSlot(slot:PDK_CardFanSlot) {\r\n        // if (slot == null || !slot.isValid) return;\r\n        // slot.slot.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        // slot.slot.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n        // slot.slot.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        // slot.slot.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);\r\n        // slot.destroy();\r\n    }\r\n    private getArrRotate(total: number): number[] {\r\n        // if (total == 0) return null;\r\n        // let arrRotate: number[] = [];\r\n        // for (let i = 0; i != total; i++) {\r\n        // arrRotate.push(0);\r\n        // }\r\n        // if (total > 13) total = 13;\r\n        // if (total % 2 == 1) {\r\n//            // 先找中间\r\n        // let center = (total - 1) / 2;\r\n        // arrRotate[center] = 0;\r\n        // let rotate = 0;\r\n        // for (let i = center - 1; i >= 0; i--) {\r\n        // arrRotate[i] = ++rotate;\r\n        // }\r\n        // rotate = 0;\r\n        // for (let i = center + 1; i < total; i++) {\r\n        // arrRotate[i] = --rotate;\r\n        // }\r\n        // }\r\n        // else {\r\n        // let centerRight = total / 2;\r\n        // arrRotate[centerRight] = -0.5\r\n        // let rotate = -0.5;\r\n        // for (let i = centerRight - 1; i >= 0; i--) {\r\n        // arrRotate[i] = ++rotate;\r\n        // }\r\n        // rotate = -0.5;\r\n        // for (let i = centerRight + 1; i < total; i++) {\r\n        // arrRotate[i] = --rotate;\r\n        // }\r\n        // }\r\n        // return arrRotate;\r\n        return [];\r\n    }\r\n    \r\n    private putAllCardBack() {\r\n        // for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n        // let slot = this.m_cardSlots[i];\r\n        // if (slot.card != null && slot.card.isSelected) {\r\n        // slot.card.isSelected = false;\r\n        // slot.card.select.active = false;\r\n        // }\r\n\r\n        // if (slot.slot.y != 3000) {\r\n        // let act = cc.moveTo(0.2, 0, 3000).easing(cc.easeBackOut);\r\n        // slot.node.stopAllActions();\r\n        // slot.node.runAction(act);\r\n        // }\r\n        // }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import EventCenter from \"../../../../main/script/utils/EventCenter\";\r\n// import { gameExpressionEvent } from \"../PDK_define\";\r\n// import PDK_Game from \"../PDK_Game\";\r\n// import PDK_CardFanSlot from \"./PDK_CardFanSlot\";\r\n// import PDK_Card from \"../PDK_Card\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_CardFan extends cc.Component {\r\n// \r\n//     @property(cc.Prefab)\r\n//     cardFanSlotPrefab: cc.Prefab = null;\r\n// \r\n//     private m_cardSlots: PDK_CardFanSlot[] = [];\r\n//     private m_isTouchStart: boolean = false;\r\n//     private m_isTouchEnd: boolean = false;\r\n//     private m_currentTouchCard: number = 0;\r\n// \r\n//     onLoad() {\r\n//         this.clearSlots();\r\n//     }\r\n// \r\n//     start() {\r\n//         EventCenter.onEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         EventCenter.offEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n//     }\r\n// \r\n//     public clearSlots() {\r\n//         for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n//             let slot = this.m_cardSlots[i];\r\n//             if (slot == null) return;\r\n//             this.destoryOneSlot(slot);\r\n//         }\r\n//         this.m_cardSlots.length = 0;\r\n//         this.node.removeAllChildren();\r\n//     }\r\n// \r\n//     public insertOneCard(index: number, card: PDK_Card) {\r\n//         if (card == null) return;\r\n//         let slot = this.m_cardSlots[index];\r\n//         if (slot == null) return;\r\n//         slot.slot.addChild(card.node);\r\n//         slot.slot.width = card.node.width;\r\n//         slot.slot.height = card.node.height;\r\n//         card.node.setPosition(0, 0);\r\n//         \r\n//         slot.slot.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n//         slot.slot.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n//         slot.slot.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n//         slot.slot.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);\r\n//     }\r\n// \r\n//     public initSlot(total: number) {\r\n//         this.clearSlots();\r\n//         let rotates = this.getArrRotate(total);\r\n//         for (let i = 0; i != total; i++) {\r\n//             let item = cc.instantiate(this.cardFanSlotPrefab);\r\n//             item.setParent(this.node);\r\n//             item.setPosition(0, -3000);\r\n//             item.rotation = rotates[i];\r\n//             let slot: PDK_CardFanSlot = item.getComponent(PDK_CardFanSlot);\r\n//             this.m_cardSlots.push(slot);\r\n//         }\r\n//     }\r\n// \r\n//     public addOneCard(cardId) {\r\n//         let item = cc.instantiate(PDK_Game.ins.cardPrefab);\r\n//         let card: PDK_Card = item.getComponent(PDK_Card);\r\n//         card.cardID = cardId;\r\n//     }\r\n//     \r\n// \r\n//     public unfold() {\r\n//         let arrRotate = this.getArrRotate(this.m_cardSlots.length);\r\n//         if (arrRotate == null) return;\r\n//         for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n//             let rotate = arrRotate[i];\r\n//             let slot = this.m_cardSlots[i];\r\n//             if (rotate == slot.node.rotation) continue;\r\n//             let act = cc.rotateTo(0.2, rotate).easing(cc.easeBackOut());\r\n//             slot.node.stopAllActions();\r\n//             slot.node.runAction(act);\r\n//         }\r\n//     }\r\n// \r\n//     public fold() {\r\n//         for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n//             let slot = this.m_cardSlots[i];\r\n//             if (0 == slot.node.rotation) continue;\r\n//             let act = cc.rotateTo(0.2, 0).easing(cc.easeBackOut());\r\n//             slot.node.stopAllActions();\r\n//             slot.node.runAction(act);\r\n//         }\r\n//     }\r\n// \r\n//     private onTouchStart(event: cc.Touch) {\r\n// \r\n//     }\r\n// \r\n//     private onTouchMove(event: cc.Touch) {\r\n// \r\n//     }\r\n// \r\n//     private onTouchEnd(event: cc.Touch) {\r\n// \r\n//     }\r\n//     \r\n//     private destoryOneSlot(slot:PDK_CardFanSlot) {\r\n//         if (slot == null || !slot.isValid) return;\r\n//         slot.slot.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n//         slot.slot.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n//         slot.slot.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n//         slot.slot.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);\r\n//         slot.destroy();\r\n//     }\r\n// \r\n//     private getArrRotate(total: number): number[] {\r\n//         if (total == 0) return null;\r\n//         let arrRotate: number[] = [];\r\n//         for (let i = 0; i != total; i++) {\r\n//             arrRotate.push(0);\r\n//         }\r\n//         if (total > 13) total = 13;\r\n//         if (total % 2 == 1) {\r\n//             // 先找中间\r\n//             let center = (total - 1) / 2;\r\n//             arrRotate[center] = 0;\r\n//             let rotate = 0;\r\n//             for (let i = center - 1; i >= 0; i--) {\r\n//                 arrRotate[i] = ++rotate;\r\n//             }\r\n//             rotate = 0;\r\n//             for (let i = center + 1; i < total; i++) {\r\n//                 arrRotate[i] = --rotate;\r\n//             }\r\n//         }\r\n//         else {\r\n//             let centerRight = total / 2;\r\n//             arrRotate[centerRight] = -0.5\r\n//             let rotate = -0.5;\r\n//             for (let i = centerRight - 1; i >= 0; i--) {\r\n//                 arrRotate[i] = ++rotate;\r\n//             }\r\n//             rotate = -0.5;\r\n//             for (let i = centerRight + 1; i < total; i++) {\r\n//                 arrRotate[i] = --rotate;\r\n//             }\r\n//         }\r\n//         return arrRotate;\r\n//     }\r\n//     \r\n// \r\n//     private putAllCardBack() {\r\n//         for (let i = 0; i < this.m_cardSlots.length; i++) {\r\n//             let slot = this.m_cardSlots[i];\r\n//             if (slot.card != null && slot.card.isSelected) {\r\n//                 slot.card.isSelected = false;\r\n//                 slot.card.select.active = false;\r\n//             }\r\n// \r\n//             if (slot.slot.y != 3000) {\r\n//                 let act = cc.moveTo(0.2, 0, 3000).easing(cc.easeBackOut);\r\n//                 slot.node.stopAllActions();\r\n//                 slot.node.runAction(act);\r\n//             } \r\n//         }\r\n//     }\r\n// }\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Card from \"../PDK_Card\";\r\n\r\n@ccclass('PDKCardFanSlot')\r\nexport default class PDK_CardFanSlot extends Component {\r\n    @property(Node)\r\n    slot: Node | null = null;\r\n    cardId: number = 0;\r\n    card: PDK_Card = null;\r\n}\r\n","import { _decorator, Component, Node, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_BattleData from \"../data/PDK_BattleData\";\r\nimport { CARD_COLOR } from \"../PDK_ConstDef\";\r\nclass RecoderMark {\r\n    lblCount: Label | null = null;\r\n    heart: Node | null = null;\r\n    heart1: Node | null = null;\r\n    spade: Node | null = null;\r\n    spade1: Node | null = null;\r\n    club: Node | null = null;\r\n    club1: Node | null = null;\r\n    diamond: Node | null = null;\r\n    diamond1: Node | null = null;\r\n    public init(node: Node) {\r\n        this.lblCount = node.getChildByName(\"count\").getComponent(Label);\r\n        this.heart = node.getChildByName(\"heart\");\r\n        this.heart1 = this.heart.getChildByName(\"heart1\");\r\n        this.spade = node.getChildByName(\"spade\");\r\n        this.spade1 = this.spade.getChildByName(\"spade1\");\r\n        this.club = node.getChildByName(\"club\");\r\n        this.club1 = this.club.getChildByName(\"club1\");\r\n        this.diamond = node.getChildByName(\"diamond\");\r\n        this.diamond1 = this.diamond.getChildByName(\"diamond1\");\r\n    }\r\n    public reset() {\r\n        this.heart1.active = true;\r\n        this.spade1.active = true;\r\n        this.club1.active = true;\r\n        this.diamond1.active = true;\r\n        this.lblCount.string = '4';\r\n    }\r\n    public setMark(color: number) {\r\n        if (color == CARD_COLOR.Diamond) {\r\n            this.diamond1.active = false;\r\n        }\r\n        else if (color == CARD_COLOR.HEART) {\r\n            this.heart1.active = false;\r\n        }\r\n        else if (color == CARD_COLOR.CLUB) {\r\n            this.club1.active = false;\r\n        }\r\n        else if (color == CARD_COLOR.SPADE) {\r\n            this.spade1.active = false;\r\n        }\r\n        let cnt = 0;\r\n        if (this.diamond1.active) {\r\n            cnt++;\r\n        }\r\n        if (this.heart1.active) {\r\n            cnt++;\r\n        }\r\n        if (this.club1.active) {\r\n            cnt++;\r\n        }\r\n        if (this.spade1.active) {\r\n            cnt++;\r\n        }\r\n        this.lblCount.string = cnt.toString();\r\n    }\r\n}\r\n\r\n@ccclass('PDKCardRecorder')\r\nexport default class PDK_CardRecorder extends Component {\r\n    @property(Node)\r\n    mark: Node | null = null;\r\n    @property(Node)\r\n    cards: Node | null = null;\r\n    @property(Node)\r\n    btnRecorder: Node | null = null;\r\n    @property(Node)\r\n    btnAutoUse: Node | null = null;\r\n    @property(Node)\r\n    gouAutoUse: Node | null = null;\r\n    @property(Node)\r\n    layout: Node | null = null;\r\n    @property(Node)\r\n    num_bg: Node | null = null;\r\n    @property(Label)\r\n    lblNum: Label | null = null;\r\n    private RECORDER_ITEM_ID: number = 1003;    // 记牌器物品ID\r\n//    // 是否显示记牌器界面\r\n    private m_isShow: boolean = false;\r\n//    // 记牌器标记 按A2345678910JQK顺序\r\n    private m_marks: RecoderMark[] = null;\r\n    private m_battleData: PDK_BattleData = null;\r\n    bindObj: any[];\r\n    onLoad() {\r\n        // this.m_battleData = PDK_BattleData.instance();\r\n        // this.initUI();\r\n        // this.resetMarks();\r\n        // let isAutoUse: boolean = this.m_battleData.isAutoRecordCards;\r\n        // this.gouAutoUse.active = isAutoUse;\r\n        // if (this.m_battleData.isUseRecorder) {\r\n        // this.onUseRecorder(true);\r\n        // }\r\n        // this.initRecordedCards();\r\n        // this.showRecorderNum();\r\n\r\n        // this.btnRecorder.on(cc.Node.EventType.TOUCH_END, this.onBtnRecorder, this);\r\n        // this.btnAutoUse.on(cc.Node.EventType.TOUCH_END, this.onBtnAutoUse, this);\r\n\r\n        // this.bindEvent();\r\n        // EventCenter.onEvent(gameEvent.EVENT_RECORD_OUT_CARD, this.onRecordCards, this);\r\n        // EventCenter.onEvent(gameEvent.EVENT_USE_RECORDER, this.onUseRecorder, this);\r\n        // EventCenter.onEvent(gameEvent.EVENT_GAME_ROUND_START, this.onGameRoundStart, this);\r\n        // EventCenter.onEvent(gameEvent.EVENT_GAME_ROUND_FINISH, this.onGameRoundFinish, this);\r\n    }\r\n    onDestroy() {\r\n        // this.m_battleData = null;\r\n\r\n        // this.unbindEvent();\r\n        // EventCenter.offEvent(gameEvent.EVENT_RECORD_OUT_CARD, this.onRecordCards, this);\r\n        // EventCenter.offEvent(gameEvent.EVENT_USE_RECORDER, this.onUseRecorder, this);\r\n        // EventCenter.offEvent(gameEvent.EVENT_GAME_ROUND_START, this.onGameRoundStart, this);\r\n        // EventCenter.offEvent(gameEvent.EVENT_GAME_ROUND_FINISH, this.onGameRoundFinish, this);\r\n    }\r\n    bindEvent() {\r\n        // this.bindObj = [];\r\n        // this.bindObj.push(onfire.on(\"onUseItem\", this.onUseItem.bind(this)));\r\n    }\r\n    unbindEvent() {\r\n        // if (this.bindObj) {\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i]);\r\n        // }\r\n        // }\r\n\r\n    }\r\n    private initUI() {\r\n        // this.mark.active = false;\r\n        // this.cards.active = false;\r\n        // this.cards.opacity = 0;\r\n        // this.cards.scaleX = 0;\r\n\r\n        // if (this.m_marks == null) {\r\n        // this.m_marks = [];\r\n        // for (let i = 1; i < 14; i++) {\r\n        // let str = null;\r\n        // if (i == 1) {\r\n        // str = 'A';\r\n        // }\r\n        // else if (i == 11) {\r\n        // str = 'J';\r\n        // }\r\n        // else if (i == 12) {\r\n        // str = 'Q';\r\n        // }\r\n        // else if (i == 13) {\r\n        // str = 'K'\r\n        // }\r\n        // else {\r\n        // str = i.toString();\r\n        // }\r\n\r\n        // let node = this.layout.getChildByName(str);\r\n        // let markNode: cc.Node = cc.instantiate(this.mark);\r\n        // node.addChild(markNode);\r\n        // markNode.active = true;\r\n        // markNode.setPosition(0, 0);\r\n        // let mark = new RecoderMark();\r\n        // mark.init(markNode);\r\n        // this.m_marks.push(mark);\r\n        // }\r\n        // }\r\n    }\r\n    private resetMarks() {\r\n        // for (let i = 0; i < this.m_marks.length; i++) {\r\n        // let mark = this.m_marks[i];\r\n        // mark.reset();\r\n        // }\r\n    }\r\n    private onGameRoundStart() {\r\n        // this.resetMarks();\r\n        // if (this.m_battleData.isAutoRecordCards) {\r\n        // this.m_battleData.checkUseRecorderItem();   // 如果是自动使用 就用一个记牌器\r\n        // }\r\n    }\r\n    private onGameRoundFinish() {\r\n        // this.resetMarks();\r\n        // this.m_battleData.isUseRecorder = false;\r\n    }\r\n    private initRecordedCards() {\r\n        // let cards = this.m_battleData.outCards;\r\n        // for (let i = 0; i < cards.length; i++) {\r\n        // let card = cards[i];\r\n        // this.recordOneCard(card);\r\n        // }\r\n    }\r\n    private onRecordCards(cards: number[]) {\r\n        // for (let i = 0; i < cards.length; i++) {\r\n        // let card = cards[i];\r\n        // this.recordOneCard(card);\r\n        // }\r\n    }\r\n    private recordOneCard(card: number) {\r\n        // let value = PDK_Card.getCardValue(card);\r\n        // let color = PDK_Card.getCardColor(card);\r\n        // let idx = value - 1;\r\n        // let mark: RecoderMark = this.m_marks[idx];\r\n        // if (mark == null) {\r\n        // throw new Error(\" mark is null\");\r\n        // }\r\n        // mark.setMark(color);\r\n    }\r\n    private onUseRecorder(isUse: boolean) {\r\n        // if (isUse) {\r\n        // clientKernel.getRecordCardsData();\r\n        // if (!this.m_isShow) {\r\n//                // 检测到用的时候展开一下\r\n        // this.onShowRecorder();\r\n        // }\r\n        // this.showRecorderNum();\r\n        // }\r\n        // else {\r\n        // if (this.m_isShow) {\r\n//                // 没用的时候收起\r\n        // this.onShowRecorder();\r\n        // }\r\n        // }\r\n    }\r\n    private onBtnAutoUse() {\r\n        // AudioControl.playClick();\r\n        // let isAutoUse: boolean = this.m_battleData.isAutoRecordCards;\r\n        // let nowAutoUse = !isAutoUse;\r\n        // if (nowAutoUse) {\r\n//            // 如果是自动使用,并且还没有用过 然后身上还有记牌器的话就使用\r\n        // if (!this.m_battleData.isUseRecorder && this.m_battleData.isInBattle) {\r\n        // let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n        // if (item != null && item.cnt != 0) {\r\n        // this.m_battleData.checkUseRecorderItem();\r\n        // }\r\n        // }\r\n        // }\r\n        // this.m_battleData.isAutoRecordCards = nowAutoUse;\r\n        // this.gouAutoUse.active = nowAutoUse;\r\n    }\r\n    private onBtnRecorder() {\r\n        // AudioControl.playClick();\r\n\r\n//        // if (!this.m_battleData.canUse) {\r\n//        //     this.onShowRecorder();\r\n//        //     return;\r\n//        // }\r\n        // if (this.m_battleData.isUseRecorder) {\r\n        // this.onShowRecorder();\r\n        // }\r\n        // else {\r\n        // let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n        // if (!item || item.cnt <= 0) {\r\n//                //记牌器不足\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // let jpq_text = langConfig.getLangById(12006)\r\n        // let str = GameTools.getStringReplace(langConfig.getLangById(10721), jpq_text, jpq_text);\r\n        // GD.GameTool.showTextTips(str);\r\n        // return;\r\n        // }\r\n        // if (item != null && item.cnt != 0) {\r\n        // this.m_battleData.checkUseRecorderItem();\r\n        // }\r\n        // else {\r\n        // this.onShowRecorder();\r\n        // }\r\n        // }\r\n    }\r\n    private onUseItem(data) {\r\n        // if (data != null) {\r\n        // if (data.item_id == this.RECORDER_ITEM_ID && data.to == KernelData.userID) {\r\n//                // 如果是用的记牌器并且是自己用的\r\n        // this.m_battleData.isUseRecorder = true;\r\n        // }\r\n        // }\r\n    }\r\n    private showRecorderNum() {\r\n        // let cnt = 0;\r\n        // let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n        // if (item) {\r\n        // cnt = item.cnt;\r\n        // }\r\n        // this.lblNum.string = cnt.toString();\r\n    }\r\n    private onShowRecorder() {\r\n        // let isShow = !this.m_isShow;\r\n        // if (isShow) {\r\n        // if (!this.cards.active) {\r\n        // this.cards.active = true;\r\n        // }\r\n        // let scaleTo = cc.scaleTo(0.5, 1, 1);\r\n        // let fadeIn = cc.fadeIn(0.5);\r\n        // this.cards.stopAllActions();\r\n        // this.cards.runAction(cc.spawn(scaleTo, fadeIn));\r\n        // }\r\n        // else {\r\n\r\n        // let scaleTo = cc.scaleTo(0.5, 0, 1);\r\n        // let fadeOut = cc.fadeOut(0.5);\r\n        // this.cards.stopAllActions();\r\n        // this.cards.runAction(cc.spawn(scaleTo, fadeOut));\r\n        // }\r\n        // this.m_isShow = isShow;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import PDK_BattleData from \"../data/PDK_BattleData\";\r\n// import EventCenter from \"../../../../main/script/utils/EventCenter\";\r\n// import { gameEvent } from \"../PDK_define\";\r\n// import PDK_Card from \"../PDK_Card\";\r\n// import { CARD_COLOR } from \"../PDK_ConstDef\";\r\n// import { ConfigManager } from \"../../../../kernel/ConfigManager\";\r\n// import { LanguageConfigContainer } from \"../../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { AudioControl } from \"../../../../main/script/AudioControl\";\r\n// import { GD } from \"../../../../public/GD\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_CardRecorder extends cc.Component {\r\n//     @property(cc.Node)\r\n//     mark: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     cards: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     btnRecorder: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     btnAutoUse: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     gouAutoUse: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     layout: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     num_bg: cc.Node = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblNum: cc.Label = null;\r\n// \r\n//     private RECORDER_ITEM_ID: number = 1003;    // 记牌器物品ID\r\n// \r\n//     // 是否显示记牌器界面\r\n//     private m_isShow: boolean = false;\r\n// \r\n//     // 记牌器标记 按A2345678910JQK顺序\r\n//     private m_marks: RecoderMark[] = null;\r\n// \r\n//     private m_battleData: PDK_BattleData = null;\r\n// \r\n//     bindObj: any[];\r\n// \r\n//     onLoad() {\r\n//         this.m_battleData = PDK_BattleData.instance();\r\n//         this.initUI();\r\n//         this.resetMarks();\r\n//         let isAutoUse: boolean = this.m_battleData.isAutoRecordCards;\r\n//         this.gouAutoUse.active = isAutoUse;\r\n//         if (this.m_battleData.isUseRecorder) {\r\n//             this.onUseRecorder(true);\r\n//         }\r\n//         this.initRecordedCards();\r\n//         this.showRecorderNum();\r\n// \r\n//         this.btnRecorder.on(cc.Node.EventType.TOUCH_END, this.onBtnRecorder, this);\r\n//         this.btnAutoUse.on(cc.Node.EventType.TOUCH_END, this.onBtnAutoUse, this);\r\n// \r\n//         this.bindEvent();\r\n//         EventCenter.onEvent(gameEvent.EVENT_RECORD_OUT_CARD, this.onRecordCards, this);\r\n//         EventCenter.onEvent(gameEvent.EVENT_USE_RECORDER, this.onUseRecorder, this);\r\n//         EventCenter.onEvent(gameEvent.EVENT_GAME_ROUND_START, this.onGameRoundStart, this);\r\n//         EventCenter.onEvent(gameEvent.EVENT_GAME_ROUND_FINISH, this.onGameRoundFinish, this);\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         this.m_battleData = null;\r\n// \r\n//         this.unbindEvent();\r\n//         EventCenter.offEvent(gameEvent.EVENT_RECORD_OUT_CARD, this.onRecordCards, this);\r\n//         EventCenter.offEvent(gameEvent.EVENT_USE_RECORDER, this.onUseRecorder, this);\r\n//         EventCenter.offEvent(gameEvent.EVENT_GAME_ROUND_START, this.onGameRoundStart, this);\r\n//         EventCenter.offEvent(gameEvent.EVENT_GAME_ROUND_FINISH, this.onGameRoundFinish, this);\r\n//     }\r\n// \r\n//     bindEvent() {\r\n//         this.bindObj = [];\r\n//         this.bindObj.push(onfire.on(\"onUseItem\", this.onUseItem.bind(this)));\r\n//     }\r\n// \r\n//     unbindEvent() {\r\n//         if (this.bindObj) {\r\n//             for (let i = 0; i < this.bindObj.length; i++) {\r\n//                 onfire.un(this.bindObj[i]);\r\n//             }\r\n//         }\r\n//         \r\n//     }\r\n// \r\n//     private initUI() {\r\n//         this.mark.active = false;\r\n//         this.cards.active = false;\r\n//         this.cards.opacity = 0;\r\n//         this.cards.scaleX = 0;\r\n// \r\n//         if (this.m_marks == null) {\r\n//             this.m_marks = [];\r\n//             for (let i = 1; i < 14; i++) {\r\n//                 let str = null;\r\n//                 if (i == 1) {\r\n//                     str = 'A';\r\n//                 }\r\n//                 else if (i == 11) {\r\n//                     str = 'J';\r\n//                 }\r\n//                 else if (i == 12) {\r\n//                     str = 'Q';\r\n//                 }\r\n//                 else if (i == 13) {\r\n//                     str = 'K'\r\n//                 }\r\n//                 else {\r\n//                     str = i.toString();\r\n//                 }\r\n// \r\n//                 let node = this.layout.getChildByName(str);\r\n//                 let markNode: cc.Node = cc.instantiate(this.mark);\r\n//                 node.addChild(markNode);\r\n//                 markNode.active = true;\r\n//                 markNode.setPosition(0, 0);\r\n//                 let mark = new RecoderMark();\r\n//                 mark.init(markNode);\r\n//                 this.m_marks.push(mark);\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private resetMarks() {\r\n//         for (let i = 0; i < this.m_marks.length; i++) {\r\n//             let mark = this.m_marks[i];\r\n//             mark.reset();\r\n//         }\r\n//     }\r\n// \r\n// \r\n//     private onGameRoundStart() {\r\n//         this.resetMarks();\r\n//         if (this.m_battleData.isAutoRecordCards) {\r\n//             this.m_battleData.checkUseRecorderItem();   // 如果是自动使用 就用一个记牌器\r\n//         }\r\n//     }\r\n// \r\n//     private onGameRoundFinish() {\r\n//         this.resetMarks();\r\n//         this.m_battleData.isUseRecorder = false;\r\n//     }\r\n// \r\n//     private initRecordedCards() {\r\n//         let cards = this.m_battleData.outCards;\r\n//         for (let i = 0; i < cards.length; i++) {\r\n//             let card = cards[i];\r\n//             this.recordOneCard(card);\r\n//         }\r\n//     }\r\n// \r\n//     private onRecordCards(cards: number[]) {\r\n//         for (let i = 0; i < cards.length; i++) {\r\n//             let card = cards[i];\r\n//             this.recordOneCard(card);\r\n//         }\r\n//     }\r\n// \r\n//     private recordOneCard(card: number) {\r\n//         let value = PDK_Card.getCardValue(card);\r\n//         let color = PDK_Card.getCardColor(card);\r\n//         let idx = value - 1;\r\n//         let mark: RecoderMark = this.m_marks[idx];\r\n//         if (mark == null) {\r\n//             throw new Error(\" mark is null\");\r\n//         }\r\n//         mark.setMark(color);\r\n//     }\r\n// \r\n//     private onUseRecorder(isUse: boolean) {\r\n//         if (isUse) {\r\n//             clientKernel.getRecordCardsData();\r\n//             if (!this.m_isShow) {\r\n//                 // 检测到用的时候展开一下\r\n//                 this.onShowRecorder();\r\n//             }\r\n//             this.showRecorderNum();\r\n//         }\r\n//         else {\r\n//             if (this.m_isShow) {\r\n//                 // 没用的时候收起\r\n//                 this.onShowRecorder();\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private onBtnAutoUse() {\r\n//         AudioControl.playClick();\r\n//         let isAutoUse: boolean = this.m_battleData.isAutoRecordCards;\r\n//         let nowAutoUse = !isAutoUse;\r\n//         if (nowAutoUse) {\r\n//             // 如果是自动使用,并且还没有用过 然后身上还有记牌器的话就使用\r\n//             if (!this.m_battleData.isUseRecorder && this.m_battleData.isInBattle) {\r\n//                 let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n//                 if (item != null && item.cnt != 0) {\r\n//                     this.m_battleData.checkUseRecorderItem();\r\n//                 }\r\n//             }\r\n//         }\r\n//         this.m_battleData.isAutoRecordCards = nowAutoUse;\r\n//         this.gouAutoUse.active = nowAutoUse;\r\n//     }\r\n// \r\n//     private onBtnRecorder() {\r\n//         AudioControl.playClick();\r\n// \r\n//         // if (!this.m_battleData.canUse) {\r\n//         //     this.onShowRecorder();\r\n//         //     return;\r\n//         // }\r\n//         if (this.m_battleData.isUseRecorder) {\r\n//             this.onShowRecorder();\r\n//         }\r\n//         else {\r\n//             let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n//             if (!item || item.cnt <= 0) {\r\n//                 //记牌器不足\r\n//                 let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n//                 let jpq_text = langConfig.getLangById(12006)\r\n//                 let str = GameTools.getStringReplace(langConfig.getLangById(10721), jpq_text, jpq_text);\r\n//                 GD.GameTool.showTextTips(str);\r\n//                 return;\r\n//             }\r\n//             if (item != null && item.cnt != 0) {\r\n//                 this.m_battleData.checkUseRecorderItem();\r\n//             }\r\n//             else {\r\n//                 this.onShowRecorder();\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private onUseItem(data) {\r\n//         if (data != null) {\r\n//             if (data.item_id == this.RECORDER_ITEM_ID && data.to == KernelData.userID) {\r\n//                 // 如果是用的记牌器并且是自己用的\r\n//                 this.m_battleData.isUseRecorder = true;\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private showRecorderNum() {\r\n//         let cnt = 0;\r\n//         let item = KernelData.pack[this.RECORDER_ITEM_ID];\r\n//         if (item) {\r\n//             cnt = item.cnt;\r\n//         }\r\n//         this.lblNum.string = cnt.toString();\r\n//     }\r\n// \r\n//     private onShowRecorder() {\r\n//         let isShow = !this.m_isShow;\r\n//         if (isShow) {\r\n//             if (!this.cards.active) {\r\n//                 this.cards.active = true;\r\n//             }\r\n//             let scaleTo = cc.scaleTo(0.5, 1, 1);\r\n//             let fadeIn = cc.fadeIn(0.5);\r\n//             this.cards.stopAllActions();\r\n//             this.cards.runAction(cc.spawn(scaleTo, fadeIn));\r\n//         }\r\n//         else {\r\n// \r\n//             let scaleTo = cc.scaleTo(0.5, 0, 1);\r\n//             let fadeOut = cc.fadeOut(0.5);\r\n//             this.cards.stopAllActions();\r\n//             this.cards.runAction(cc.spawn(scaleTo, fadeOut));\r\n//         }\r\n//         this.m_isShow = isShow;\r\n//     }\r\n// }\r\n// \r\n// class RecoderMark {\r\n//     lblCount: cc.Label = null;\r\n//     heart: cc.Node = null;\r\n//     heart1: cc.Node = null;\r\n//     spade: cc.Node = null;\r\n//     spade1: cc.Node = null;\r\n//     club: cc.Node = null;\r\n//     club1: cc.Node = null;\r\n//     diamond: cc.Node = null;\r\n//     diamond1: cc.Node = null;\r\n// \r\n//     public init(node: cc.Node) {\r\n//         this.lblCount = node.getChildByName(\"count\").getComponent(cc.Label);\r\n// \r\n//         this.heart = node.getChildByName(\"heart\");\r\n//         this.heart1 = this.heart.getChildByName(\"heart1\");\r\n// \r\n//         this.spade = node.getChildByName(\"spade\");\r\n//         this.spade1 = this.spade.getChildByName(\"spade1\");\r\n// \r\n//         this.club = node.getChildByName(\"club\");\r\n//         this.club1 = this.club.getChildByName(\"club1\");\r\n// \r\n//         this.diamond = node.getChildByName(\"diamond\");\r\n//         this.diamond1 = this.diamond.getChildByName(\"diamond1\");\r\n// \r\n//     }\r\n// \r\n//     public reset() {\r\n//         this.heart1.active = true;\r\n//         this.spade1.active = true;\r\n//         this.club1.active = true;\r\n//         this.diamond1.active = true;\r\n//         this.lblCount.string = '4';\r\n//     }\r\n// \r\n//     public setMark(color: number) {\r\n//         if (color == CARD_COLOR.Diamond) {\r\n//             this.diamond1.active = false;\r\n//         }\r\n//         else if (color == CARD_COLOR.HEART) {\r\n//             this.heart1.active = false;\r\n//         }\r\n//         else if (color == CARD_COLOR.CLUB) {\r\n//             this.club1.active = false;\r\n//         }\r\n//         else if (color == CARD_COLOR.SPADE) {\r\n//             this.spade1.active = false;\r\n//         }\r\n//         let cnt = 0;\r\n//         if (this.diamond1.active) {\r\n//             cnt++;\r\n//         }\r\n//         if (this.heart1.active) {\r\n//             cnt++;\r\n//         }\r\n//         if (this.club1.active) {\r\n//             cnt++;\r\n//         }\r\n//         if (this.spade1.active) {\r\n//             cnt++;\r\n//         }\r\n// \r\n//         this.lblCount.string = cnt.toString();\r\n//     }\r\n// }\r\n","import { tween } from 'cc';\r\nimport { Tween } from 'cc';\r\nimport { UITransform } from 'cc';\r\nimport { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PDKCardTitle')\r\nexport default class PDK_CardTitle extends Component {\r\n    private m_4ji: Node;\r\n    private m_lian3dui: Node;\r\n    private m_lian4dui: Node;\r\n    private m_shuang2: Node;\r\n    private m_chupai: Node;\r\n    private m_seatIdx: number = 0;\r\n    private m_isReady: boolean = true;\r\n    onLoad() {\r\n        this.m_4ji = this.node.getChildByName(\"four_ji\");\r\n        this.m_4ji.active = false;\r\n        this.m_lian3dui = this.node.getChildByName(\"lian3dui\");\r\n        this.m_lian3dui.active = false;\r\n        this.m_lian4dui = this.node.getChildByName(\"lian4dui\");\r\n        this.m_lian4dui.active = false;\r\n        this.m_shuang2 = this.node.getChildByName(\"shuang2\");\r\n        this.m_shuang2.active = false;\r\n\r\n        this.m_chupai = this.node.parent.getChildByName(\"chuPai\");\r\n        let name = this.node.parent.name;\r\n        name = name.replace(\"seat_\", \"\");\r\n        this.m_seatIdx = Number(name);\r\n    }\r\n    ready() {\r\n        this.m_isReady = true;\r\n        this.hideAll();\r\n    }\r\n    private getChupaiCenterX(): number {\r\n        let x = 0\r\n        if (this.m_chupai == null) return x;\r\n\r\n        const uiTransform = this.m_chupai.getComponent(UITransform);\r\n        const size = uiTransform.contentSize;\r\n        const scale = this.m_chupai.scale;\r\n        if (this.m_seatIdx == 0) {\r\n            x = this.m_chupai.position.x;\r\n        }\r\n        else if (this.m_seatIdx == 3) {\r\n            x = this.m_chupai.position.x + (size.width / 2 * scale.x);\r\n        }\r\n        else {\r\n            x = this.m_chupai.position.x - (size.width / 2 * scale.x);\r\n        }\r\n\r\n        return x;\r\n    }\r\n    private showTitle(title:Node) {\r\n        if (title == null || !this.m_isReady) return;\r\n        this.m_isReady = false;\r\n        this.scheduleOnce(() => {\r\n            let x = this.getChupaiCenterX();\r\n            title.active = true;\r\n            title.opacity = 0;\r\n            let y = this.m_chupai.y - 25;\r\n            if (this.m_seatIdx == 0) {\r\n                y = this.m_chupai.y - 50;\r\n            }\r\n            title.setPosition(x, y);\r\n            // 使用 tween 实现淡入动画\r\n            tween(title)\r\n               .to(0.2, { opacity: 255 })\r\n               .start();\r\n        });\r\n    }\r\n    private hideTitle(title:Node) {\r\n        if (title == null) return;\r\n            Tween.stopAllByTarget(title);\r\n        if (title.active) {\r\n            title.active = false;\r\n        }\r\n    }\r\n    private hideAll() {\r\n        this.hideTitle(this.m_4ji);\r\n        this.hideTitle(this.m_lian3dui);\r\n        this.hideTitle(this.m_lian4dui);\r\n        this.hideTitle(this.m_shuang2);\r\n    }\r\n    public show4ji() {\r\n        this.showTitle(this.m_4ji);\r\n    }\r\n    public showLian3Dui() {\r\n        this.showTitle(this.m_lian3dui);\r\n    }\r\n    public showLian4Dui() {\r\n        this.showTitle(this.m_lian4dui);\r\n    }\r\n    public showShuang2() {\r\n        this.showTitle(this.m_shuang2);\r\n    }\r\n}","import { _decorator, Component, Node, SpriteFrame } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport { FaceConfigContainer, FaceData } from '../Conifg/FaceConfigContainer';\r\nimport { find } from 'cc';\r\nimport { PokerManager, UserInfo } from 'db://assets/module_basic/scripts/poker/PokerManager';\r\nimport PDK_Player from '../PDK_Player';\r\nimport PDK_PlayerSoundHelper from './PDK_PlayerSoundHelper';\r\nimport { DuanjuConfigContainer, DuanjuData } from '../Conifg/DuanjuConfigContainer';\r\nimport { ConfigManager } from '../ConfigManager';\r\nimport { LanguageConfigContainer } from '../Conifg/LanguageConfigContainer';\r\nimport { Animation } from 'cc';\r\nimport PDK_EmojiComp from './PDK_EmojiComp';\r\nimport GameTools from '../../kernel/GameTools';\r\nimport { assetManager } from 'cc';\r\nimport { ModuleDef } from 'db://assets/scripts/ModuleDef';\r\nimport { PokerUtils } from '../message/PokerUtils';\r\nimport { director } from 'cc';\r\nimport { EventMessage } from '../message/Define';\r\nimport { MsgChat } from 'db://assets/module_basic/shared/protocols/public/chat/MsgChat';\r\n\r\n@ccclass('PDKChatHelper')\r\nexport default class PDK_ChatHelper extends Component {\r\n    gameScript: PDK_Game = null;\r\n    start() {\r\n        this.gameScript = find(\"Canvas\").getComponent(PDK_Game);\r\n        this.bindEvent();\r\n    }\r\n    bindEvent() {\r\n        director.on(EventMessage.POKER_USER_CHAT,this.onNewChatMsg,this);\r\n    }\r\n    onDestroy() {\r\n        director.off(EventMessage.POKER_USER_CHAT,this.onNewChatMsg,this);\r\n    }\r\n    onNewChatMsg(data:MsgChat) {\r\n        var userInfo:UserInfo = PokerManager.inst.getUserInfoByID(data.user.uid);\r\n        if(!userInfo) return;\r\n\r\n\r\n        let seatID = PokerUtils.getRelativeSeatID(userInfo.chairID, PokerManager.inst.myChairID);\r\n        let chairData: UserInfo = PokerManager.inst.getTableUserItem(userInfo.chairID);\r\n        if (chairData == null) return;\r\n        let text: string = null;\r\n        if (data.content.indexOf(\"chat_face_\") != -1) {\r\n            // 表情\r\n            let id: number = Number(data.content.replace(\"chat_face_\", \"\"));\r\n            let faceConfig: FaceConfigContainer = ConfigManager.getInstance().getConfig(FaceConfigContainer);\r\n            if (!isNaN(id) && faceConfig.getFaceDataById(id) != null) {\r\n                let faceData: FaceData = faceConfig.getFaceDataById(id);\r\n                this.showEmoji(this.gameScript.playerScript[seatID].chatNode, faceData);\r\n                PDK_PlayerSoundHelper.playerSound(faceData.sound, 1);\r\n                return;\r\n            }\r\n        }\r\n            let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n            if (data.content.indexOf(\"duanju_\") != -1) {\r\n            // 短句\r\n                let id: number = Number(data.content.replace(\"duanju_\", \"\"));\r\n                let duanjuConfig: DuanjuConfigContainer = ConfigManager.getInstance().getConfig(DuanjuConfigContainer);\r\n                if (!isNaN(id) && duanjuConfig.getDataById(id) != null) {\r\n                    let duanjuData: DuanjuData = duanjuConfig.getDataById(id);\r\n                    text = langConfig.getLang(duanjuData.text);\r\n                    PDK_PlayerSoundHelper.playerSound(duanjuData.sound, 1);\r\n                }\r\n            }\r\n\r\n        if (text == null) {\r\n            text = langConfig.getLang(data.content);\r\n        }\r\n\r\n        console.log(\"气泡文字\", text);\r\n        let player: PDK_Player = this.gameScript.playerScript[seatID];\r\n        if (player != null) {\r\n            player.chatText.string = text;\r\n            player.chatNode.getComponent(Animation).play();\r\n        }\r\n    }\r\n    private showEmoji(chatNode: Node, faceData: FaceData) {\r\n        let faceNode: Node = chatNode.getChildByName(\"chat_face\");\r\n        let bundle = assetManager.getBundle(ModuleDef.POKER_PDK_YUENAN);\r\n        bundle.loadDir<SpriteFrame>(\"images/\" + faceData.res + \"/\", SpriteFrame, (err, assets: SpriteFrame[]) => {\r\n            if(err == null)\r\n            {\r\n                this.onLoadEmoji(assets, faceNode, faceData);\r\n            }\r\n            \r\n        });\r\n    }\r\n    private onLoadEmoji(assets: SpriteFrame[], faceNode: Node, faceData: FaceData) {\r\n        if (assets == null) return;\r\n        let emoji: PDK_EmojiComp = faceNode.getComponent(PDK_EmojiComp);\r\n        if (emoji == null) {\r\n            emoji = faceNode.addComponent(PDK_EmojiComp);\r\n        }\r\n        emoji.startFrameAnimation(assets);\r\n    }\r\n}\r\n","import { _decorator, Component, Node, EditBox, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport { ConfigManager } from '../ConfigManager';\r\nimport { LanguageConfigContainer } from '../Conifg/LanguageConfigContainer';\r\nimport { AudioControl } from '../AudioControl';\r\nimport { DuanjuConfigContainer, DuanjuData } from '../Conifg/DuanjuConfigContainer';\r\nimport { instantiate } from 'cc';\r\nimport { FaceConfigContainer, FaceData } from '../Conifg/FaceConfigContainer';\r\nimport { find } from 'cc';\r\nimport GameTools from '../../kernel/GameTools';\r\nimport { GameManager } from '../message/GameManager';\r\n\r\n@ccclass('PDKChatMenu')\r\nexport default class PDK_ChatMenu extends Component {\r\n//    //by_009:菜单\r\n    @property(Node)\r\n    menu: Node | null = null;\r\n//    //by_009:内容\r\n    @property(Node)\r\n    content: Node | null = null;\r\n//    // 短语item\r\n    @property(Node)\r\n    phraseItem: Node | null = null;\r\n    @property(Node)\r\n    faceItem: Node | null = null;\r\n//    //by_009:短语节点\r\n    @property(Node)\r\n    phraseNode: Node | null = null;\r\n//    //by_009:表情节点\r\n    @property(Node)\r\n    faceNode: Node | null = null;\r\n//    //by_009:编辑框\r\n    @property(EditBox)\r\n    editbox: EditBox | null = null;\r\n//    //by_009:所有按钮\r\n    @property(Node)\r\n    btnSend: Node | null = null;\r\n    @property(Label)\r\n    lblSend: Label | null = null;\r\n    @property(Label)\r\n    label_tip: Label | null = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        this.faceItem.active = false;\r\n        this.phraseItem.active = false;\r\n    }\r\n    start() {\r\n\r\n        this.createDuanju();\r\n        this.createEmoji();\r\n\r\n        this.btnSend.on(Node.EventType.TOUCH_END, this.onBtnSend, this);\r\n\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n        this.lblSend.string = langConfig.getLangById(10226);\r\n\r\n        this.editbox.placeholder = langConfig.getLangById(10747);\r\n    }\r\n    onTextChange(){\r\n        this.label_tip.string = this.editbox.string.length + \"/40\"\r\n    }\r\n   //by_009:点击短语\r\n    click_phrase(event) {\r\n        AudioControl.playClick();\r\n        this.menu.active = false;\r\n        let index: number = event.currentTarget['duanjuIndex'];\r\n        GameManager.inst.chat(index.toString());\r\n        this.closeMe();\r\n    }\r\n   //by_009:点击表情\r\n    click_face(event) {\r\n        AudioControl.playClick();\r\n        this.menu.active = false;\r\n        let txt = event.currentTarget.faceIndex;\r\n        GameManager.inst.chat(txt);\r\n        this.closeMe();\r\n    }\r\n    onBtnSend(event) {\r\n        AudioControl.playClick();\r\n         GameManager.inst.chat(this.editbox.string);\r\n        this.editbox.string = \"\";\r\n        this.closeMe();\r\n    }\r\n    closeMe() {\r\n        this.node && this.node.destroy();\r\n    }\r\n    private createDuanju() {\r\n        let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n        let duanjuArray: DuanjuData[] = ConfigManager.getInstance().getConfig(DuanjuConfigContainer).getDataArray();\r\n        for (let i = 0; i < duanjuArray.length; i++) {\r\n            let duanjuConfig: DuanjuData = duanjuArray[i];\r\n            let langId = duanjuConfig.text;\r\n            let item = instantiate(this.phraseItem);\r\n            item.active = true;\r\n            item.setParent(this.phraseNode);\r\n            let lbl = item.getChildByName(\"text\").getComponent(Label);\r\n            lbl.string = langConfig.getLang(langId);\r\n            item['duanjuIndex'] = \"duanju_\" + duanjuConfig.id;\r\n\r\n            // 监听\r\n            item.on(Node.EventType.TOUCH_END, this.click_phrase, this);\r\n        }\r\n    }\r\n    private createEmoji() {\r\n        let faceArray: FaceData[] = ConfigManager.getInstance().getConfig(FaceConfigContainer).getDataArray();\r\n        for (let i = 0; i < faceArray.length; i++) {\r\n            let data: FaceData = faceArray[i];\r\n            if (!data.isShow) continue;\r\n            let item = instantiate(this.faceItem);\r\n            let icon = find(\"icon\",item);\r\n            item.active = true;\r\n            item.setParent(this.faceNode);\r\n            item['faceIndex'] = \"chat_face_\" + data.id;\r\n            GameTools.readLocalImg(\"images/\" + data.icon, icon);\r\n            // 监听\r\n            item.on(Node.EventType.TOUCH_END, this.click_face, this);\r\n        }\r\n    }\r\n   // update (dt) {}\r\n}\r\n","// import { DiamondPolicy } from \"../../userCenter/Core/DiamondPolicy\"\r\n\r\nexport interface game_config {\r\n    moduleID: number,\r\n    roomID: number,\r\n    playerCount: number,\r\n    userID: number,          // 房主\r\n    gameID: number,             // 房间号\r\n    createRoomType: number,   // 开房模式\r\n    jushu:number,  //局数\r\n    settlementType: number, //分数结算类型\r\n    bet: number //投注\r\n}\r\n\r\n// 普通牌型定义\r\nexport const CARD_TYPE = {\r\n    NULL:       1,  //错误类型\r\n    SINGLE:     2,  //单牌\r\n    PAIR:       3,  //对子\r\n    THREE:      4,  //三张\r\n    STRAIGHT:   5,  //顺子\r\n    PAIRS:      6,  //连对\r\n    FOUR:       7,  //四张\r\n}\r\n\r\nexport interface CARD_TYPE_INFO {\r\n    userID: number,\r\n    chairID: number,\r\n    type: number,\r\n    cards: number[],\r\n}\r\n\r\nexport const CARD_RANK = {\r\n    ACE:        1,\r\n    TWO:        2,\r\n    THREE:      3,\r\n    FOUR:       4,\r\n    FIVE:       5,\r\n    SIX:        6,\r\n    SEVEN:      7,\r\n    EIGHT:      8,\r\n    NINE:       9,\r\n    TEN:        10,\r\n    JACK:       11,\r\n    QUEEN:      12,\r\n    KING:       13,\r\n}\r\n\r\nexport const CARD_SUIT = {\r\n    SPADE:      0, //黑桃\r\n    CLUB:       1, //草花\r\n    Diamond:    2, //方块\r\n    HEART:      3, //红桃\r\n}\r\n\r\nexport const CARD_COLOR = {\r\n    Diamond:    0, //方块\r\n    HEART:      1, //红桃\r\n    CLUB:       2, //草花\r\n    SPADE:      3, //黑桃\r\n}\r\n\r\nexport enum EM_TimerID {\r\n    eTimerID_Start = 1,//开始\r\n    eTimerID_Action = 2,//操作\r\n}\r\n\r\nexport let Timer = {\r\n    start: 2,//开始\r\n    action: 15, //操作\r\n};","//游戏常量定义\r\nexport const gameConst = {\r\n    //玩家状态\r\n    US_NULL: 0x00, //没有状态\r\n    US_FREE: 0x01, //站立状态\r\n    US_SIT: 0x02, //坐下状态\r\n    US_READY: 0x03, //同意状态\r\n    US_PLAYING: 0x05, //游戏状态\r\n    US_OFFLINE: 0x06, //掉线\r\n    //桌子状态\r\n    GAME_STATUS_FREE: 0, //空闲状态\r\n    GAME_STATUS_PLAY: 100, //游戏状态\r\n    GAME_STATUS_WAIT: 200, //等待状态\r\n\r\n    //游戏结束原因\r\n    GER_NORMAL: 0x00, //常规结束\r\n    GER_DISMISS: 0x01, //游戏解散\r\n    GER_USER_LEAVE: 0x02, //用户离开\r\n    GER_NETWORK_ERROR: 0x03, //网络错误\r\n    //游戏模式\r\n    START_MODE_ALL_READY: 0x00, //所有准备\r\n    START_MODE_FULL_READY: 0x01, //满人开始\r\n    START_MODE_HUNDRED: 0x02, //百人游戏\r\n    START_MODE_FISH: 0x04, //捕鱼\r\n    START_MODE_ALL_READY_TABLECONFIG: 0x05, //准备到桌子配置的人数  //房卡类的可以配置桌子人数的\r\n\r\n    //请求失败类型\r\n    KICK_TYPE: 0x01, //踢人\r\n    INVALID_CHAIR: 0xFFFF, //观战的人的座位号\r\n\r\n    ONLINE_DEF_OFFLINE:0,//下线\r\n    ONLINE_DEF_ONLINE:1,//上线\r\n\r\n\r\n};\r\n\r\n//框架消息\r\nexport const gameCMD = {\r\n    //登入命令\r\n    MDM_GR_LOGON: 1, //登入主命令\r\n    //请求\r\n    SUB_GR_LOGON_ACCOUNTS: 1, //帐号登入\r\n    //返回\r\n    SUB_GR_LOGON_SUCCESS: 100, //登录成功\r\n    SUB_GR_LOGON_FAILURE: 101, //登录失败\r\n    //用户命令\r\n    MDM_GR_USER: 2, //用户主命令\r\n    //请求\r\n    SUB_GR_USER_SIT_DOWN: 1, //坐下命令\r\n    SUB_GR_USER_STANDUP: 2, //起立命令\r\n    //返回\r\n    SUB_GR_USER_STATUS: 100, //用户状态\r\n    SUB_GR_USER_ENTER: 101, //用户进入\r\n    SUB_GR_USER_SCORE: 102, //用户分数\r\n    SUB_GR_USER_ONLINE: 103, // 用户上线/掉线\r\n    //游戏命令\r\n    MDM_GF_GAME: 3, //游戏主命令\r\n    //框架命令\r\n    MDM_GF_FRAME: 4, //框架主命令\r\n    //用户命令\r\n    SUB_GF_GAME_OPTION: 1, //游戏配置\r\n    SUB_GF_USER_READY: 2, //用户准备\r\n    SUB_GF_USER_CHAT: 3, //用户聊天\r\n    SUB_GF_DISMISS_START: 4, //解散\r\n    SUB_GF_DISMISS_AGREE: 5, //同意/不同意解散\r\n    SUB_GF_DISMISS_END: 6, //结束解散\r\n    SUB_GF_CMD_DIALOG: 7, //对话框通知命令\r\n    SUB_GF_USE_ITEM: 8, //使用道具 item_id item_num chairID\r\n\r\n    SUB_GF_GAME_STATUS: 100, //游戏状态\r\n    SUB_GF_GAME_SCENE: 101, //游戏场景\r\n    SUB_GF_ROOM_INFO: 103, //房间信息\r\n\r\n    SUB_GF_FORCE_CLOSE: 105, //强制关闭窗口\r\n    SUB_GF_REQUEST_FAILURE: 106, //请求失败\r\n\r\n    SUB_GF_TOAST_MSG: 108, //tip消息\r\n    SUB_GF_FISH_NOTICE: 111, //捕鱼消息， 用于 同房间不同桌子之间的类似公告的通知， 放在框架这占个坑， 防止后面框架用于111\r\n    SUB_GF_DO_DISMISS_GAME: 115, //房间已解散消息\r\n    SUB_GF_DISMISS_GAME_FAILED: 116, //房间j解散失败\r\n\r\n    SUB_GF_SEAT_CHANG: 117,  //位置变动\r\n\r\n};\r\n\r\n//大厅事件\r\nexport enum EM_CorresCMD {\r\n    USER_SIT_DOWN = \"UserSitDown\", //用户坐下\r\n    USER_STAND_UP = \"UserStandUp\",//用户请求离开\r\n    USER_STATUS = \"UserStatus\", //用户状态\r\n    USER_LEAVE = \"UserLeave\", //用户离开\r\n    WRITE_SCORE = \"WriteScore\", //玩家写分\r\n    onUserOffline = \"onUserOffline\", //用户掉线\r\n    onAdminJiesan= \"onAdminJiesan\", //强制解散\r\n    ModifyRoomControl= \"ModifyRoomControl\", //修改房间控制配置\r\n    GetRoomControl= \"GetRoomControl\", //获取房间控制配置\r\n    // onUserRelogin = \"onUserRelogin\", //}\r\n};\r\n\r\n//内部流通的事件\r\nexport const gameEvent = {\r\n    EVENT_USER_STATUS: \"user_status\", //玩家状态\r\n    EVENT_USER_SCORE: \"user_score\", //玩家分数\r\n    EVENT_ANDROID: \"event_android\", //机器人事件\r\n\r\n\r\n    EVENT_GET_RESULT_DATA: \"EVENT_GET_RESULT_DATA\",   // 接收到结算数据事件\r\n    EVENT_CLOSE_RESULT: \"EVENT_CLOSE_RESULT\",   // 关闭结算事件\r\n    EVENT_GET_GOTO_HALL: \"EVENT_GET_GOTO_HALL\", // 接受到返回大厅事件\r\n\r\n    EVENT_GAME_ROUND_START: \"EVENT_GAME_ROUND_START\",   // 回合开始事件\r\n    EVENT_GAME_ROUND_FINISH: \"EVENT_GAME_ROUND_FINISH\",   // 回合结束事件\r\n    EVENT_RECORD_OUT_CARD: \"EVENT_RECORD_OUT_CARD\", // 记录已出卡牌\r\n    EVENT_USE_RECORDER: \"EVENT_USE_RECORDER\", // 使用记牌器\r\n    \r\n};\r\n\r\nexport const playerType = {\r\n    TYPE_INVALID: -1, // 无效的类型\r\n    TYPE_DEALER: 0, // 庄家\r\n    TYPE_PLAYER: 1, // 真人闲家\r\n    TYPE_ANDROID: 2 // 机器人闲家\r\n};\r\n\r\nexport const playerState = {\r\n    STATE_INVALID: -1, // 无效状态\r\n    STATE_IDLE: 0, // 等待状态\r\n    STATE_PLAYING: 1, // 游戏状态\r\n};\r\n\r\n//游戏状态\r\nexport const gameState = {\r\n    BEGIN: \"begin\", //游戏开始\r\n    PLAYING: \"playing\", //游戏种\r\n    HUANPAI: \"huanpai\", //换牌\r\n    DINGQUE: \"dingque\", //定缺\r\n    IDLE: \"idle\", //空闲\r\n};\r\n\r\nexport const gameExpressionEvent = {\r\n    SHOW_BOMB: \"SHOW_BOMB\", // 显示炸弹\r\n    SHOW_RECORDER_MACHINE: \"SHOW_RECORDER_MACHINE\", // 显示记牌器\r\n    SHOW_BIGWIN: \"SHOW_BIGWIN\", // BIG_WIN特效\r\n    SHOW_TONGPAI: \"SHOW_TONGPAI\",  //显示通牌效果\r\n    PUT_MY_ALL_CARDS_BACK: \"PUT_MY_ALL_CARDS_BACK\",   // 把玩家准备出的手牌放回去\r\n    SHOW_EXTRA_REWARD: \"SHOW_EXTRA_REWARD\", // 显示额外物品奖励\r\n    SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE: \"SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE\", // 显示额外物品奖励飞行完毕\r\n    CHECK_SHOW_EXTRA_REWARD_BTNS: \"CHECK_SHOW_EXTRA_REWARD_BTNS\",   // 显示或隐藏额外奖励按钮\r\n    UPDATE_ACCOUNT_MOBILE_CODE_BIND: \"UPDATE_ACCOUNT_MOBILE_CODE_BIND\", // 更新账号手机号绑定\r\n    NEWBIE_EXCHANGE_RED_DOT: \"NEWBIE_EXCHANGE_RED_DOT\", // 新号兑换红点\r\n    NEWBIE_AUTO_POP: \"NEWBIE_AUTO_POP\", // 新手自动弹出\r\n\r\n    UPDATE_PLAYER_NEWS: \"UPDATE_PLAYER_NEWS\", // 跟新用户信息\r\n};\r\n\r\n\r\n","import { _decorator, Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('PDKDismissMenu')\r\nexport default class PDK_DismissMenu extends Component {\r\n    @property(Label)\r\n    desc_lbl: Label | null = null;\r\n//    //菜单\r\n    @property(Node)\r\n    menu: Node | null = null;\r\n//    //接受按钮\r\n    @property(Node)\r\n    btn_agree: Node | null = null;\r\n//    //取消按钮\r\n    @property(Node)\r\n    btn_cancel: Node | null = null;\r\n//    //倒计时-值\r\n    @property(Label)\r\n    txt_leftTime: Label | null = null;\r\n//    //玩家组\r\n    @property(Node)\r\n    playerGroup: Node | null = null;\r\n    private leftTime: number;\r\n    private nowTime: number;\r\n    bindObj = [];\r\n    onLoad() {\r\n        this.hideDismissMenu();\r\n    }\r\n    onEnable() {\r\n       //剩余时间\r\n        this.leftTime = 60;\r\n        this.txt_leftTime.string = this.leftTime.toString();\r\n\r\n        this.nowTime = 0;\r\n\r\n    }\r\n    start() {\r\n        // this.btn_agree.on(\"click\", this.btnOnClick, this);\r\n        // this.btn_cancel.on(\"click\", this.btnOnClick, this);\r\n\r\n        // this.bindEvent();\r\n        // this.checkDisMiss()\r\n\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // let lbl = this.btn_agree.getChildByName(\"lbl\").getComponent(cc.Label);\r\n        // lbl.string = langCfg.getLangById(10835);\r\n\r\n        // lbl = this.btn_cancel.getChildByName(\"lbl\").getComponent(cc.Label);\r\n        // lbl.string = langCfg.getLangById(10834);\r\n\r\n    }\r\n//    //检查解散\r\n    checkDisMiss() {\r\n        // let dismissData = clientKernel.getDismissData()\r\n        // if (dismissData) {\r\n        // this.updateView(dismissData);\r\n        // console.log(\"❤发现解散数据 \", dismissData);\r\n\r\n        // this.onDismissStart(dismissData)\r\n        // }\r\n    }\r\n    updateView(dismissData) {\r\n        // let { lefTime, starter } = dismissData;\r\n        // this.leftTime = lefTime;\r\n        // this.txt_leftTime.string = this.leftTime.toString();\r\n        // let userItem = clientKernel.getTableUserItem(starter);\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // if (this.desc_lbl) {\r\n        // this.desc_lbl.string = GameTools.getStringReplace(langCfg.getLangById(10833), userItem.nickname, this.leftTime);\r\n        // }\r\n    }\r\n    bindEvent() {\r\n        // this.bindObj.push(onfire.on(\"onDismissStart\", this.onDismissStart.bind(this)));\r\n        // this.bindObj.push(onfire.on(\"onUserAgreeDismiss\", this.onUserAgreeDismiss.bind(this)));\r\n        // this.bindObj.push(onfire.on(\"onDismissEnd\", this.onDismissEnd.bind(this)));\r\n    }\r\n    onDestroy() {\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i]);\r\n        // }\r\n    }\r\n    showDismissMenu(){\r\n        // this.menu.active = true;\r\n    }\r\n    hideDismissMenu(){\r\n        // this.menu.active = false;\r\n    }\r\n//    //by_009:解散开始\r\n    onDismissStart(data) {\r\n        // console.log(\"❤解散开始\", data);\r\n\r\n        // if (data.errMsg) {\r\n        // return;\r\n        // }\r\n\r\n//        //如果自己是旁观玩家，不显示解散界面\r\n        // if (GameTools.getIsWatcher()) {\r\n        // this.hideDismissMenu();\r\n        // return;\r\n        // }\r\n\r\n        // this.updateView(data);\r\n\r\n        // this.showDismissMenu();\r\n        // this.refreshPlayer(data);\r\n    }\r\n//    //by_009:玩家同意、拒绝解散\r\n    onUserAgreeDismiss(data) {\r\n        // console.log(\"❤玩家同意、拒绝解散\", data);\r\n//        // let { lefTime, agreeData, starter, agree, chairID } = data;\r\n\r\n        // this.refreshPlayer(data);\r\n    }\r\n//    //by_009:结束解散\r\n    onDismissEnd(data) {\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n        // console.log(\"结束解散\", data);\r\n        // let { success } = data;\r\n\r\n        // if (success == 1) {\r\n        // UIHelper.showTips(langCfg.getLangById(10733));\r\n        // this.hideDismissMenu();\r\n//            // if (GameSink) {\r\n//            //     clientKernel.gotoHall(); //回去大厅\r\n//            // }\r\n        // } else if (success == 0) {\r\n        // UIHelper.showTips(langCfg.getLangById(10734));\r\n        // this.scheduleOnce(function () {\r\n        // this.hideDismissMenu();\r\n        // }.bind(this), 2);\r\n        // }\r\n    }\r\n//    //by_009:刷新玩家数据\r\n    refreshPlayer(data) {\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // let { lefTime, agreeData, starter } = data;\r\n        // this.leftTime = lefTime;\r\n        // this.txt_leftTime.string = this.leftTime.toString();\r\n\r\n        // let len = this.playerGroup.childrenCount;\r\n        // for (let m = 0; m < len; m++) {\r\n        // let player = this.playerGroup.children[m];\r\n        // player.active = false;\r\n        // }\r\n\r\n        // let myChairID = clientKernel.getMeChairID();\r\n        // for (let i = 0; i < agreeData.length; i++) {\r\n        // if (agreeData[i] != null) {\r\n        // let player = this.playerGroup.children[i];\r\n        // player.active = true;\r\n        // let userItem = clientKernel.getTableUserItem(i);\r\n        // if (userItem) {\r\n        // player.getChildByName(\"lbl_nickname\").getComponent(cc.Label).string = userItem.nickname;\r\n        // GameTools.loadWxHead(cc.find(\"head_mask/head_sprite\", player), userItem.getHead());\r\n        // }\r\n        // let gou = player.getChildByName(\"gou\");\r\n        // gou.active = false;\r\n        // let lbl = player.getChildByName(\"lbl_text\");\r\n        // lbl.active = false;\r\n        // if (agreeData[i] == -1) {\r\n        // lbl.active = true;\r\n        // lbl.getComponent(cc.Label).string = langCfg.getLangById(10836);\r\n        // }\r\n        // else if (agreeData[i] == 0) {\r\n        // lbl.active = true;\r\n        // lbl.getComponent(cc.Label).string = langCfg.getLangById(10834);\r\n        // }\r\n        // else if (agreeData[i] == 1) {\r\n        // gou.active = true;\r\n        // }\r\n\r\n\r\n        // if (myChairID == i) {//自己\r\n        // if (agreeData[i] == -1) {\r\n        // this.btn_agree.getComponent(cc.Button).interactable = true;\r\n        // this.btn_cancel.getComponent(cc.Button).interactable = true;\r\n        // } else {\r\n        // this.btn_agree.getComponent(cc.Button).interactable = false;\r\n        // this.btn_cancel.getComponent(cc.Button).interactable = false;\r\n        // let outline = this.btn_agree.getChildByName(\"lbl\").getComponent(cc.LabelOutline);\r\n        // outline.enabled = false;\r\n        // outline = this.btn_cancel.getChildByName(\"lbl\").getComponent(cc.LabelOutline);\r\n        // outline.enabled = false;\r\n        // }\r\n        // }\r\n        // }\r\n        // }\r\n    }\r\n//    //by_009:玩家数据\r\n    showPlayerAgree(chairID, agree) {\r\n        // let player = this.playerGroup.children[chairID];\r\n        // let userItem = clientKernel.getTableUserItem(chairID);\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // if (player && userItem) {\r\n        // player.getChildByName(\"lbl_nickname\").getComponent(cc.Label).string = userItem.nickname;\r\n        // let gou = player.getChildByName(\"gou\");\r\n        // gou.active = false;\r\n        // let lbl = player.getChildByName(\"lbl_text\");\r\n        // lbl.active = false;\r\n        // if (agree == -1) {\r\n        // lbl.active = true;\r\n        // lbl.getComponent(cc.Label).string = langCfg.getLangById(10836);\r\n        // }\r\n        // else if (agree == 0) {\r\n        // lbl.active = true;\r\n        // lbl.getComponent(cc.Label).string = langCfg.getLangById(10834);\r\n        // }\r\n        // else if (agree == 1) {\r\n        // gou.active = true;\r\n        // }\r\n        // }\r\n    }\r\n//    //by_009:按钮点击同意、拒绝\r\n    btnOnClick(event) {\r\n        // switch (event.node.name) {\r\n        // case \"btn_cancel\":\r\n        // clientKernel.sendSocketData(gameCMD.MDM_GF_FRAME, gameCMD.SUB_GF_DISMISS_AGREE, { agree: 0 });\r\n        // break;\r\n        // case \"btn_agree\":\r\n        // clientKernel.sendSocketData(gameCMD.MDM_GF_FRAME, gameCMD.SUB_GF_DISMISS_AGREE, { agree: 1 });\r\n        // break;\r\n        // }\r\n    }\r\n    update(dt) {\r\n        // if (this.node.active == true) {\r\n        // this.nowTime += dt;\r\n        // if (this.nowTime >= 1) {\r\n        // this.leftTime -= 1;\r\n        // this.nowTime = 0;\r\n        // this.txt_leftTime.string = this.leftTime.toString();\r\n        // }\r\n        // }\r\n\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import { LanguageConfigContainer } from \"../../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { ConfigManager } from \"../../../../kernel/ConfigManager\";\r\n// import { gameCMD } from \"../../../../kernel/Core/KernelDefine\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_DismissMenu extends cc.Component {\r\n// \r\n//     @property(cc.Label)\r\n//     desc_lbl: cc.Label = null;\r\n// \r\n//     //菜单\r\n//     @property(cc.Node)\r\n//     menu: cc.Node = null;\r\n// \r\n//     //接受按钮\r\n//     @property(cc.Node)\r\n//     btn_agree: cc.Node = null;\r\n// \r\n//     //取消按钮\r\n//     @property(cc.Node)\r\n//     btn_cancel: cc.Node = null;\r\n// \r\n//     //倒计时-值\r\n//     @property(cc.Label)\r\n//     txt_leftTime: cc.Label = null;\r\n// \r\n//     //玩家组\r\n//     @property(cc.Node)\r\n//     playerGroup: cc.Node = null;\r\n// \r\n//     private leftTime: number;\r\n//     private nowTime: number;\r\n//     bindObj = [];\r\n// \r\n//     onLoad() {\r\n//         this.hideDismissMenu();\r\n//     }\r\n// \r\n//     onEnable() {\r\n//         //剩余时间\r\n//         this.leftTime = 60;\r\n//         this.txt_leftTime.string = this.leftTime.toString();\r\n// \r\n//         this.nowTime = 0;\r\n// \r\n//     }\r\n// \r\n//     start() {\r\n//         this.btn_agree.on(\"click\", this.btnOnClick, this);\r\n//         this.btn_cancel.on(\"click\", this.btnOnClick, this);\r\n// \r\n//         this.bindEvent();\r\n//         this.checkDisMiss()\r\n// \r\n//         let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n//         let lbl = this.btn_agree.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//         lbl.string = langCfg.getLangById(10835);\r\n// \r\n//         lbl = this.btn_cancel.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//         lbl.string = langCfg.getLangById(10834);\r\n// \r\n//     }\r\n// \r\n//     //检查解散\r\n//     checkDisMiss() {\r\n//         let dismissData = clientKernel.getDismissData()\r\n//         if (dismissData) {\r\n//             this.updateView(dismissData);\r\n//             console.log(\"❤发现解散数据 \", dismissData);\r\n// \r\n//             this.onDismissStart(dismissData)\r\n//         }\r\n//     }\r\n// \r\n//     updateView(dismissData) {\r\n//         let { lefTime, starter } = dismissData;\r\n//         this.leftTime = lefTime;\r\n//         this.txt_leftTime.string = this.leftTime.toString();\r\n//         let userItem = clientKernel.getTableUserItem(starter);\r\n//         let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n//         if (this.desc_lbl) {\r\n//             this.desc_lbl.string = GameTools.getStringReplace(langCfg.getLangById(10833), userItem.nickname, this.leftTime);\r\n//         }\r\n//     }\r\n// \r\n//     bindEvent() {\r\n//         this.bindObj.push(onfire.on(\"onDismissStart\", this.onDismissStart.bind(this)));\r\n//         this.bindObj.push(onfire.on(\"onUserAgreeDismiss\", this.onUserAgreeDismiss.bind(this)));\r\n//         this.bindObj.push(onfire.on(\"onDismissEnd\", this.onDismissEnd.bind(this)));\r\n//     }\r\n//     onDestroy() {\r\n//         for (let i = 0; i < this.bindObj.length; i++) {\r\n//             onfire.un(this.bindObj[i]);\r\n//         }\r\n//     }\r\n// \r\n//     showDismissMenu(){\r\n//         this.menu.active = true;\r\n//     }\r\n// \r\n//     hideDismissMenu(){\r\n//         this.menu.active = false;\r\n//     }\r\n// \r\n//     //by_009:解散开始\r\n//     onDismissStart(data) {\r\n//         console.log(\"❤解散开始\", data);\r\n// \r\n//         if (data.errMsg) {\r\n//             return;\r\n//         }\r\n// \r\n//         //如果自己是旁观玩家，不显示解散界面\r\n//         if (GameTools.getIsWatcher()) {\r\n//             this.hideDismissMenu();\r\n//             return;\r\n//         }\r\n// \r\n//         this.updateView(data);\r\n// \r\n//         this.showDismissMenu();\r\n//         this.refreshPlayer(data);\r\n//     }\r\n// \r\n// \r\n//     //by_009:玩家同意、拒绝解散\r\n//     onUserAgreeDismiss(data) {\r\n//         console.log(\"❤玩家同意、拒绝解散\", data);\r\n//         // let { lefTime, agreeData, starter, agree, chairID } = data;\r\n// \r\n//         this.refreshPlayer(data);\r\n//     }\r\n// \r\n// \r\n//     //by_009:结束解散\r\n//     onDismissEnd(data) {\r\n//         let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n// \r\n//         console.log(\"结束解散\", data);\r\n//         let { success } = data;\r\n// \r\n//         if (success == 1) {\r\n//             UIHelper.showTips(langCfg.getLangById(10733));\r\n//             this.hideDismissMenu();\r\n//             // if (GameSink) {\r\n//             //     clientKernel.gotoHall(); //回去大厅\r\n//             // }\r\n//         } else if (success == 0) {\r\n//             UIHelper.showTips(langCfg.getLangById(10734));\r\n//             this.scheduleOnce(function () {\r\n//                 this.hideDismissMenu();\r\n//             }.bind(this), 2);\r\n//         }\r\n//     }\r\n// \r\n// \r\n//     //by_009:刷新玩家数据\r\n//     refreshPlayer(data) {\r\n//         let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n//         let { lefTime, agreeData, starter } = data;\r\n//         this.leftTime = lefTime;\r\n//         this.txt_leftTime.string = this.leftTime.toString();\r\n// \r\n//         let len = this.playerGroup.childrenCount;\r\n//         for (let m = 0; m < len; m++) {\r\n//             let player = this.playerGroup.children[m];\r\n//             player.active = false;\r\n//         }\r\n// \r\n//         let myChairID = clientKernel.getMeChairID();\r\n//         for (let i = 0; i < agreeData.length; i++) {\r\n//             if (agreeData[i] != null) {\r\n//                 let player = this.playerGroup.children[i];\r\n//                 player.active = true;\r\n//                 let userItem = clientKernel.getTableUserItem(i);\r\n//                 if (userItem) {\r\n//                     player.getChildByName(\"lbl_nickname\").getComponent(cc.Label).string = userItem.nickname;\r\n//                     GameTools.loadWxHead(cc.find(\"head_mask/head_sprite\", player), userItem.getHead());\r\n//                 }\r\n//                 let gou = player.getChildByName(\"gou\");\r\n//                 gou.active = false;\r\n//                 let lbl = player.getChildByName(\"lbl_text\");\r\n//                 lbl.active = false;\r\n//                 if (agreeData[i] == -1) {\r\n//                     lbl.active = true;\r\n//                     lbl.getComponent(cc.Label).string = langCfg.getLangById(10836);\r\n//                 }\r\n//                 else if (agreeData[i] == 0) {\r\n//                     lbl.active = true;\r\n//                     lbl.getComponent(cc.Label).string = langCfg.getLangById(10834);\r\n//                 }\r\n//                 else if (agreeData[i] == 1) {\r\n//                     gou.active = true;\r\n//                 }\r\n// \r\n// \r\n//                 if (myChairID == i) {//自己\r\n//                     if (agreeData[i] == -1) {\r\n//                         this.btn_agree.getComponent(cc.Button).interactable = true;\r\n//                         this.btn_cancel.getComponent(cc.Button).interactable = true;\r\n//                     } else {\r\n//                         this.btn_agree.getComponent(cc.Button).interactable = false;\r\n//                         this.btn_cancel.getComponent(cc.Button).interactable = false;\r\n//                         let outline = this.btn_agree.getChildByName(\"lbl\").getComponent(cc.LabelOutline);\r\n//                         outline.enabled = false;\r\n//                         outline = this.btn_cancel.getChildByName(\"lbl\").getComponent(cc.LabelOutline);\r\n//                         outline.enabled = false;\r\n//                     }\r\n//                 }\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n// \r\n//     //by_009:玩家数据\r\n//     showPlayerAgree(chairID, agree) {\r\n//         let player = this.playerGroup.children[chairID];\r\n//         let userItem = clientKernel.getTableUserItem(chairID);\r\n//         let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n//         if (player && userItem) {\r\n//             player.getChildByName(\"lbl_nickname\").getComponent(cc.Label).string = userItem.nickname;\r\n//             let gou = player.getChildByName(\"gou\");\r\n//             gou.active = false;\r\n//             let lbl = player.getChildByName(\"lbl_text\");\r\n//             lbl.active = false;\r\n//             if (agree == -1) {\r\n//                 lbl.active = true;\r\n//                 lbl.getComponent(cc.Label).string = langCfg.getLangById(10836);\r\n//             }\r\n//             else if (agree == 0) {\r\n//                 lbl.active = true;\r\n//                 lbl.getComponent(cc.Label).string = langCfg.getLangById(10834);\r\n//             }\r\n//             else if (agree == 1) {\r\n//                 gou.active = true;\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n// \r\n//     //by_009:按钮点击同意、拒绝\r\n//     btnOnClick(event) {\r\n//         switch (event.node.name) {\r\n//             case \"btn_cancel\":\r\n//                 clientKernel.sendSocketData(gameCMD.MDM_GF_FRAME, gameCMD.SUB_GF_DISMISS_AGREE, { agree: 0 });\r\n//                 break;\r\n//             case \"btn_agree\":\r\n//                 clientKernel.sendSocketData(gameCMD.MDM_GF_FRAME, gameCMD.SUB_GF_DISMISS_AGREE, { agree: 1 });\r\n//                 break;\r\n//         }\r\n//     }\r\n// \r\n// \r\n//     update(dt) {\r\n//         if (this.node.active == true) {\r\n//             this.nowTime += dt;\r\n//             if (this.nowTime >= 1) {\r\n//                 this.leftTime -= 1;\r\n//                 this.nowTime = 0;\r\n//                 this.txt_leftTime.string = this.leftTime.toString();\r\n//             }\r\n//         }\r\n// \r\n//     }\r\n// }\r\n","import { _decorator, Component, Node, Vec2 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Card from \"./PDK_Card\";\r\nimport Card from \"./PDK_Card\";\r\nimport { gameExpressionEvent, gameEvent } from \"./PDK_define\";\r\nimport PDK_Game from \"./PDK_Game\";\r\nimport EventCenter from '../kernel/EventCenter';\r\nimport { UITransform } from 'cc';\r\nimport { Vec3 } from 'cc';\r\nimport { Tween } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { EventTouch } from 'cc';\r\n\r\n@ccclass('PDKDragCard')\r\nexport default class PDK_DragCard extends Component {\r\n   //by_009:所有牌的父节点\r\n    @property(Node)\r\n    poker: Node | null = null;\r\n   //by_009:两牌之间的间隔\r\n    interval = null;\r\n   //by_009:开始触摸的位置\r\n    startTouchLocation = null;\r\n   //by_009:开始触摸的牌\r\n    startTouchPoker:Node = null;\r\n   //by_009:触摸中的位置\r\n    touchingLocation:Vec3 = null;\r\n   // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n       //注：所有牌的Anchor锚点设置为X=0;Y=0.5\r\n        if (!this.poker) {\r\n                this.poker = this.node;\r\n        }\r\n    }\r\n    start() {\r\n       //为了下一帧执行\r\n        this.scheduleOnce(() => {\r\n            if (this.poker.children.length >= 2) {\r\n                this.interval = this.poker.children[1].x - this.poker.children[0].x;\r\n            } else {\r\n                this.interval = 64;\r\n            }\r\n\r\n            console.log(\"❤interval\", this.interval);\r\n        })\r\n\r\n        console.log(\"---摸牌监听---\");\r\n       //by_009:监听触摸开始\r\n        this.node.on(Node.EventType.TOUCH_START, this.clickPoker, this);\r\n       //by_009:监听触摸过程\r\n        this.node.on(Node.EventType.TOUCH_MOVE, this.slideTouchPoker, this);\r\n       //by_009:监听触摸结束\r\n        this.node.on(Node.EventType.TOUCH_END, this.touchResult, this);\r\n       //by_009:监听触摸取消\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.touchResult, this);\r\n\r\n        EventCenter.onEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n\r\n\r\n    }\r\n    onDestroy() {\r\n        this.node.off(Node.EventType.TOUCH_START, this.clickPoker, this);\r\n        this.node.off(Node.EventType.TOUCH_MOVE, this.slideTouchPoker, this);\r\n        this.node.off(Node.EventType.TOUCH_END, this.touchResult, this);\r\n        this.node.off(Node.EventType.TOUCH_CANCEL, this.touchResult, this);\r\n        EventCenter.offEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK, this.putAllCardBack, this);\r\n    }\r\n   //by_009:点击扑克——响应事件\r\n    clickPoker(event:EventTouch) {\r\n        // 获取触摸点在 poker 节点坐标系下的位置\r\n        const uiTransform = this.poker.getComponent(UITransform);\r\n        if (!uiTransform) return;\r\n        const touchWorldPos = event.touch.getUILocation();\r\n        // const touchPos = uiTransform.convertToNodeSpaceAR(new Vec3(touchWorldPos.x, touchWorldPos.y, 0));\r\n        this.startTouchLocation = touchWorldPos;\r\n        // const worldTouchPos = uiTransform.convertToWorldSpaceAR(new Vec3(touchPos.x, touchPos.y, 0));\r\n\r\n        for (let i = this.poker.children.length - 1; i >= 0; i--) {\r\n            const childNode = this.poker.children[i];\r\n            const childUiTransform = childNode.getComponent(UITransform);\r\n            if (childUiTransform) {\r\n                const rect = childUiTransform.getBoundingBoxToWorld();\r\n                // const localTouchPos = childUiTransform.convertToNodeSpaceAR(this.startTouchLocation);\r\n                if (rect.contains(new Vec2(touchWorldPos.x,touchWorldPos.y))) {\r\n                    this.startTouchPoker = this.poker.children[i];\r\n                  \r\n                    this.poker.children[i].getComponent(PDK_Card).select.active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n   //by_009:滑动触摸扑克——响应事件\r\n    slideTouchPoker(event) {\r\n       // console.log(\"滑动触摸扑克——响应事件\");\r\n        if (this.startTouchPoker == null) {\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.poker.getComponent(UITransform);\r\n        if (!uiTransform) return;\r\n        const touchWorldPos = event.getUILocation();\r\n        const touchPos = uiTransform.convertToNodeSpaceAR(new Vec3(touchWorldPos.x, touchWorldPos.y, 0));\r\n        this.touchingLocation = touchPos;\r\n\r\n\r\n        if (this.touchingLocation.x > this.startTouchPoker.x) {\r\n            let juli = null;\r\n            juli = this.touchingLocation.subtract(new Vec3(this.startTouchPoker.x)).x / this.interval;\r\n            // console.log(\"几张牌的距离\",juli);\r\n            var index = this.startTouchPoker.getSiblingIndex();\r\n            if (index + parseInt(juli) >= this.poker.children.length) {\r\n                return;\r\n            }\r\n            for (let i = 0; i < this.poker.children.length; i++) {\r\n                // this.poker.children[i].opacity = 255;\r\n                // this.poker.children[i].color=new Color(255,255,255,255);\r\n                this.poker.children[i].getComponent(PDK_Card).select.active = false;\r\n            }\r\n            for (let i = index; i <= index + parseInt(juli); i++) {\r\n                // this.poker.children[i].opacity = 180;\r\n                // this.poker.children[i].color=new Color(180,180,180,255);\r\n                this.poker.children[i].getComponent(PDK_Card).select.active = true;\r\n            }\r\n        } \r\n        else {\r\n           // console.log(\"zuo\");\r\n\r\n            let juli = null;\r\n            juli = this.touchingLocation.subtract(new Vec3(this.startTouchPoker.x)).x/ this.interval;\r\n            juli = Math.abs(juli);\r\n            // console.log(\"几张牌的距离\",juli );\r\n            var index = this.startTouchPoker.getSiblingIndex();\r\n            if (index - parseInt(juli) <= 0) {\r\n                return\r\n             }\r\n           // @ts-ignore\r\n            for (let i = index; i >= index - parseInt(Math.ceil(juli)); i--) {\r\n                // this.poker.children[i].opacity = 180;\r\n                // this.poker.children[i].color=new Color(180,180,180,255);\r\n                this.poker.children[i].getComponent(PDK_Card).select.active = true;\r\n            }\r\n            // @ts-ignore\r\n            for (let i = index - parseInt(Math.ceil(juli)) - 1; i >= 0; i--) {\r\n                // this.poker.children[i].opacity = 255;\r\n                // this.poker.children[i].color=new Color(255,255,255,255);\r\n                this.poker.children[i].getComponent(PDK_Card).select.active = false;\r\n\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n   //by_009:触摸时处理\r\n    touchIngDispose(node:Node) {\r\n       // console.log(\"触摸时处理\");\r\n\r\n       // if(node.opacity==180){\r\n       //     node.opacity=255;\r\n       // }else {\r\n       //     node.opacity=180;\r\n       // }\r\n\r\n       // node.color = new Color(180, 180, 180, 255);\r\n        node.getComponent(PDK_Card).select.active = true;\r\n    }\r\n   //by_009:触摸结束处理\r\n    touchResult() {\r\n       // console.log(\"触摸结果处理\");\r\n        for (let i = this.poker.children.length - 1; i >= 0; i--) {\r\n            let pokeNode = this.poker.children[i];\r\n            let poker = pokeNode.getComponent(PDK_Card);\r\n            if (poker.select.active) {\r\n                poker.select.active = false;\r\n                Tween.stopAllByTarget(pokeNode);\r\n                let x = pokeNode.x;\r\n                if (poker.isSelected) {\r\n                    poker.isSelected = false;\r\n                    // 创建移动动画\r\n                    tween(pokeNode)\r\n                    .to(0.2, { position: new Vec3(x, 0, 0) }, { easing: easing.backOut })\r\n                    .start();\r\n                }\r\n                else {\r\n                    poker.isSelected = true;\r\n                    // 创建移动动画\r\n                    tween(pokeNode)\r\n                    .to(0.2, { position: new Vec3(x, 20, 0) }, { easing: easing.backOut })\r\n                    .start();\r\n                }\r\n            }\r\n        }\r\n        this.checkChupaiBtns();\r\n        this.startTouchPoker = null;\r\n    }\r\n    private putAllCardBack() {\r\n        for (let i = 0; i < this.poker.children.length; i++) {\r\n            let poker = this.poker.children[i].getComponent(PDK_Card);\r\n            if (poker.isSelected) {\r\n                poker.select.active = false;\r\n                poker.node.y = 0;\r\n                poker.isSelected = false;\r\n            }\r\n        }\r\n        this.checkChupaiBtns();\r\n    }\r\n    private checkChupaiBtns() {\r\n        PDK_Game.ins.checkChupaiBtnUseable();\r\n    }\r\n   // update (dt) {}\r\n}\r\n","import { Tween } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { _decorator, Component, Sprite, SpriteFrame } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PDKEmojiComp')\r\nexport default class PDK_EmojiComp extends Component {\r\n    private m_sprite: Sprite;\r\n    private m_assets: SpriteFrame[];\r\n    private m_totalIndex: number = 0;\r\n    private m_currentIndex: number = 0;\r\n    private m_isAnim: boolean = false;\r\n    private m_deltaTime:number = 0;\r\n    private SWITCH_IMG_TIME: number = 0.2;\r\n    onLoad() {\r\n        if (this.m_sprite == null) {\r\n            this.m_sprite = this.node.getComponent(Sprite);\r\n        }\r\n    }\r\n    public startFrameAnimation(assets: SpriteFrame[]) {\r\n        this.getSprite();\r\n        if (this.m_sprite == null) return;\r\n        this.m_assets = assets;\r\n        this.m_totalIndex = assets.length;\r\n        this.m_currentIndex = 0;\r\n        this.m_deltaTime = 0;\r\n        this.m_isAnim = true;\r\n        this.m_sprite.spriteFrame = assets[0];\r\n        this.node.active = true;\r\n        this.node.opacity = 0;\r\n        // 停止当前节点上的所有 tween 动画\r\n        Tween.stopAllByTarget(this.node);\r\n\r\n        // 创建淡入动画\r\n        tween(this.node)\r\n           .to(0.2, { opacity: 255 })\r\n           .start();\r\n    }\r\n    update(dt: number) {\r\n        if (this.m_isAnim) {\r\n        if (this.m_sprite == null) return;\r\n        this.m_deltaTime += dt;\r\n        if (this.m_deltaTime >= this.SWITCH_IMG_TIME) {\r\n        this.m_deltaTime = 0;\r\n        this.m_currentIndex ++;\r\n        if (this.m_currentIndex != this.m_totalIndex) {\r\n        this.m_sprite.spriteFrame = this.m_assets[this.m_currentIndex];\r\n        }\r\n        else {\r\n        this.onCompleteAnim();\r\n        }\r\n        }\r\n        }\r\n    }\r\n    private onCompleteAnim() {\r\n        this.node.active = false;\r\n        this.m_isAnim = false;\r\n    }\r\n    private getSprite() {\r\n        if (this.m_sprite == null) {\r\n        this.m_sprite = this.node.getComponent(Sprite);\r\n        }\r\n    }\r\n}\r\n","import { _decorator, Component, Sprite, Animation, Vec2 } from 'cc';\r\nimport Utils from '../../kernel/Utils';\r\nimport { AnimationClip } from 'cc';\r\nimport { Vec3 } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { Tween } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\n@ccclass('PDKFlyGold')\r\nexport default class PDK_FlyGold extends Component {\r\n    private m_sprite:Sprite | null = null;\r\n    private m_animation: Animation | null = null;\r\n    private m_flySpeed:number = 1000;\r\n    private m_selfPos: Vec2 | null = null;\r\n    private m_targetPos: Vec2 | null = null\r\n    onLoad () {\r\n        this.m_sprite = this.node.getComponent(Sprite);\r\n        this.m_sprite.enabled = false;\r\n\r\n        this.m_animation = this.node.getComponent(Animation);\r\n    }\r\n    public init(x: number, y: number, targetx:number, targety:number) {\r\n\r\n        this.m_selfPos = new Vec2();\r\n        this.getRandomPos(x, y, this.m_selfPos);\r\n        this.node.setPosition(x, y);\r\n        this.m_targetPos = new Vec2(targetx, targety);\r\n\r\n        let delay:number = Utils.randomRange(0.01, 0.3);\r\n        this.scheduleOnce(this.startAni, delay);\r\n    }\r\n    private startAni() {\r\n        this.m_sprite.enabled = true;\r\n        this.m_animation.defaultClip.wrapMode = AnimationClip.WrapMode.Loop;\r\n        this.readyPosition();\r\n    }\r\n    private readyPosition() {\r\n        this.node.opacity = 0;\r\n        // 停止当前节点上的所有 tween 动画\r\n        Tween.stopAllByTarget(this.node);\r\n\r\n        // 创建移动动画\r\n        const moveTween = tween(this.node)\r\n           .to(0.5, { position: new Vec3(this.m_selfPos.x,this.m_selfPos.y) });\r\n\r\n        // 创建淡入动画\r\n        const fadeInTween = tween(this.node)\r\n           .to(0.5, { opacity: 255 });\r\n\r\n        // 顺序执行移动动画和回调函数\r\n        moveTween.call(() => {\r\n                const flyDelay = Utils.randomRange(0.1, 0.3);\r\n                setTimeout(() => {\r\n                    this.startFly();\r\n                }, flyDelay * 1000);\r\n            })\r\n           .start();\r\n\r\n        // 同时执行淡入动画\r\n        fadeInTween.start();\r\n    }\r\n    private startFly() {\r\n        this.m_animation.play();\r\n        const distance = Vec2.distance(this.m_targetPos, this.m_selfPos);\r\n        const time = distance / this.m_flySpeed;\r\n\r\n        // 创建飞行动画\r\n        tween(this.node)\r\n           .to(time, { position: new Vec3(this.m_targetPos.x,this.m_targetPos.y) }, { easing: easing.quadInOut })\r\n           .call(() => {\r\n                this.onFlyComplete();\r\n            })\r\n           .start();\r\n    }\r\n    private onFlyComplete() {\r\n        if (this.node.isValid) {\r\n            this.node.active = false;\r\n            this.node.destroy();\r\n        }\r\n    }\r\n    private getRandomPos(x, y, outVec2: Vec2) {\r\n        outVec2.x = Utils.randomRange(x - 100, x + 100);\r\n        outVec2.y = Utils.randomRange(y - 100, y + 100);\r\n    }\r\n}","import { PokerManager } from './../../module_basic/scripts/poker/PokerManager';\r\nimport { GameTool } from './../kernel/GD';\r\nimport { _decorator, Component, Node, Prefab, Label, Color, UITransform } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport PDK_Card from \"./PDK_Card\";\r\nimport { gameConst, gameEvent, gameExpressionEvent } from \"./PDK_define\";\r\nimport PDK_Player from \"./PDK_Player\";\r\nimport PDK_Result from \"./PDK_Result\";\r\nimport PDK_RoomConfig from \"./PDK_RoomConfig\";\r\nimport TienlenLogic from \"./PDK_GameLogic\";\r\nimport PDK_BattleData from \"./data/PDK_BattleData\";\r\nimport PDK_PlayerSoundHelper from \"./misc/PDK_PlayerSoundHelper\";\r\nimport PDK_GameEndPerformanceHelper from \"./misc/PDK_GameEndPerformanceHelper\";\r\nimport { CARD_TYPE } from \"./PDK_ConstDef\";\r\nimport { LanguageConfigContainer } from './Conifg/LanguageConfigContainer';\r\nimport { ConfigManager } from './ConfigManager';\r\nimport { Button } from 'cc';\r\nimport { find } from 'cc';\r\nimport GameTools from '../kernel/GameTools';\r\nimport { GD } from '../kernel/GD';\r\nimport { instantiate } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { math } from 'cc';\r\nimport { Vec3 } from 'cc';\r\nimport { Tween } from 'cc';\r\nimport EventCenter from '../kernel/EventCenter';\r\nimport OnGameSyncPlayerGold from '../kernel/OnGameSyncPlayerGold';\r\nimport { GlobalConfigContainer } from './Conifg/GlobalConfigContainer';\r\nimport { director } from 'cc';\r\nimport { ResourceMgr } from '../../core_tgx/base/ResourceMgr';\r\nimport { ModuleDef } from '../../scripts/ModuleDef';\r\nimport { ProgressBar } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { LabelOutline } from 'cc';\r\nimport { RoomData, UserInfo } from '../../module_basic/scripts/poker/PokerManager';\r\nimport { PokerEventMessage, ROOM_STATUS } from '../../module_basic/scripts/poker/PokerDefine';\r\nimport { UserMgr } from '../../module_basic/scripts/UserMgr';\r\nimport { RoomMgr } from '../../module_basic/scripts/RoomMgr';\r\nimport { Animation } from 'cc';\r\nimport { AnimationClip } from 'cc';\r\nimport { AudioControl } from './AudioControl';\r\nimport { MsgBombScore } from '../../module_basic/shared/protocols/public/tienlen/MsgBombScore';\r\nimport { EventMessage } from './message/Define';\r\nimport { GameData, GameEndData, GameManager, GamePlayCard, GamePlayPass, GameStartData, RoomGoldChange, UserResultData,UserGameInfo } from './message/GameManager';\r\nimport { PokerUtils } from './message/PokerUtils';\r\nimport { SubGameMessage } from '../../module_basic/scripts/SubGameMessage';\r\nimport { LanguageData } from 'db://assets/module_basic/scripts/language/LanguageData';\r\n\r\n@ccclass('PDKGame')\r\nexport default class PDK_Game extends Component {\r\n    public static ins: PDK_Game;\r\n    @property(PDK_Player)\r\n    playerScript: PDK_Player[] = [];\r\n    @property(Node)\r\n    cardPool: Node | null = null;\r\n    @property(Prefab)\r\n    cardPrefab: Prefab | null = null;\r\n    @property(Node)\r\n    roundCountDown: Node | null = null;\r\n    @property(Node)\r\n    clock: Node | null = null;\r\n    @property(Node)\r\n    operateMenu: Node | null = null;\r\n    @property(Node)\r\n    idleOperateMenu: Node | null = null;\r\n    @property(Node)\r\n    btn_ready: Node | null = null;\r\n    @property(Prefab)\r\n    setting: Prefab | null = null;\r\n    @property(Prefab)\r\n    panelGameResult: Prefab | null = null;\r\n    @property(Label)\r\n    lblDestTitle: Label | null = null;\r\n    @property(Label)\r\n    lblDeskBg: Label | null = null;\r\n    sortType = 1;\r\n    GameLogic = new TienlenLogic();\r\n    countDownTime: number = -1;\r\n    countDownTotal: number = 15;\r\n    private m_btnSort: Node | null = null;\r\n    private m_sorting: boolean = false;\r\n    private m_gameEndPerformanceHelper: PDK_GameEndPerformanceHelper = new PDK_GameEndPerformanceHelper();\r\n    private m_prevCards: any = null;\r\n    private m_enableColor: Color = new Color(255, 255, 255);\r\n    private m_disableColor: Color = new Color(128, 128, 128);\r\n    onLoad() {\r\n        tgx.UIMgr.inst.closeAll();\r\n        PDK_Game.ins = this;\r\n        \r\n        this.operateMenu.active = false;\r\n        this.idleOperateMenu.active = false;\r\n        this.m_btnSort = this.node.getChildByName(\"btn_sort\");\r\n        this.m_btnSort.active = false;\r\n\r\n        let btns = this.node.getComponentsInChildren(Button);\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].node.on(Node.EventType.TOUCH_END, this.onBtnClick, this);\r\n        }\r\n    \r\n\r\n        let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let lbl = find(\"btn_buChu/label\", this.operateMenu).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10247);\r\n\r\n        lbl = find(\"btn_buChu_1/label\", this.operateMenu).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10247);\r\n\r\n        lbl = find(\"btn_chuPai/label\", this.operateMenu).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10248);\r\n\r\n        lbl = find(\"btn_ready/label\", this.idleOperateMenu).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10249);\r\n\r\n       // let btn_chuPai = this.operateMenu.getChildByName(\"btn_chuPai\");\r\n       // btn_chuPai.getComponent(Button).enableAutoGrayEffect = true;\r\n\r\n    }\r\n    start() {\r\n       // 显示走马灯\r\n        this.showNotice();\r\n       // 显示积分\r\n        //this.showJackpot();\r\n        \r\n        AudioControl.playBGM();\r\n\r\n        director.on(EventMessage.POKER_ROOM_INFO,this.onRoomBack,this);\r\n        director.on(EventMessage.POKER_GAME_START,this.onGameStart,this);\r\n        director.on(PokerEventMessage.POKER_USER_LEAVE_ROOM,this.onEventUserLeave,this);\r\n        director.on(PokerEventMessage.POKER_USER_ENTER_ROOM,this.onEventUserEnter,this);\r\n        director.on(EventMessage.POKER_GAME_END,this.onGameEnd,this);\r\n        director.on(EventMessage.POKER_USER_PLAY,this.onUserPlay,this);\r\n        director.on(EventMessage.POKER_USER_PASS,this.onUserPass,this);\r\n        director.on(EventMessage.POKER_ROOM_GOLD_CHANGE,this.onRoomGoldChange,this);\r\n        director.on(PokerEventMessage.POKER_USER_STATUS_CHANGE,this.onUserStatusChange,this);\r\n        director.on(EventMessage.POKER_BOMB_SCORE,this.onS_BOMB,this);\r\n        director.on(SubGameMessage.EnterSubGameRoomSuccess,this.reStart,this);\r\n\r\n        PokerManager.inst.start();\r\n    }\r\n    init()\r\n    {\r\n        this.operateMenu.active = false;\r\n        this.idleOperateMenu.active = false;\r\n        this.m_btnSort = this.node.getChildByName(\"btn_sort\");\r\n        this.m_btnSort.active = false;\r\n        for (let i = 0; i < this.playerScript.length; i++) {\r\n\r\n            this.playerScript[i].initPlayerInfo(null);\r\n        }\r\n    }\r\n    onDestroy() {\r\n        PDK_BattleData.instance().onGameExit();\r\n        this.m_gameEndPerformanceHelper.release();\r\n        this.m_gameEndPerformanceHelper = null;\r\n        director.off(EventMessage.POKER_ROOM_INFO,this.onRoomBack,this);\r\n        director.off(EventMessage.POKER_GAME_START,this.onGameStart,this);\r\n        director.off(PokerEventMessage.POKER_USER_LEAVE_ROOM,this.onEventUserLeave,this);\r\n        director.off(PokerEventMessage.POKER_USER_ENTER_ROOM,this.onEventUserEnter,this);\r\n        director.off(EventMessage.POKER_GAME_END,this.onGameEnd,this);\r\n        director.off(EventMessage.POKER_USER_PLAY,this.onUserPlay,this);\r\n        director.off(EventMessage.POKER_USER_PASS,this.onUserPass,this);\r\n        director.off(EventMessage.POKER_ROOM_GOLD_CHANGE,this.onUserStatusChange,this);\r\n        director.off(PokerEventMessage.POKER_USER_STATUS_CHANGE,this.onUserStatusChange,this);\r\n        director.off(EventMessage.POKER_BOMB_SCORE,this.onS_BOMB,this);\r\n        director.off(SubGameMessage.EnterSubGameRoomSuccess,this.reStart,this);\r\n    }\r\n    reStart()\r\n    {\r\n        this.init();\r\n        RoomMgr.inst.rpc_ClientReady();\r\n    }\r\n    onReplay(data) { }\r\n    onGotRoomInfo(data:GameData) {\r\n        let langConfig: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n\r\n        // 1 算张数 2 1打3\r\n        this.lblDestTitle.string = langConfig.getLangById(10010);\r\n\r\n       // 金币场时serialNumber有值\r\n        if (data.serialNumber != undefined) {\r\n           // 金币场或快速开始\r\n            this.lblDeskBg.string = langConfig.getLangById(10812) + \":\" + GameTools.nFormatter(data.serialNumber);\r\n\r\n        }\r\n        else \r\n        {\r\n            let node = find(\"info/bg\", this.node);\r\n            node.active = false;\r\n            this.lblDeskBg.node.active = false;\r\n        }\r\n        // this.createJackpot();\r\n    }\r\n    getSeatInfo(data:GameData) {\r\n        for (let i = 0; i < this.playerScript.length; i++) {\r\n            let user:UserInfo = PokerManager.inst.getTableUserItem(i);\r\n            if (!user)\r\n            {\r\n                continue;\r\n            }\r\n            let seatID = PokerUtils.getRelativeSeatID(user.chairID, PokerManager.inst.myChairID);\r\n            this.playerScript[seatID].initPlayerInfo(user);\r\n        }\r\n    }\r\n    \r\n   \r\n    \r\n//    // 炸分\r\n    onS_BOMB(data: MsgBombScore) {\r\n        this.showBombAni(data);\r\n    }\r\n    \r\n    public deactiveWhenRoundEnd() {\r\n        this.operateMenu.active = false\r\n        this.idleOperateMenu.active = false;\r\n        this.m_btnSort.active = false;\r\n        this.activeClock(false);\r\n        this.roundCountDown.active = false;\r\n    }\r\n    public showIdleOperateMenu() {\r\n        if (this.idleOperateMenu != null && this.idleOperateMenu.isValid) {\r\n        this.idleOperateMenu.active = true;\r\n        }\r\n    }\r\n    public clearCardPool() {\r\n        if (this.cardPool != null && this.cardPool.isValid) {\r\n        this.cardPool.destroyAllChildren();\r\n        this.cardPool.removeAllChildren();\r\n        }\r\n    }\r\n    public playSelfWinLoseSond(data: GameEndData) {\r\n        let { userData} = data;\r\n        if (userData == null) return;\r\n       // 胜利音效\r\n        let isSelfWin: boolean = false;\r\n        for (let i = 0; i < userData.length; i++) {\r\n            let data: UserResultData = userData[i];\r\n            if (i == PokerManager.inst.myChairID) {\r\n                isSelfWin = data.isWinner;\r\n                break;\r\n            }\r\n        }\r\n        if (isSelfWin) {\r\n            // if (data.bigData != null) {\r\n            //     // 总结算\r\n            //     PDK_PlayerSoundHelper.playSoundUrl(\"sound/fangjian_win\");\r\n            // }\r\n            // else {\r\n                //小结算\r\n                PDK_PlayerSoundHelper.playSoundUrl(\"sound/biwin\");\r\n            // }\r\n        }\r\n        else {\r\n            // if (data.bigData != null) {\r\n            //     // 总结算\r\n            //     PDK_PlayerSoundHelper.playSoundUrl(\"sound/fangjian_lose\");\r\n            // }\r\n            // else {\r\n                //小结算bilose\r\n                PDK_PlayerSoundHelper.playSoundUrl(\"sound/bilose\");\r\n            // }\r\n        }\r\n    }\r\n    \r\n    onEventSyncPlayerGold(arr: OnGameSyncPlayerGold[]) {\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let data: OnGameSyncPlayerGold = arr[i];\r\n            if (data != null) {\r\n                let seatID = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n                this.playerScript[seatID].syncPlayerData(data);\r\n            }\r\n        }\r\n    }\r\n    UserOnlineOffline(userItem) {\r\n\r\n    }\r\n    \r\n    onUserGetExtraReward(rewardData) {\r\n        const {rewardList} = rewardData;\r\n        PDK_BattleData.instance().extraRewardData = rewardData;\r\n    }\r\n//    // 获取记牌器数据\r\n    // onEventCardRecorder(data: S_CARD_RECORDER) {\r\n    //     if (data != null && data.cards != null) {\r\n    //         PDK_BattleData.instance().recordOutCards(data.cards);\r\n    //     }\r\n    // }\r\n    getAllCard() {\r\n        let p = [];\r\n        let shouPai = this.playerScript[0].shouPai;\r\n        for (let i = 0; i < shouPai.children.length; i++) {\r\n            p.push(shouPai.children[i].getComponent(PDK_Card).cardID);\r\n        }\r\n        return p;\r\n    }\r\n    getBounceCard() {\r\n        let arr = [];\r\n        for (let i = 0; i < this.playerScript[0].shouPai.children.length; i++) {\r\n            let poker = this.playerScript[0].shouPai.children[i].getComponent(PDK_Card);\r\n            if (poker.isSelected) {\r\n                arr.push(poker.cardID);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n    setCountDown(seatID, time = 15) {\r\n        let player: PDK_Player = this.playerScript[seatID];\r\n        if (player == null) return;   \r\n        this.activeClock(true, seatID == 0);    // 自己需要动画\r\n        this.clock.parent = player.clockPos;\r\n        this.clock.setPosition(0, 0);\r\n        this.countDownTime = time;\r\n        this.countDownTotal = time;\r\n        this.roundCountDown.active = false;\r\n        \r\n    }\r\n    showReadyBtn(isShow: boolean) {\r\n        if (isShow) {\r\n            let clockPos = this.idleOperateMenu.getChildByName(\"clockPos\");\r\n            \r\n            clockPos.active = true;\r\n\r\n            let globalConfig: GlobalConfigContainer = ConfigManager.getInstance().getConfig(GlobalConfigContainer);\r\n            let time = globalConfig.getDataByConfigId(10016);\r\n            this.countDownTime = time;\r\n            this.countDownTotal = time;\r\n            this.activeClock(true, true);\r\n            this.clock.parent = clockPos;\r\n            this.clock.setPosition(0, 0);\r\n\r\n            \r\n        }\r\n        else\r\n        {\r\n            let clockPos = this.idleOperateMenu.getChildByName(\"clockPos\");\r\n            \r\n            clockPos.active = false;\r\n        }\r\n\r\n        this.btn_ready.active = isShow;\r\n\r\n    }\r\n//    // setClock(seatID, time = 15) {\r\n//    //     this.clock.active = true;\r\n//    //     let newVec2 = this.playerScript[seatID].clockPos.convertToWorldSpaceAR(v2(0, 0));\r\n//    //     let Vec2 = this.clock.parent.convertToNodeSpaceAR(newVec2);\r\n//    //     this.clock.position = Vec2;\r\n//    //     let clockLabel = this.clock.children[0].getComponent(Label);\r\n//    //     director.getScheduler().unscheduleAllForTarget(clockLabel);\r\n//    //     clockLabel.schedule(() => {\r\n//    //         clockLabel.string = time + \"\";\r\n//    //         time--;\r\n//    //         if (time == -1) {\r\n//    //             director.getScheduler().unscheduleAllForTarget(clockLabel);\r\n//    //         }\r\n//    //     }, 1, time, 0.01)\r\n//    // }\r\n    private startBattleSort() {\r\n        if (this.m_btnSort != null) {\r\n            this.m_btnSort.active = true;\r\n            this.m_btnSort.opacity = 0;\r\n            Tween.stopAllByTarget(this.m_btnSort);\r\n            this.sortCard();\r\n        }\r\n    }\r\n    sortCard() {\r\n        this.m_sorting = true;\r\n\r\n        let playerNode = this.playerScript[0];\r\n        if (!playerNode) return;\r\n\r\n        let player:PDK_Player = playerNode.getComponent(PDK_Player);\r\n        if (!player || player.userId !== UserMgr.inst.uid) return;\r\n\r\n        let shouPaiNode = player.shouPai;\r\n        if (!shouPaiNode) return;\r\n\r\n        // 停止当前节点上的所有 tween 动画\r\n        Tween.stopAllByTarget(shouPaiNode);\r\n\r\n        // 创建缩小动画\r\n        const scaleSmallTween = tween(shouPaiNode)\r\n           .to(0.2, { scale: new Vec3(0, 1, 1) }, { easing: easing.quartIn });\r\n\r\n        // 创建恢复正常大小动画\r\n        const scaleNormalTween = tween(shouPaiNode)\r\n           .to(0.2, { scale: new Vec3(1, 1, 1) }, { easing: easing.backOut });\r\n\r\n        // 组合动画序列\r\n        tween(shouPaiNode)\r\n           .then(scaleSmallTween)\r\n           .call(() => this.doSortCard())\r\n           .then(scaleNormalTween)\r\n           .call(() => this.onSortCardComplete())\r\n           .start();\r\n    }\r\n    private doSortCard() {\r\n        let allCard = this.getAllCard();\r\n        let sortArr = null;\r\n\r\n        if (this.sortType == 2 || this.sortType == 0) {\r\n        this.sortType = 1;\r\n        sortArr = this.GameLogic.sort(allCard);\r\n        console.log(sortArr);\r\n        }\r\n        else if (this.sortType == 1) {\r\n        this.sortType = 2;\r\n        sortArr = this.GameLogic.sortByCardType(allCard);\r\n        console.log(sortArr);\r\n        }\r\n        if (sortArr != null) {\r\n        this.playerScript[0].fillShouPai(sortArr);\r\n        }\r\n        EventCenter.emitEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK);\r\n    }\r\n    private onSortCardComplete() {\r\n        this.m_sorting = false;\r\n    }\r\n    onBtnClick(event) {\r\n       AudioControl.playClick();\r\n        let name = event.currentTarget.name;\r\n        switch (name) {\r\n            case \"btn_sort\":\r\n                // AudioControl.playClick();\r\n                this.sortCard();\r\n                break;\r\n            case \"btn_buChu\":\r\n            case \"btn_buChu_1\":\r\n                // AudioControl.playClick();\r\n                // SGNetKernel.instance().sendGameMsg(SubGameMSG.C_PASS, {});\r\n                GameManager.inst.onPass();\r\n                break;\r\n            case \"btn_hint\"://提示\r\n                    // console.log(\"提示hintArray\", this.hintArray);\r\n                    // if (this.hintArray.length == 0) {\r\n                    //     GameTool.showTextTips(\"没有可出的牌\");\r\n                    //     SGNetKernel.instance().sendGameMsg(SubGameMSG.SUB_C_PASS_CARD, {});\r\n                    //     return\r\n                    // }\r\n                    // this.assignCardBounce(this.hintArray[this.hintIndex]);\r\n                    // this.hintIndex++;\r\n                    // if (this.hintIndex == this.hintArray.length) {\r\n                    //     this.hintIndex = 0;\r\n                    // }\r\n            break;\r\n            case \"btn_chuPai\"://出牌\r\n                let pai = this.getBounceCard();\r\n                if (pai.length > 0) {\r\n                    GameManager.inst.onPlay(pai);\r\n                }\r\n                break;\r\n            break;\r\n            case \"btn_setting\":\r\n                let set = instantiate(this.setting);\r\n                director.getScene().children[0].addChild(set);\r\n                set.setPosition(new Vec3(0, 0));\r\n                break;\r\n            case \"btn_dissolve\"://退出\r\n                //SGNetKernel.instance().dismissGame();\r\n                break;\r\n            case \"btn_set\":\r\n                GameTool.createPanel(\"gandengyan/panel/panel_set\");\r\n                break;\r\n            case \"btn_location\"://定位\r\n                    // let GPS_Prefab = instantiate(this.GPS_Prefab);\r\n                    // GPS_Prefab.parent = find(\"Canvas\");\r\n            break;\r\n            case \"btn_message\":\r\n                // AudioControl.playClick();\r\n                GameTool.createPanel(\"pdk/pdk_chat_menu\");\r\n                break;\r\n            case \"btn_ready\":\r\n                // AudioControl.playClick();\r\n                PokerManager.inst.onReady();\r\n                break;\r\n            case \"record_machine_btn\":\r\n                EventCenter.emitEvent(gameExpressionEvent.SHOW_RECORDER_MACHINE);\r\n                break;\r\n            case \"btn_exit\":\r\n                 tgx.UIAlert.show(LanguageData.getLangByID(\"exit_game\"), true).onClick(async (ok: Boolean) => {\r\n                        if (ok) {\r\n                            tgx.AudioMgr.inst.audio.clearAll();\r\n                            RoomMgr.inst.exitRoom();\r\n                        }\r\n                    });\r\n                break;\r\n            default:\r\n                console.error(\"待处理名：\", name);\r\n                break;\r\n        }\r\n    }\r\n    private clearAllChuPai() {\r\n        for (let i = 0; i < this.playerScript.length; i++) {\r\n            let player: PDK_Player = this.playerScript[i];\r\n            if (player != null) {\r\n                player.resetChuPai();\r\n            }\r\n        }\r\n    }\r\n    public clearAllPassMark() {\r\n        for (let i = 0; i < this.playerScript.length; i++) {\r\n            let player: PDK_Player = this.playerScript[i];\r\n            if (player != null) {\r\n                player.showPass(false);\r\n            }\r\n        }\r\n    }\r\n    private createCardRecorder() {\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,\"pdk/pdk_card_recorder\", Prefab, (err, prefab) => {\r\n            if (err) {\r\n                console.error(err);\r\n                return\r\n            }\r\n            if (this.node.isValid) {\r\n                let node = instantiate(prefab);\r\n                let root = this.node.getChildByName(\"recorder_root\");\r\n                root.addChild(node);\r\n                node.active = true;\r\n                }\r\n            });\r\n    }\r\n    private showJackpot() {\r\n        // NetHelp.getJackpot(this.createJackpot.bind(this));\r\n    }\r\n    private createJackpot() {\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,\"pdk/pdk_jackpot\", Prefab, (err, prefab) => {\r\n            if (err) {\r\n            console.error(err);\r\n            return\r\n            }\r\n            if (this.node.isValid) {\r\n            let node = instantiate(prefab);\r\n            let root = this.node.getChildByName(\"jackpot_root\");\r\n            root.addChild(node);\r\n            node.active = true;\r\n            }\r\n        });\r\n    }\r\n    private showNotice() {\r\n        // let noticeRoot = this.node.getChildByName(\"notice_root\");\r\n        // loader.loadRes(\"hall/prefab/notice_pdk\", Prefab, (err, prefab) => {\r\n        // if (err) {\r\n        // console.error(err);\r\n        // return\r\n        // }\r\n        // if (noticeRoot.isValid) {\r\n        // let noticeNode: Node = instantiate(prefab);\r\n        // noticeRoot.addChild(noticeNode);\r\n        // noticeNode.setPosition(0, 0);\r\n        // }\r\n        // });\r\n    }\r\n    private activeClock(isActive: boolean, isAni:boolean = false) {\r\n        let ani = this.clock.getComponent(Animation);\r\n        ani.stop();\r\n\r\n        Tween.stopAllByTarget(this.clock);\r\n        this.clock.active = isActive;\r\n        this.clock.setRotationFromEuler(0, 0, 0)\r\n        if (isActive && isAni) {\r\n            this.clock.setScale(0, 0, 0);\r\n            this.clock.opacity = 0;\r\n            tween(this.clock)\r\n              .to(0.5, { scale: new Vec3(1, 1, 1) }, { easing: easing.backOut })\r\n              .parallel(\r\n                    tween(this.clock)\r\n                      .to(0.2, { opacity: 255 })\r\n                )\r\n              .start();\r\n        }\r\n        else {\r\n            this.clock.opacity = 255;\r\n            this.clock.setScale(1, 1, 1);\r\n        }\r\n    }\r\n    private shockClock() {\r\n        let ani = this.clock.getComponent(Animation);\r\n        let state = ani.play();\r\n        ani.defaultClip.wrapMode = AnimationClip.WrapMode.Loop;\r\n    }\r\n    private showBombAni(data: MsgBombScore) {\r\n       // 显示炸弹特效\r\n        EventCenter.emitEvent(gameExpressionEvent.SHOW_BOMB);\r\n        let { scoreRecords } = data;\r\n       // 飞金币\r\n        let dstPlayer: PDK_Player = null;\r\n        let srcPlayer: PDK_Player = null;\r\n        let addScore: number = 0;\r\n        let subScore: number = 0;\r\n        let seat: number = -1;\r\n        for (let i = 0; i < scoreRecords.length; i++) {\r\n            let record = scoreRecords[i];\r\n            let chairID = record.chairID;\r\n            let score = record.score;\r\n            let seatID = PokerUtils.getRelativeSeatID(chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.playerScript[seatID];\r\n            if (player == null) continue;\r\n            if (score > 0) {\r\n                dstPlayer = player;\r\n                addScore = score;\r\n                seat = seatID;\r\n            }\r\n            else {\r\n                srcPlayer = player;\r\n                subScore = score;\r\n            }\r\n            }\r\n            if (dstPlayer != null && srcPlayer != null && seat != -1) {\r\n                dstPlayer.showHeadScoreAni(addScore);\r\n                srcPlayer.showHeadScoreAni(subScore);\r\n                srcPlayer.showGoldFly(seat);\r\n                let soundUrl: string = \"sound/coin_fly\"; // 飞金币音效\r\n                PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n                this.scheduleOnce(() => {\r\n                if (dstPlayer != null && dstPlayer.node.isValid && PDK_BattleData.instance().isInBattle) {\r\n                dstPlayer.headAni.showGoldFall();\r\n                }\r\n            }, 2);\r\n            dstPlayer.headAni.hideScoreAni(5);\r\n            srcPlayer.headAni.hideScoreAni(5);\r\n        }\r\n    }\r\n    private playCountDown(count) {\r\n        let soundUrl = \"sound/\" + count + \"s\";\r\n        PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n    }\r\n    checkChupaiBtnDisplay(data: GamePlayCard): boolean {\r\n        let { prevCards } = data;\r\n        let myCards: number[] = this.getAllCard();\r\n        let btn_chuPai = this.operateMenu.getChildByName(\"btn_chuPai\");\r\n        let bRet = false;\r\n        if (prevCards != null) {\r\n            let canChupai = this.GameLogic.checkCanPlayCards(myCards, prevCards);\r\n            btn_chuPai.active = canChupai;\r\n            bRet = canChupai;\r\n        }\r\n        else {\r\n            btn_chuPai.active = true;\r\n            bRet = true;\r\n        }\r\n        return bRet;\r\n    }\r\n    checkChupaiBtnUseable() {\r\n        let cards: number[] = this.getBounceCard();\r\n        let btn_chuPai = this.operateMenu.getChildByName(\"btn_chuPai\");\r\n        if (btn_chuPai == null || !btn_chuPai.active) return;\r\n\r\n        let lbl = btn_chuPai.getChildByName(\"label\");\r\n        let outline = lbl.getComponent(LabelOutline);\r\n        if (this.m_prevCards != null) {\r\n            let valid = this.GameLogic.checkValidCardType(cards, this.m_prevCards) > CARD_TYPE.NULL;\r\n            let canChupai = this.GameLogic.checkCanPlayCards(cards, this.m_prevCards);\r\n            let isBigger = valid && canChupai\r\n            if (isBigger) {\r\n                btn_chuPai.color = this.m_enableColor;\r\n                lbl.color = this.m_enableColor;\r\n                if (!outline.enabled) {\r\n                    outline.enabled = true;\r\n                }\r\n            }\r\n            else {\r\n                btn_chuPai.color = this.m_disableColor;\r\n                lbl.color = this.m_disableColor;\r\n                if (outline.enabled) {\r\n                    outline.enabled = false;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            btn_chuPai.color = this.m_enableColor;\r\n            lbl.color = this.m_enableColor;\r\n            if (!outline.enabled) {\r\n                outline.enabled = true;\r\n            }\r\n        }\r\n    }\r\n    update(dt) {\r\n        if (this.roundCountDown.active) {\r\n            if (this.countDownTime > 0) {\r\n                this.countDownTime -= dt;\r\n                this.roundCountDown.getComponent(ProgressBar).progress = this.countDownTime / this.countDownTotal;\r\n            } else {\r\n                this.countDownTime = this.countDownTotal;\r\n                this.roundCountDown.getComponent(ProgressBar).progress = 1;\r\n            }\r\n            }\r\n            else if (this.clock.active) {\r\n                if (this.countDownTime > 0) {\r\n                    let nowDt = this.countDownTime - dt;\r\n                    if (this.countDownTime > 3 && nowDt <= 3) {\r\n                    this.shockClock();\r\n                    this.playCountDown(3);\r\n                }\r\n                else if (this.countDownTime > 2 && nowDt <= 2) {\r\n                    this.playCountDown(2);\r\n                }\r\n                else if (this.countDownTime > 1 && nowDt <= 1) {\r\n                    this.playCountDown(1);\r\n                }\r\n                this.countDownTime = nowDt;\r\n                this.clock.getChildByName(\"label\").getComponent(Label).string = Math.ceil(this.countDownTime).toString();\r\n                }\r\n            else {\r\n                this.countDownTime = this.countDownTotal;\r\n                this.clock.getChildByName(\"label\").getComponent(Label).string = '0';\r\n            }\r\n        }\r\n    }\r\n\r\n    private onRoomBack(data:GameData):void\r\n    {\r\n        this.onGotRoomInfo(data);        \r\n        this.getSeatInfo(data);\r\n        this.showReadyBtn(false);\r\n        \r\n        if (GameManager.inst.roomData.roomStatus == ROOM_STATUS.IDLE || GameManager.inst.roomData.roomStatus == ROOM_STATUS.WAITING) { // 空闲状态\r\n            console.log('------- 空闲/等待状态 -----------');\r\n            this.idleOperateMenu.active = true;\r\n            var myUserInfo:UserInfo = PokerManager.inst.getUserInfoByID(UserMgr.inst.uid);\r\n            if(myUserInfo)\r\n            {\r\n                this.showReadyBtn(false);\r\n            }\r\n            PokerManager.inst.onReady();\r\n        }\r\n        else\r\n        {\r\n            for (var i = 0; i < data.userList.length; i++) {\r\n                let userSeatID = PokerUtils.getRelativeSeatID(data.userList[i].chairID, PokerManager.inst.myChairID);\r\n                if (userSeatID != 0) {\r\n                       // 玩家自己不展示剩余牌数\r\n                    this.playerScript[userSeatID].setCardCount(data.userList[i].userCardCount, true);\r\n                }\r\n                else\r\n                {\r\n                    this.playerScript[0].shouPai.removeAllChildren();\r\n                    var myCards:number[] = data.userList[i].cards;\r\n                    for (var j = 0; j < myCards.length; j++) {\r\n                        let cardTemp = instantiate(this.cardPrefab);\r\n                        cardTemp.setParent(this.playerScript[0].shouPai);\r\n                        cardTemp.setPosition(0, 0);\r\n                        cardTemp.getComponent(PDK_Card).cardID = (myCards[j]);\r\n                        cardTemp.anchor_x = 0;\r\n                    }\r\n                   \r\n                }\r\n            }\r\n            //出牌\r\n            var gamePlayCard:GamePlayCard = new GamePlayCard();\r\n            gamePlayCard.prevCards = data.prevCards;\r\n            gamePlayCard.nextUserChairID = data.currentUserChairID;\r\n            this.onUserPlay(gamePlayCard,data.currentLeftTime);\r\n        }\r\n        \r\n        \r\n    }\r\n    private onGameStart(data:GameStartData):void\r\n    {\r\n        // this.operateMenu.active = true;\r\n        this.idleOperateMenu.active = false;\r\n        PDK_BattleData.instance().onGameStart();\r\n\r\n        var selfCard: number[];\r\n        for (let i = 0; i < data.userCards.length; i++) {\r\n            let userSeatID = PokerUtils.getRelativeSeatID(data.userCards[i].chairID, PokerManager.inst.myChairID);\r\n            this.playerScript[userSeatID].reset();\r\n            if(data.userCards[i].chairID == PokerManager.inst.myChairID)\r\n            {\r\n                selfCard = data.userCards[i].userCard;\r\n            }\r\n        }\r\n\r\n        selfCard = selfCard.sort(function (a, b) {\r\n        return .5 - Math.random();\r\n        });\r\n        this.sortType = 0;\r\n\r\n        let renShu = PokerManager.inst.roomData.playerCount;\r\n        for (let i = 0; i < 13 * renShu; i++) {\r\n            let card = instantiate(this.cardPrefab);\r\n            card.setParent(this.cardPool);\r\n            card.setPosition(0, 0);\r\n            card.active = true;\r\n        }\r\n        //分牌\r\n        let i = this.cardPool.children.length - 1;\r\n        let countArr = [0, 0, 0, 0];\r\n        let intervalId = setInterval(() => {\r\n            let isSelf = i % renShu == 0;\r\n            let card = this.cardPool.children[i];\r\n            let toNode = isSelf ? this.playerScript[i % renShu].shouPai : this.playerScript[i % renShu].cardCount;\r\n            let newVec2 = toNode.getWorldPosition();\r\n            let vec2 = this.cardPool.getComponent(UITransform).convertToNodeSpaceAR(newVec2);\r\n            let scale = isSelf ? 1 : 0.4;\r\n            tween(card)\r\n            .delay(0.05)\r\n            .to(0.3, { position: vec2, scale: new Vec3(scale, scale, scale) })\r\n            .call(() => {\r\n                  if (isSelf) {\r\n                      let cardTemp = instantiate(card);\r\n                      cardTemp.setParent(this.playerScript[0].shouPai);\r\n                      cardTemp.setPosition(new Vec3(0, 0));\r\n                      let pdkCard = cardTemp.getComponent(PDK_Card);\r\n                      if (pdkCard) {\r\n                          pdkCard.cardID = (selfCard[this.playerScript[0].shouPai.children.length - 1]);\r\n                      }\r\n                      cardTemp.anchor_x = 0;\r\n                  } else {\r\n                      let subIndex = card.getSiblingIndex();\r\n                      countArr[subIndex % renShu]++;\r\n                      this.playerScript[subIndex % renShu].setCardCount(countArr[subIndex % renShu], true); // 请替换为实际的组件名\r\n                  }\r\n                  card.active = false;\r\n              })\r\n            .start();\r\n            i--;\r\n            if (i < 0) {\r\n                clearInterval(intervalId);\r\n                setTimeout(() => {\r\n                    this.startBattleSort();\r\n                }, 200);\r\n            }\r\n            },10);\r\n        PDK_PlayerSoundHelper.playSoundUrl(\"sound/fapai\");\r\n    }\r\n    onEventUserEnter(data:UserInfo) {\r\n        let seatID = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n        this.playerScript[seatID].initPlayerInfo(data);\r\n    }\r\n    onEventUserLeave(data:UserInfo) {\r\n        let seatID = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n        this.playerScript[seatID].node.active = false;\r\n    }\r\n    onGameEnd(data: GameEndData) {\r\n        console.log(\"游戏结束 --- \", data);\r\n        if (this.m_gameEndPerformanceHelper != null) {\r\n        this.m_gameEndPerformanceHelper.showGameEnd(this, data);\r\n        }\r\n\r\n        this.deactiveWhenRoundEnd();\r\n        this.clearAllPassMark();\r\n        PDK_BattleData.instance().onGameFinish();\r\n\r\n        // if (data.bigData != null) {\r\n        // EventCenter.emitEvent(gameEvent.EVENT_GET_RESULT_DATA);\r\n        // }\r\n    }\r\n    \r\n    onUserPlay(data:GamePlayCard,time:number = 15) {\r\n        let { nextUserChairID: nextPlayChairID, prevCards, } = data;\r\n        this.m_prevCards = prevCards;\r\n        if (PokerManager.inst.myChairID == nextPlayChairID) {\r\n           // 自己出牌\r\n            this.m_btnSort.active = true;\r\n            this.operateMenu.active = true;\r\n            this.operateMenu.opacity = 0;\r\n            Tween.stopAllByTarget(this.operateMenu);\r\n            tween(this.operateMenu)\r\n            .to(0.2, { opacity: 255 })\r\n            .start();\r\n\r\n            let isChupaiDisplay = this.checkChupaiBtnDisplay(data);\r\n            this.checkChupaiBtnUseable();\r\n            let btn_buChu = this.operateMenu.getChildByName(\"btn_buChu\");\r\n            let btn_buChu1 = this.operateMenu.getChildByName(\"btn_buChu_1\")\r\n            // 当前出牌是自己 没有上家 就不显示不出按钮\r\n            let isBuChu = prevCards != null;\r\n            if (isChupaiDisplay) {\r\n            btn_buChu.active = isBuChu;\r\n            btn_buChu1.active = false;\r\n            }\r\n            else {\r\n            btn_buChu.active = false;\r\n            btn_buChu1.active = isBuChu;\r\n        }\r\n        }\r\n        else {\r\n           // 当前出牌不是自己\r\n           // this.operateMenu.active = false;// 隐藏出牌按钮\r\n           Tween.stopAllByTarget(this.operateMenu);\r\n           tween(this.operateMenu)\r\n           .to(0.2, { opacity: 0 })\r\n           .start();\r\n        }\r\n\r\n\r\n        let seatID = PokerUtils.getRelativeSeatID(nextPlayChairID, PokerManager.inst.myChairID);\r\n        this.setCountDown(seatID,time);\r\n        this.playerScript[seatID].resetChuPai();\r\n\r\n        if (prevCards) {//有上家出牌\r\n            let { cards, chairID, leftCardCount, } = prevCards;\r\n            let chu_seatID = PokerUtils.getRelativeSeatID(chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.playerScript[chu_seatID];\r\n\r\n            player.playChuPai(cards);\r\n            if (chu_seatID != 0) {\r\n                // 玩家自己不现实剩余数\r\n                player.leftCardCount(leftCardCount);\r\n            }\r\n            var cardType = this.GameLogic.getCardType(cards);\r\n            player.showCardTitle(cards, cardType);\r\n\r\n            // 播放出牌语音\r\n            if (PDK_BattleData.instance().lastSeat != chu_seatID) {\r\n                player.playCardSound(data);\r\n                PDK_BattleData.instance().setLastChupai(chu_seatID, cards);\r\n            }\r\n            else {\r\n                // 如果上一个出牌的就是这次出牌的 说明上家是过的 只记录 不播放\r\n                PDK_BattleData.instance().setLastChupai(chu_seatID, cards);\r\n            }\r\n\r\n            PDK_BattleData.instance().recordOutCards(cards);\r\n        }\r\n        else {\r\n            // 没有上家出牌 说明是新的一轮 清掉桌面上的牌\r\n            this.clearAllChuPai();\r\n            // 新一轮 清除PASS标记\r\n            this.clearAllPassMark();\r\n            // 清掉上一次出牌\r\n            PDK_BattleData.instance().lastSeat = -1;\r\n        }\r\n    }\r\n    onUserPass(data: GamePlayPass) {\r\n        let seatID = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n        let player: PDK_Player = this.playerScript[seatID];\r\n        if (player) {\r\n        player.playPass();\r\n        player.showPass(true);\r\n        if (player.userId == UserMgr.inst.uid) {\r\n               // 自己不出 收起手牌\r\n            EventCenter.emitEvent(gameExpressionEvent.PUT_MY_ALL_CARDS_BACK);\r\n        }\r\n        }\r\n\r\n    }\r\n    onRoomGoldChange(data: RoomGoldChange) {\r\n        let { userData } = data;\r\n        if (userData == null) return;\r\n\r\n        for (let i = 0; i < userData.length; i++)\r\n        {\r\n            let item = userData[i];\r\n            let chairID = item.chairID;\r\n            let gold = item.gold;\r\n            let seatID = PokerUtils.getRelativeSeatID(chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.playerScript[seatID];\r\n            if (player == null) continue;\r\n            if (isNaN(gold)) continue;\r\n            player.setScore(gold);\r\n        }\r\n    }\r\n    onUserStatusChange(data:UserInfo){\r\n        if (!data.isReady) {\r\n           //设置用户准备\r\n            if (data.chairID == PokerManager.inst.myChairID) {\r\n                this.showReadyBtn(true);\r\n            }\r\n            var seatID = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n            this.playerScript[seatID].setReady(true);\r\n        } else if (data.isReady) {\r\n            var seatID:number = PokerUtils.getRelativeSeatID(data.chairID, PokerManager.inst.myChairID);\r\n            this.playerScript[seatID].setReady(false);\r\n            if (data.chairID == PokerManager.inst.myChairID) {\r\n                this.showReadyBtn(false);\r\n            }\r\n\r\n        }\r\n    }\r\n}","import { _decorator } from 'cc';\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport PDK_Player from \"../PDK_Player\";\r\nimport WaitTime from \"../wait/WaitTime\";\r\nimport { PokerManager} from 'db://assets/module_basic/scripts/poker/PokerManager';\r\nimport PDK_PlayerSoundHelper from './PDK_PlayerSoundHelper';\r\nimport EventCenter from '../../kernel/EventCenter';\r\nimport { gameExpressionEvent } from '../PDK_define';\r\nimport { GameEndData, UserResultData } from '../message/GameManager';\r\nimport { PokerUtils } from '../message/PokerUtils';\r\nimport { GameTool } from '../../kernel/GD';\r\nimport PDK_Result from '../PDK_Result';\r\n\r\nexport default class PDK_GameEndPerformanceHelper {\r\n    private m_game: PDK_Game = null;\r\n    private m_data: GameEndData = null;\r\n    private m_winnerSeat: number = -1;\r\n    private m_isSelfWin: boolean = false;\r\n    public showGameEnd(gameScript: PDK_Game, data: GameEndData) {\r\n        this.m_game = gameScript;\r\n        this.m_data = data;\r\n\r\n       // 初始化数据\r\n        this.initEndData();\r\n\r\n       // 如果之前有显示的分数 先隐藏\r\n        this.hideScoreAni(0);\r\n\r\n        this.doShowGameEnd();\r\n    }\r\n    private async doShowGameEnd() {\r\n        if (this.m_game == null || this.m_data == null) return;\r\n\r\n        if (this.m_data.tongPai != null) {\r\n            await this.showTongpai();\r\n        }\r\n        else {\r\n            await this.showNormal();\r\n        }\r\n\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        GameTool.showWaitLayer(true)\r\n        GameTool.createPanelByPrefab(this.m_game.panelGameResult, (node) => {\r\n            let result: PDK_Result = node.getComponent(PDK_Result);\r\n            result.showGameResult(this.m_data);\r\n            GameTool.showWaitLayer(false)\r\n        });\r\n\r\n        // if (clientKernel.getRoomCard() && GD.roomConfig.chipType == 1) {\r\n        //    //房卡模式，有单局结算 和总结算，\r\n        //     UIHelper.showWaitLayer(true)\r\n        //     GD.GameTool.createPanelByPrefab(this.m_game.panelGameResult, (node) => {\r\n        //     let result: PDK_Result = node.getComponent(PDK_Result);\r\n        //     result.showGameResult(this.m_data);\r\n        //     UIHelper.showWaitLayer(false)\r\n        // });\r\n        // }\r\n        // else {\r\n           //金币场模式，金币场不需要结算弹窗，无限打\r\n           //手动点击准备，开始下一把\r\n        // this.m_game.idleOperateMenu.active = true;\r\n        // this.m_game.showReadyBtn(true);\r\n        // }\r\n\r\n       // 重置所有效果\r\n        // this.resetAllPlayerEffect();\r\n        // GD.GameTool.getSaveGoldReward();// 救济金界面 确保弹出在结算界面前\r\n        // this.m_game.showIdleOperateMenu();\r\n        this.m_game.clearCardPool();\r\n    }\r\n    public release() {\r\n        // this.m_game = null;\r\n        // this.m_data = null;\r\n    }\r\n    private initEndData() {\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        this.m_isSelfWin = false;\r\n        this.m_winnerSeat = -1;\r\n        \r\n        for (let i = 0; i < this.m_data.userData.length; i++) {\r\n                let oneUserData: UserResultData = this.m_data.userData[i];\r\n                let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n                let player: PDK_Player = this.m_game.playerScript[seatID];\r\n                if (player == null) continue;\r\n\r\n                if (oneUserData.isWinner) {\r\n                        this.m_winnerSeat = seatID;\r\n                        if (player.userId == PokerManager.inst.myUserID)\r\n                        {\r\n                                this.m_isSelfWin = true;\r\n                        }\r\n                        break;\r\n                }\r\n        }\r\n    }\r\n    private showHeadAni() {\r\n        console.log(\"PDK_GameEndPerformanceHelper : showHeadWinLoseAni\");\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        let { userData} = this.m_data;\r\n\r\n        for (let i = 0; i < userData.length; i++) {\r\n            let oneUserData: UserResultData = userData[i];\r\n            let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.m_game.playerScript[seatID];\r\n            if (player == null) continue;\r\n\r\n            player.showHeadWinLoseAni(oneUserData);\r\n        }\r\n    }\r\n//    // 显示手牌 没有通牌的话全部隐藏 赢得播音效\r\n    private showHandCard() {\r\n        console.log(\"PDK_GameEndPerformanceHelper : showHandCard\");\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        let { tongPai, userData} = this.m_data;\r\n\r\n        for (let i = 0; i < userData.length; i++) {\r\n            let oneUserData: UserResultData = userData[i];\r\n            let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.m_game.playerScript[seatID];\r\n            if (player == null) continue;\r\n\r\n            if (seatID == this.m_winnerSeat) {\r\n                if (tongPai != null) {\r\n                    player.playTongpai();\r\n                    player.playChuPai(tongPai.cards);\r\n                }\r\n                else {\r\n                    player.playWin();\r\n                    if (oneUserData.userCard != null && oneUserData.userCard.length != 0) {\r\n                        player.playChuPai(oneUserData.userCard);\r\n                    }\r\n                    player.resetShouPai();\r\n                }\r\n            }\r\n            else {\r\n                if (oneUserData.userCard != null && oneUserData.userCard.length != 0) {\r\n                    player.playChuPai(oneUserData.userCard, true);\r\n                }\r\n                player.resetShouPai();\r\n            }\r\n        }\r\n    }\r\n//    // 重置手牌\r\n    private resetHandCard() {\r\n        console.log(\"PDK_GameEndPerformanceHelper : resetHandCard\");\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        for (let i = 0; i < this.m_data.userData.length; i++) {\r\n            let oneUserData: UserResultData = this.m_data.userData[i];\r\n            let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.m_game.playerScript[seatID];\r\n            if (player == null) continue;\r\n\r\n            player.resetShouPai();\r\n            player.resetChuPai();\r\n            player.setCardCount(0, false);\r\n        }\r\n    }\r\n    private resetAllPlayerEffect() {\r\n        console.log(\"PDK_GameEndPerformanceHelper : resetAllPlayerEffect\");\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        for (let i = 0; i < this.m_game.playerScript.length; i++) {\r\n            let player: PDK_Player = this.m_game.playerScript[i];\r\n            if (player != null) {\r\n                player.reset();\r\n            }\r\n        }\r\n    }\r\n//    /** 飞金币动画 */\r\n    private async showGoldFlyAni(waitTime: WaitTime) {\r\n        console.log(\"PDK_GameEndPerformanceHelper : showGoldFlyAni\");\r\n        if (this.m_game == null || this.m_data == null) return;\r\n       // 通牌展示1秒后妃金币\r\n        this.m_game.playSelfWinLoseSond(this.m_data);\r\n        this.doGoldFly();\r\n        this.showHeadAni();\r\n        this.showRoundEndScore();\r\n        await waitTime.wait(this.m_game, 4);\r\n    }\r\n    private doGoldFly() {\r\n        if (this.m_game == null || this.m_data == null) return;\r\n       // 飞金币特效\r\n        if (this.m_winnerSeat != -1) {\r\n            for (let i = 0; i < this.m_game.playerScript.length; i++) {\r\n            let player: PDK_Player = this.m_game.playerScript[i];\r\n            if (player == null) continue;\r\n            if (i != this.m_winnerSeat) {\r\n                player.showGoldFly(this.m_winnerSeat)\r\n            }\r\n            }\r\n        }\r\n\r\n        let soundUrl: string = \"sound/coin_fly\"; // 飞金币音效\r\n        PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n    }\r\n    private async showExtraReward(waitTime: WaitTime) {\r\n        // if (this.m_game == null || this.m_data == null) return;\r\n\r\n        // if (PDK_BattleData.instance().extraRewardData == null) return;\r\n        // let rewardList: string[] = [];\r\n        // if (PDK_BattleData.instance().extraRewardData.reward != null) {\r\n        // rewardList.push(PDK_BattleData.instance().extraRewardData.reward);\r\n        // }\r\n        // else if (PDK_BattleData.instance().extraRewardData.rewardList != null) {\r\n        // rewardList = PDK_BattleData.instance().extraRewardData.rewardList;\r\n        // }\r\n//        // let rewardList: string[] = PDK_BattleData.instance().extraRewardData.rewardList;\r\n        // PDK_BattleData.instance().extraRewardData = null;\r\n        // EventCenter.emitEvent(gameExpressionEvent.SHOW_EXTRA_REWARD, rewardList);\r\n        // await waitTime.wait(this.m_game, 4);\r\n    }\r\n    private showRoundEndScore() {\r\n        console.log(\"PDK_GameEndPerformanceHelper : showRoundEndScore\");\r\n        for (let i = 0; i < this.m_data.userData.length; i++) {\r\n            let oneUserData: UserResultData = this.m_data.userData[i];\r\n            let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.m_game.playerScript[seatID];\r\n            if (player == null || !player.isValid) continue;\r\n\r\n            player.showRoundEndScore(oneUserData);\r\n        }\r\n    }\r\n    private hideScoreAni(delay:number) {\r\n        for (let i = 0; i < this.m_data.userData.length; i++) {\r\n            let oneUserData: UserResultData = this.m_data.userData[i];\r\n            let seatID = PokerUtils.getRelativeSeatID(oneUserData.chairID, PokerManager.inst.myChairID);\r\n            let player: PDK_Player = this.m_game.playerScript[seatID];\r\n            if (player == null || !player.isValid) continue;\r\n            player.headAni.hideScoreAni(delay);\r\n        }\r\n    }\r\n    \r\n    private async showTongpaiBigwWin() {\r\n        // if (this.m_game == null || this.m_data == null) return;\r\n        // let { bigWin, tongPai, userData, bigData } = this.m_data;\r\n        // let waitTime: WaitTime = new WaitTime();\r\n        // await waitTime.wait(this.m_game, 1);\r\n//        // 1秒后展示手牌\r\n        // this.showHandCard();\r\n        // await waitTime.wait(this.m_game, 1);\r\n//        // 开始飞金币\r\n        // this.showGoldFlyAni(waitTime);\r\n\r\n        // EventCenter.emitEvent(gameExpressionEvent.SHOW_TONGPAI, this.m_isSelfWin);\r\n\r\n        // await waitTime.wait(this.m_game, 3);\r\n        // if (this.m_isSelfWin) {\r\n//            // 如果是自己赢 展示BIGWIN\r\n        // let info: ItemInfo = decodeConfigItemString(bigWin.reward)[0];\r\n        // EventCenter.emitEvent(gameExpressionEvent.SHOW_BIGWIN, this.m_isSelfWin, info.count);\r\n        // await waitTime.wait(this.m_game, 5);\r\n        // }\r\n        // else {\r\n        // await waitTime.wait(this.m_game, 1);\r\n        // }\r\n//        // 隐藏手牌\r\n        // this.resetHandCard();\r\n//        //  然后再展示飞碎片\r\n        // await this.showExtraReward(waitTime);\r\n        // this.hideScoreAni(1);\r\n    }\r\n    private async showTongpai() {\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        let waitTime: WaitTime = new WaitTime();\r\n\r\n        await waitTime.wait(this.m_game, 1);\r\n       // 1秒后展示手牌\r\n        this.showHandCard();\r\n        await waitTime.wait(this.m_game, 1);\r\n       // 开始飞金币\r\n        this.showGoldFlyAni(waitTime);\r\n        EventCenter.emitEvent(gameExpressionEvent.SHOW_TONGPAI, this.m_isSelfWin);\r\n\r\n        await waitTime.wait(this.m_game, 4);\r\n       // 隐藏手牌\r\n        this.resetHandCard();\r\n       //  飞碎片\r\n        await this.showExtraReward(waitTime);\r\n        this.hideScoreAni(1);\r\n    }\r\n    private async showBigWin() {\r\n        // if (this.m_game == null || this.m_data == null) return;\r\n        // let { bigWin, tongPai, userData, bigData } = this.m_data;\r\n        // let waitTime: WaitTime = new WaitTime();\r\n        // await waitTime.wait(this.m_game, 1);\r\n//        // 1秒后展示手牌\r\n        // this.showHandCard();\r\n        // await waitTime.wait(this.m_game, 1);\r\n//        // 开始飞金币\r\n        // this.showGoldFlyAni(waitTime);\r\n\r\n        // if (this.m_isSelfWin) {\r\n//            // 如果是自己赢 展示BIGWIN\r\n        // let info: ItemInfo = decodeConfigItemString(bigWin.reward)[0];\r\n        // EventCenter.emitEvent(gameExpressionEvent.SHOW_BIGWIN, this.m_isSelfWin, info.count);\r\n        // }\r\n\r\n        // await waitTime.wait(this.m_game, 5);\r\n//        // 隐藏手牌\r\n        // this.resetHandCard();\r\n\r\n//        //  然后再展示飞碎片\r\n        // await this.showExtraReward(waitTime);\r\n        // this.hideScoreAni(1);\r\n    }\r\n    private async showNormal() {\r\n        if (this.m_game == null || this.m_data == null) return;\r\n        let waitTime: WaitTime = new WaitTime();\r\n\r\n        await waitTime.wait(this.m_game, 1);\r\n       // 1秒后展示手牌\r\n        this.showHandCard();\r\n        await waitTime.wait(this.m_game, 1);\r\n       // 开始飞金币\r\n        this.showGoldFlyAni(waitTime);\r\n\r\n        await waitTime.wait(this.m_game, 4);\r\n       // 等一段时间隐藏手牌隐藏手牌\r\n        this.resetHandCard();\r\n       //  飞碎片\r\n        await this.showExtraReward(waitTime);\r\n        this.hideScoreAni(2);\r\n    }\r\n}\r\n\r\n","import { PrevCards } from \"./message/GameManager\";\r\nimport { CARD_TYPE, CARD_RANK,CARD_SUIT,CARD_COLOR } from \"./PDK_ConstDef\";\r\n\r\n\r\n\r\ninterface cardGroupData {\r\n    type: number,\r\n    cards: number[],\r\n    value: number\r\n}\r\n\r\nexport default class TienlenLogic {\r\n\r\n    /**\r\n     * 检查黑桃3是否在剩余牌里\r\n     * \r\n     * @param oldCards 旧的数组\r\n     */\r\n    spade3Check(deck:number[], playerCount:number)\r\n    {\r\n        if ((playerCount * 13) >= deck.length) {\r\n            return true;\r\n        }\r\n\r\n        let spade3Index = deck.indexOf(0x03);\r\n        if (spade3Index >= (playerCount * 13 - 1)) {\r\n            // 随机一张牌\r\n            let randomIndex = Math.floor(Math.random() * playerCount * 13);\r\n            deck[spade3Index] = deck[randomIndex];\r\n            deck[randomIndex] = 0x03;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 获取牌点数\r\n     *\r\n     * @param card 牌\r\n     */\r\n    getCardRank(card: number) {\r\n        return (card & 0x0F);\r\n    };\r\n    \r\n    /**\r\n     * 获取牌花色\r\n     *\r\n     * @param card 牌\r\n     */\r\n    getCardSuit(card: number) {\r\n        return (card & 0xF0) >> 4;\r\n    };\r\n\r\n    /**\r\n     * 获取牌权数值\r\n     *\r\n     * @param card 牌\r\n     */\r\n    getCardWeight(card: number) {\r\n        let rank = this.getCardRank(card);\r\n        if (rank > 2) return rank - 2;\r\n        return rank + 11;\r\n    };\r\n\r\n    /**\r\n     * 获取牌颜色\r\n     *\r\n     * @param card 牌\r\n     */\r\n     getCardColor(card: number) {\r\n        return this.getCardSuit(card) > 1 ? 1 : 0;\r\n    };\r\n\r\n    /**\r\n     * 初始化数组\r\n     * @param count 数量\r\n     * @param value 值\r\n     */\r\n    initArray(count: number, value: any = 0) {\r\n        value = value || 0;\r\n        var arr = [];\r\n        for (var i = 0; i < count; i++) {\r\n            arr.push(value);\r\n        }\r\n        return arr;\r\n    };\r\n\r\n    /**\r\n     * 获取排序数值\r\n     *\r\n     * @param card 牌\r\n     */\r\n    getSortValue(card: number) {\r\n        return (this.getCardWeight(card) * 4 + this.getCardSuit(card));\r\n    };\r\n\r\n    /**\r\n     * 扑克排序\r\n     * @param cardList 牌数组\r\n     */\r\n    sort(cardList: number[]) {\r\n        cardList.sort((a, b) => {\r\n            return this.getSortValue(a) - this.getSortValue(b);\r\n        });\r\n        return cardList;\r\n    };\r\n\r\n    /**\r\n     * 扑克排序\r\n     * @param cardList 牌数组\r\n     */\r\n    sortByCardType(cardList: number[]) {\r\n        let targetCardList: number[] = []; // 目标数据\r\n        let tempCardList: number[] = [...cardList];\r\n        \r\n        for (let i = 0; i < cardList.length; i++) {\r\n            let ret = this.findPromptCards(tempCardList);\r\n            let targetCards = [];\r\n            if (ret.pairs.length > 0) {\r\n                if (ret.four.length > 0) {\r\n                    // 如果有四连对\r\n                    let hasPairs4 = false;\r\n                    for (let temp of ret.pairs) {\r\n                        if (temp.cards.length >= 8) {\r\n                            targetCards = temp.cards;\r\n                            hasPairs4 = true;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!hasPairs4) {\r\n                        targetCards = ret.four[0].cards;\r\n                    }\r\n                } else {\r\n                    targetCards = ret.pairs[0].cards;\r\n                }\r\n            } else if (ret.four.length > 0) {\r\n                targetCards = ret.four[0].cards;\r\n            } else if (ret.straight.length > 0) {\r\n                targetCards = ret.straight[0].cards;\r\n            } else if (ret.three.length > 0) {\r\n                targetCards = ret.three[0].cards;\r\n            } else if (ret.pair.length > 0) {\r\n                targetCards = ret.pair[0].cards;\r\n            } else if (ret.single.length > 0){\r\n                targetCards = ret.single[0].cards;\r\n            } else {\r\n                console.error(\"sort cards error.\")\r\n                // throw new Error(\"cards error\")\r\n            }\r\n\r\n            // 加入目标数组\r\n            targetCardList.push(...targetCards);\r\n            // 去除牌\r\n            let playRet = this.playCards(tempCardList, targetCards);\r\n            if (playRet.leftCards.length == 0) {\r\n                break;\r\n            }\r\n\r\n            tempCardList = playRet.leftCards;\r\n        }\r\n\r\n        for (let i in cardList) {\r\n            cardList[i] = targetCardList[i];\r\n        }\r\n        return targetCardList;\r\n    };\r\n\r\n    greaterThan(card1: number, card2: number)\r\n    {\r\n        return this.getSortValue(card1) > this.getSortValue(card2);\r\n    }\r\n\r\n    /**\r\n     * 检查对子\r\n     * @param card1 牌1\r\n     * @param card2 牌2\r\n     */\r\n    checkPair(card1: number, card2: number)\r\n    {\r\n        if (this.getCardRank(card1) == this.getCardRank(card2)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 检查连续\r\n     * @param card1 牌1\r\n     * @param card2 牌2\r\n     */\r\n    checkContinuous(card1: number, card2: number) {\r\n        let rank1 = this.getCardRank(card1);\r\n        let rank2 = this.getCardRank(card2);\r\n        if (rank1 + 1 == rank2 || (rank1 == CARD_RANK.KING && rank2 == CARD_RANK.ACE)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 检查三张相同\r\n     * @param card1 牌1\r\n     * @param card2 牌2\r\n     * @param card3 牌3\r\n     */\r\n    checkThree(card1: number, card2: number, card3: number) {\r\n        if (this.checkPair(card1, card2) && this.checkPair(card2, card3)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 检查四张相同\r\n     * @param card1 牌1\r\n     * @param card2 牌2\r\n     * @param card3 牌3\r\n     * @param card4 牌4\r\n     */\r\n     checkFour(card1: number, card2: number, card3: number, card4: number) {\r\n        if (this.checkPair(card1, card2) && this.checkPair(card2, card3) && this.checkPair(card3, card4)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 获取牌型\r\n     *\r\n     * @param cards 牌数组\r\n     */\r\n    getCardType(cards: number[]) {\r\n        this.sort(cards);\r\n\r\n        let n = cards.length;\r\n\r\n        if (n == 1) {\r\n            return CARD_TYPE.SINGLE;\r\n        }\r\n\r\n        if (n == 3) {\r\n            if (this.checkThree(cards[0], cards[1], cards[2])) {\r\n                return CARD_TYPE.THREE;\r\n            }\r\n        }\r\n\r\n        if (n % 2 == 0) {\r\n            if (n == 2) {\r\n                if (this.checkPair(cards[0], cards[1])) {\r\n                    return CARD_TYPE.PAIR;\r\n                } else {\r\n                    return CARD_TYPE.NULL;\r\n                }\r\n            }\r\n\r\n            if (n == 4) {\r\n                if (this.checkFour(cards[0], cards[1], cards[2], cards[3])) {\r\n                    return CARD_TYPE.FOUR;\r\n                }\r\n            }\r\n\r\n            if (n >= 6) {\r\n                if (this.checkPairs(cards)) {\r\n                    return CARD_TYPE.PAIRS;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.checkStraight(cards)) {\r\n            return CARD_TYPE.STRAIGHT;\r\n        }\r\n\r\n        return CARD_TYPE.NULL;\r\n    };\r\n\r\n    /**\r\n     * 检查连对牌型\r\n     *\r\n     * @param cards 牌数组\r\n     */\r\n    checkPairs(cards: number[])\r\n    {\r\n        if (cards.length < 6 || cards.length % 2 != 0) {\r\n            return false;\r\n        }\r\n\r\n        // 如果出现2\r\n        if (this.getCardRank(cards[cards.length - 1]) == CARD_RANK.TWO) {\r\n            return false;\r\n        }\r\n\r\n        for (let i = 0; i < cards.length - 3; i += 2) {\r\n            // 比较点数\r\n            if (!this.checkPair(cards[i], cards[i + 1]) || !this.checkContinuous(cards[i], cards[i + 2])) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // 最后两张牌\r\n        if (!this.checkPair(cards[cards.length - 2], cards[cards.length - 1])) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 检查顺子牌型\r\n     *\r\n     * @param cards 牌数组\r\n     */\r\n    checkStraight(cards: number[])\r\n    {\r\n        // 如果出现2\r\n        if (cards.length < 3 || this.getCardRank(cards[cards.length - 1]) == CARD_RANK.TWO) {\r\n            return false;\r\n        }\r\n\r\n        for (let i = 0; i < cards.length - 1; i++) {\r\n            if (!this.checkContinuous(cards[i], cards[i + 1])) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 检查出牌是否有效\r\n     *\r\n     * @param playCards    玩家出牌\r\n     * @param prevCardType 上轮出牌\r\n     */\r\n    checkValidCardType(playCards: number[], prevCardType: any)\r\n    {\r\n        this.sort(playCards);\r\n        this.sort(prevCardType.cards);\r\n        \r\n        // 包含2的出牌\r\n        if (this.getCardRank(prevCardType.cards[prevCardType.cards.length - 1]) == CARD_RANK.TWO) {\r\n            // 出1张2\r\n            if (prevCardType.cards.length <= 2) {\r\n                if (playCards.length == 4) {\r\n                    var ret = this.checkFour(playCards[0], playCards[1], playCards[2], playCards[3]);\r\n                    if (ret) {\r\n                        return CARD_TYPE.FOUR;\r\n                    }\r\n                } else if (playCards.length >= (4 + 2 * prevCardType.cards.length)) {\r\n                    var ret = this.checkPairs(playCards);\r\n                    if (ret) {\r\n                        return CARD_TYPE.PAIRS;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let cardType:number = this.getCardType(prevCardType.cards);\r\n        // 4张可以压3连对\r\n        if (cardType == CARD_TYPE.PAIRS) {\r\n            if (playCards.length == 4) {\r\n                var ret = this.checkFour(playCards[0], playCards[1], playCards[2], playCards[3]);\r\n                if (ret) {\r\n                    return CARD_TYPE.FOUR;\r\n                } else {\r\n                    return CARD_TYPE.NULL;\r\n                }\r\n            }\r\n        }\r\n\r\n        // 4连对子压四张\r\n        if (cardType == CARD_TYPE.FOUR) {\r\n            if (playCards.length >= 8) {\r\n                var ret = this.checkPairs(playCards);\r\n                if (ret) {\r\n                    return CARD_TYPE.PAIRS;\r\n                } else {\r\n                    return CARD_TYPE.NULL;\r\n                }\r\n            }\r\n        }\r\n        \r\n        let pn = prevCardType.cards.length;\r\n        if (prevCardType.cards.length == playCards.length) {\r\n            if (pn == 1) {\r\n                var ret = this.greaterThan(playCards[0], prevCardType.cards[0]);\r\n                if (ret) {\r\n                    return CARD_TYPE.SINGLE;\r\n                }\r\n            } else if (pn == 3) {\r\n                if (cardType == CARD_TYPE.THREE) {\r\n                    if (this.checkThree(playCards[0], playCards[1], playCards[2])) {\r\n                        var ret = this.greaterThan(playCards[2], prevCardType.cards[2]);\r\n                        if (ret) {\r\n                            return CARD_TYPE.THREE;\r\n                        }\r\n                    }\r\n                }\r\n            } else if (pn % 2 == 0) {\r\n                if (pn == 2) {\r\n                    if (cardType == CARD_TYPE.PAIR) {\r\n                        if (this.checkPair(playCards[0], playCards[1])) {\r\n                            var ret = this.greaterThan(playCards[1], prevCardType.cards[1]);\r\n                            if (ret) {\r\n                                return CARD_TYPE.PAIR;\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (pn == 4) {\r\n                    if (cardType == CARD_TYPE.FOUR) {\r\n                        if (this.checkFour(playCards[0], playCards[1], playCards[2], playCards[3])) {\r\n                            var ret = this.greaterThan(playCards[3], prevCardType.cards[3]);\r\n                            if (ret) {\r\n                                return CARD_TYPE.FOUR;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (pn > 2 && cardType == CARD_TYPE.STRAIGHT) {\r\n                if (playCards.length == pn && this.checkStraight(playCards)) {\r\n                    var ret = this.greaterThan(playCards[pn - 1], prevCardType.cards[pn - 1]);\r\n                    if (ret) {\r\n                        return CARD_TYPE.STRAIGHT;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (pn >= 6) {\r\n            if (cardType == CARD_TYPE.PAIRS) {\r\n                if (this.checkPairs(playCards)) {\r\n                    if (playCards.length > pn\r\n                        || (playCards.length == prevCardType.cards.length && this.greaterThan(playCards[pn - 1], prevCardType.cards[pn - 1]))) {\r\n                        return CARD_TYPE.PAIRS;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return CARD_TYPE.NULL;\r\n    }\r\n\r\n    /**\r\n     * 检查是否有牌\r\n     *\r\n     * @param handCards 手牌\r\n     * @param playCards 打出的牌\r\n     */\r\n    checkPlayCards(handCards: number[], playCards: number[]) : boolean\r\n    {\r\n        for (let card of playCards) {\r\n            if (handCards.indexOf(card) == -1) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 检查是否有牌\r\n     * @param handCards 手牌\r\n     * @param playCards 打出的牌\r\n     */\r\n    playCards(handCards: number[], playCards: number[]) : {result:boolean, leftCards: number[]}\r\n    {\r\n        let tempCards: number[] = [...handCards];\r\n        for (let card of playCards) {\r\n            let index = tempCards.indexOf(card);\r\n            if (index == -1) {\r\n                return {result: false, leftCards: handCards};\r\n            } else {\r\n                tempCards.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        return {result: true, leftCards: tempCards};\r\n    }\r\n\r\n    /**\r\n     * 获取可以出的牌型\r\n     * @param handCards    手牌\r\n     * @param prevCardType 上家出牌\r\n     */\r\n    findPromptCards(handCards: number[], prevCardType?: PrevCards)\r\n    {\r\n        let ret:any = {\r\n            single: [],\r\n            pair: [],\r\n            three: [],\r\n            straight: [],\r\n            pairs: [],\r\n            four: [],\r\n        };\r\n\r\n        if (handCards.length == 0) {\r\n            return ret;\r\n        }\r\n\r\n        this.sort(handCards);\r\n\r\n        let cardType:number = 0;\r\n\r\n        let pn = 0;\r\n        if (prevCardType) {\r\n            this.sort(prevCardType.cards);\r\n            pn = prevCardType.cards.length;\r\n            cardType = this.getCardType(prevCardType.cards);\r\n        }\r\n\r\n        // 单牌\r\n        if (!prevCardType || cardType == CARD_TYPE.SINGLE) {\r\n            for (let card of handCards) {\r\n                if (!prevCardType || this.checkValidCardType([card], prevCardType) > CARD_TYPE.NULL) {\r\n                    ret.single.push({\r\n                        type: CARD_TYPE.SINGLE,\r\n                        cards: [card]\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        // 对子\r\n        if (!prevCardType || cardType == CARD_TYPE.PAIR) {\r\n            for (let i = 0; i < handCards.length - 1; i++) {\r\n                if (this.checkPair(handCards[i], handCards[i + 1])\r\n                    && (!prevCardType || this.checkValidCardType([handCards[i], handCards[i + 1]], prevCardType) > CARD_TYPE.NULL)) {\r\n                    ret.pair.push({\r\n                        type: CARD_TYPE.PAIR,\r\n                        cards: [handCards[i], handCards[i + 1]]\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        // 三张\r\n        if (!prevCardType || cardType == CARD_TYPE.THREE) {\r\n            for (let i = 0; i < handCards.length - 2; i++) {\r\n                if (this.checkThree(handCards[i], handCards[i + 1], handCards[i + 2])\r\n                    && (!prevCardType || this.checkValidCardType([handCards[i], handCards[i + 1], handCards[i + 2]], prevCardType) > CARD_TYPE.NULL)) {\r\n                    ret.three.push({\r\n                        type: CARD_TYPE.PAIR,\r\n                        cards: [handCards[i], handCards[i + 1], handCards[i + 2]]\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        // 顺子\r\n        if (!prevCardType || cardType == CARD_TYPE.STRAIGHT) {\r\n            if (handCards.length >= pn) {\r\n                let straight_list = [];\r\n                for (let i = handCards.length - 1; i > pn - 2; i--) {\r\n                    if (this.getCardRank(handCards[i]) == CARD_RANK.TWO) {\r\n                        continue;\r\n                    }\r\n\r\n                    let straight = [];\r\n                    let flag = true;\r\n                    for (let j = i; j >=0; j--) {\r\n                        if (straight.length == 0) {\r\n                            if (!prevCardType || this.greaterThan(handCards[j], prevCardType.cards[pn - 1]) ) {\r\n                                straight.push(handCards[j]);\r\n                            }\r\n                        } else {\r\n                            if (this.getCardRank(handCards[j]) == this.getCardRank(straight[straight.length -1])) {\r\n                                // 相同点数，则替换\r\n                                if (straight.length > 1) {\r\n                                    straight[straight.length -1] = handCards[j];\r\n                                }\r\n                            } else if (this.checkContinuous(handCards[j], straight[straight.length -1])) {\r\n                                // 连续点数\r\n                                straight.push(handCards[j]);\r\n                            } else {\r\n                                // 不连续，则不是, 新的起点\r\n                                i = j + 1;\r\n                                flag = false;\r\n                            }\r\n                        }\r\n\r\n                        if (!flag || j == 0 || (prevCardType && pn == straight.length)) {\r\n                            if (straight.length >= 3 && (!prevCardType || this.checkValidCardType(straight, prevCardType) > CARD_TYPE.NULL)) {\r\n                                straight_list.push({\r\n                                    type: CARD_TYPE.STRAIGHT,\r\n                                    cards: straight.reverse()\r\n                                });\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (straight_list.length > 0) {\r\n                    for (let temp of straight_list.reverse()) {\r\n                        ret.straight.push(temp);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // 连对, 特殊：3连对压可压单2， 4连对单2、对2、3连对、四张\r\n        if (!prevCardType\r\n            || cardType == CARD_TYPE.PAIRS\r\n            || (cardType == CARD_TYPE.SINGLE && this.getCardRank(prevCardType.cards[0]) == CARD_RANK.TWO)\r\n            || (cardType == CARD_TYPE.PAIR && this.getCardRank(prevCardType.cards[0]) == CARD_RANK.TWO)\r\n            || cardType == CARD_TYPE.FOUR\r\n            ) {\r\n            if (handCards.length >= 6) {\r\n                let pairs_list = [];\r\n                for (let i = handCards.length-1; i >= 5; i--) {\r\n                    let pairs = [];\r\n                    let flag = true;\r\n                    for (let j = i; j >= 0; j--) {\r\n                        if (pairs.length == 0) {\r\n                            pairs.push(handCards[j]);\r\n                        } else {\r\n                            if (pairs.length % 2 == 0) {\r\n                                // 检查是否连续 或者 点数相同\r\n                                if (this.checkContinuous(handCards[j], pairs[pairs.length - 1])) {\r\n                                    pairs.push(handCards[j]);\r\n                                } else if (this.getCardRank(handCards[j]) == this.getCardRank(pairs[pairs.length -1])) {\r\n                                    pairs[pairs.length -1] = handCards[j];\r\n                                } else {\r\n                                    // 断开\r\n                                    flag = false;\r\n                                }\r\n                            } else {\r\n                                if (this.getCardRank(handCards[j]) == this.getCardRank(pairs[pairs.length -1])) {\r\n                                    pairs.push(handCards[j]);\r\n                                } else {\r\n                                    // 断开\r\n                                    flag = false;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // 判断长度是否满足\r\n                        if (!flag || j == 0) {\r\n                            // 如果是单数，抛出最后一张牌\r\n                            if (pairs.length % 2 == 1) {\r\n                                pairs.pop();\r\n                            }\r\n\r\n                            let tempPairs = [...pairs];\r\n                            if (pairs.length >= 6 && (!prevCardType || this.checkValidCardType(tempPairs, prevCardType) > CARD_TYPE.NULL)) {\r\n                                pairs_list.push({\r\n                                    type: CARD_TYPE.PAIRS,\r\n                                    cards: pairs\r\n                                });\r\n                            }\r\n\r\n                            // 下一断\r\n                            i = j + 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (pairs_list.length > 0) {\r\n                    for (let temp of pairs_list.reverse()) {\r\n                        temp.cards.reverse();\r\n                        ret.pairs.push(temp);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // 四张, 特殊：可压单2、对2、3连对\r\n        if (!prevCardType\r\n            || cardType == CARD_TYPE.FOUR\r\n            || (cardType == CARD_TYPE.PAIRS && prevCardType.cards.length == 6)\r\n            || ((cardType == CARD_TYPE.PAIR || cardType == CARD_TYPE.SINGLE) && this.getCardRank(prevCardType.cards[0]) == CARD_RANK.TWO)\r\n        ) {\r\n            if (handCards.length >= 4) {\r\n                for (let i = 0; i < handCards.length - 3; i++) {\r\n                    if (this.checkFour(handCards[i], handCards[i + 1], handCards[i + 2], handCards[i + 3])\r\n                        && (!prevCardType || this.checkValidCardType([handCards[i], handCards[i + 1], handCards[i + 2], handCards[i + 3]], prevCardType) > CARD_TYPE.NULL)) {\r\n                        ret.four.push({\r\n                            type: CARD_TYPE.FOUR,\r\n                            cards: [handCards[i], handCards[i + 1], handCards[i + 2], handCards[i + 3]]\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * 获取可以出的牌型\r\n     * @param handCards    手牌\r\n     * @param prevCardType 上家出牌\r\n     */\r\n    getPlayCards(handCards: number[], prevCardType?: any) {\r\n        let card_type_list = this.findPromptCards(handCards, prevCardType);\r\n\r\n        let {single, pair, three, straight, pairs, four} = card_type_list;\r\n\r\n        if (!prevCardType) {\r\n            // 如果就剩1手牌，直接打出\r\n            if (this.getCardType(handCards) > CARD_TYPE.NULL) {\r\n                return handCards;\r\n            }\r\n\r\n            // 顺子 -> 三张 -> 对子 -> 单张\r\n            let first_card = handCards[0];\r\n            if (straight.length > 0 && straight[0].cards.includes(first_card)) {\r\n                return straight[0].cards;\r\n            } else if (three.length > 0 && three[0].cards.includes(first_card)) {\r\n                return three[0].cards;\r\n            } else if (pair.length > 0 && pair[0].cards.includes(first_card)) {\r\n                return pair[0].cards;\r\n            } else {\r\n                return single[0].cards;\r\n            }\r\n        } else {\r\n            // 如果就剩1手牌，直接打出\r\n            if (this.checkValidCardType(handCards, prevCardType) > CARD_TYPE.NULL) {\r\n                return handCards;\r\n            }\r\n            let cardType:number = this.getCardType(prevCardType.cards);\r\n\r\n            // 先选合适的牌型\r\n            if (cardType != CARD_TYPE.PAIRS && cardType != CARD_TYPE.FOUR) {\r\n                switch (cardType) {\r\n                    case CARD_TYPE.SINGLE:\r\n                        if (single.length > 0) {\r\n                            return single[0].cards;\r\n                        }\r\n                        break;\r\n                    case CARD_TYPE.PAIR:\r\n                        if (pair.length > 0) {\r\n                            return pair[0].cards;\r\n                        }\r\n                        break;\r\n                    case CARD_TYPE.STRAIGHT:\r\n                        if (straight.length > 0) {\r\n                            return straight[0].cards;\r\n                        }\r\n                        break;\r\n                    case CARD_TYPE.THREE:\r\n                        if (three.length > 0) {\r\n                            return three[0].cards;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n\r\n            // 如果出2则选连对 和 四季\r\n            if (cardType == CARD_TYPE.PAIRS\r\n                || cardType == CARD_TYPE.FOUR\r\n                || (prevCardType.cards.length <= 2 && this.getCardRank(prevCardType.cards[0]) == CARD_RANK.TWO)) {\r\n                if (pairs.length > 0) {\r\n                    let cards = pairs[0].cards;\r\n                    if (cards.length >= 8) {\r\n                        // 先出四季\r\n                        if (four.length > 0) {\r\n                            return four[0].cards;\r\n                        }\r\n\r\n                        return cards;\r\n                    }\r\n                }\r\n\r\n                // 出四季\r\n                if (four.length > 0) {\r\n                    return four[0].cards;\r\n                }\r\n            }\r\n        }\r\n\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * 判断是否可以出牌\r\n     * @param handCards    手牌\r\n     * @param prevCardType 上家出牌\r\n     */\r\n     checkCanPlayCards(handCards: number[], prevCardType?: PrevCards) {\r\n        let card_type_list = this.findPromptCards(handCards, prevCardType);\r\n        let {single, pair, three, straight, pairs, four} = card_type_list;\r\n\r\n        if (single.length > 0) {\r\n            return true;\r\n        } else if (pair.length > 0) {\r\n            return true;\r\n        } else if (three.length > 0) {\r\n            return true;\r\n        } else if (straight.length > 0) {\r\n            return true;\r\n        } else if (pairs.length > 0) {\r\n            return true;\r\n        } else if (four.length > 0) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 判断是否有通牌\r\n     * @param handCards 手牌\r\n     */\r\n    getTongPaiCards(handCards: number[]) : number[] {\r\n        let card_type_list = this.findPromptCards(handCards);\r\n        let {single, pair, three, straight, pairs, four} = card_type_list;\r\n\r\n        // 3~A\r\n        if (straight.length > 0 && straight[straight.length - 1].cards.length == 12) {\r\n            return straight[straight.length - 1].cards;\r\n        }\r\n\r\n        // 黑桃3的三连对，或者5连对\r\n        if (pairs.length > 0) {\r\n            for (let tempCardType of pairs) {\r\n                if (tempCardType.cards.includes(0x03) || tempCardType.cards.length >= 10) {\r\n                    return tempCardType.cards;\r\n                }\r\n            }\r\n        }\r\n\r\n        // 四张2\r\n        if (four.length > 0) {\r\n            for (let tempCardType of four) {\r\n                if (this.getCardRank(tempCardType.cards[0]) == CARD_RANK.TWO) {\r\n                    return tempCardType.cards;\r\n                }\r\n            }\r\n        }\r\n\r\n        // 随意6对\r\n        if (pair.length >= 6) {\r\n            let sixPairCards:number[] = [];\r\n            for (let tempCardType of pair) {\r\n                let isIn = false;\r\n                for (let tempCard of tempCardType.cards) {\r\n                    if (sixPairCards.indexOf(tempCard) != -1) {\r\n                        isIn = true;\r\n                        continue;\r\n                    }\r\n                }\r\n\r\n                if (!isIn) {\r\n                    sixPairCards.push(...tempCardType.cards);\r\n                }\r\n            }\r\n\r\n            if (sixPairCards.length >= 12) {\r\n                return sixPairCards;\r\n            }\r\n        }\r\n\r\n        let blackCards:number[] = [];\r\n        let redCards:number[] = [];\r\n        let colors = [blackCards, redCards];\r\n        for (let card of handCards) {\r\n            colors[this.getCardColor(card)].push(card);\r\n        }\r\n\r\n        for (let color of colors) {\r\n            if (color.length >= 12) {\r\n                return color;\r\n            }\r\n        }\r\n\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * 计算手牌倍数\r\n     * @param handCards 手牌\r\n     */\r\n    calcHandCardTimes(handCards: number[], cfg: any) {\r\n        // 优先找出2的倍数\r\n        let timeList = [];\r\n        let copyCards = [...handCards];\r\n\r\n        if (handCards.indexOf(0x02) != -1) { //黑桃2\r\n            timeList.push({cards: [0x02], times: cfg.spade2});\r\n            this.playCards(copyCards, [0x02]);\r\n        }\r\n\r\n        if (handCards.indexOf(0x12) != -1) { //草花2\r\n            timeList.push({cards: [0x02], times: cfg.club2});\r\n            this.playCards(copyCards, [0x12]);\r\n        }\r\n\r\n        if (handCards.indexOf(0x22) != -1) { //方块2\r\n            timeList.push({cards: [0x02], times: cfg.diamond2});\r\n            this.playCards(copyCards, [0x22]);\r\n        }\r\n\r\n        if (handCards.indexOf(0x32) != -1) { //红心2\r\n            timeList.push({cards: [0x02], times: cfg.heart2});\r\n            this.playCards(copyCards, [0x32]);\r\n        }\r\n\r\n        for (let i = 0; i < handCards.length; i++) {\r\n            let cardTypeList = this.findPromptCards(copyCards);\r\n            let {pairs, four} = cardTypeList;\r\n\r\n            if (pairs.length > 0 && pairs[pairs.length - 1].cards.length >= 8) {\r\n                timeList.push({cards: pairs[pairs.length - 1].cards, times: cfg.pairs4});\r\n                this.playCards(copyCards, pairs[pairs.length - 1].cards);\r\n                continue;\r\n            }\r\n\r\n            if (four.length > 0) {\r\n                for (let tempCardType of four) {\r\n                    timeList.push({cards: tempCardType.cards, times: cfg.four});\r\n                    this.playCards(copyCards, tempCardType.cards);\r\n                }\r\n                continue;\r\n            }\r\n\r\n            if (pairs.length > 0) {\r\n                timeList.push({cards: pairs[0].cards, times: cfg.pairs3});\r\n                this.playCards(copyCards, pairs[0].cards);\r\n                continue;\r\n            }\r\n\r\n            break;\r\n        }\r\n\r\n        let badTotalTimes = 0;\r\n        for (let t of timeList) {\r\n            badTotalTimes += t.times;\r\n        }\r\n\r\n        return {badTotalTimes, timeList, leftCards: copyCards};\r\n    }\r\n}\r\n","// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-14 23:19:39\r\n//  * @LastEditTime: 2021-12-23 11:04:26\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n\r\nimport { _decorator, Component } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { gameEvent } from \"../PDK_define\";\r\n\r\n@ccclass('PDKGotoHallHelper')\r\nexport default class PDK_GotoHallHelper extends Component {\r\n    isGetResult: boolean = false;  // 是否有结算数据\r\n    isGotoHall: boolean = false;    // 是否需要去大厅\r\n    onLoad() {\r\n        // this.isGetResult = false;\r\n        // this.isGotoHall = false;\r\n        // EventCenter.onEvent(gameEvent.EVENT_GET_RESULT_DATA, this.onGetResultData, this);\r\n        // EventCenter.onEvent(gameEvent.EVENT_GET_GOTO_HALL, this.onGoToHall, this);\r\n        // EventCenter.onEvent(gameEvent.EVENT_CLOSE_RESULT, this.onCloseResult, this);\r\n    }\r\n    onDestroy() {\r\n        // EventCenter.offEvent(gameEvent.EVENT_GET_RESULT_DATA, this.onGetResultData, this);\r\n        // EventCenter.offEvent(gameEvent.EVENT_GET_GOTO_HALL, this.onGoToHall, this);\r\n        // EventCenter.offEvent(gameEvent.EVENT_CLOSE_RESULT, this.onCloseResult, this);\r\n    }\r\n    onGetResultData() {\r\n        // cc.log(\"收到大结算数据\");\r\n        // this.isGetResult = true;\r\n    }\r\n    onGoToHall() {\r\n//        //延迟触发，保证结算数据先到位\r\n        // this.scheduleOnce(() => {\r\n        // cc.log(\"收到返回大厅请求\");\r\n        // this.isGotoHall = true;\r\n        // if (!this.isGetResult) {\r\n        // this.gotoHall();\r\n        // }\r\n        // }, 0.2)\r\n    }\r\n    onCloseResult() {\r\n        // cc.log(\"关闭战斗结算界面\");\r\n        // if (this.isGotoHall) {\r\n        // this.gotoHall();\r\n        // }\r\n        // else {\r\n        // this.isGetResult = false;\r\n        // }\r\n    }\r\n    gotoHall() {\r\n        // this.isGetResult = false;\r\n        // this.isGotoHall = false;\r\n        // clientKernel.gotoHall();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-14 23:19:39\r\n//  * @LastEditTime: 2021-12-23 11:04:26\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n// import EventCenter from \"../../../../main/script/utils/EventCenter\";\r\n// import { gameEvent } from \"../PDK_define\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_GotoHallHelper extends cc.Component {\r\n// \r\n//     isGetResult: boolean = false;  // 是否有结算数据\r\n//     isGotoHall: boolean = false;    // 是否需要去大厅\r\n// \r\n//     onLoad() {\r\n//         this.isGetResult = false;\r\n//         this.isGotoHall = false;\r\n//         EventCenter.onEvent(gameEvent.EVENT_GET_RESULT_DATA, this.onGetResultData, this);\r\n//         EventCenter.onEvent(gameEvent.EVENT_GET_GOTO_HALL, this.onGoToHall, this);\r\n//         EventCenter.onEvent(gameEvent.EVENT_CLOSE_RESULT, this.onCloseResult, this);\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         EventCenter.offEvent(gameEvent.EVENT_GET_RESULT_DATA, this.onGetResultData, this);\r\n//         EventCenter.offEvent(gameEvent.EVENT_GET_GOTO_HALL, this.onGoToHall, this);\r\n//         EventCenter.offEvent(gameEvent.EVENT_CLOSE_RESULT, this.onCloseResult, this);\r\n//     }\r\n// \r\n//     onGetResultData() {\r\n//         cc.log(\"收到大结算数据\");\r\n//         this.isGetResult = true;\r\n//     }\r\n// \r\n//     onGoToHall() {\r\n//         //延迟触发，保证结算数据先到位\r\n//         this.scheduleOnce(() => {\r\n//             cc.log(\"收到返回大厅请求\");\r\n//             this.isGotoHall = true;\r\n//             if (!this.isGetResult) {\r\n//                 this.gotoHall();\r\n//             }\r\n//         }, 0.2)\r\n//     }\r\n// \r\n//     onCloseResult() {\r\n//         cc.log(\"关闭战斗结算界面\");\r\n//         if (this.isGotoHall) {\r\n//             this.gotoHall();\r\n//         }\r\n//         else {\r\n//             this.isGetResult = false;\r\n//         }\r\n//     }\r\n// \r\n//     gotoHall() {\r\n//         this.isGetResult = false;\r\n//         this.isGotoHall = false;\r\n//         clientKernel.gotoHall();\r\n//     }\r\n// }\r\n","import { _decorator, Component, Animation, Node, Prefab, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_FlyGold from \"./PDK_FlyGold\";\r\nimport PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\nimport { dragonBones } from 'cc';\r\nimport GameTools from '../../kernel/GameTools';\r\nimport { instantiate } from 'cc';\r\nimport Utils from '../../kernel/Utils';\r\nimport { Vec3 } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { Tween } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { animation } from 'cc';\r\nimport { AnimationClip } from 'cc';\r\n\r\n@ccclass('PDKHeadframeAni')\r\nexport default class PDK_HeadframeAni extends Component {\r\n    @property(Animation)\r\n    ani: Animation | null = null;\r\n    @property(Node)\r\n    spWin: Node | null = null;\r\n    @property(Node)\r\n    spLose: Node | null = null;\r\n    @property(dragonBones.ArmatureDisplay)\r\n    goldFall: dragonBones.ArmatureDisplay = null;\r\n    @property(Prefab)\r\n    flyGoldPrefab: Prefab | null = null;\r\n    @property(Node)\r\n    battleScoreNode: Node | null = null;\r\n    @property(Node)\r\n    seatRoot: Node | null = null;\r\n    @property(Node)\r\n    seat0: Node | null = null;\r\n    @property(Node)\r\n    seat1: Node | null = null;\r\n    @property(Node)\r\n    seat2: Node | null = null;\r\n    @property(Node)\r\n    seat3: Node | null = null;\r\n    private m_lblPosScore: Label | null = null;\r\n    private m_lblNegScore: Label | null = null;\r\n    private m_seatIndex: number;\r\n    private m_passAni: Animation | null = null;\r\n    onLoad() {\r\n\r\n        this.m_passAni = this.node.getChildByName(\"pass_ani\").getComponent(Animation);\r\n        let parentName = this.node.parent.name;\r\n        this.m_seatIndex = Number(parentName.replace(\"seat_\", \"\"));\r\n        this.m_lblPosScore = this.battleScoreNode.getChildByName(\"pos\").getComponent(Label);\r\n        this.m_lblPosScore.node.active = false;\r\n        this.m_lblNegScore = this.battleScoreNode.getChildByName(\"neg\").getComponent(Label);\r\n        this.m_lblNegScore.node.active = false;\r\n        this.reset();\r\n    }\r\n    onDestroy() {\r\n\r\n    }\r\n    reset() {\r\n        this.ani.node.active = false;\r\n        this.spWin.active = false;\r\n        this.spLose.active = false;\r\n        if (this.m_passAni != null) {\r\n            this.m_passAni.node.active = false;\r\n        }\r\n    }\r\n    showWin(score: number) {\r\n        this.scheduleOnce(() => {\r\n            this.doShowWin(score);\r\n        }, 1);\r\n    }\r\n    doShowWin(score) {\r\n        this.ani.node.active = true;\r\n        this.spWin.active = true;\r\n        this.spLose.active = false;\r\n        this.ani.play(\"win\");\r\n        this.scheduleOnce(() => {\r\n        this.showGoldFall();\r\n        }, 0.5);\r\n        this.scheduleOnce(() => {\r\n        this.showScoreAni(score);\r\n        }, 1.5)\r\n    }\r\n    public showGoldFall() {\r\n        this.goldFall.playAnimation(\"newAnimation\", 1);\r\n        let soundUrl: string = \"sound/coin2\";\r\n        PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n    }\r\n    showLose(score: number) {\r\n        this.ani.node.active = true;\r\n        this.spWin.active = false;\r\n        this.spLose.active = true;\r\n        this.ani.play(\"win\");\r\n        this.scheduleOnce(() => {\r\n            this.showScoreAni(score);\r\n        }, 1.5);\r\n    }\r\n    showScoreAni(score:number) {\r\n        let lbl: Label = null;\r\n        if (score > 0) {\r\n            this.m_lblNegScore.node.active = false;\r\n            this.m_lblPosScore.node.active = true;\r\n            this.m_lblPosScore.string = \"+\" + GameTools.nFormatter(score);\r\n            lbl = this.m_lblPosScore;\r\n        }\r\n        else {\r\n            score = -score;\r\n            this.m_lblNegScore.node.active = true;\r\n            this.m_lblPosScore.node.active = false;\r\n            this.m_lblNegScore.string = \"-\" + GameTools.nFormatter(score);\r\n            lbl = this.m_lblNegScore;\r\n        }\r\n        if (lbl) {\r\n            lbl.node.opacity = 0;\r\n            lbl.node.setScale(new Vec3(0.8, 0.8, 1));\r\n\r\n            // 停止当前节点上的所有 tween 动画\r\n            Tween.stopAllByTarget(lbl.node);\r\n\r\n            // 创建淡入动画\r\n            const fadeInTween = tween(lbl.node)\r\n               .to(0.5, { opacity: 255 });\r\n\r\n            // 创建缩放动画\r\n            const scaleTween = tween(lbl.node)\r\n               .to(2, { scale: new Vec3(1, 1, 1) }, { easing: easing.backOut });\r\n\r\n            // 并行执行淡入和缩放动画\r\n            tween(lbl.node)\r\n               .parallel(fadeInTween, scaleTween)\r\n               .start();\r\n        }\r\n    }\r\n    hideScoreAni(delay: number = 0) {\r\n        this.scheduleOnce( () => {\r\n            if (this.m_lblNegScore.node.isValid) {\r\n                this.m_lblNegScore.node.active = false;\r\n                this.m_lblPosScore.node.active = false;\r\n            }\r\n        }, delay);\r\n    }\r\n    showFlyGold(winSeatIndex: number) {\r\n        if (winSeatIndex == this.m_seatIndex) return;\r\n            let goldCount: number = Utils.randomRangeInt(20, 30);\r\n            let winSeat: Node = this['seat' + winSeatIndex];\r\n            let selfSeat: Node = this['seat' + this.m_seatIndex];\r\n            if (winSeat == null || selfSeat == null) return;\r\n            for (let i = 0; i < goldCount; i++) {\r\n            let gold: Node = instantiate(this.flyGoldPrefab);\r\n            gold.setParent(this.seatRoot);\r\n            let goldFly: PDK_FlyGold = gold.getComponent(PDK_FlyGold);\r\n            goldFly.init(selfSeat.x, selfSeat.y, winSeat.x, winSeat.y);\r\n        }\r\n    }\r\n    showPass(isPass: boolean) {\r\n        if (!this.m_passAni) return;\r\n\r\n        if (isPass) {\r\n            this.m_passAni.node.active = true;\r\n            this.m_passAni.defaultClip.wrapMode = AnimationClip.WrapMode.Loop;\r\n            this.m_passAni.play();\r\n\r\n            // 停止当前节点上的所有 tween 动画\r\n            Tween.stopAllByTarget(this.m_passAni.node);\r\n            this.m_passAni.node.opacity = 0;\r\n\r\n            // 创建淡入动画\r\n            tween(this.m_passAni.node)\r\n               .to(0.3, { opacity: 255 })\r\n               .start();\r\n        } else {\r\n            if (this.m_passAni.node.active) {\r\n                // 停止当前节点上的所有 tween 动画\r\n                Tween.stopAllByTarget(this.m_passAni.node);\r\n\r\n                // 创建淡出动画并在完成后停止动画、隐藏节点\r\n                tween(this.m_passAni.node)\r\n                   .to(0.3, { opacity: 0 })\r\n                   .call(() => {\r\n                        this.m_passAni.stop();\r\n                        this.m_passAni.node.active = false;\r\n                    })\r\n                   .start();\r\n            }\r\n        }\r\n    }\r\n}","import { _decorator, Component, Node } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\nimport RollingNumber from \"./RollingNumber\";\r\n\r\n@ccclass('PDKJackpot')\r\nexport default class PDK_Jackpot extends Component {\r\n    private m_arrRollingNums: RollingNumber[] = [];\r\n    private m_prefabRollNum: Node | null = null;\r\n    private m_numContainer: Node | null = null;\r\n    \r\n    bindObj: any[];\r\n    onLoad() {\r\n        // let bg:cc.Node = this.node.getChildByName(\"jackpot_bg\");\r\n        // bg.on(cc.Node.EventType.TOUCH_END, this.onShowInfo, this);\r\n        // this.m_numContainer = bg.getChildByName(\"container\");\r\n        // this.m_prefabRollNum = this.m_numContainer.getChildByName(\"roll_number\");\r\n        // this.m_prefabRollNum.active = false;\r\n        // this.node.opacity = 0;\r\n        // this.bindEvent();\r\n    }\r\n    onDestroy() {\r\n        // if (this.bindObj != null) {\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i]);\r\n        // }\r\n        // }\r\n    }\r\n    start() {\r\n        // this.onJackpotUpdate();\r\n    }\r\n    \r\n    private bindEvent() {\r\n        // this.bindObj = [];\r\n        // this.bindObj.push(onfire.on(\"ON_JACKPOT_UPDATE\", this.onJackpotUpdate.bind(this)));\r\n\r\n    }\r\n    private onJackpotUpdate() {\r\n        // if (isNaN(KernelData.jackpot)) return;\r\n\r\n        // if (this.node.opacity == 0) {\r\n        // let fade = cc.fadeIn(0.2);\r\n        // this.node.runAction(fade);\r\n        // }\r\n        // let score = KernelData.jackpot;\r\n        // this.setScore(score);\r\n    }\r\n    private setScore(score: number) {\r\n        // score = Math.floor(score);\r\n        // let strScore = score.toString();\r\n        // let idx = 0;\r\n        // for (let i = strScore.length - 1; i >= 0; i--) {\r\n        // let str = strScore[i];\r\n        // let rollNum: RollingNumber = null;\r\n        // if (this.m_arrRollingNums.length <= idx) {\r\n        // rollNum = cc.instantiate(this.m_prefabRollNum).getComponent(RollingNumber);\r\n        // rollNum.node.active = true;\r\n        // this.m_numContainer.addChild(rollNum.node);\r\n        // this.m_arrRollingNums.push(rollNum);\r\n        // }\r\n        // else {\r\n        // rollNum = this.m_arrRollingNums[idx];\r\n        // }\r\n        // rollNum.setNum(str);\r\n        // idx++;\r\n        // }\r\n    }\r\n    private onShowInfo() {\r\n        // GD.GameTool.createPanel(\"pdk/pdk_jackpot_info\", (newNode: cc.Node) => {\r\n//            //newNode.getComponent(PDK_PlayerInfo).setData(this.userId, this.chariID)\r\n        // });\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import RollingNumber from \"./RollingNumber\";\r\n// import EventCenter from \"../../../../../main/script/utils/EventCenter\";\r\n// import { gameExpressionEvent } from \"../../PDK_define\";\r\n// import PDK_BattleData from \"../../data/PDK_BattleData\";\r\n// import { GD } from \"../../../../../public/GD\";\r\n// \r\n// const {ccclass, property} = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_Jackpot extends cc.Component {\r\n// \r\n//     private m_arrRollingNums: RollingNumber[] = [];\r\n//     private m_prefabRollNum: cc.Node = null;\r\n//     private m_numContainer: cc.Node = null;\r\n//     \r\n//     bindObj: any[];\r\n// \r\n//     onLoad() {\r\n//         let bg:cc.Node = this.node.getChildByName(\"jackpot_bg\");\r\n//         bg.on(cc.Node.EventType.TOUCH_END, this.onShowInfo, this);\r\n//         this.m_numContainer = bg.getChildByName(\"container\");\r\n//         this.m_prefabRollNum = this.m_numContainer.getChildByName(\"roll_number\");\r\n//         this.m_prefabRollNum.active = false;\r\n//         this.node.opacity = 0;\r\n//         this.bindEvent();\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         if (this.bindObj != null) {\r\n//             for (let i = 0; i < this.bindObj.length; i++) {\r\n//                 onfire.un(this.bindObj[i]);\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     start() {\r\n//         this.onJackpotUpdate();\r\n//     }\r\n// \r\n//     \r\n//     private bindEvent() {\r\n//         this.bindObj = [];\r\n//         this.bindObj.push(onfire.on(\"ON_JACKPOT_UPDATE\", this.onJackpotUpdate.bind(this)));\r\n// \r\n//     }\r\n// \r\n//     private onJackpotUpdate() {\r\n//         if (isNaN(KernelData.jackpot)) return;\r\n// \r\n//         if (this.node.opacity == 0) {\r\n//             let fade = cc.fadeIn(0.2);\r\n//             this.node.runAction(fade);\r\n//         }\r\n//         let score = KernelData.jackpot;\r\n//         this.setScore(score);\r\n//     }\r\n// \r\n//     private setScore(score: number) {\r\n//         score = Math.floor(score);\r\n//         let strScore = score.toString();\r\n//         let idx = 0;\r\n//         for (let i = strScore.length - 1; i >= 0; i--) {\r\n//             let str = strScore[i];\r\n//             let rollNum: RollingNumber = null;\r\n//             if (this.m_arrRollingNums.length <= idx) {\r\n//                 rollNum = cc.instantiate(this.m_prefabRollNum).getComponent(RollingNumber);\r\n//                 rollNum.node.active = true;\r\n//                 this.m_numContainer.addChild(rollNum.node);\r\n//                 this.m_arrRollingNums.push(rollNum);\r\n//             }\r\n//             else {\r\n//                 rollNum = this.m_arrRollingNums[idx];\r\n//             }\r\n//             rollNum.setNum(str);\r\n//             idx++;\r\n//         }\r\n//     }\r\n// \r\n//     private onShowInfo() {\r\n//         GD.GameTool.createPanel(\"pdk/pdk_jackpot_info\", (newNode: cc.Node) => {\r\n//             //newNode.getComponent(PDK_PlayerInfo).setData(this.userId, this.chariID)\r\n//         });\r\n//     }\r\n// }\r\n","import { _decorator, Component, Node, Label } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\n\r\n@ccclass('PDKJackpotInfo')\r\nexport default class PDK_JackpotInfo extends Component {\r\n    @property(Node)\r\n    btnClose: Node | null = null;\r\n    @property(Node)\r\n    scoreContainer: Node | null = null;\r\n    @property(Node)\r\n    scoreItem: Node | null = null;\r\n    \r\n    @property(Label)\r\n    lblTitle: Label | null = null;\r\n    \r\n    @property(Label)\r\n    lblDesc: Label | null = null;\r\n    @property(Label)\r\n    lblSS: Label | null = null;\r\n    \r\n    @property(Label)\r\n    lblCQ: Label | null = null;\r\n    \r\n    @property(Label)\r\n    lblPT: Label | null = null;\r\n    private m_arrScoreItem:Node[] = [];\r\n    onLoad() {\r\n        // this.scoreItem.active = false;\r\n    }\r\n    start() {\r\n        // this.showScore();\r\n        // this.showReward();\r\n        // this.btnClose.on(cc.Node.EventType.TOUCH_END, this.closeMe, this);\r\n    }\r\n    \r\n    private showScore() {\r\n        // if (isNaN(KernelData.jackpot)) return;\r\n        // let score = KernelData.jackpot;\r\n        // score = Math.floor(score);\r\n        // let strScore = score.toString();\r\n        // for (let i = 0; i < strScore.length; i++) {\r\n        // let str = strScore[i];\r\n        // let scoreItem: cc.Node = null;\r\n        // if (this.m_arrScoreItem.length <= i) {\r\n        // scoreItem = cc.instantiate(this.scoreItem);\r\n        // scoreItem.active = true;\r\n        // this.scoreContainer.addChild(scoreItem);\r\n        // }\r\n        // else {\r\n        // scoreItem = this.m_arrScoreItem[i];\r\n        // }\r\n        // if (scoreItem != null) {\r\n        // let lbl = scoreItem.getChildByName(\"score\");\r\n        // lbl.getComponent(cc.Label).string = str;\r\n        // }\r\n        // }\r\n    }\r\n    private showReward() {\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n        // this.lblTitle.string = langConfig.getLangById(13001);\r\n        // this.lblDesc.string = langConfig.getLangById(13002);\r\n        // this.lblSS.string = langConfig.getLangById(13003);\r\n        // this.lblCQ.string = langConfig.getLangById(13004);\r\n        // this.lblPT.string = langConfig.getLangById(13005);\r\n\r\n        // let jackpotConfig = ConfigManager.getInstance().getConfig(JackpotDistributeConfigContainer);\r\n        // let lbl = this.lblSS.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//        // 史诗 3\r\n        // let cfg = jackpotConfig.getDataById(3);\r\n        // lbl.string = cfg.percent + \"%\";\r\n\r\n        // lbl = this.lblCQ.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//        // 传奇 2\r\n        // cfg = jackpotConfig.getDataById(2);\r\n        // lbl.string = cfg.percent + \"%\";\r\n\r\n        // lbl = this.lblPT.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//        // 普通 1\r\n        // cfg = jackpotConfig.getDataById(1);\r\n        // lbl.string = cfg.percent + \"%\";\r\n    }\r\n    closeMe() {\r\n        // GD.GameTool.destroyBlurBg();\r\n        // this.node && this.node.destroy();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import { GD } from \"../../../../../public/GD\";\r\n// import PDK_BattleData from \"../../data/PDK_BattleData\";\r\n// import { ConfigManager } from \"../../../../../kernel/ConfigManager\";\r\n// import { LanguageConfigContainer } from \"../../../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { JackpotDistributeConfigContainer } from \"../../../../../kernel/Conifg/JackpotDistributeConfigContainer\";\r\n// \r\n// const {ccclass, property} = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_JackpotInfo extends cc.Component {\r\n//     @property(cc.Node)\r\n//     btnClose: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     scoreContainer: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     scoreItem: cc.Node = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblTitle: cc.Label = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblDesc: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblSS: cc.Label = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblCQ: cc.Label = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblPT: cc.Label = null;\r\n// \r\n//     private m_arrScoreItem:cc.Node[] = [];\r\n// \r\n//     onLoad() {\r\n//         this.scoreItem.active = false;\r\n//     }\r\n// \r\n//     start() {\r\n//         this.showScore();\r\n//         this.showReward();\r\n//         this.btnClose.on(cc.Node.EventType.TOUCH_END, this.closeMe, this);\r\n//     }\r\n//     \r\n//     private showScore() {\r\n//         if (isNaN(KernelData.jackpot)) return;\r\n//         let score = KernelData.jackpot;\r\n//         score = Math.floor(score);\r\n//         let strScore = score.toString();\r\n//         for (let i = 0; i < strScore.length; i++) {\r\n//             let str = strScore[i];\r\n//             let scoreItem: cc.Node = null;\r\n//             if (this.m_arrScoreItem.length <= i) {\r\n//                 scoreItem = cc.instantiate(this.scoreItem);\r\n//                 scoreItem.active = true;\r\n//                 this.scoreContainer.addChild(scoreItem);\r\n//             }\r\n//             else {\r\n//                 scoreItem = this.m_arrScoreItem[i];\r\n//             }\r\n//             if (scoreItem != null) {\r\n//                 let lbl = scoreItem.getChildByName(\"score\");\r\n//                 lbl.getComponent(cc.Label).string = str;\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private showReward() {\r\n//         let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n//         this.lblTitle.string = langConfig.getLangById(13001);\r\n//         this.lblDesc.string = langConfig.getLangById(13002);\r\n//         this.lblSS.string = langConfig.getLangById(13003);\r\n//         this.lblCQ.string = langConfig.getLangById(13004);\r\n//         this.lblPT.string = langConfig.getLangById(13005);\r\n// \r\n//         let jackpotConfig = ConfigManager.getInstance().getConfig(JackpotDistributeConfigContainer);\r\n//         let lbl = this.lblSS.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//         // 史诗 3\r\n//         let cfg = jackpotConfig.getDataById(3);\r\n//         lbl.string = cfg.percent + \"%\";\r\n// \r\n//         lbl = this.lblCQ.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//         // 传奇 2\r\n//         cfg = jackpotConfig.getDataById(2);\r\n//         lbl.string = cfg.percent + \"%\";\r\n// \r\n//         lbl = this.lblPT.node.getChildByName(\"lbl\").getComponent(cc.Label);\r\n//         // 普通 1\r\n//         cfg = jackpotConfig.getDataById(1);\r\n//         lbl.string = cfg.percent + \"%\";\r\n//     }\r\n// \r\n//     closeMe() {\r\n//         GD.GameTool.destroyBlurBg();\r\n//         this.node && this.node.destroy();\r\n//     }\r\n// \r\n// }\r\n","\r\nimport { _decorator, Component, Label, Node, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Card from \"./PDK_Card\";\r\nimport PDK_Game from \"./PDK_Game\";\r\nimport PDK_HeadframeAni from \"./misc/PDK_HeadframeAni\";\r\nimport PDK_PlayerInfo from \"./misc/PDK_PlayerInfo\";\r\nimport PDK_CardTitle from \"./misc/PDK_CardTitle\";\r\nimport { CARD_TYPE } from \"./PDK_ConstDef\";\r\nimport PDK_PlayerSoundHelper from \"./misc/PDK_PlayerSoundHelper\";\r\nimport { PokerManager, UserInfo} from '../../module_basic/scripts/poker/PokerManager';\r\nimport GameTools from '../kernel/GameTools';\r\nimport { Tween } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { instantiate } from 'cc';\r\nimport { UITransform } from 'cc';\r\nimport OnGameSyncPlayerGold from '../kernel/OnGameSyncPlayerGold';\r\nimport { CARD_RANK } from './message/Define';\r\nimport { UserResultData } from './message/GameManager';\r\nimport { PokerUtils } from './message/PokerUtils';\r\nimport { IUserData } from '../../module_basic/shared/types/RoomData';\r\nimport { RoomMgr } from '../../module_basic/scripts/RoomMgr';\r\nimport { UserMgr } from '../../module_basic/scripts/UserMgr';\r\nimport { Sprite } from 'cc';\r\n\r\n@ccclass('PDKPlayer')\r\nexport default class PDK_Player extends Component {\r\n    @property(Label)\r\n    nickname: Label | null = null;\r\n    @property(Label)\r\n    id: Label | null = null;\r\n    @property(Node)\r\n    icon_bank: Node | null = null;\r\n    @property(Node)\r\n    shouPai: Node | null = null;\r\n    @property(Node)\r\n    chuPai: Node | null = null;\r\n    @property(Node)\r\n    cardCount: Node | null = null;\r\n    @property(Node)\r\n    clockPos: Node | null = null;\r\n    @property(Node)\r\n    ready: Node | null = null;\r\n    @property(Node)\r\n    head: Node | null = null;\r\n    @property(Label)\r\n    score: Label | null = null;\r\n    @property(PDK_HeadframeAni)\r\n    headAni: PDK_HeadframeAni = null;\r\n    @property(Node)\r\n    chatNode: Node | null = null;\r\n    @property(Label)\r\n    chatText: Label | null = null;\r\n\r\n    userId: string = \"\";\r\n    private m_isBind: boolean = false;\r\n    chariID: number;\r\n    private m_cardTitle: PDK_CardTitle = null;\r\n    private m_scoreNum: number = 0;\r\n    private m_soundHelper: PDK_PlayerSoundHelper = new PDK_PlayerSoundHelper();\r\n    onLoad() {\r\n        this.node.active = false;\r\n        this.id.string = \"\";\r\n        this.shouPai?.destroyAllChildren();\r\n        this.chuPai.destroyAllChildren();\r\n        this.setCardCount(0, false);\r\n        this.setReady(false);\r\n        this.score && (this.score.string = \"0\");\r\n        let chatBubble = this.chatNode.getChildByName(\"chat_bubble\");\r\n        chatBubble.scale = new Vec3(0,0);\r\n        this.m_cardTitle = this.node.getChildByName(\"card_title\").getComponent(PDK_CardTitle);\r\n    }\r\n    start() { }\r\n    onDestroy() {\r\n        this.m_soundHelper = null;\r\n    }\r\n   /**\r\n   * 初始化玩家信息\r\n   */\r\n    initPlayerInfo(userItem: UserInfo) {\r\n        this.node.active = false;\r\n        this.reset();\r\n        if (userItem) {\r\n            this.node.active = true;\r\n            this.nickname && (this.nickname.string = userItem.nickname);\r\n\r\n            // this.head && (GameTools.loadWxHead(this.head, userItem.head));\r\n            // if (!this.m_isBind)\r\n            // {p\r\n            //     this.m_isBind = true;\r\n            //     this.head && (this.head.on(cc.Node.EventType.TOUCH_END, this.onClickHead, this));\r\n            //  }\r\n           // this.setOffline(userItem.online == 0);\r\n\r\n            var roomPlayerData:IUserData = RoomMgr.inst.getPlayData(userItem.userID);\r\n            if(roomPlayerData)\r\n            {\r\n                UserMgr.inst.loadHeadIcon(roomPlayerData.visualId,this.head.getComponent(Sprite));\r\n            }\r\n\r\n            this.setBanker(false);\r\n            this.setReady(false);\r\n\r\n            this.chariID = userItem.chairID;\r\n            this.userId = userItem.userID;\r\n            if (userItem.isReady == false){\r\n                this.setReady(true)\r\n            }\r\n\r\n            // 金币\r\n            this.setScore(userItem.gold);\r\n            let seatID = PokerUtils.getRelativeSeatID(userItem.chairID, PokerManager.inst.myChairID);\r\n            if (this.m_soundHelper != null) {\r\n                this.m_soundHelper.init(seatID, 1); //性别 todo\r\n            }\r\n        }\r\n    }\r\n    setCardCount(num: number, isActive = true) {\r\n        if (this.cardCount.active != isActive) {\r\n            this.cardCount.active = isActive;\r\n        }\r\n        let lbl = this.cardCount.getChildByName(\"label\").getComponent(Label);\r\n        if (lbl != null) {\r\n            lbl.string = num.toString();\r\n        }\r\n    }\r\n//    //有玩家出牌后，同步减少牌数\r\n    leftCardCount(reduceNum: number) {\r\n        this.setCardCount(reduceNum);\r\n       // let node = cc.find(\"label\", this.cardCount);\r\n       // if (node) {\r\n       //     let labelCom = node.getComponent(cc.Label);\r\n       //     let curNum = Number(labelCom.string)\r\n       //     if (curNum) {\r\n       //         this.cardCount.active = true;\r\n       //         labelCom.string = reduceNum + '';\r\n       //     }\r\n       // }\r\n    }\r\n    fillShouPai(arrCardId: number[]) {\r\n        if (this.shouPai) {\r\n            for (let i = 0; i < this.shouPai.children.length; i++) {\r\n                if (i < arrCardId.length) {\r\n                    let element = this.shouPai.children[i];\r\n                    let cardId = arrCardId[i];\r\n                    if (element != null) {\r\n                        element.getComponent(PDK_Card).cardID = cardId;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    playChuPai(cards: number[], isGray: boolean = false) {\r\n        // console.log(\"chu pai : \" + this.chariID);\r\n        let isMatch: boolean = true;\r\n        if (this.chuPai) {\r\n            if (this.chuPai.children.length !== cards.length) {\r\n                isMatch = false;\r\n            } else {\r\n                for (let i = 0; i < this.chuPai.children.length; i++) {\r\n                    let element = this.chuPai.children[i];\r\n                    let cardComp = element.getComponent(PDK_Card);\r\n                    if (cardComp && cardComp.cardID !== cards[i]) {\r\n                        isMatch = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (isMatch) {\r\n            return;\r\n        }\r\n\r\n        if (this.chuPai) {\r\n            this.chuPai.destroyAllChildren();\r\n        }\r\n\r\n        let delay = 0;\r\n        for (let i = 0; i < cards.length; i++) {\r\n            let card = cards[i];\r\n            if (this.chuPai) {\r\n                let cardTemp = instantiate(PDK_Game.ins.cardPrefab);\r\n                cardTemp.setParent(this.chuPai);\r\n                cardTemp.setPosition(Vec3.ZERO);\r\n                let cardComp = cardTemp.getComponent(PDK_Card);\r\n                if (cardComp) {\r\n                    cardComp.cardID = card;\r\n                }\r\n               // 通过 UITransform 组件设置锚点\r\n                const uiTransform = cardTemp.getComponent(UITransform);\r\n                if (uiTransform) {\r\n                    uiTransform.anchorX = 0;\r\n                    uiTransform.anchorY = 0.5;\r\n                }\r\n\r\n                if (isGray) {\r\n                    if (cardComp) {\r\n                        cardComp.select.active = true;\r\n                    }\r\n                }\r\n\r\n                cardTemp.opacity = 0;\r\n                let cardChild = cardTemp.getChildByName(\"card\");\r\n                if (cardChild) {\r\n                    cardChild.setScale(Vec3.ZERO);\r\n                }\r\n\r\n                // 创建淡入动画\r\n                const fadeInTween = tween(cardTemp)\r\n                   .to(0.2, { opacity: 255 });\r\n\r\n                // 创建缩放动画\r\n                const scaleTween = cardChild ? tween(cardChild)\r\n                   .to(0.2, { scale: new Vec3(1, 1, 1) }, { easing: easing.backOut }) : null;\r\n\r\n                setTimeout(() => {\r\n                    if (cardTemp.isValid) {\r\n                        fadeInTween.start();\r\n                        scaleTween?.start();\r\n                    }\r\n                }, delay * 1000);\r\n\r\n                delay += 0.05;\r\n            }\r\n\r\n            if (this.shouPai) {\r\n                for (let j = 0; j < this.shouPai.children.length; j++) {\r\n                    let element = this.shouPai.children[j];\r\n                    let shouPaiCardComp = element.getComponent(PDK_Card);\r\n                    if (shouPaiCardComp && shouPaiCardComp.cardID === card) {\r\n                        element.destroy();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    showCardTitle(cards: number[], type: number) {\r\n        if (type == CARD_TYPE.NULL || this.m_cardTitle == null) return;\r\n\r\n        if (type == CARD_TYPE.PAIR) {\r\n            let card = cards[0];\r\n            if (card && PokerUtils.getCardRank(card) == CARD_RANK.TWO) {\r\n                // 双2\r\n                this.m_cardTitle.showShuang2();\r\n                return;\r\n            }\r\n        }\r\n        if (type == CARD_TYPE.PAIRS) {\r\n            if (cards.length == 6) {\r\n                this.m_cardTitle.showLian3Dui();\r\n                return;\r\n            }\r\n            if (cards.length == 8) {\r\n                this.m_cardTitle.showLian4Dui();\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (type == CARD_TYPE.FOUR) {\r\n           // 四季\r\n            this.m_cardTitle.show4ji();\r\n            return;\r\n        }\r\n    }\r\n    resetChuPai(isAni: boolean = false) {\r\n        if (this.chuPai) {\r\n            if (isAni) {\r\n                let delay = 0;\r\n                const children = this.chuPai.children;\r\n                for (let i = children.length - 1; i >= 0; i--) {\r\n                    const element = children[i];\r\n                    // 停止当前节点上的所有 tween 动画\r\n                    Tween.stopAllByTarget(element);\r\n\r\n                    const fadeOutTween = tween(element)\r\n                       .to(0.06, { opacity: 0 })\r\n                       .call(() => {\r\n                            if (element.isValid) {\r\n                                element.removeFromParent();\r\n                                element.destroy();\r\n                            }\r\n                        });\r\n\r\n                    setTimeout(() => {\r\n                        if (element.isValid) {\r\n                            fadeOutTween.start();\r\n                        }\r\n                    }, delay * 1000);\r\n\r\n                    delay += 0.03;\r\n                }\r\n            } else {\r\n                const children = this.chuPai.children;\r\n                for (let i = children.length - 1; i >= 0; i--) {\r\n                    const element = children[i];\r\n                    // 停止当前节点上的所有 tween 动画\r\n                    Tween.stopAllByTarget(element);\r\n\r\n                    tween(element)\r\n                       .to(0.1, { opacity: 0 })\r\n                       .call(() => {\r\n                            if (element.isValid) {\r\n                                element.removeFromParent();\r\n                                element.destroy();\r\n                            }\r\n                        })\r\n                       .start();\r\n                }\r\n            }\r\n        }\r\n        this.m_cardTitle?.ready(); // 请替换为实际的组件名\r\n    }\r\n    resetShouPai() {\r\n        this.shouPai?.destroyAllChildren();\r\n    }\r\n    setReady(isReady = true) {\r\n        if (this.ready) {\r\n            if (isReady) {\r\n                this.ready.active = true;\r\n                this.ready.opacity = 0;\r\n                this.ready.setScale(Vec3.ZERO);\r\n\r\n                // 停止当前节点上的所有 tween 动画\r\n                Tween.stopAllByTarget(this.ready);\r\n\r\n                // 创建淡入动画\r\n                const fadeInTween = tween(this.ready)\r\n                   .to(0.1, { opacity: 255 });\r\n\r\n                // 创建缩放动画\r\n                const scaleTween = tween(this.ready)\r\n                   .to(0.2, { scale: new Vec3(1, 1, 1) }, { easing: easing.backOut });\r\n\r\n                // 并行执行淡入和缩放动画\r\n                tween(this.ready)\r\n                   .parallel(fadeInTween, scaleTween)\r\n                   .start();\r\n            } else {\r\n                this.ready.active = false;\r\n            }\r\n        }\r\n    }\r\n    setBanker(isBanker: boolean) {\r\n        this.icon_bank && (this.icon_bank.active = !!isBanker)\r\n    }\r\n    reset() {\r\n        this.shouPai?.destroyAllChildren();\r\n        this.chuPai.destroyAllChildren();\r\n        this.setCardCount(0, false);\r\n        this.headAni.reset();\r\n    }\r\n   /**\r\n    * 设置分数\r\n    * @param score 当前分数\r\n    * @returns 与当前分数的差值\r\n    */\r\n    setScore(score): number {\r\n        this.score && (this.score.string = GameTools.nFormatter(score));\r\n        let offset = score - this.m_scoreNum;\r\n        this.m_scoreNum = score;\r\n        return offset;\r\n    }\r\n    private setScoreLayout() {\r\n        let parent = this.score.node.parent;\r\n        if (parent != null) {\r\n            let goldIcon = parent.getChildByName(\"icon_gold\");\r\n            goldIcon && (goldIcon.active = false)\r\n        }\r\n        this.score && (this.score.node.setPosition(0, 2));\r\n    }\r\n    syncPlayerData(playerData: OnGameSyncPlayerGold) {\r\n        if (playerData.data != null) {\r\n            playerData.data.gold && (this.setScore(playerData.data.gold));\r\n        }\r\n    }\r\n    showHeadWinLoseAni(data: UserResultData) {\r\n        let score = data.winGold - data.bombGold;\r\n        if (data.isWinner) {\r\n            this.headAni.showWin(score);\r\n        }\r\n        else {\r\n            this.headAni.showLose(score);\r\n        }\r\n    }\r\n    showHeadScoreAni(score: number) {\r\n        this.headAni.showScoreAni(score);\r\n    }\r\n    showRoundEndScore(data: UserResultData) {\r\n        this.setScore(data.allGold);\r\n    }\r\n    private onClickHead() {\r\n        // AudioControl.playClick();\r\n        // if (this.userId != KernelData.userID) {\r\n        // GD.GameTool.createPanel(\"pdk/pdk_player_info\", (newNode: cc.Node) => {\r\n        // newNode.getComponent(PDK_PlayerInfo).setData(this.userId, this.chariID)\r\n        // });\r\n        // }\r\n    }\r\n    public showGoldFly(winner: number) {\r\n        this.headAni.showFlyGold(winner);\r\n    }\r\n    public playCardSound(data) {\r\n        if (this.m_soundHelper) {\r\n            this.m_soundHelper.playCardSound(data);\r\n        }\r\n    }\r\n    public playPass() {\r\n        if (this.m_soundHelper) {\r\n            this.m_soundHelper.playPass();\r\n        }\r\n    }\r\n    public playWin() {\r\n        if (this.m_soundHelper) {\r\n            this.m_soundHelper.playWin();\r\n        }\r\n    }\r\n    public playTongpai() {\r\n        if (this.m_soundHelper) {\r\n            this.m_soundHelper.playTongpai();\r\n            this.scheduleOnce(() => {\r\n                this.m_soundHelper.playWin();\r\n            }, 1);\r\n        }\r\n    }\r\n    public showPass(isPass) {\r\n        this.headAni.showPass(isPass);\r\n    }\r\n}\r\n","import { _decorator, Component, Node, Label, SpriteAtlas } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport PDK_PlayerInfoPropItem from \"./PDK_PlayerInfoPropItem\";\r\n\r\n@ccclass('PDKPlayerInfo')\r\nexport default class PDK_PlayerInfo extends Component {\r\n    @property(Node)\r\n    series_win: Node | null = null;\r\n    @property(Node)\r\n    card_box: Node | null = null;\r\n    @property(Label)\r\n    lblName1: Label | null = null;\r\n    @property(Node)\r\n    gold_box: Node | null = null;\r\n    @property(Node)\r\n    cur_series_win: Node | null = null;\r\n    @property(Node)\r\n    win_f: Node | null = null;\r\n    @property(Node)\r\n    sum_count: Node | null = null;\r\n    @property(Node)\r\n    tong_num: Node | null = null;\r\n    @property(Node)\r\n    panelNode: Node | null = null;\r\n    @property(Node)\r\n    head: Node | null = null;\r\n    @property(Label)\r\n    lblName: Label | null = null;\r\n    @property(Label)\r\n    lblID: Label | null = null;\r\n    @property(Node)\r\n    container: Node | null = null;\r\n    @property(Node)\r\n    item: Node | null = null;\r\n    @property(Node)\r\n    sex: Node | null = null;\r\n    @property(Node)\r\n    bg: Node | null = null;\r\n    @property(Node)\r\n    bg1: Node | null = null;\r\n    @property(Node)\r\n    scrollview: Node | null = null;\r\n    @property(SpriteAtlas)\r\n    propAtlas: SpriteAtlas | null = null;\r\n    private gameScript: PDK_Game = null;\r\n    private m_chairID: number = 0;\r\n    private m_gameId: number = 0;\r\n    onLoad() {\r\n        // this.gameScript = cc.find(\"Canvas\").getComponent(PDK_Game);\r\n        // this.item.active = false;\r\n    }\r\n    async setData(userID: number, chairID: number) {\r\n        // if (clientKernel.getRoomCard() == false) {\r\n//            //金币场（匹配服）\r\n        // this.card_box.active = false;\r\n        // this.gold_box.active = true;\r\n        // } else {\r\n//            //房卡模式（邀请好友）\r\n        // this.card_box.active = true;\r\n        // this.gold_box.active = false;\r\n        // }\r\n        // this.m_chairID = chairID;\r\n        // let data = clientKernel.gameUserManager.getUserByUserID(userID);\r\n        // if (data) {\r\n        // console.log(data);\r\n        // GameTools.loadWxHead(this.head, data.getHead());\r\n        // this.lblName1.string = this.lblName.string = data.nickname;\r\n        // this.lblID.string = \"ID:\" + data.gameID;\r\n\r\n        // this.sex.children[0].active = data.sex == 0;\r\n        // this.sex.children[1].active = data.sex != 0;\r\n        // }\r\n\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n\r\n\r\n//        // this.title_desc.getComponent(cc.Label).string = langConfig.getLangById(10904);\r\n        // this.series_win.getComponent(cc.Label).string = langConfig.getLangById(10905);\r\n        // this.cur_series_win.getComponent(cc.Label).string = langConfig.getLangById(10906);\r\n        // this.win_f.getComponent(cc.Label).string = langConfig.getLangById(10907);\r\n        // this.sum_count.getComponent(cc.Label).string = langConfig.getLangById(10908);\r\n        // this.tong_num.getComponent(cc.Label).string = langConfig.getLangById(10909);\r\n\r\n        // this.showItemList();\r\n\r\n        // let calcInfo = await this.getCalcInfo(data.userID) as any;\r\n        // cc.find(\"num\", this.series_win).getComponent(cc.Label).string = calcInfo.winHistoy + \"\";\r\n        // cc.find(\"num\", this.cur_series_win).getComponent(cc.Label).string = calcInfo.winMaxDay + \"\";\r\n        // cc.find(\"num\", this.tong_num).getComponent(cc.Label).string = calcInfo.nbWinCnt + \"\";\r\n        // let sum = calcInfo.winCnt + calcInfo.loseCnt;\r\n        // let win_f = '0';\r\n        // if (sum) {\r\n        // win_f = (calcInfo.winCnt / sum * 100).toFixed(1);\r\n        // }\r\n        // cc.find(\"num\", this.sum_count).getComponent(cc.Label).string = sum + \"\";\r\n        // cc.find(\"num\", this.win_f).getComponent(cc.Label).string = win_f + \"%\";\r\n\r\n\r\n//        //KernelData.userID\r\n    }\r\n    private showItemList() {\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n        // let propNames = [\r\n        // { propName: \"baozha\", desc: langConfig.getLangById(120003007) },\r\n        // { propName: \"beer\", desc: langConfig.getLangById(120003008) },\r\n        // { propName: \"egg\", desc: langConfig.getLangById(120003002) },\r\n        // { propName: \"kiss\", desc: langConfig.getLangById(120003004) },\r\n        // { propName: \"rose\", desc: langConfig.getLangById(120003001) },\r\n        // { propName: \"slippe\", desc: langConfig.getLangById(120003003) },\r\n        // ];\r\n        // for (let i = 0; i < propNames.length; i++) {\r\n        // let element = propNames[i];\r\n        // let propName = element.propName;\r\n        // let desxc = element.desc;\r\n        // let item = cc.instantiate(this.item);\r\n        // item.setParent(this.container);\r\n        // item.active = true;\r\n        // item['propIndex'] = \"prop_index_\" + propName;\r\n\r\n        // let desc_node = cc.find(\"desc\", item);\r\n        // desc_node.getComponent(cc.Label).string = element.desc;\r\n\r\n        // let propItem: PDK_PlayerInfoPropItem = item.getComponent(PDK_PlayerInfoPropItem);\r\n        // propItem.setItem(propName, this.propAtlas,);\r\n        // item.on(cc.Node.EventType.TOUCH_END, this.onClickPropItem, this);\r\n        // }\r\n    }\r\n    private onClickPropItem(event) {\r\n        // let propIndex = event.currentTarget.propIndex;\r\n        // let data = {\r\n        // item_id: propIndex,\r\n        // toChairID: this.m_chairID\r\n        // }\r\n        // clientKernel.use_item(data);\r\n        // this.closeMe();\r\n\r\n    }\r\n    closeMe() {\r\n        // GD.GameTool.destroyBlurBg();\r\n        // this.node && this.node.destroy();\r\n    }\r\n    async getCalcInfo(userID) {\r\n        // return new Promise((resolve, reject) => {\r\n        // NetHelp.getCalcInfo(userID, (retData) => {\r\n        // if (typeof retData != \"object\") { retData = JSON.parse(retData) };\r\n        // let { code, info } = retData;\r\n        // if (code == 0) {\r\n        // resolve(info);\r\n        // } else {\r\n//                    // GD.GameTool.showTextTips(info);\r\n        // }\r\n        // })\r\n        // })\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import { ConfigManager } from \"../../../../kernel/ConfigManager\";\r\n// import { LanguageConfigContainer } from \"../../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { GD } from \"../../../../public/GD\";\r\n// import PDK_Game from \"../PDK_Game\";\r\n// import PDK_PlayerInfoPropItem from \"./PDK_PlayerInfoPropItem\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_PlayerInfo extends cc.Component {\r\n//     @property(cc.Node)\r\n//     series_win: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     card_box: cc.Node = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblName1: cc.Label = null;\r\n// \r\n//     @property(cc.Node)\r\n//     gold_box: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     cur_series_win: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     win_f: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     sum_count: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     tong_num: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     panelNode: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     head: cc.Node = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblName: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblID: cc.Label = null;\r\n// \r\n//     @property(cc.Node)\r\n//     container: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     item: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     sex: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     bg: cc.Node = null;\r\n//     @property(cc.Node)\r\n//     bg1: cc.Node = null;\r\n// \r\n//     @property(cc.Node)\r\n//     scrollview: cc.Node = null;\r\n// \r\n//     @property(cc.SpriteAtlas)\r\n//     propAtlas: cc.SpriteAtlas = null;\r\n// \r\n//     private gameScript: PDK_Game = null;\r\n//     private m_chairID: number = 0;\r\n//     private m_gameId: number = 0;\r\n// \r\n//     onLoad() {\r\n//         this.gameScript = cc.find(\"Canvas\").getComponent(PDK_Game);\r\n//         this.item.active = false;\r\n//     }\r\n// \r\n//     async setData(userID: number, chairID: number) {\r\n//         if (clientKernel.getRoomCard() == false) {\r\n//             //金币场（匹配服）\r\n//             this.card_box.active = false;\r\n//             this.gold_box.active = true;\r\n//         } else {\r\n//             //房卡模式（邀请好友）\r\n//             this.card_box.active = true;\r\n//             this.gold_box.active = false;\r\n//         }\r\n//         this.m_chairID = chairID;\r\n//         let data = clientKernel.gameUserManager.getUserByUserID(userID);\r\n//         if (data) {\r\n//             console.log(data);\r\n//             GameTools.loadWxHead(this.head, data.getHead());\r\n//             this.lblName1.string = this.lblName.string = data.nickname;\r\n//             this.lblID.string = \"ID:\" + data.gameID;\r\n// \r\n//             this.sex.children[0].active = data.sex == 0;\r\n//             this.sex.children[1].active = data.sex != 0;\r\n//         }\r\n// \r\n//         let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n// \r\n// \r\n// \r\n//         // this.title_desc.getComponent(cc.Label).string = langConfig.getLangById(10904);\r\n//         this.series_win.getComponent(cc.Label).string = langConfig.getLangById(10905);\r\n//         this.cur_series_win.getComponent(cc.Label).string = langConfig.getLangById(10906);\r\n//         this.win_f.getComponent(cc.Label).string = langConfig.getLangById(10907);\r\n//         this.sum_count.getComponent(cc.Label).string = langConfig.getLangById(10908);\r\n//         this.tong_num.getComponent(cc.Label).string = langConfig.getLangById(10909);\r\n// \r\n//         this.showItemList();\r\n// \r\n//         let calcInfo = await this.getCalcInfo(data.userID) as any;\r\n//         cc.find(\"num\", this.series_win).getComponent(cc.Label).string = calcInfo.winHistoy + \"\";\r\n//         cc.find(\"num\", this.cur_series_win).getComponent(cc.Label).string = calcInfo.winMaxDay + \"\";\r\n//         cc.find(\"num\", this.tong_num).getComponent(cc.Label).string = calcInfo.nbWinCnt + \"\";\r\n//         let sum = calcInfo.winCnt + calcInfo.loseCnt;\r\n//         let win_f = '0';\r\n//         if (sum) {\r\n//             win_f = (calcInfo.winCnt / sum * 100).toFixed(1);\r\n//         }\r\n//         cc.find(\"num\", this.sum_count).getComponent(cc.Label).string = sum + \"\";\r\n//         cc.find(\"num\", this.win_f).getComponent(cc.Label).string = win_f + \"%\";\r\n// \r\n// \r\n//         //KernelData.userID\r\n//     }\r\n// \r\n//     private showItemList() {\r\n//         let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n// \r\n//         let propNames = [\r\n//             { propName: \"baozha\", desc: langConfig.getLangById(120003007) },\r\n//             { propName: \"beer\", desc: langConfig.getLangById(120003008) },\r\n//             { propName: \"egg\", desc: langConfig.getLangById(120003002) },\r\n//             { propName: \"kiss\", desc: langConfig.getLangById(120003004) },\r\n//             { propName: \"rose\", desc: langConfig.getLangById(120003001) },\r\n//             { propName: \"slippe\", desc: langConfig.getLangById(120003003) },\r\n//         ];\r\n//         for (let i = 0; i < propNames.length; i++) {\r\n//             let element = propNames[i];\r\n//             let propName = element.propName;\r\n//             let desxc = element.desc;\r\n//             let item = cc.instantiate(this.item);\r\n//             item.setParent(this.container);\r\n//             item.active = true;\r\n//             item['propIndex'] = \"prop_index_\" + propName;\r\n// \r\n//             let desc_node = cc.find(\"desc\", item);\r\n//             desc_node.getComponent(cc.Label).string = element.desc;\r\n// \r\n//             let propItem: PDK_PlayerInfoPropItem = item.getComponent(PDK_PlayerInfoPropItem);\r\n//             propItem.setItem(propName, this.propAtlas,);\r\n//             item.on(cc.Node.EventType.TOUCH_END, this.onClickPropItem, this);\r\n//         }\r\n//     }\r\n// \r\n//     private onClickPropItem(event) {\r\n//         let propIndex = event.currentTarget.propIndex;\r\n//         let data = {\r\n//             item_id: propIndex,\r\n//             toChairID: this.m_chairID\r\n//         }\r\n//         clientKernel.use_item(data);\r\n//         this.closeMe();\r\n// \r\n//     }\r\n// \r\n//     closeMe() {\r\n//         GD.GameTool.destroyBlurBg();\r\n//         this.node && this.node.destroy();\r\n//     }\r\n// \r\n//     async getCalcInfo(userID) {\r\n//         return new Promise((resolve, reject) => {\r\n//             NetHelp.getCalcInfo(userID, (retData) => {\r\n//                 if (typeof retData != \"object\") { retData = JSON.parse(retData) };\r\n//                 let { code, info } = retData;\r\n//                 if (code == 0) {\r\n//                     resolve(info);\r\n//                 } else {\r\n//                     // GD.GameTool.showTextTips(info);\r\n//                 }\r\n//             })\r\n//         })\r\n//     }\r\n// }\r\n","import { _decorator, Component, Sprite, Label, SpriteAtlas } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PDKPlayerInfoPropItem')\r\nexport default class PDK_PlayerInfoPropItem extends Component {\r\n    @property(Sprite)\r\n    icon: Sprite | null = null;\r\n    @property(Label)\r\n    lbl: Label | null = null;\r\n    private m_itemId: string = null;\r\n    \r\n    setItem(itemId: string, atlas: SpriteAtlas) {\r\n        // if (this.m_itemId == null) {\r\n        // this.m_itemId = itemId;\r\n        // this.icon.spriteFrame = atlas.getSpriteFrame(itemId);\r\n        // }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_PlayerInfoPropItem extends cc.Component {\r\n//     @property(cc.Sprite)\r\n//     icon: cc.Sprite = null;\r\n//     @property(cc.Label)\r\n//     lbl: cc.Label = null;\r\n// \r\n//     private m_itemId: string = null;\r\n//     \r\n// \r\n// \r\n//     setItem(itemId: string, atlas: cc.SpriteAtlas) {\r\n//         if (this.m_itemId == null) {\r\n//             this.m_itemId = itemId;\r\n//             this.icon.spriteFrame = atlas.getSpriteFrame(itemId);\r\n//         }\r\n//     }\r\n// }\r\n","import { _decorator } from 'cc';\r\nimport Utils from '../../kernel/Utils';\r\nimport { ConfigManager } from '../ConfigManager';\r\nimport { PeiMusicConfigContainer } from '../Conifg/PeiMusicConfigContainer';\r\nimport { ResourceMgr } from 'db://assets/core_tgx/base/ResourceMgr';\r\nimport { ModuleDef } from 'db://assets/scripts/ModuleDef';\r\nimport { AudioClip } from 'cc';\r\nimport { CARD_TYPE } from '../PDK_ConstDef';\r\nimport { GameLogic } from 'db://assets/module_fish_whale/script/game/logic/gameLogic';\r\nimport PDK_Game from '../PDK_Game';\r\nimport PDK_BattleData from '../data/PDK_BattleData';\r\nimport PDK_Card from '../PDK_Card';\r\nimport { GamePlayCard } from '../message/GameManager';\r\nimport { CARD_COLOR } from '../message/Define';\r\nimport { PokerUtils } from '../message/PokerUtils';\r\n\r\nexport default class PDK_PlayerSoundHelper {\r\n    private m_sex: number = -1;\r\n    private m_seat: number = -1;\r\n    public init(seat: number, sex: number) {\r\n        this.m_seat = seat;\r\n        this.m_sex = sex;\r\n    }\r\n    public playCardSound(data: GamePlayCard) {\r\n        let { prevCards, } = data;\r\n        let { cards, userID, leftCardCount, } = prevCards;\r\n        // console.log(\"play card sound : \" + cards);\r\n        var cardType = PDK_Game.ins.GameLogic.getCardType(cards);\r\n        if (cardType == CARD_TYPE.NULL) return; // 牌型错误\r\n        let lastSeat = PDK_BattleData.instance().lastSeat;\r\n        let lastCardsValue: number[] = PDK_BattleData.instance().lastCardValues;\r\n       // 本轮首次\r\n        let currentRoundFirst: boolean = lastSeat == -1 || lastSeat == this.m_seat;\r\n        switch (cardType) {\r\n            case CARD_TYPE.SINGLE: {\r\n                let value = PokerUtils.getCardRank(cards[0]);\r\n                this.processSingle(currentRoundFirst, value, lastCardsValue, cards);\r\n                }\r\n                break;\r\n\r\n            case CARD_TYPE.PAIR: {\r\n                let value = PokerUtils.getCardRank(cards[0]);\r\n                this.processPair(currentRoundFirst, value);\r\n                }\r\n                break;\r\n\r\n            case CARD_TYPE.THREE: {\r\n                // let value = PDK_Card.getCardValue(cards[0]);\r\n                this.processThree(currentRoundFirst);\r\n                }\r\n                break;\r\n\r\n            case CARD_TYPE.STRAIGHT: {\r\n                this.processStraight(currentRoundFirst, cards);\r\n                }\r\n                break;\r\n\r\n            case CARD_TYPE.PAIRS: {\r\n                this.processPairs(currentRoundFirst, cards);\r\n                }\r\n                break;\r\n\r\n            case CARD_TYPE.FOUR: {\r\n                this.processFour(currentRoundFirst);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n//    // 一张\r\n    private processSingle(currentRoundFirst: boolean, value: number, lastCardsValue: number[], cards: number[]) {\r\n        if (currentRoundFirst) {\r\n           // 本轮首次\r\n            if (value < 3) {    // 1 2 要说打出去的牌型\r\n                this.playRandom(this.playSingle, value, this.playSoundById, 10080)\r\n            }\r\n            else {\r\n                this.playSoundById(10080);  // 3 - K直接说1张\r\n            }\r\n        }\r\n        else {\r\n            // 普通大\r\n            // 同值不同花色\r\n            if (value == lastCardsValue[0]) {\r\n                let soundId: number = 0;\r\n                let color = PDK_Card.getCardColor(cards[0]);\r\n                if (color == CARD_COLOR.Diamond) {\r\n                    soundId = 10120\r\n                }\r\n                else if (color == CARD_COLOR.HEART) {\r\n                    soundId = 10130\r\n                }\r\n                else if (color == CARD_COLOR.CLUB) {\r\n                    soundId = 10110\r\n                }\r\n                else if (color == CARD_COLOR.SPADE) {\r\n                    soundId = 10100\r\n                }\r\n\r\n                this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSoundById, soundId, this.playSingle, value);\r\n            }\r\n            else {\r\n                this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSingle, value);\r\n            }\r\n    }\r\n    }\r\n//    // 对子\r\n    private processPair(currentRoundFirst: boolean, value: number) {\r\n        if (currentRoundFirst) {\r\n           // 本轮首次\r\n            this.playRandom(this.playSoundById, 10160, this.playPair, value);\r\n        }\r\n        else {  // 普通大\r\n            this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSoundById, 10160, this.playPair, value);\r\n        }\r\n    }\r\n//    // 3张\r\n    private processThree(currentRoundFirst: boolean) {\r\n        if (currentRoundFirst) {\r\n           // 本轮首次\r\n            this.playSoundById(10190);  // 3张\r\n        }\r\n        else {\r\n           // 普通大\r\n            this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSoundById, 10190);\r\n        }\r\n    }\r\n//    // 顺子\r\n    private processStraight(currentRoundFirst: boolean, cards: number[]) {\r\n        let len = cards.length;\r\n        if (len == 3) {\r\n           // 3顺子\r\n            let value = PokerUtils.getCardRank(cards[0]);\r\n            let soundId:number = 10210 + value - 3;\r\n            if (currentRoundFirst) {\r\n                // 本轮首次\r\n            this.playRandom(this.playSoundById, 10200, this.playSoundById, soundId);\r\n            }\r\n            else {\r\n                // 普通大\r\n                this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSoundById, 10200, this.playSoundById, soundId);\r\n            }\r\n        }\r\n        else {\r\n           //4 顺子及以上\r\n            if (currentRoundFirst) {\r\n                // 本轮首次\r\n                this.playSoundById(10200);\r\n            }\r\n            else {\r\n                // 普通大\r\n                this.playRandom(this.playSoundById, 10010, this.playSoundById, 10020, this.playSoundById, 10200);\r\n            }\r\n        }\r\n    }\r\n//    // 连对\r\n    private processPairs(currentRoundFirst: boolean, cards: number[]) {\r\n        if (cards.length == 6) {\r\n           // 3连对\r\n            if (currentRoundFirst) {\r\n                    // 本轮首次\r\n                this.playSoundById(10060);\r\n            }\r\n            else {\r\n                    // 炸弹大\r\n                this.playRandom(this.playSoundById, 10020, this.playSoundById, 10060);\r\n            }\r\n        }\r\n        else if (cards.length == 8) {\r\n            // 4连对\r\n            if (currentRoundFirst) {\r\n                    // 本轮首次\r\n                this.playSoundById(10040);\r\n            }\r\n            else {\r\n                    // 炸弹大\r\n                this.playRandom(this.playSoundById, 10020, this.playSoundById, 10040);\r\n            }\r\n        }\r\n    }\r\n   // 四季\r\n    private processFour(currentRoundFirst: boolean) {\r\n        if (currentRoundFirst) {\r\n           // 本轮首次\r\n            this.playSoundById(10050);\r\n        }\r\n        else {\r\n           // 炸弹大\r\n            this.playRandom(this.playSoundById, 10020, this.playSoundById, 10050);\r\n        }\r\n    }\r\n    private playRandom(fun1: Function, param1: any = null, fun2: Function = undefined, param2: any = null, fun3: Function = undefined, param3: any = null, fun4: Function = undefined, param4: any = null) {\r\n        let max = 0;\r\n        if (fun1 != null) {\r\n            max = 0;\r\n        }\r\n        if (fun2 != null) {\r\n            max = 1;\r\n        }\r\n        if (fun3 != null) {\r\n            max = 2;\r\n        }\r\n        if (fun4 != null) {\r\n            max = 3;\r\n        }\r\n\r\n        let idx = Utils.randomRangeInt(0, max);\r\n        if (idx == 0) {\r\n            fun1.call(this, param1);\r\n        }\r\n        else if (idx == 1) {\r\n            fun2.call(this, param2);\r\n        }\r\n        else if (idx == 2) {\r\n            fun3.call(this, param3);\r\n        }\r\n        else if (idx == 3) {\r\n            fun4.call(this, param4);\r\n        }\r\n    }\r\n    private playSingle(value: number) {\r\n        if (value == 1) {\r\n            this.playSoundById(10151);\r\n        }\r\n        else if (value == 2) {\r\n            this.playSoundById(10152);\r\n        }\r\n        else {\r\n            let id: number = 10140 + value - 3;\r\n            this.playSoundById(id);\r\n        }\r\n    }\r\n    private playPair(value: number) {\r\n        if (value == 1) {\r\n            this.playSoundById(10181);\r\n        }\r\n        else if (value == 2) {\r\n            this.playSoundById(10182);\r\n        }\r\n        else {\r\n            let id: number = 10170 + value - 3;\r\n            this.playSoundById(id);\r\n        }\r\n    }\r\n    public playPass() {\r\n        this.playSoundById(10000);\r\n    }\r\n    public playWin() {\r\n        this.playSoundById(10030);\r\n    }\r\n    public playTongpai() {\r\n        this.playSoundById(10070);\r\n    }\r\n    private playSoundById(soundId: number) {\r\n        if(this){\r\n            PDK_PlayerSoundHelper.playerSound(soundId, this.m_sex);\r\n        }\r\n    }\r\n    public static playSoundUrl(url: string) {\r\n        tgx.AudioMgr.inst.audio.playEffect(url,ModuleDef.POKER_PDK_YUENAN);\r\n    }\r\n    \r\n    public static playerSound(soundId: number, sex: number) {\r\n        let peiConfig: PeiMusicConfigContainer = ConfigManager.getInstance().getConfig(PeiMusicConfigContainer);\r\n        let pei = peiConfig.getDataById(soundId);\r\n        if (pei == null)\r\n        {\r\n            console.error(\"could not find play pei sound id : \" + soundId);\r\n            return;\r\n        }\r\n        // console.log(\"play pei sound : \" + soundId);\r\n        let idxMax = pei.arrSound.length - 1;\r\n        let idx = Utils.randomRangeInt(0, idxMax);\r\n        let res: string = pei.arrSound[idx];\r\n        let sexPath: string = sex == 1 ? \"boy/\" : \"girl/\";\r\n        let path = \"pdk/sound/\" + sexPath + res;\r\n        this.playSoundUrl(path);\r\n    }\r\n}","// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-24 00:49:59\r\n//  * @LastEditTime: 2021-12-25 23:59:46\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n\r\nimport { _decorator, Component, Prefab, SpriteAtlas, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport PDK_Game from \"../PDK_Game\";\r\nimport PDK_Player from \"../PDK_Player\";\r\nimport PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\n\r\n@ccclass('PDKPropItemHelper')\r\nexport default class PDK_PropItemHelper extends Component {\r\n    @property(Prefab)\r\n    prop: Prefab | null = null;\r\n    @property(SpriteAtlas)\r\n    atlas: SpriteAtlas | null = null;\r\n    bindObj: any[];\r\n    propPool: Node[] = [];\r\n    private gameScript: PDK_Game = null;\r\n    start() {\r\n\r\n        // this.bindEvent();\r\n        // this.gameScript = this.node.getComponent(PDK_Game);\r\n    }\r\n    bindEvent() {\r\n        // this.bindObj = [];\r\n        // this.bindObj.push(onfire.on(\"onUseItem\", this.onUseItem.bind(this)));\r\n    }\r\n    onDestroy() {\r\n        // if (this.bindObj != null) {\r\n        // for (let i = 0; i < this.bindObj.length; i++) {\r\n        // onfire.un(this.bindObj[i]);\r\n        // }\r\n        // }\r\n    }\r\n    private onUseItem(data) {\r\n        // if (data != null) {\r\n\r\n//            // 如果不是使用互动道具\r\n        // if (typeof data.item_id != \"string\" || data.item_id.indexOf(\"prop_index_\") == -1) {\r\n        // return;\r\n        // }\r\n\r\n        // let res: string = data.item_id.replace(\"prop_index_\", \"\");\r\n        // if (res == null || res == \"\") return;\r\n        // let from: cc.Node = null;\r\n        // let to: cc.Node = null;\r\n        // let arr: PDK_Player[] = this.gameScript.playerScript;\r\n        // for (let i = 0; i < arr.length; i++) {\r\n        // let player: PDK_Player = arr[i];\r\n        // if (player.userId == data.to) {\r\n        // to = player.node;\r\n        // }\r\n        // else if (player.userId == data.from) {\r\n        // from = player.node;\r\n        // }\r\n        // }\r\n\r\n        // if (from != null && to != null) {\r\n        // this.playThrow(from, to, res);\r\n        // }\r\n        // }\r\n    }\r\n    private playThrow(from: Node, to: Node, res: string) {\r\n        // let parent = from.parent;\r\n        // let item = cc.instantiate(this.prop);\r\n        // item.setParent(parent);\r\n        // item.setPosition(from.x, from.y);\r\n        // let icon = item.getChildByName(\"icon\").getComponent(cc.Sprite);\r\n        // icon.spriteFrame = this.atlas.getSpriteFrame(res);\r\n        // let start = new cc.Vec2(from.x, from.y);\r\n        // let end  = new cc.Vec2(to.x, to.y + 20);\r\n        // let midx = (end.x + start.x) / 2;\r\n        // let midy = (end.y + start.y) / 2;\r\n        // midy += Math.abs(midy) / 2;\r\n        // let mid = new cc.Vec2(midx, end.y + 100);\r\n        // let bezier = cc.bezierTo(1, [start, mid, end]).easing(cc.easeQuadraticActionInOut());\r\n        // item.runAction(cc.sequence(bezier, cc.callFunc(() => {\r\n        // icon.node.active = false;\r\n        // this.playAni(item, res);\r\n        // }, this)));\r\n    }\r\n    private playAni(item: Node, res: string) {\r\n        // let ani = item.getComponent(dragonBones.ArmatureDisplay);\r\n        // ani.playAnimation(res, 1);\r\n        // ani.on(dragonBones.EventObject.COMPLETE, (event) => {\r\n        // item.destroy();\r\n        // }, this);\r\n\r\n        // console.log(\"item play index:\", res);\r\n\r\n        // this.playerSound(res);\r\n    }\r\n    public playerSound(res) {\r\n        // let index = 0;\r\n        // switch (res) {\r\n        // case \"baozha\":\r\n        // index = 0;\r\n        // break;\r\n        // case \"egg\":\r\n        // index = 1;\r\n        // break;\r\n        // case \"kiss\":\r\n        // index = 2;\r\n        // break;\r\n        // case \"rose\":\r\n        // index = 3;\r\n        // break;\r\n        // case \"slippe\":\r\n        // index = 4;\r\n        // break;\r\n        // case \"beer\":\r\n        // index = 6;\r\n        // break;\r\n\r\n        // default:\r\n        // break;\r\n        // }\r\n        // let path = \"hall/sound/props/\" + index;\r\n\r\n        // PDK_PlayerSoundHelper.playSoundUrl(path);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-24 00:49:59\r\n//  * @LastEditTime: 2021-12-25 23:59:46\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n// import PDK_Game from \"../PDK_Game\";\r\n// import PDK_Player from \"../PDK_Player\";\r\n// import PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\n// \r\n// const { ccclass, property } = cc._decorator;\r\n// @ccclass\r\n// export default class PDK_PropItemHelper extends cc.Component {\r\n// \r\n//     @property(cc.Prefab)\r\n//     prop: cc.Prefab = null;\r\n// \r\n//     @property(cc.SpriteAtlas)\r\n//     atlas: cc.SpriteAtlas = null;\r\n// \r\n//     bindObj: any[];\r\n// \r\n//     propPool: cc.Node[] = [];\r\n//     private gameScript: PDK_Game = null;\r\n// \r\n//     start() {\r\n// \r\n//         this.bindEvent();\r\n//         this.gameScript = this.node.getComponent(PDK_Game);\r\n//     }\r\n//     bindEvent() {\r\n//         this.bindObj = [];\r\n//         this.bindObj.push(onfire.on(\"onUseItem\", this.onUseItem.bind(this)));\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         if (this.bindObj != null) {\r\n//             for (let i = 0; i < this.bindObj.length; i++) {\r\n//                 onfire.un(this.bindObj[i]);\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private onUseItem(data) {\r\n//         if (data != null) {\r\n// \r\n//             // 如果不是使用互动道具\r\n//             if (typeof data.item_id != \"string\" || data.item_id.indexOf(\"prop_index_\") == -1) {\r\n//                 return;\r\n//             }\r\n// \r\n//             let res: string = data.item_id.replace(\"prop_index_\", \"\");\r\n//             if (res == null || res == \"\") return;\r\n//             let from: cc.Node = null;\r\n//             let to: cc.Node = null;\r\n//             let arr: PDK_Player[] = this.gameScript.playerScript;\r\n//             for (let i = 0; i < arr.length; i++) {\r\n//                 let player: PDK_Player = arr[i];\r\n//                 if (player.userId == data.to) {\r\n//                     to = player.node;\r\n//                 }\r\n//                 else if (player.userId == data.from) {\r\n//                     from = player.node;\r\n//                 }\r\n//             }\r\n// \r\n//             if (from != null && to != null) {\r\n//                 this.playThrow(from, to, res);\r\n//             }\r\n//         }\r\n//     }\r\n// \r\n//     private playThrow(from: cc.Node, to: cc.Node, res: string) {\r\n//         let parent = from.parent;\r\n//         let item = cc.instantiate(this.prop);\r\n//         item.setParent(parent);\r\n//         item.setPosition(from.x, from.y);\r\n//         let icon = item.getChildByName(\"icon\").getComponent(cc.Sprite);\r\n//         icon.spriteFrame = this.atlas.getSpriteFrame(res);\r\n//         let start = new cc.Vec2(from.x, from.y);\r\n//         let end  = new cc.Vec2(to.x, to.y + 20);\r\n//         let midx = (end.x + start.x) / 2;\r\n//         let midy = (end.y + start.y) / 2;\r\n//         midy += Math.abs(midy) / 2;\r\n//         let mid = new cc.Vec2(midx, end.y + 100);\r\n//         let bezier = cc.bezierTo(1, [start, mid, end]).easing(cc.easeQuadraticActionInOut());\r\n//         item.runAction(cc.sequence(bezier, cc.callFunc(() => {\r\n//             icon.node.active = false;\r\n//             this.playAni(item, res);\r\n//         }, this)));\r\n//     }\r\n// \r\n//     private playAni(item: cc.Node, res: string) {\r\n//         let ani = item.getComponent(dragonBones.ArmatureDisplay);\r\n//         ani.playAnimation(res, 1);\r\n//         ani.on(dragonBones.EventObject.COMPLETE, (event) => {\r\n//             item.destroy();\r\n//         }, this);\r\n// \r\n//         console.log(\"item play index:\", res);\r\n// \r\n//         this.playerSound(res);\r\n//     }\r\n// \r\n//     public playerSound(res) {\r\n//         let index = 0;\r\n//         switch (res) {\r\n//             case \"baozha\":\r\n//                 index = 0;\r\n//                 break;\r\n//             case \"egg\":\r\n//                 index = 1;\r\n//                 break;\r\n//             case \"kiss\":\r\n//                 index = 2;\r\n//                 break;\r\n//             case \"rose\":\r\n//                 index = 3;\r\n//                 break;\r\n//             case \"slippe\":\r\n//                 index = 4;\r\n//                 break;\r\n//             case \"beer\":\r\n//                 index = 6;\r\n//                 break;\r\n// \r\n//             default:\r\n//                 break;\r\n//         }\r\n//         let path = \"hall/sound/props/\" + index;\r\n// \r\n//         PDK_PlayerSoundHelper.playSoundUrl(path);\r\n//     }\r\n// }\r\n","// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-23 23:14:42\r\n//  * @LastEditTime: 2022-01-11 00:38:45\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n\r\nimport { _decorator, Component, Node, Label} from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\n@ccclass('PDKResultBigItem')\r\nexport default class PDK_Result_BigItem extends Component {\r\n    @property(Node)\r\n    failBg: Node | null = null;\r\n    @property(Node)\r\n    winBg: Node | null = null;\r\n    @property(Node)\r\n    head: Node | null = null;\r\n    @property(Node)\r\n    medal: Node | null = null;\r\n    \r\n    @property(Label)\r\n    lblName: Label | null = null;\r\n    @property(Label)\r\n    lblID: Label | null = null;\r\n    @property(Label)\r\n    lblScore: Label | null = null;\r\n    @property(Label)\r\n    winCnt_text: Label | null = null;\r\n    @property(Label)\r\n    bombCnt_text: Label | null = null;\r\n    @property(Label)\r\n    successiveWinCnt_text: Label | null = null;\r\n    @property(Label)\r\n    winCnt: Label | null = null;\r\n    @property(Label)\r\n    bombCnt: Label | null = null;\r\n    @property(Label)\r\n    successiveWinCnt: Label | null = null;\r\n    \r\n    // setData(data:BigResultData, isMedal:boolean) {\r\n        // this.lblName.string = data.nickname;\r\n        // this.lblID.string = \"ID:\" + data.userID;\r\n        // this.lblScore.string = data.score.toString();\r\n\r\n        // let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n\r\n        // this.winCnt_text.string = langConfig.getLangById(10828);\r\n        // this.bombCnt_text.string = langConfig.getLangById(10829);\r\n        // this.successiveWinCnt_text.string = langConfig.getLangById(10830);\r\n\r\n        // this.winCnt.string = data.winCnt + \"\";\r\n        // this.bombCnt.string = data.bombCnt + \"\";\r\n        // this.successiveWinCnt.string = data.successiveWinCnt + \"\";\r\n\r\n        // this.medal.active = isMedal;\r\n\r\n        // let number_one = cc.find(\"number_one\",this.node);\r\n        // let select_icon = cc.find(\"select_icon\", this.node);\r\n        // if (isMedal) {\r\n        // this.winBg.active = true;\r\n        // number_one.active = true;\r\n        // this.failBg.active = false;\r\n        // }\r\n        // else {\r\n        // number_one.active = false;\r\n        // this.winBg.active = false;\r\n        // this.failBg.active = true;\r\n        // }\r\n        // select_icon.active = false;\r\n\r\n        // this.head && (GameTools.loadWxHead(this.head, data.headUrl));\r\n    // }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-23 23:14:42\r\n//  * @LastEditTime: 2022-01-11 00:38:45\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n// import { ConfigManager } from \"../../../kernel/ConfigManager\";\r\n// import { LanguageConfigContainer } from \"../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { BigResultData } from \"./PDK_SubGameMSG\";\r\n// \r\n// const {ccclass, property} = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_Result_BigItem extends cc.Component {\r\n//     @property(cc.Node)\r\n//     failBg: cc.Node = null;\r\n//     @property(cc.Node)\r\n//     winBg: cc.Node = null;\r\n//     @property(cc.Node)\r\n//     head: cc.Node = null;\r\n//     @property(cc.Node)\r\n//     medal: cc.Node = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblName: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     lblID: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     lblScore: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     winCnt_text: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     bombCnt_text: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     successiveWinCnt_text: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     winCnt: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     bombCnt: cc.Label = null;\r\n//     @property(cc.Label)\r\n//     successiveWinCnt: cc.Label = null;\r\n//     \r\n// \r\n//     setData(data:BigResultData, isMedal:boolean) {\r\n//         this.lblName.string = data.nickname;\r\n//         this.lblID.string = \"ID:\" + data.userID;\r\n//         this.lblScore.string = data.score.toString();\r\n// \r\n//         let langConfig = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n// \r\n//         this.winCnt_text.string = langConfig.getLangById(10828);\r\n//         this.bombCnt_text.string = langConfig.getLangById(10829);\r\n//         this.successiveWinCnt_text.string = langConfig.getLangById(10830);\r\n// \r\n//         this.winCnt.string = data.winCnt + \"\";\r\n//         this.bombCnt.string = data.bombCnt + \"\";\r\n//         this.successiveWinCnt.string = data.successiveWinCnt + \"\";\r\n//         \r\n//         this.medal.active = isMedal;\r\n// \r\n//         let number_one = cc.find(\"number_one\",this.node);\r\n//         let select_icon = cc.find(\"select_icon\", this.node);\r\n//         if (isMedal) { \r\n//             this.winBg.active = true;\r\n//             number_one.active = true;\r\n//             this.failBg.active = false;\r\n//         }\r\n//         else {\r\n//             number_one.active = false;\r\n//             this.winBg.active = false;\r\n//             this.failBg.active = true;\r\n//         }\r\n//         select_icon.active = false;\r\n// \r\n//         this.head && (GameTools.loadWxHead(this.head, data.headUrl));\r\n//     }\r\n// }\r\n","// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-14 17:30:44\r\n//  * @LastEditTime: 2022-01-07 22:58:38\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n\r\nimport { _decorator, Component, Label, Node } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\nimport { find } from 'cc';\r\nimport { UserResultData } from './message/GameManager';\r\nimport { UserMgr } from '../../module_basic/scripts/UserMgr';\r\nimport { PokerManager } from '../../module_basic/scripts/poker/PokerManager';\r\n\r\n@ccclass('PDKResultPlayer')\r\nexport default class PDK_Result_Player extends Component {\r\n    @property(Label)\r\n    lblzha: Label | null = null;\r\n    @property(Label)\r\n    lblchou: Label | null = null;\r\n    \r\n    @property(Label)\r\n    lblScore: Label | null = null;\r\n    @property(Label)\r\n    lblTotal: Label | null = null;\r\n    @property(Node)\r\n    selfMark: Node | null = null;\r\n    @property(Label)\r\n    lblNickname: Label | null = null;\r\n    @property(Node)\r\n    icon_creator: Node | null = null;\r\n    @property(Node)\r\n    head: Node | null = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n//    // onLoad () {}\r\n    initPlayerInfo (data: UserResultData, chairID) {\r\n        this.lblScore.string = data.winGold + \"\";\r\n        // this.lblzha.string = data.bombGold + \"\";\r\n\r\n        let bg = find(\"bg\",this.node);\r\n        if(data.userID == UserMgr.inst.uid){\r\n            bg.active = false;\r\n            this.selfMark.active = true;\r\n        }else{\r\n            bg.active = true;\r\n            this.selfMark.active = false;\r\n        }\r\n\r\n\r\n       let tableUser = PokerManager.inst.getTableUserItem(chairID);\r\n       if (tableUser == null) {\r\n           console.error(\"initPlayerInfo error : tableUser\");\r\n           return;\r\n       }\r\n\r\n        this.lblNickname.string = data.nickname;\r\n\r\n        this.icon_creator.active = data.isCreator;\r\n\r\n        // this.head && (GameTools.loadWxHead(this.head, data.headUrl));\r\n    }\r\n   // update (dt) {}\r\n}\r\n","// // Learn TypeScript:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// // Learn Attribute:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// // Learn life-cycle callbacks:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { _decorator, Component, Label, Node, Prefab } from 'cc';\r\nimport { LanguageConfigContainer} from './Conifg/LanguageConfigContainer';\r\nimport { find } from 'cc';\r\nimport { ConfigManager } from './ConfigManager';\r\nimport { GameEndData, UserResultData } from './message/GameManager';\r\nimport PDK_Result_Player from './PDK_Result_Player';\r\nimport { instantiate } from 'cc';\r\nimport { UserMgr } from '../../module_basic/scripts/UserMgr';\r\nimport { tween } from 'cc';\r\nimport { easing } from 'cc';\r\nimport { Button } from 'cc';\r\nimport { RoomMgr } from '../../module_basic/scripts/RoomMgr';\r\nimport { SubGameMgr } from '../../module_basic/scripts/SubGameMgr';\r\nimport { SubGameDef } from '../../module_basic/scripts/SubGameDef';\r\nimport { LanguageData } from 'db://assets/module_basic/scripts/language/LanguageData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('PDKResult')\r\nexport default class PDK_Result extends Component {\r\n    @property(Label)\r\n    player_name_lbl: Label | null = null;\r\n    @property(Label)\r\n    player_zha_lbl: Label | null = null;\r\n    @property(Label)\r\n    player_chou_lbl: Label | null = null;\r\n    @property(Label)\r\n    player_curscore_lbl: Label | null = null;\r\n    @property(Label)\r\n    player_sumscore_lbl: Label | null = null;\r\n    @property(Node)\r\n    roundLayout: Node | null = null;\r\n    @property(Node)\r\n    roundRoot: Node | null = null;\r\n    @property(Node)\r\n    bigLayout: Node | null = null;\r\n    @property(Node)\r\n    bigRoot: Node | null = null;\r\n    @property(Node)\r\n    btn_continue_node: Node | null = null;\r\n    @property(Prefab)\r\n    roundResultItem: Prefab | null = null;\r\n    @property(Node)\r\n    bigResultItem: Node | null = null;\r\n    // bigData: any;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        this.bigResultItem.active = false;\r\n        this.roundRoot.active = false;\r\n        this.bigRoot.active = false;\r\n        let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let lbl = find(\"btn_continue/label\", this.node).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10826);\r\n\r\n        this.player_name_lbl.string = langCfg.getLangById(10820);\r\n        // this.player_zha_lbl.string = langCfg.getLangById(10821);\r\n        // this.player_chou_lbl.string = langCfg.getLangById(10822);\r\n        this.player_curscore_lbl.string = langCfg.getLangById(10823);\r\n        // this.player_sumscore_lbl.string = langCfg.getLangById(10824);\r\n    }\r\n    start() {\r\n        let btns = this.node.getComponentsInChildren(Button);\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].node.on(Node.EventType.TOUCH_END, this.btnOnClick, this);\r\n        }\r\n    }\r\n//    /**\r\n//     * 按钮点击事件\r\n//     * @param event 点击的按钮对象\r\n//     */\r\n    btnOnClick(event) {\r\n        var btn_name = event.currentTarget.name;\r\n        switch (btn_name) {\r\n            case \"btn_continue\":  //继续\r\n                //重新匹配\r\n                this.onRestart();\r\n                break;\r\n            case \"btn_blue_m\":\r\n                //退出\r\n                tgx.UIAlert.show(LanguageData.getLangByID(\"exit_game\"), true).onClick(async (ok: Boolean) => {\r\n                    if (ok) {\r\n                        tgx.AudioMgr.inst.audio.clearAll();\r\n                        RoomMgr.inst.exitRoom();\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n    }\r\n    showGameResult(data: GameEndData) {\r\n        let { userData } = data;\r\n        // this.bigData = bigData;\r\n       // if (bigData != null) {\r\n       //     this.showBigResult(bigData);\r\n       // }\r\n       // else {\r\n\r\n        this.showRoundResult(userData);\r\n       // }\r\n    }\r\n    private showRoundResult(userData: UserResultData[]) {\r\n        let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let lbl = find(\"btn_continue/label\", this.node).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10826);\r\n\r\n        this.roundRoot.active = true;\r\n        this.bigRoot.active = false;\r\n        let isWin: boolean = false;\r\n        this.roundLayout.removeAllChildren();\r\n\r\n        let selfNode = null;\r\n        for (let i = 0; i < userData.length; i++) {\r\n            let data: UserResultData = userData[i];\r\n            let itemNode = instantiate(this.roundResultItem);\r\n            itemNode.parent = this.roundLayout;\r\n            itemNode.getComponent(PDK_Result_Player).initPlayerInfo(data, i);\r\n            if(data.userID == UserMgr.inst.uid)\r\n            {\r\n                isWin = data.isWinner;\r\n                selfNode = itemNode;\r\n            }\r\n\r\n            let originx = itemNode.x;\r\n            itemNode.x = 1500;\r\n            tween(itemNode).delay(0.5 * i).to(0.5, { x: originx }, { easing: easing.backOut }).start();\r\n        }\r\n\r\n        let selfMark = find(\"selfMark\", selfNode);\r\n        tween(selfMark).delay(1 * (userData.length - 1)).to(0.2, { opacity: 0 }).delay(0.2).to(0.2, { opacity: 255 }).start();\r\n\r\n\r\n        let winNode = find(\"result/bg/title_win\", this.node);\r\n        let loseNode = find(\"result/bg/title_lose\", this.node);\r\n        winNode.active = isWin;\r\n        loseNode.active = !isWin;\r\n    }\r\n    // private showBigResult(bigResultData: BigResultData[]) {\r\n        // AudioControl.playGetReward();\r\n\r\n        // let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        // let lbl = cc.find(\"btn_continue/label\", this.node).getComponent(cc.Label);\r\n        // lbl.string = langCfg.getLangById(10831);\r\n\r\n        // this.bigRoot.active = true;\r\n        // this.roundRoot.active = false;\r\n\r\n        // let caidai = cc.find(\"p_box\", this.bigRoot);//彩带庆祝粒子特效\r\n\r\n        // bigResultData.sort((a, b) => {\r\n        // return b.score - a.score;\r\n        // });\r\n\r\n        // let isAllZero = true;//是否所有人都没有获得分数或者金币，如果是，默认大家都输\r\n\r\n        // for (let index = 0; index < bigResultData.length; index++) {\r\n        // let data: BigResultData = bigResultData[index];\r\n        // if (Number(data.score) != 0) {\r\n        // isAllZero = false;\r\n        // break;\r\n        // }\r\n        // }\r\n\r\n        // let isSelfWin: boolean = false;//自己是否赢了\r\n\r\n        // let firstData = bigResultData[0];\r\n        // if (Number(firstData.userID) == KernelData.userID && !isAllZero) {\r\n        // isSelfWin = true;\r\n        // }\r\n\r\n        // let winNode = cc.find(\"big_result/title_win\", this.node);\r\n        // let loseNode = cc.find(\"big_result/title_lose\", this.node);\r\n\r\n        // let winnerNode = null;\r\n        // let selfNode = null;\r\n        // let arr = [winNode, loseNode];\r\n        // for (let i = 0; i < bigResultData.length; i++) {\r\n        // let data: BigResultData = bigResultData[i];\r\n        // let itemNode = cc.instantiate(this.bigResultItem);\r\n        // itemNode.parent = this.bigLayout;\r\n        // itemNode.active = true;\r\n        // arr.push(itemNode);\r\n        // let iswin = i == 0 && !isAllZero;\r\n        // if (iswin) {\r\n        // winnerNode = itemNode;\r\n        // }\r\n        // if(Number(data.userID) == Number(KernelData.userID)){\r\n        // selfNode = itemNode;\r\n        // }\r\n        // itemNode.getComponent(PDK_Result_BigItem).setData(data, iswin);\r\n\r\n        // itemNode.setScale(0, 0);\r\n        // cc.tween(itemNode).to(0.3, { scaleX: 1, scaleY: 1 }, { easing: cc.easing.backOut }).start();\r\n        // }\r\n\r\n\r\n\r\n        // if (isSelfWin) {\r\n        // winNode.active = true;\r\n        // loseNode.active = false;\r\n        // caidai.active = true;\r\n        // } else {\r\n        // winNode.active = false;\r\n        // loseNode.active = true;\r\n        // caidai.active = false;\r\n        // }\r\n\r\n//        //放大出现\r\n        // arr.push(this.btn_continue_node);\r\n        // for (let m = 0; m < arr.length; m++) {\r\n        // let element: cc.Node = arr[m];\r\n        // element.setScale(0, 0);\r\n        // cc.tween(element).delay(0.1 * m).to(0.3, { scaleX: 1, scaleY: 1 }, { easing: cc.easing.backOut }).start();\r\n        // }\r\n\r\n//        //选中态闪烁\r\n        // if (selfNode) {\r\n        // let select_icon = cc.find(\"select_icon\", selfNode);\r\n        // select_icon.active = true;\r\n        // select_icon.opacity = 0;\r\n        // let time = 0.2;\r\n        // cc.tween(select_icon).delay(0.4 * (arr.length - 2)).to(time, { opacity: 255 }).to(time, { opacity: 0 }).delay(time).to(time, { opacity: 255 }).start();\r\n        // }\r\n    // }\r\n//    // update (dt) {}\r\n    async onRestart(){\r\n        \r\n        //重新匹配\r\n        let matchGameAgainRet = await SubGameMgr.inst.MatchGameAgain(SubGameDef.POKER_PDK_YUENAN,SubGameMgr.gameMgr.subType);\r\n        if(matchGameAgainRet.isSucc)\r\n        {\r\n            this.node.destroy();\r\n        }\r\n    }\r\n}","import { _decorator, Component, Node, Label, ProgressBar } from 'cc';\r\nimport EventCenter from '../../kernel/EventCenter';\r\nimport { gameExpressionEvent } from '../PDK_define';\r\nimport { LanguageConfigContainer } from '../Conifg/LanguageConfigContainer';\r\nimport { ConfigManager } from '../ConfigManager';\r\nimport { AudioControl } from '../AudioControl';\r\nimport { GameTool } from '../../kernel/GD';\r\nconst {ccclass, property} = _decorator;\r\n\r\n\r\n@ccclass('PDKRewardBtns')\r\nexport default class PDK_RewardBtns extends Component {\r\n    @property(Node)\r\n    nodeGift: Node | null = null;\r\n    \r\n    @property(Node)\r\n    nodeFragment: Node | null = null;\r\n    \r\n    @property(Node)\r\n    btnGift: Node | null = null;\r\n    \r\n    @property(Node)\r\n    btnFragment: Node | null = null;\r\n    @property(Label)\r\n    lblGift: Label | null = null;\r\n    @property(Label)\r\n    lblFragment: Label | null = null;\r\n    \r\n    @property(Label)\r\n    lblFragmentProgress: Label | null = null;\r\n    @property(Label)\r\n    lblFragment1: Label | null = null;\r\n    \r\n    @property(ProgressBar)\r\n    progressFragment: ProgressBar | null = null;\r\n    @property(Node)\r\n    fragmentEffect: Node | null = null;\r\n    private m_isGiftOpen: boolean = false;\r\n    private m_isFragmentOpen: boolean = false;\r\n    onLoad() {\r\n        this.nodeGift.active = false;\r\n        this.nodeFragment.active = false;\r\n        let langConfig: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n        this.lblGift.string = langConfig.getLangById(10234);\r\n        this.lblFragment.string = langConfig.getLangById(120001002);\r\n        this.fragmentEffect.active = false;\r\n\r\n        this.updateFragmentText();\r\n        EventCenter.onEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE, this.onFlyComplete, this);\r\n        EventCenter.onEvent(gameExpressionEvent.CHECK_SHOW_EXTRA_REWARD_BTNS, this.onCheckShowExtraRewardBtns, this);\r\n        this.onCheckShowExtraRewardBtns();\r\n    }\r\n    start() {\r\n        this.scheduleOnce(this.showContentWhenStart, 1);\r\n    }\r\n    onDestroy() {\r\n        EventCenter.offEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE, this.onFlyComplete, this);\r\n        EventCenter.offEvent(gameExpressionEvent.CHECK_SHOW_EXTRA_REWARD_BTNS, this.onCheckShowExtraRewardBtns, this);\r\n    }\r\n    private showContentWhenStart() {\r\n        // this.showGift();\r\n        this.scheduleOnce(this.showFragment, 0.5);\r\n        this.scheduleOnce(this.hideGift, 3);\r\n        this.scheduleOnce(this.hideFragment, 3.5);\r\n        this.scheduleOnce(this.setBtns, 4);\r\n    }\r\n    private setBtns() {\r\n        this.btnGift.on(Node.EventType.TOUCH_END, this.onBtnGift, this)\r\n        this.btnFragment.on(Node.EventType.TOUCH_END, this.onBtnFragment, this)\r\n    }\r\n    private onBtnGift() {\r\n        AudioControl.playClick();\r\n        if (this.m_isGiftOpen) {\r\n            this.hideGift();\r\n        }\r\n        else {\r\n            this.showGift();\r\n            this.scheduleOnce(this.hideGift, 3);\r\n        }\r\n\r\n        this.showScoreExchange();\r\n    }\r\n    private onBtnFragment() {\r\n        AudioControl.playClick();\r\n        if (this.m_isFragmentOpen) {\r\n            this.hideFragment();\r\n        }\r\n        else {\r\n            this.showFragment();\r\n            this.scheduleOnce(this.hideFragment, 3);\r\n        }\r\n\r\n        this.showChipExchange();\r\n\r\n        if (this.fragmentEffect.active) {\r\n            this.fragmentEffect.active = false;\r\n        }\r\n    }\r\n    private showScoreExchange() {\r\n        // GameTool.createPanel(\"hall/panel/panel_exchange\", (newNode)=>{\r\n        //     newNode.getComponent(panel_exchange).showScoreExchange();\r\n        // })\r\n    }\r\n    private showChipExchange() {\r\n        // GD.GameTool.createPanel(\"hall/panel/panel_exchange\", (newNode)=>{\r\n        // newNode.getComponent(panel_exchange).showChipExchange();\r\n        // })\r\n    }\r\n    private showGift() {\r\n        this.m_isGiftOpen = true;\r\n        this.showContent(this.nodeGift);\r\n    }\r\n    private hideGift() {\r\n        this.m_isGiftOpen = false;\r\n        this.hideContent(this.nodeGift);\r\n    }\r\n    private showFragment() {\r\n        this.m_isFragmentOpen = true;\r\n        this.showContent(this.nodeFragment);\r\n    }\r\n    private hideFragment() {\r\n        this.m_isFragmentOpen = false;\r\n        this.hideContent(this.nodeFragment);\r\n    }\r\n    private showContent(node: Node) {\r\n        // if (node == null) return;\r\n        // if (node.active == false) {\r\n        // node.active = true;\r\n        // }\r\n        // node.scaleX = 0;\r\n        // node.opacity = 0;\r\n        // let scaleAct = cc.scaleTo(0.3, 1, 1).easing(cc.easeBackOut());\r\n        // let fadeAct = cc.fadeIn(0.3);\r\n        // node.runAction(cc.spawn(scaleAct, fadeAct));\r\n    }\r\n    private hideContent(node: Node) {\r\n        // let scaleAct = cc.scaleTo(0.3, 0, 1).easing(cc.easeBackIn());\r\n        // let fadeAct = cc.fadeOut(0.3);\r\n        // node.runAction(cc.sequence(cc.spawn(scaleAct, fadeAct), cc.callFunc(() => {\r\n        // if (node != null && node.isValid) {\r\n        // node.active = false;\r\n        // }\r\n        // }, this)));\r\n    }\r\n    private updateFragmentText() {\r\n        // let type = 2;   // 1 积分兑换 2 碎片兑换\r\n        // let exchangeConfigContainer = ConfigManager.getInstance().getConfig(ExchangeConfigContainer) as ExchangeConfigContainer;\r\n        // let exchangeDataList = exchangeConfigContainer.getExchangeListByType(type);\r\n\r\n        // let nowCnt = 0;\r\n        // let maxCnt = 0;\r\n        // let rewardInfo = null;\r\n        // let rewardIndex:number = -1\r\n        // for (let i = 0; i < exchangeDataList.length; i++) {\r\n        // let exchangeData = exchangeDataList[i];\r\n        // let priceInfo: ItemInfo = exchangeData.price_item;\r\n        // let priceItem = KernelData.pack[priceInfo.itemId];\r\n        // if (priceItem != null) {\r\n        // nowCnt = priceItem.cnt;\r\n        // }\r\n        // else {\r\n        // nowCnt = 0;\r\n        // }\r\n\r\n        // maxCnt = priceInfo.count;\r\n        // rewardInfo = exchangeData.get_reward;\r\n        // rewardIndex = i;\r\n        // if (nowCnt < maxCnt) {\r\n        // break;\r\n        // }\r\n        // }\r\n\r\n        // if (maxCnt == 0) return;\r\n\r\n        // let rate = nowCnt / maxCnt;\r\n        // if (rate > 1) rate = 1;\r\n        // this.progressFragment.progress = rate;\r\n        // this.lblFragmentProgress.string = `${nowCnt}/${maxCnt}`\r\n\r\n        // let langConfig: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n        // if (rewardIndex == exchangeDataList.length - 1 && rate == 1) {\r\n        // this.lblFragment1.string = langConfig.getLangById(10740);\r\n        // }\r\n        // else {\r\n        // let itemConfigContainer = ConfigManager.getInstance().getConfig(ItemConfigContainer) as ItemConfigContainer;\r\n        // let rewardItemData = itemConfigContainer.getItemDataById(rewardInfo.itemId);\r\n        // let offset = maxCnt - nowCnt;\r\n        // this.lblFragment1.string = langConfig.formatLangById(10739, offset.toString(), rewardItemData.name);\r\n        // }\r\n    }\r\n    private onFlyComplete() {\r\n        // if (!this.m_isFragmentOpen) {\r\n        // this.showFragment();\r\n        // this.scheduleOnce(this.hideFragment, 3);\r\n        // }\r\n        // this.updateFragmentText();\r\n        // if (this.fragmentEffect.isValid) {\r\n        // this.fragmentEffect.active = true;\r\n        // }\r\n    }\r\n    private onCheckShowExtraRewardBtns() {\r\n        // if (clientKernel.getRoomCard()) {\r\n        // this.node.active = true;\r\n        // }\r\n        // else {\r\n        // this.node.active = true;\r\n        // }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import { LanguageConfigContainer } from \"../../../../kernel/Conifg/LanguageConfigContainer\";\r\n// import { ConfigManager } from \"../../../../kernel/ConfigManager\";\r\n// import { ExchangeConfigContainer } from \"../../../../kernel/Conifg/ExchangeConfigContainer\";\r\n// import { ItemInfo, ItemConfigContainer } from \"../../../../kernel/Conifg/ItemConfigContainer\";\r\n// import { AudioControl } from \"../../../../main/script/AudioControl\";\r\n// import EventCenter from \"../../../../main/script/utils/EventCenter\";\r\n// import { gameExpressionEvent } from \"../PDK_define\";\r\n// import { GD } from \"../../../../public/GD\";\r\n// import panel_exchange from \"../../../../main/script/panel_exchange\";\r\n// \r\n// const {ccclass, property} = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_RewardBtns extends cc.Component {\r\n// \r\n//     @property(cc.Node)\r\n//     nodeGift: cc.Node = null;\r\n//     \r\n//     @property(cc.Node)\r\n//     nodeFragment: cc.Node = null;\r\n//     \r\n//     @property(cc.Node)\r\n//     btnGift: cc.Node = null;\r\n//     \r\n//     @property(cc.Node)\r\n//     btnFragment: cc.Node = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblGift: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblFragment: cc.Label = null;\r\n//     \r\n//     @property(cc.Label)\r\n//     lblFragmentProgress: cc.Label = null;\r\n// \r\n//     @property(cc.Label)\r\n//     lblFragment1: cc.Label = null;\r\n//     \r\n//     @property(cc.ProgressBar)\r\n//     progressFragment: cc.ProgressBar = null;\r\n// \r\n//     @property(cc.Node)\r\n//     fragmentEffect: cc.Node = null;\r\n// \r\n//     private m_isGiftOpen: boolean = false;\r\n//     private m_isFragmentOpen: boolean = false;\r\n// \r\n//     onLoad() {\r\n//         this.nodeGift.active = false;\r\n//         this.nodeFragment.active = false;\r\n//         let langConfig: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n//         this.lblGift.string = langConfig.getLangById(10234);\r\n//         this.lblFragment.string = langConfig.getLangById(120001002);\r\n//         this.fragmentEffect.active = false;\r\n// \r\n//         this.updateFragmentText();\r\n//         EventCenter.onEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE, this.onFlyComplete, this);\r\n//         EventCenter.onEvent(gameExpressionEvent.CHECK_SHOW_EXTRA_REWARD_BTNS, this.onCheckShowExtraRewardBtns, this);\r\n//         this.onCheckShowExtraRewardBtns();\r\n//     }\r\n// \r\n//     start() {\r\n//         this.scheduleOnce(this.showContentWhenStart, 1);\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         EventCenter.offEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE, this.onFlyComplete, this);\r\n//         EventCenter.offEvent(gameExpressionEvent.CHECK_SHOW_EXTRA_REWARD_BTNS, this.onCheckShowExtraRewardBtns, this);\r\n//     }\r\n//     private showContentWhenStart() {\r\n//         this.showGift();\r\n//         this.scheduleOnce(this.showFragment, 0.5);\r\n//         this.scheduleOnce(this.hideGift, 3);\r\n//         this.scheduleOnce(this.hideFragment, 3.5);\r\n//         this.scheduleOnce(this.setBtns, 4);\r\n//     }\r\n// \r\n//     private setBtns() {\r\n//         this.btnGift.on(cc.Node.EventType.TOUCH_END, this.onBtnGift, this)\r\n//         this.btnFragment.on(cc.Node.EventType.TOUCH_END, this.onBtnFragment, this)\r\n//     }\r\n// \r\n//     private onBtnGift() {\r\n//         AudioControl.playClick();\r\n//         if (this.m_isGiftOpen) {\r\n//             this.hideGift();\r\n//         }\r\n//         else {\r\n//             this.showGift();\r\n//             this.scheduleOnce(this.hideGift, 3);\r\n//         }\r\n// \r\n//         this.showScoreExchange();\r\n//     }\r\n// \r\n//     private onBtnFragment() {\r\n//         AudioControl.playClick();\r\n//         if (this.m_isFragmentOpen) {\r\n//             this.hideFragment();\r\n//         }\r\n//         else {\r\n//             this.showFragment();\r\n//             this.scheduleOnce(this.hideFragment, 3);\r\n//         }\r\n// \r\n//         this.showChipExchange();\r\n// \r\n//         if (this.fragmentEffect.active) {\r\n//             this.fragmentEffect.active = false;\r\n//         }\r\n//     }\r\n// \r\n//     private showScoreExchange() {\r\n//         GD.GameTool.createPanel(\"hall/panel/panel_exchange\", (newNode)=>{\r\n//             newNode.getComponent(panel_exchange).showScoreExchange();\r\n//         })\r\n//     }\r\n// \r\n//     private showChipExchange() {\r\n//         GD.GameTool.createPanel(\"hall/panel/panel_exchange\", (newNode)=>{\r\n//             newNode.getComponent(panel_exchange).showChipExchange();\r\n//         })\r\n//     }\r\n// \r\n//     private showGift() {\r\n//         this.m_isGiftOpen = true;\r\n//         this.showContent(this.nodeGift);\r\n//     }\r\n// \r\n//     private hideGift() {\r\n//         this.m_isGiftOpen = false;\r\n//         this.hideContent(this.nodeGift);\r\n//     }\r\n// \r\n//     private showFragment() {\r\n//         this.m_isFragmentOpen = true;\r\n//         this.showContent(this.nodeFragment);\r\n//     }\r\n// \r\n//     private hideFragment() {\r\n//         this.m_isFragmentOpen = false;\r\n//         this.hideContent(this.nodeFragment);\r\n//     }\r\n// \r\n//     private showContent(node: cc.Node) {\r\n//         if (node == null) return;\r\n//         if (node.active == false) {\r\n//             node.active = true;\r\n//         }\r\n//         node.scaleX = 0;\r\n//         node.opacity = 0;\r\n//         let scaleAct = cc.scaleTo(0.3, 1, 1).easing(cc.easeBackOut());\r\n//         let fadeAct = cc.fadeIn(0.3);\r\n//         node.runAction(cc.spawn(scaleAct, fadeAct));\r\n//     }\r\n// \r\n//     private hideContent(node: cc.Node) {\r\n//         let scaleAct = cc.scaleTo(0.3, 0, 1).easing(cc.easeBackIn());\r\n//         let fadeAct = cc.fadeOut(0.3);\r\n//         node.runAction(cc.sequence(cc.spawn(scaleAct, fadeAct), cc.callFunc(() => {\r\n//             if (node != null && node.isValid) {\r\n//                 node.active = false;\r\n//             }\r\n//         }, this)));\r\n//     }\r\n// \r\n//     private updateFragmentText() {\r\n//         let type = 2;   // 1 积分兑换 2 碎片兑换\r\n//         let exchangeConfigContainer = ConfigManager.getInstance().getConfig(ExchangeConfigContainer) as ExchangeConfigContainer;\r\n//         let exchangeDataList = exchangeConfigContainer.getExchangeListByType(type);\r\n// \r\n//         let nowCnt = 0;\r\n//         let maxCnt = 0;\r\n//         let rewardInfo = null;\r\n//         let rewardIndex:number = -1\r\n//         for (let i = 0; i < exchangeDataList.length; i++) {\r\n//             let exchangeData = exchangeDataList[i];\r\n//             let priceInfo: ItemInfo = exchangeData.price_item;\r\n//             let priceItem = KernelData.pack[priceInfo.itemId];\r\n//             if (priceItem != null) {\r\n//                 nowCnt = priceItem.cnt;\r\n//             }\r\n//             else {\r\n//                 nowCnt = 0;\r\n//             }\r\n//             \r\n//             maxCnt = priceInfo.count;\r\n//             rewardInfo = exchangeData.get_reward;\r\n//             rewardIndex = i;\r\n//             if (nowCnt < maxCnt) {\r\n//                 break;\r\n//             }\r\n//         }\r\n// \r\n//         if (maxCnt == 0) return;\r\n//         \r\n//         let rate = nowCnt / maxCnt;\r\n//         if (rate > 1) rate = 1;\r\n//         this.progressFragment.progress = rate;\r\n//         this.lblFragmentProgress.string = `${nowCnt}/${maxCnt}`\r\n//         \r\n//         let langConfig: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer);\r\n//         if (rewardIndex == exchangeDataList.length - 1 && rate == 1) {\r\n//             this.lblFragment1.string = langConfig.getLangById(10740);\r\n//         }\r\n//         else {\r\n//             let itemConfigContainer = ConfigManager.getInstance().getConfig(ItemConfigContainer) as ItemConfigContainer;\r\n//             let rewardItemData = itemConfigContainer.getItemDataById(rewardInfo.itemId);\r\n//             let offset = maxCnt - nowCnt;\r\n//             this.lblFragment1.string = langConfig.formatLangById(10739, offset.toString(), rewardItemData.name);\r\n//         }\r\n//     }\r\n// \r\n//     private onFlyComplete() {\r\n//         if (!this.m_isFragmentOpen) {\r\n//             this.showFragment();\r\n//             this.scheduleOnce(this.hideFragment, 3);\r\n//         }\r\n//         this.updateFragmentText();\r\n//         if (this.fragmentEffect.isValid) {\r\n//             this.fragmentEffect.active = true;\r\n//         }\r\n//     }\r\n// \r\n//     private onCheckShowExtraRewardBtns() {\r\n//         if (clientKernel.getRoomCard()) {\r\n//             this.node.active = true;\r\n//         }\r\n//         else {\r\n//             this.node.active = true;\r\n//         }\r\n//     }\r\n// \r\n// }\r\n","import { _decorator, Component, Node, Label, Animation } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\nimport { gameExpressionEvent } from \"../PDK_define\";\r\nimport PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\n\r\n@ccclass('PDKRewardItem')\r\nexport default class PDK_RewardItem extends Component {\r\n    @property(Node)\r\n    itemIcon: Node | null = null;\r\n    @property(Label)\r\n    lblCount: Label | null = null;\r\n    @property(Animation)\r\n    ani: Animation | null = null;\r\n    @property(Node)\r\n    rewardBox: Node | null = null;\r\n    @property(Node)\r\n    rootNode: Node | null = null;\r\n    private m_rewardList:string[] = null;\r\n    onLoad () {\r\n        // this.rootNode.active = false;\r\n        // EventCenter.onEvent(gameExpressionEvent.SHOW_EXTRA_REWARD, this.onShowRewardItem, this);\r\n    }\r\n    onDestroy() {\r\n        // EventCenter.offEvent(gameExpressionEvent.SHOW_EXTRA_REWARD, this.onShowRewardItem, this);\r\n    }\r\n    private onShowRewardItem(rewardList: string[]) {\r\n        // this.m_rewardList = rewardList;\r\n        // this.checkShowNextReward();\r\n    }\r\n    private showOneRewardItem(reward: string) {\r\n        // this.rootNode.active = true;\r\n        // let itemConfigContainer = ConfigManager.getInstance().getConfig(ItemConfigContainer) as ItemConfigContainer;\r\n        // let info: ItemInfo = decodeConfigItemString(reward)[0];\r\n        // let id = info.itemId;\r\n        // let cnt = info.count;\r\n        // let itemData = itemConfigContainer.getItemDataById(id);\r\n        // if (itemData == null) return;\r\n        // GameTools.readLocalImg(\"images/items/\" + itemData.icon, this.itemIcon, 1);\r\n        // this.lblCount.string = \"+\" + cnt;\r\n        // let state: cc.AnimationState = this.ani.play();\r\n        // state.wrapMode = cc.WrapMode.Loop;\r\n\r\n        // this.node.opacity = 0;\r\n        // this.node.setPosition(0, 150);\r\n        // this.node.scale = 0;\r\n        // let fade = cc.fadeIn(0.5);\r\n        // let scale = cc.scaleTo(1.5, 1, 1).easing(cc.easeBackOut());\r\n        // let scaleFade = cc.spawn(scale, fade);\r\n        // if (info.itemId == 5) {\r\n//             // 积分\r\n        // let move = cc.moveTo(1, 0, -300);\r\n        // move.easing(cc.easeQuinticActionOut());\r\n        // this.node.runAction(cc.sequence(scaleFade, move, cc.callFunc(() => {\r\n        // this.onSeasonScoreFlyComplete();\r\n        // }, this)));\r\n        // }\r\n        // else {\r\n        // let move = cc.moveTo(1, this.rewardBox.x, this.rewardBox.y);\r\n        // move.easing(cc.easeQuinticActionOut());\r\n        // this.node.runAction(cc.sequence(scaleFade, move, cc.callFunc(() => {\r\n        // this.onRewardItemFlyComplete();\r\n        // }, this)));\r\n        // }\r\n\r\n        // let soundUrl: string = \"hall/sound/gift-castle\";\r\n        // PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n    }\r\n    private onRewardItemFlyComplete() {\r\n        // let fade = cc.fadeOut(0.2);\r\n        // this.node.runAction(cc.sequence(fade, cc.callFunc(() => {\r\n        // this.rootNode.active = false;\r\n        // }, this)));\r\n        // EventCenter.emitEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE);\r\n\r\n        // this.checkShowNextReward();\r\n    }\r\n//    // 赛季积分飞行完毕\r\n    private onSeasonScoreFlyComplete() {\r\n        // let fade = cc.fadeOut(0.2);\r\n        // this.node.runAction(cc.sequence(fade, cc.callFunc(() => {\r\n        // this.rootNode.active = false;\r\n        // }, this)));\r\n        // this.checkShowNextReward();\r\n    }\r\n    private checkShowNextReward() {\r\n        // if (this.m_rewardList.length > 0) {\r\n        // let reward: string = this.m_rewardList[0];\r\n        // this.m_rewardList.splice(0, 1);\r\n        // this.showOneRewardItem(reward);\r\n        // }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// import EventCenter from \"../../../../main/script/utils/EventCenter\";\r\n// import { gameExpressionEvent } from \"../PDK_define\";\r\n// import { ConfigManager } from \"../../../../kernel/ConfigManager\";\r\n// import { ItemConfigContainer, ItemInfo, decodeConfigItemString } from \"../../../../kernel/Conifg/ItemConfigContainer\";\r\n// import PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\n// \r\n// const {ccclass, property} = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class PDK_RewardItem extends cc.Component {\r\n// \r\n//     @property(cc.Node)\r\n//     itemIcon: cc.Node = null;\r\n//     @property(cc.Label)\r\n//     lblCount: cc.Label = null;\r\n//     @property(cc.Animation)\r\n//     ani: cc.Animation = null;\r\n//     @property(cc.Node)\r\n//     rewardBox: cc.Node = null;\r\n//     @property(cc.Node)\r\n//     rootNode: cc.Node = null;\r\n// \r\n//     private m_rewardList:string[] = null;\r\n//     onLoad () {\r\n//         this.rootNode.active = false;\r\n//         EventCenter.onEvent(gameExpressionEvent.SHOW_EXTRA_REWARD, this.onShowRewardItem, this);\r\n//     }\r\n// \r\n//     onDestroy() {\r\n//         EventCenter.offEvent(gameExpressionEvent.SHOW_EXTRA_REWARD, this.onShowRewardItem, this);\r\n//     }\r\n// \r\n//     private onShowRewardItem(rewardList: string[]) {\r\n//         this.m_rewardList = rewardList;\r\n//         this.checkShowNextReward();\r\n//     }\r\n// \r\n//     private showOneRewardItem(reward: string) {\r\n//         this.rootNode.active = true;\r\n//         let itemConfigContainer = ConfigManager.getInstance().getConfig(ItemConfigContainer) as ItemConfigContainer;\r\n//         let info: ItemInfo = decodeConfigItemString(reward)[0];\r\n//         let id = info.itemId;\r\n//         let cnt = info.count;\r\n//         let itemData = itemConfigContainer.getItemDataById(id);\r\n//         if (itemData == null) return;\r\n//         GameTools.readLocalImg(\"images/items/\" + itemData.icon, this.itemIcon, 1);\r\n//         this.lblCount.string = \"+\" + cnt;\r\n//         let state: cc.AnimationState = this.ani.play();\r\n//         state.wrapMode = cc.WrapMode.Loop;\r\n// \r\n//         this.node.opacity = 0;\r\n//         this.node.setPosition(0, 150);\r\n//         this.node.scale = 0;\r\n//         let fade = cc.fadeIn(0.5);\r\n//         let scale = cc.scaleTo(1.5, 1, 1).easing(cc.easeBackOut());\r\n//         let scaleFade = cc.spawn(scale, fade);\r\n//         if (info.itemId == 5) {\r\n//              // 积分\r\n//             let move = cc.moveTo(1, 0, -300);\r\n//             move.easing(cc.easeQuinticActionOut());\r\n//             this.node.runAction(cc.sequence(scaleFade, move, cc.callFunc(() => {\r\n//                 this.onSeasonScoreFlyComplete();\r\n//             }, this)));\r\n//         }\r\n//         else {\r\n//             let move = cc.moveTo(1, this.rewardBox.x, this.rewardBox.y);\r\n//             move.easing(cc.easeQuinticActionOut());\r\n//             this.node.runAction(cc.sequence(scaleFade, move, cc.callFunc(() => {\r\n//                 this.onRewardItemFlyComplete();\r\n//             }, this)));\r\n//         }\r\n//         \r\n//         let soundUrl: string = \"hall/sound/gift-castle\";\r\n//         PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n//     }\r\n// \r\n//     private onRewardItemFlyComplete() {\r\n//         let fade = cc.fadeOut(0.2);\r\n//         this.node.runAction(cc.sequence(fade, cc.callFunc(() => {\r\n//             this.rootNode.active = false;\r\n//         }, this)));\r\n//         EventCenter.emitEvent(gameExpressionEvent.SHOW_EXTRA_REWARD_ITEM_FLY_COMPLETE);\r\n// \r\n//         this.checkShowNextReward();\r\n//     }\r\n// \r\n//     // 赛季积分飞行完毕\r\n//     private onSeasonScoreFlyComplete() {\r\n//         let fade = cc.fadeOut(0.2);\r\n//         this.node.runAction(cc.sequence(fade, cc.callFunc(() => {\r\n//             this.rootNode.active = false;\r\n//         }, this)));\r\n//         this.checkShowNextReward();\r\n//     }\r\n// \r\n//     private checkShowNextReward() {\r\n//         if (this.m_rewardList.length > 0) {\r\n//             let reward: string = this.m_rewardList[0];\r\n//             this.m_rewardList.splice(0, 1);\r\n//             this.showOneRewardItem(reward);\r\n//         }\r\n//     }\r\n// }\r\n","import { _decorator, Component, Label } from 'cc';\r\nconst {ccclass, property} = _decorator;\r\n\r\n@ccclass('PDKRoomConfig')\r\nexport default class PDK_RoomConfig extends Component {\r\n    public static ins: PDK_RoomConfig;\r\n    @property(Label)\r\n    roomID: Label | null = null;\r\n    @property(Label)\r\n    juShu: Label | null = null;\r\n    @property(Label)\r\n    juShuTitle: Label | null = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    onLoad () {\r\n        // PDK_RoomConfig.ins = this;\r\n        // this.node.active = false;\r\n    }\r\n    start () {\r\n\r\n    }\r\n//    // update (dt) {}\r\n}\r\n\r\n","// /*\r\n//  * @Author: xz\r\n//  * @Date: 2021-12-15 02:06:17\r\n//  * @LastEditTime: 2022-01-11 10:16:08\r\n//  * @LastEditors: xz\r\n//  * @Description: \r\n//  */\r\n// // Learn TypeScript:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// // Learn Attribute:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// // Learn life-cycle callbacks:\r\n// //  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { _decorator, Component, Node } from 'cc';\r\nimport { LanguageConfigContainer} from './Conifg/LanguageConfigContainer';\r\nimport { ConfigManager } from './ConfigManager';\r\nimport { find } from 'cc';\r\nimport { Label } from 'cc';\r\nimport { Button } from 'cc';\r\nimport { AudioControl } from './AudioControl';\r\nimport { GameTool } from '../kernel/GD';\r\nimport { RoomMgr } from '../../module_basic/scripts/RoomMgr';\r\nimport { LanguageData } from 'db://assets/module_basic/scripts/language/LanguageData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('PDKSetting')\r\nexport default class PDK_Setting extends Component {\r\n    @property(Node)\r\n    btn_music: Node | null = null;\r\n    @property(Node)\r\n    btn_effect: Node | null = null;\r\n//    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        let langCfg: LanguageConfigContainer = ConfigManager.getInstance().getConfig(LanguageConfigContainer) as LanguageConfigContainer;\r\n        let lbl = find(\"panel/content/btn_exit/New Label\", this.node).getComponent(Label);\r\n        lbl.string = langCfg.getLangById(10251);\r\n\r\n        let array = [this.btn_effect, this.btn_music];\r\n        for (let m = 0; m < array.length; m++) {\r\n            let element = array[m];\r\n            let on_lbl = element.getChildByName(\"bg_on\").getChildByName(\"New Label\");\r\n            let off_lbl = element.getChildByName(\"bg_off\").getChildByName(\"New Label\");\r\n            on_lbl.getComponent(Label).string = langCfg.getLangById(11803);\r\n            off_lbl.getComponent(Label).string = langCfg.getLangById(11804);\r\n        }\r\n    }\r\n    start() {\r\n        let isBgmOpen =  tgx.AudioMgr.inst.audio.switchMusic;\r\n        this.btn_music.children[2].active = isBgmOpen;\r\n        this.btn_music.children[1].active = !isBgmOpen;\r\n        let isEffectOpen = tgx.AudioMgr.inst.audio.switchEffect;\r\n        this.btn_effect.children[2].active = isEffectOpen;\r\n        this.btn_effect.children[1].active = !isEffectOpen;\r\n\r\n        let btns = this.node.getComponentsInChildren(Button);\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].node.on(Node.EventType.TOUCH_END, this.onBtnClick, this);\r\n        }\r\n    }\r\n    clickClose() {\r\n        this.node.destroy();\r\n    }\r\n    onBtnClick(event) {\r\n        AudioControl.playClick();\r\n        let name = event.currentTarget.name;\r\n        switch (name) {\r\n            case \"btn_music\":\r\n\r\n                let isBgmOpen =  tgx.AudioMgr.inst.audio.switchMusic;\r\n                event.currentTarget.children[2].active = !isBgmOpen;\r\n                event.currentTarget.children[1].active = isBgmOpen;\r\n                tgx.AudioMgr.inst.audio.switchMusic = !isBgmOpen;\r\n                break;\r\n            case \"btn_effect\":\r\n                let isEffectOpen = tgx.AudioMgr.inst.audio.switchEffect;\r\n                event.currentTarget.children[2].active = !isEffectOpen;\r\n                event.currentTarget.children[1].active = isEffectOpen;\r\n                tgx.AudioMgr.inst.audio.switchEffect = !isEffectOpen;\r\n                break;\r\n            case \"btn_close\":\r\n                this.clickClose();\r\n                break;\r\n            case \"btn_exit\":\r\n                this.clickClose();\r\n                tgx.UIAlert.show(LanguageData.getLangByID(\"exit_game\"), true).onClick(async (ok: Boolean) => {\r\n                    if (ok) {\r\n                        tgx.AudioMgr.inst.audio.clearAll();\r\n                        RoomMgr.inst.exitRoom();\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n    }\r\n   // update (dt) {}\r\n}\r\n","import { _decorator, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { gameExpressionEvent } from \"../PDK_define\";\r\nimport PDK_PlayerSoundHelper from \"./PDK_PlayerSoundHelper\";\r\nimport { dragonBones } from 'cc';\r\nimport TouchEffectHelper from '../../kernel/TouchEffectHelper';\r\nimport { Animation } from 'cc';\r\nimport { find } from 'cc';\r\nimport { Label } from 'cc';\r\nimport GameTools from '../../kernel/GameTools';\r\nimport EventCenter from '../../kernel/EventCenter';\r\nimport { tween } from 'cc';\r\n\r\n@ccclass('PDKTopEffectLayer')\r\nexport default class PDK_TopEffectLayer extends TouchEffectHelper {\r\n    \r\n    @property(dragonBones.ArmatureDisplay)\r\n    bomb_effect: dragonBones.ArmatureDisplay = null;\r\n    @property(Node)\r\n    bigwin_effect: Node | null = null;\r\n    @property(dragonBones.ArmatureDisplay)\r\n    gold_explo_effect: dragonBones.ArmatureDisplay = null;\r\n    @property(Node)\r\n    tongpai_effect: Node | null = null;\r\n    onEnable() {\r\n        super.onEnable();\r\n        this.bomb_effect.node.active = false;\r\n        this.gold_explo_effect.node.active = false;\r\n        this.bigwin_effect.active = false;\r\n        this.tongpai_effect.active = false;\r\n        EventCenter.onEvent(gameExpressionEvent.SHOW_BOMB, this.showBomb, this);\r\n        EventCenter.onEvent(gameExpressionEvent.SHOW_BIGWIN, this.showBigwin, this);\r\n        EventCenter.onEvent(gameExpressionEvent.SHOW_TONGPAI, this.showTongpai, this);\r\n\r\n    }\r\n    onDestroy() {\r\n        EventCenter.offEvent(gameExpressionEvent.SHOW_BOMB, this.showBomb, this);\r\n        EventCenter.offEvent(gameExpressionEvent.SHOW_BIGWIN, this.showBigwin, this);\r\n        EventCenter.offEvent(gameExpressionEvent.SHOW_TONGPAI, this.showTongpai, this);\r\n    }\r\n    private showBomb() {\r\n        this.bomb_effect.node.active = true;\r\n        this.bomb_effect.playAnimation(\"newAnimation\", 1);\r\n        let soundUrl: string = \"sound/chat\";\r\n        PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n    }\r\n    private showBigwin(isSelfWin: boolean, score: number) {\r\n        if (isSelfWin) {\r\n            this.gold_explo_effect.node.active = true;\r\n            this.gold_explo_effect.playAnimation(\"newAnimation\", 1);\r\n            let soundUrl: string = \"sound/coin1\";\r\n            PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n            this.gold_explo_effect.once(dragonBones.EventObject.COMPLETE, () => {\r\n                this.showBigwinText(score);\r\n            }, this);\r\n        }\r\n        else {\r\n            this.showBigwinText(score);\r\n        }\r\n    }\r\n    private showBigwinText(score: number) {\r\n        this.bigwin_effect.active = true;\r\n        let ani = this.bigwin_effect.getComponent(Animation);\r\n        if (ani != null) {\r\n            ani.play();\r\n        }\r\n        let lbl = find(\"score/score_text\", this.bigwin_effect);\r\n        if (lbl != null) {\r\n            lbl.getComponent(Label).string = \"+\" + GameTools.nFormatter(score);\r\n        }\r\n\r\n        let soundUrl: string = \"sound/bigwin\";\r\n        PDK_PlayerSoundHelper.playSoundUrl(soundUrl);\r\n\r\n        this.scheduleOnce( () => {\r\n            ani.stop();\r\n            this.bigwin_effect.active = false;\r\n        }, 3);\r\n    }\r\n    private showTongpai(isSelfWin: boolean) {\r\n        this.tongpai_effect.active = true;\r\n        this.tongpai_effect.opacity = 0;\r\n        // 创建淡入动画\r\n        tween(this.tongpai_effect)\r\n           .to(0.3, { opacity: 255 })\r\n           .start();\r\n        this.scheduleOnce(() => {\r\n            this.tongpai_effect.active = false;\r\n        }, 3)\r\n    }\r\n}","import { _decorator, Component, Node } from 'cc';\r\nimport { GameMgr } from 'db://assets/module_basic/scripts/GameMgr';\r\nimport { SubGameDef } from 'db://assets/module_basic/scripts/SubGameDef';\r\nimport { SubGameMgr } from 'db://assets/module_basic/scripts/SubGameMgr';\r\nimport { ModuleDef } from 'db://assets/scripts/ModuleDef';\r\nimport { ConfigManager } from './script/ConfigManager';\r\nimport { ResourceMgr } from '../core_tgx/base/ResourceMgr';\r\nimport { Prefab } from 'cc';\r\nimport { instantiate } from 'cc';\r\nimport { GameTool } from './kernel/GD';\r\nimport { PokerManager } from '../module_basic/scripts/poker/PokerManager';\r\nimport { GameManager } from './script/message/GameManager';\r\nimport { assetManager } from 'cc';\r\nimport { sp } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PdkYuNanGameMgr')\r\nexport class PdkYuNanGameMgr extends GameMgr {\r\n    private static _inst: PdkYuNanGameMgr;\r\n    private _preloadResIndex:number = 0;\r\n    private _preloadResTotal:number;\r\n    \r\n    public static get inst(): PdkYuNanGameMgr {\r\n        if (!this._inst) {\r\n            this._inst = new PdkYuNanGameMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._gameType = SubGameDef.POKER_PDK_YUENAN;\r\n        this._entryScene = { name: 'lobby_pdk_yuenan', bundle: ModuleDef.POKER_PDK_YUENAN };\r\n        this._gameScene = { name: 'game_pdk_yuenan', bundle: ModuleDef.POKER_PDK_YUENAN };\r\n        this._loadingScene = { name: 'subgame_loading', bundle: ModuleDef.BASIC };\r\n        \r\n    }\r\n    override init() {\r\n        GameManager.inst.init();\r\n        PokerManager.inst.init();\r\n        \r\n    }\r\n\r\n    override uinit() {\r\n        GameTool.destroyWaitLayer();\r\n        PokerManager.inst.uinit();\r\n        GameManager.inst.uinit();\r\n    }\r\n    /**\r\n     * 加载资源\r\n     */\r\n    public override async preLoadRes(processFun:Function):Promise<boolean> {\r\n        this._preloadResIndex = 0;\r\n        this._preloadResTotal = 9;\r\n        processFun(0);\r\n        await this.loadResource(processFun);\r\n        await this.preLoadLobbyScene(processFun);\r\n        await this.preLoadGameScene(processFun);\r\n        processFun(1);\r\n        return true;\r\n    }\r\n\r\n    public async loadResource(processFun:Function)\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n                    function loadConfigComplete() {\r\n                        var loadPrefabCount:number = 6;\r\n                        var self = this;\r\n                        function loadPrefabComplete() {\r\n                            \r\n                            loadPrefabCount--;\r\n                            self._preloadResIndex++;\r\n                            processFun(self._preloadResIndex/self._preloadResTotal);\r\n                            if(loadPrefabCount == 0)\r\n                            {\r\n                                resolve(true);\r\n                            }\r\n                        }\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, 'kernel/PublicPrefab/UITips/UITips',Prefab,loadPrefabComplete);\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, 'kernel/PublicPrefab/UILoading/UILoading',Prefab,loadPrefabComplete);\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN, 'kernel/PublicPrefab/UIDialogBox/UIMessageBox',Prefab,loadPrefabComplete);\r\n\r\n\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.BASIC, 'res/room/chuji/ChuJi',sp.SkeletonData,loadPrefabComplete);\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.BASIC, 'res/room/zhongji/zhongji',sp.SkeletonData,loadPrefabComplete);\r\n                        ResourceMgr.inst.preloadResByModuleBundle(ModuleDef.BASIC, 'res/room/gaoji/gaoji',sp.SkeletonData,loadPrefabComplete);\r\n                    }\r\n                    ConfigManager.getInstance().loadAllConfig(loadConfigComplete.bind(this));\r\n                    \r\n                });\r\n       \r\n    }\r\n    private async preLoadLobbyScene(processFun:Function) {\r\n        return new Promise((resolve, reject) => {\r\n            let bundle = assetManager.getBundle(ModuleDef.POKER_PDK_YUENAN);\r\n            if(bundle)\r\n            {\r\n                bundle.preloadScene(SubGameMgr.gameMgr.entryScene.name,null,function ()\r\n                {\r\n                    this._preloadResIndex++;\r\n                    processFun(this._preloadResIndex/this._preloadResTotal);\r\n                    resolve(true);\r\n                }.bind(this));  //7\r\n                \r\n            }\r\n            else\r\n            {\r\n                resolve(false);\r\n            }\r\n        });\r\n        \r\n    }\r\n    private async preLoadGameScene(processFun:Function) {\r\n        return new Promise((resolve, reject) => {\r\n            let bundle = assetManager.getBundle(ModuleDef.FISH);\r\n            if(bundle)\r\n            {\r\n                bundle.preloadScene(SubGameMgr.gameMgr.gameScene.name,null,function ()\r\n                {\r\n                    this._preloadResIndex++;\r\n                    processFun(this._preloadResIndex/this._preloadResTotal);\r\n                    resolve(true);\r\n                }.bind(this));  //7\r\n                \r\n            }\r\n            else\r\n            {\r\n                resolve(false);\r\n            }\r\n        });\r\n        \r\n    }\r\n    // 进入游戏\r\n    public override async enterGame() {\r\n        SubGameMgr.inst.MatchRoom(this.gameType, true);\r\n    }\r\n}\r\n\r\nSubGameMgr.inst.registerGameMgr(PdkYuNanGameMgr.inst);\r\n\r\n\r\n","import { ResourceMgr } from \"db://assets/core_tgx/base/ResourceMgr\";\r\nimport { BaseConfigContainer, ConfigData } from \"./BaseConfigContainer\";\r\nimport { ModuleDef } from \"db://assets/scripts/ModuleDef\";\r\nimport { JsonAsset } from \"cc\";\r\nimport { Logger } from \"db://assets/core_tgx/base/log/Logger\";\r\n\r\nexport class PeiData {\r\n    id: number;\r\n    sound: string;\r\n\r\n    arrSound: string[];\r\n}\r\n\r\nconst enum PeiDataTitle {\r\n    id,\r\n    pei_music_id\r\n}\r\n\r\nexport class PeiMusicConfigContainer extends BaseConfigContainer {\r\n    private configData: ConfigData = null;\r\n    private mapConfig = null;\r\n    private arrConfig: PeiData[] = null;\r\n\r\n    constructor(callback: Function, caller: any, arg: any) {\r\n        super();\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.POKER_PDK_YUENAN,this.CONFIG_FILE_DIR + \"pei_music\",JsonAsset,(err: Error, jsonAsset: JsonAsset) => {\r\n            if (err) {\r\n                Logger.error(\"load pei_music err\");\r\n            }\r\n            else {\r\n                // let encode = object.text;\r\n                // let decode = window.atob(encode);\r\n                // object = JSON.parse(decode);\r\n                // for (var i in object) {\r\n                //     this.monsterConfigData[i] = object[i];\r\n                // }\r\n                // if (callback) {\r\n                //     callback.call(caller, arg);\r\n                // }\r\n                this.configData = jsonAsset.json as ConfigData;\r\n\r\n                if (callback) {\r\n                    callback.call(caller, arg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private generateMapConfig() {\r\n        if (this.mapConfig == null) {\r\n            this.mapConfig = {};\r\n            this.arrConfig = [];\r\n            for (let i = 0; i < this.configData.RECORDS.length; i++) {\r\n                let record = this.configData.RECORDS[i];\r\n                let temp = new PeiData();\r\n                temp.id = Number(record[PeiDataTitle.id]);   // 转成number 查表速度快一些\r\n                temp.sound = record[PeiDataTitle.pei_music_id];\r\n                temp.arrSound = temp.sound.split('#');\r\n                this.mapConfig[temp.id] = temp;\r\n                this.arrConfig.push(temp);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getDataArray(): PeiData[] {\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        return this.arrConfig;\r\n    }\r\n\r\n    getDataById(id): PeiData {\r\n        let data: PeiData = null;\r\n        if (this.mapConfig == null) {\r\n            this.generateMapConfig();\r\n        }\r\n        let numId = 0;\r\n        if (typeof id == \"string\") {\r\n            numId = Number(id);\r\n        }\r\n        else {\r\n            numId = id;\r\n        }\r\n        data = this.mapConfig[numId];\r\n\r\n        return data;\r\n    }\r\n}","import { PokerManager } from \"db://assets/module_basic/scripts/poker/PokerManager\";\r\nimport { CARD_COLOR, CARD_RANK } from \"./Define\";\r\n\r\nexport class PokerUtils{\r\n    \r\n     /**\r\n     * 检查黑桃3是否在剩余牌里\r\n     * \r\n     * @param oldCards 旧的数组\r\n     */\r\n     spade3Check(deck:number[], playerCount:number)\r\n     {\r\n         if ((playerCount * 13) >= deck.length) {\r\n             return true;\r\n         }\r\n \r\n         let spade3Index = deck.indexOf(0x03);\r\n         if (spade3Index >= (playerCount * 13 - 1)) {\r\n             // 随机一张牌\r\n             let randomIndex = Math.floor(Math.random() * playerCount * 13);\r\n             deck[spade3Index] = deck[randomIndex];\r\n             deck[randomIndex] = 0x03;\r\n         }\r\n \r\n         return true;\r\n     }\r\n     /**\r\n     * 获取牌点数\r\n     *\r\n     * @param card 牌\r\n     */\r\n    public static getCardRank(card: number):CARD_RANK {\r\n        return (card & 0x0F);\r\n    }\r\n    \r\n    /**\r\n     * 获取牌花色\r\n     *\r\n     * @param card 牌\r\n     */\r\n    public static getCardColor(card: number):CARD_COLOR {\r\n        return (card & 0xF0) >> 4;\r\n    }\r\n\r\n    /**\r\n     * 该座位相对与自己座位的值\r\n     * @param chairID 传入需查座位id\r\n     * @param myChairID 自己的座位id\r\n     * @param chairCount 座位总数\r\n     */\r\n    public  static getRelativeSeatID(chairID:number, myChairID:number, chairCount:number=0) \r\n    {\r\n        if(chairCount==0)\r\n        {\r\n            chairCount = PokerManager.inst.roomData.playerCount;\r\n        }\r\n        return (chairID + chairCount - myChairID) % chairCount;\r\n    }\r\n\r\n}","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RollingNumber')\r\nexport default class RollingNumber extends Component {\r\n    private m_arrNum: Node[] = [];\r\n    private m_currentNum: string = \"0\";\r\n    private m_targetNum: string = null;\r\n    private m_currentIndex: number = 0;\r\n    private m_isRolling: boolean = false;\r\n    onLoad() {\r\n        // let lblNode: cc.Node = this.node.getChildByName(\"lbl\")\r\n        // if (lblNode == null) return;\r\n        // this.m_arrNum.push(lblNode);\r\n\r\n        // let lblNode1 = cc.instantiate(lblNode);\r\n        // this.m_arrNum.push(lblNode1);\r\n        // this.node.addChild(lblNode1);\r\n        // lblNode1.setPosition(0, 28);\r\n\r\n        // let lbl = lblNode.getComponent(cc.Label);\r\n        // lbl.string = this.m_currentNum;\r\n    }\r\n    private checkRoll() {\r\n\r\n        // if (this.m_isRolling || this.m_targetNum == null || !this.node.isValid) return;\r\n        // let targetNum: string = null\r\n        // if (this.m_targetNum != this.m_currentNum) {\r\n        // targetNum = this.m_targetNum;\r\n        // }\r\n        // this.m_targetNum = null;\r\n        // if (targetNum == null) return;\r\n\r\n        // this.m_currentNum = targetNum;\r\n        // let nextIndex = this.m_currentIndex == 0 ? 1 : 0;\r\n        // let nextLbl= this.m_arrNum[nextIndex];\r\n        // nextLbl.getComponent(cc.Label).string = targetNum;\r\n        // let rollAct = cc.moveTo(0.2, 0, 0).easing(cc.easeElasticOut(0.3));\r\n        // nextLbl.runAction(rollAct);\r\n\r\n        // let lbl = this.m_arrNum[this.m_currentIndex]\r\n        // let rollAct1 = cc.moveTo(0.2, 0, -28).easing(cc.easeElasticOut(0.3));;\r\n        // lbl.runAction(cc.sequence(rollAct1, cc.callFunc(() => {\r\n        // this.onRollComplete();\r\n        // }, this)));\r\n        // this.m_isRolling = true;\r\n    }\r\n    private onRollComplete() {\r\n        // if (!this.node.isValid) return;\r\n        // this.m_isRolling = false;\r\n        // let lbl = this.m_arrNum[this.m_currentIndex];\r\n        // lbl.setPosition(0, 28);\r\n        // this.m_currentIndex = this.m_currentIndex == 0 ? 1 : 0;\r\n\r\n        // this.checkRoll();\r\n    }\r\n    public setNum(num: string) {\r\n        // if (num == null || num == \"\") return;\r\n        // this.m_targetNum = num;\r\n        // this.checkRoll();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class RollingNumber extends cc.Component {\r\n//     private m_arrNum: cc.Node[] = [];\r\n//     private m_currentNum: string = \"0\";\r\n//     private m_targetNum: string = null;\r\n//     private m_currentIndex: number = 0;\r\n//     private m_isRolling: boolean = false;\r\n// \r\n//     onLoad() {\r\n//         let lblNode: cc.Node = this.node.getChildByName(\"lbl\")\r\n//         if (lblNode == null) return;\r\n//         this.m_arrNum.push(lblNode);\r\n// \r\n//         let lblNode1 = cc.instantiate(lblNode);\r\n//         this.m_arrNum.push(lblNode1);\r\n//         this.node.addChild(lblNode1);\r\n//         lblNode1.setPosition(0, 28);\r\n// \r\n//         let lbl = lblNode.getComponent(cc.Label);\r\n//         lbl.string = this.m_currentNum;\r\n//     }\r\n// \r\n//     private checkRoll() {\r\n// \r\n//         if (this.m_isRolling || this.m_targetNum == null || !this.node.isValid) return;\r\n//         let targetNum: string = null\r\n//         if (this.m_targetNum != this.m_currentNum) {\r\n//             targetNum = this.m_targetNum;\r\n//         }\r\n//         this.m_targetNum = null;\r\n//         if (targetNum == null) return;\r\n// \r\n//         this.m_currentNum = targetNum;\r\n//         let nextIndex = this.m_currentIndex == 0 ? 1 : 0;\r\n//         let nextLbl= this.m_arrNum[nextIndex];\r\n//         nextLbl.getComponent(cc.Label).string = targetNum;\r\n//         let rollAct = cc.moveTo(0.2, 0, 0).easing(cc.easeElasticOut(0.3));\r\n//         nextLbl.runAction(rollAct);\r\n// \r\n//         let lbl = this.m_arrNum[this.m_currentIndex]\r\n//         let rollAct1 = cc.moveTo(0.2, 0, -28).easing(cc.easeElasticOut(0.3));;\r\n//         lbl.runAction(cc.sequence(rollAct1, cc.callFunc(() => {\r\n//             this.onRollComplete();\r\n//         }, this)));\r\n//         this.m_isRolling = true;\r\n//     }\r\n// \r\n//     private onRollComplete() {\r\n//         if (!this.node.isValid) return;\r\n//         this.m_isRolling = false;\r\n//         let lbl = this.m_arrNum[this.m_currentIndex];\r\n//         lbl.setPosition(0, 28);\r\n//         this.m_currentIndex = this.m_currentIndex == 0 ? 1 : 0;\r\n// \r\n//         this.checkRoll();\r\n//     }\r\n// \r\n//     public setNum(num: string) {\r\n//         if (num == null || num == \"\") return;\r\n//         this.m_targetNum = num;\r\n//         this.checkRoll();\r\n//     }\r\n// \r\n// }\r\n","import { _decorator, Component} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SaoguangTexture')\r\nexport default class SaoguangTexture extends Component {\r\n    private _speed: number = 0.5;\r\n    private _time: number = 0;\r\n    onLoad() {\r\n//        // 获取材质\r\n        // this._material = this.node.getComponent(cc.Sprite).getMaterial(0);\r\n    }\r\n    update(dt) {\r\n        // if (this._time > 2) {\r\n        // this._time = 0;\r\n        // }\r\n\r\n        // this._material.setProperty(\"u_time\", this._time);\r\n        // this._time += dt * this._speed;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// const { ccclass, property } = cc._decorator;\r\n// \r\n// @ccclass\r\n// export default class SaoguangTexture extends cc.Component {\r\n//     private _speed: number = 0.5;\r\n//     private _time: number = 0;\r\n//     private _material: cc.MaterialVariant;\r\n// \r\n//     onLoad() {\r\n//         // 获取材质\r\n//         this._material = this.node.getComponent(cc.Sprite).getMaterial(0);\r\n//     }\r\n// \r\n//     update(dt) {\r\n//         if (this._time > 2) {\r\n//             this._time = 0;\r\n//         }\r\n// \r\n//         this._material.setProperty(\"u_time\", this._time);\r\n//         this._time += dt * this._speed;\r\n//     }\r\n// }\r\n","export     class  Singleton {\r\n    static instance<T extends {}>(this: new () => T): T {\r\n        if (!(<any>this).s_inst) {\r\n            (<any>this).s_inst = new this();\r\n        }\r\n        return (<any>this).s_inst;\r\n    }\r\n    static  destory(){\r\n        if ((<any>this).s_inst) {\r\n            (<any>this).s_inst =null ;\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Event, Touch } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport Utils from \"./Utils\";\r\nimport { dragonBones } from 'cc';\r\nimport { NodeEventType } from 'cc';\r\nimport { EventTouch } from 'cc';\r\nimport { Vec2 } from 'cc';\r\nimport { UITransform } from 'cc';\r\nimport { Vec3 } from 'cc';\r\n\r\n@ccclass('TouchEffectHelper')\r\nexport default class TouchEffectHelper extends Component {\r\n    @property(dragonBones.ArmatureDisplay)\r\n    touch_effect: dragonBones.ArmatureDisplay = null;\r\n    onEnable() {\r\n        this.node.on(NodeEventType.TOUCH_END, this.onTouch, this);\r\n        this.node.on(NodeEventType.TOUCH_START, this.onTouch_preventSwallow, this);\r\n        this.node.on(NodeEventType.TOUCH_END, this.onTouch_preventSwallow, this);\r\n        this.node.on(NodeEventType.TOUCH_MOVE, this.onTouch_preventSwallow, this);\r\n        this.node.on(NodeEventType.TOUCH_END, this.onTouch_preventSwallow, this);\r\n        this.node.on(NodeEventType.TOUCH_CANCEL, this.onTouch_preventSwallow, this);\r\n    }\r\n    private onTouch_preventSwallow(event:EventTouch):void\r\n    {\r\n        event.preventSwallow = true;\r\n    }\r\n    private onTouch(event: EventTouch) {\r\n        let touchPos:Vec2 = event.touch.getUILocation();\r\n        let uiTransform = this.node.getComponent(UITransform);\r\n        if (uiTransform) {\r\n            let localPos = uiTransform.convertToNodeSpaceAR(new Vec3(touchPos.x,touchPos.y));\r\n            console.log('Local position:', localPos);\r\n            this.touch_effect.node.setPosition(localPos);\r\n        }\r\n\r\n        // let x = vec2.x - uiTransform.width / 2;\r\n        // let y = vec2.y - uiTransform.height / 2;\r\n        // this.touch_effect.node.setPosition(x, y);\r\n\r\n        let idx = Utils.randomRangeInt(1, 4);\r\n        let aniName = \"click_\" + idx;\r\n        this.touch_effect.playAnimation(aniName, 1);\r\n        event.preventSwallow = true;\r\n    }\r\n}\r\n\r\n","/**\r\n* 转菊花界面\r\n*/\r\nimport { tween } from 'cc';\r\nimport { Tween } from 'cc';\r\nimport { _decorator, Component, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UILoading')\r\nexport class UILoading extends Component {\r\n    @property(Label)\r\n    public lbl_text = null;\r\n\r\n    onLoad () {\r\n        // this.node.active = false \r\n    }\r\n    onDestroy(): void {\r\n        \r\n    }\r\n    showPanel (show: boolean, text: string, stayTime: number = 5) {\r\n        text = text || \"\" \r\n        this.node.active = !!show \r\n        this.lbl_text.string = text;\r\n        if (show) {\r\n            // 使用 tween 实现延迟隐藏效果\r\n            tween(this.node)\r\n               .delay(stayTime)\r\n               .call(() => {\r\n                    this.node.active = false;\r\n                })\r\n               .start();\r\n        }\r\n    }\r\n\r\n}\r\n","import { _decorator, Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UIMessageBox')\r\nexport class UIMessageBox extends Component {\r\n    @property(Label)\r\n    public content = null;\r\n    @property(Node)\r\n    public btn_confirm = null;\r\n    @property(Node)\r\n    public btn_cancel = null;\r\n    private _yesCB = null;\r\n    private _cancelCB = null;\r\n\r\n    start () {\r\n        // this.btn_confirm.on(cc.Node.EventType.TOUCH_END, () => { \r\n            // this._yesCB && this._yesCB() \r\n            // this.node.active = false; \r\n        // }) \r\n        // this.btn_cancel.on(cc.Node.EventType.TOUCH_END, () => { \r\n            // this._cancelCB && this._cancelCB() \r\n            // this.node.active = false; \r\n        // }); \r\n    }\r\n\r\n    messageBox (text:string, cb1: any, cb2: any) {\r\n        // this.content.string = text; \r\n        // this.btn_confirm.active = true; \r\n        // this._yesCB = cb1 \r\n        // this._cancelCB = cb2 \r\n        // if (cb2) { \r\n            // this.btn_cancel.active = true; \r\n        // } else { \r\n            // this.btn_cancel.active = false; \r\n        // } \r\n    }\r\n\r\n}\r\n\r\n\r\n/**\r\n * 注意：已把原脚本注释，由于脚本变动过大，转换的时候可能有遗落，需要自行手动转换\r\n */\r\n// cc.Class({\r\n//     extends: cc.Component,\r\n// \r\n//     properties: {\r\n//         //by_009:内容\r\n//         content: cc.Label,\r\n//         //by_009:确认\r\n//         btn_confirm: cc.Node,\r\n//         //by_009:取消\r\n//         btn_cancel: cc.Node,\r\n//         _yesCB: null,\r\n//         _cancelCB: null,\r\n//     },\r\n// \r\n//     // LIFE-CYCLE CALLBACKS:\r\n// \r\n//     // onLoad () {},\r\n// \r\n//     start() {\r\n//         this.btn_confirm.on(cc.Node.EventType.TOUCH_END, () => {\r\n//             this._yesCB && this._yesCB()\r\n//             this.node.active = false;\r\n//         })\r\n// \r\n//         this.btn_cancel.on(cc.Node.EventType.TOUCH_END, () => {\r\n//             this._cancelCB && this._cancelCB()\r\n//             this.node.active = false;\r\n//         });\r\n// \r\n// \r\n//     },\r\n// \r\n// \r\n//     messageBox(text = \"\", cb1, cb2) {\r\n//         this.content.string = text;\r\n//         this.btn_confirm.active = true;\r\n//         this._yesCB = cb1\r\n//         this._cancelCB = cb2\r\n//         if (cb2) {\r\n//             this.btn_cancel.active = true;\r\n//         } else {\r\n//             this.btn_cancel.active = false;\r\n//         }\r\n//     },\r\n// \r\n// \r\n//     // update (dt) {},\r\n// });\r\n","/*\r\n* @Author: xz\r\n* @Date: 2021-11-13 17:02:02\r\n* @LastEditTime: 2021-12-08 10:20:17\r\n* @LastEditors: xz\r\n* @Description:\r\n*/\r\n/**\r\n* 提示\r\n*/\r\nimport { instantiate } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { Label } from 'cc';\r\nimport { Node } from 'cc';\r\nimport { _decorator, Component } from 'cc';\r\nconst { ccclass } = _decorator;\r\n\r\n@ccclass('UITips')\r\nexport class UITips extends Component {\r\n\r\n    private item:Node = null;\r\n    private container:Node = null;\r\n    onLoad () {\r\n        this.item = this.node.getChildByName(\"item\");\r\n        this.container = this.node.getChildByName(\"container\") \r\n        this.node.active = false \r\n        console.log(\"onLoad\", this.node.name) \r\n    }\r\n\r\n    showText (text: any) {\r\n        if(!text) return \r\n        this.node.active = true;\r\n        this.item.active = true;\r\n        var lbl_text = this.item.getChildByName(\"lbl_text\").getComponent(Label); \r\n        lbl_text.string = text \r\n        if (this.item) {\r\n            // 创建淡入动作，持续时间 0.1 秒\r\n            const fadeInAction = tween(this.item).to(0.1, { opacity: 255 });\r\n            // 创建延迟动作，持续时间 2 秒\r\n            const delayAction = tween().delay(2);\r\n            // 创建淡出动作，持续时间 0.2 秒\r\n            const fadeOutAction = tween(this.item).to(0.2, { opacity: 0 });\r\n            // 创建移除自身动作\r\n            const removeSelfAction = tween(this.item).call(() => {\r\n                this.item!.destroy();\r\n            });\r\n\r\n            // 按顺序组合动作\r\n            const sequenceAction = tween(this.item)\r\n              .then(fadeInAction)\r\n              .then(delayAction)\r\n              .then(fadeOutAction)\r\n              .then(removeSelfAction);\r\n\r\n            // 执行组合后的动作\r\n            sequenceAction.start();\r\n        }\r\n    }\r\n\r\n}\r\n","import { _decorator } from 'cc';\r\nexport default class Utils {\r\n//    /**左右都为闭区间 */\r\n    public static randomRangeInt(min: number, max: number): number {\r\n        let ret: number = max;\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n       // Math.random 返回介于 0（包含） ~ 1（不包含） 之间的一个随机数 所以要 max - min + 1\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n//    // 左右都是闭区间\r\n    public static randomRange(min: number, max: number): number {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n}\r\n","import { _decorator, Component } from 'cc';\r\nimport IWait from \"./IWait\";\r\n\r\nexport default class WaitTime implements IWait {\r\n    public async wait(caller: Component, sec: number): Promise<any> {\r\n\r\n        console.log(\"WaitTime : \" + sec);\r\n        if (caller == null || !caller.isValid) return;\r\n        return new Promise((resolve, reject) => {\r\n            caller.scheduleOnce(() => {\r\n                resolve(true);\r\n            }, sec);\r\n        });\r\n    }\r\n}\r\n\r\n"]}