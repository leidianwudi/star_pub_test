System.register("chunks:///_virtual/autoPanel9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./Num.ts"],(function(t){var e,o,n,i,r,a,l,u,s,c,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,s=t.Color,c=t.tween,h=t.Component},function(t){p=t.rabbit},function(t){d=t.Num}],execute:function(){var b,f,y,C,v,g,w,P,m,_,B,N,z;r._RF.push({},"f98919p31pOAKv0SSu/PAj2","autoPanel",void 0);var A=a.ccclass,k=a.property;t("autoPanel",(b=A("autoPanel"),f=k({type:l,tooltip:""}),y=k({type:l,tooltip:""}),C=k({type:u,tooltip:"用户金币"}),v=k({type:u,tooltip:"本局总注"}),g=k({type:u,tooltip:"赢钱金额"}),b((m=e((P=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"panel",m,i(e)),n(e,"roundedButton",_,i(e)),n(e,"lblUserCoin",B,i(e)),n(e,"lblCurBet",N,i(e)),n(e,"winCoin_lab",z,i(e)),e.autoNum=0,e.autoChooseColor=[243,168,85],e.showPos=void 0,e.hidePos=void 0,e}o(e,t);var r=e.prototype;return r.init=function(){p.autoPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},r.start=function(){this.init()},r.update=function(t){this.lblUserCoin.string=d.exchangeToThousands(p.exchangeRate,p.money),this.lblCurBet.string=d.exchangeToThousands(p.exchangeRate,p.betSum),this.winCoin_lab.string=p.slotCtrl.winCoin_lab.string},r.onCLick_chooseAutoNum=function(t,e){this.roundedButton.color=new s(255,200,36),this.roundedButton.opacity=255,this.autoNum=parseInt(e);var o=t.target.parent;for(var n in o.children)o.children[n].children[0].children[0].color=new s(100,100,110);t.target.children[0].children[0].color=new s(this.autoChooseColor[0],this.autoChooseColor[1],this.autoChooseColor[2])},r.onCLick_startAuto=function(){this.autoNum>0&&(this.onClose(),p.node.startAuto(this.autoNum))},r.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},r.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},r.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"roundedButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(P.prototype,"lblUserCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(P.prototype,"lblCurBet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"winCoin_lab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/betNum10.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var o;r._RF.push({},"94316P+e7dGtJVbbryLTvvT","betNum",void 0);var u=n.ccclass;n.property,t("betNum",u("betNum")(o=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).valNum=0,e}return e(r,t),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/betPanel10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./Num.ts","./betNum10.ts"],(function(t){var e,i,s,n,o,l,h,a,r,u,c,g,p,b,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,h=t.Node,a=t.Prefab,r=t.PageView,u=t.Label,c=t.instantiate,g=t.tween,p=t.Component},function(t){b=t.rabbit},function(t){m=t.Num},function(t){v=t.betNum}],execute:function(){var d,f,_,B,P,C,y,L,x,w,N,I,T,z,k,R,S,j,A,U,D,E,M;o._RF.push({},"3040bb2b6VLkpwmALhT5C+s","betPanel",void 0);var F=l.ccclass,V=l.property;t("betPanel",(d=F("betPanel"),f=V({type:h,tooltip:""}),_=V({type:a,tooltip:""}),B=V({type:a,tooltip:""}),P=V({type:r,tooltip:""}),C=V({type:r,tooltip:""}),y=V({type:r,tooltip:""}),L=V({type:u,tooltip:""}),x=V({type:u,tooltip:"用户金币"}),w=V({type:u,tooltip:"本局总注"}),N=V({type:u,tooltip:"赢钱金额"}),d((z=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,s(e,"panel",z,n(e)),s(e,"chooseBet_pb",k,n(e)),s(e,"chooseTotalBet_pb",R,n(e)),s(e,"chooseBet_list1",S,n(e)),s(e,"chooseBet_list2",j,n(e)),s(e,"chooseBet_list3",A,n(e)),s(e,"lbLine",U,n(e)),s(e,"lblUserCoin",D,n(e)),s(e,"lblCurBet",E,n(e)),s(e,"winCoin_lab",M,n(e)),e.numList=[],e.betList=[],e.line=0,e.val1=0,e.val2=0,e.val3=0,e.tempi=0,e.tempj=0,e.tempindex=0,e.sumList=[],e.showPos=void 0,e.hidePos=void 0,e}i(e,t);var o=e.prototype;return o.init=function(){b.betPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1,this.numList=b.BETNUM,this.betList=b.BET,this.line=b.LINES},o.start=function(){this.init()},o.update=function(t){this.lblUserCoin.string=m.exchangeToThousands(b.exchangeRate,b.money),this.lblCurBet.string=m.exchangeToThousands(b.exchangeRate,b.betSum),this.winCoin_lab.string=b.slotCtrl.winCoin_lab.string},o.initBetContent=function(){this.val1=this.numList[0],this.val2=this.betList[0],this.val3=this.numList[0]*this.betList[0]*this.line,this.chooseBet_list1.removeAllPages();for(var t=0;t<this.numList.length;t++){var e=c(this.chooseBet_pb);e.children[0].active=0==t,e.children[1].active=t==this.numList.length-1,e.getComponent(u).string=m.exchangeToThousands(b.exchangeRate,this.numList[t]),e.getComponent(v).valNum=this.numList[t],this.chooseBet_list1.addPage(e)}this.chooseBet_list2.removeAllPages();for(var i=0;i<this.betList.length;i++){var s=c(this.chooseBet_pb);s.children[0].active=!1,s.children[1].active=!1,s.getComponent(u).string=this.betList[i]+"",s.getComponent(v).valNum=this.betList[i],this.chooseBet_list2.addPage(s)}for(var n=[],o=0;o<this.numList.length;o++)for(var l=0;l<this.betList.length;l++)n.push(1e3*this.numList[o]*this.betList[l]*this.line/1e3);var h=Array.from(new Set(n));h.sort((function(t,e){return t-e})),this.sumList=h,this.chooseBet_list3.removeAllPages();for(var a=0;a<h.length;a++){var r=c(this.chooseTotalBet_pb);r.children[0].active=0==a,r.children[1].active=a==h.length-1,r.getComponent(u).string=m.exchangeToThousands(b.exchangeRate,h[a]),r.getComponent(v).valNum=h[a],this.chooseBet_list3.addPage(r)}this.lbLine.string=this.line+"",this.chooseBet_list1.node.on("page-turning",this.cb_pt1,this),this.chooseBet_list2.node.on("page-turning",this.cb_pt2,this),this.chooseBet_list3.node.on("page-turning",this.cb_pt3,this)},o.cb_pt1=function(t){this.val1=this.numList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempi=t.getCurrentPageIndex()},o.cb_pt2=function(t){this.val2=this.betList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempj=t.getCurrentPageIndex()},o.cb_pt3=function(t){this.val3=this.sumList[t.getCurrentPageIndex()],this.tempindex=t.getCurrentPageIndex();for(var e=0;e<this.chooseBet_list1.getPages().length;e++)for(var i=0;i<this.chooseBet_list2.getPages().length;i++)if(this.val3==1e3*this.chooseBet_list1.getPages()[e].getComponent(v).valNum*this.chooseBet_list2.getPages()[i].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(e),this.chooseBet_list2.setCurrentPageIndex(i),this.val1=this.chooseBet_list1.getPages()[e].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[i].getComponent(v).valNum,this.tempi=e,this.tempj=i;break}},o.choose_Max=function(){this.val3=this.sumList[this.sumList.length-1],this.tempindex=this.sumList.length-1;for(var t=0;t<this.chooseBet_list1.getPages().length;t++)for(var e=0;e<this.chooseBet_list2.getPages().length;e++)if(this.val3==1e3*this.chooseBet_list1.getPages()[t].getComponent(v).valNum*this.chooseBet_list2.getPages()[e].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(t),this.chooseBet_list2.setCurrentPageIndex(e),this.val1=this.chooseBet_list1.getPages()[t].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[t].getComponent(v).valNum,this.tempi=t,this.tempj=e;break}},o.onConfirm=function(){b.betNum=this.tempi,b.bet=this.tempj,b.sumIdx=this.tempindex,b.betSum=this.sumList[b.sumIdx],this.lblCurBet.string=m.exchangeToThousands(b.exchangeRate,b.betSum),b.slotCtrl.lblCurBet.string=this.lblCurBet.string,this.onClose()},o.bindBet=function(){this.chooseBet_list3.setCurrentPageIndex(b.sumIdx),this.val3=b.betSum,this.cb_pt3(this.chooseBet_list3)},o.showPanel=function(){var t=this;b.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,this.panel.children[0].opacity=10,this.initBetContent(),g(this.panel).to(.2,{y:this.showPos}).start(),g(this.node).delay(.2).call((function(){g(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},o.hidePanel=function(){var t=this;g(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},o.onClose=function(){b.node.audio.playclickclose(),this.hidePanel()},e}(p)).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"chooseBet_pb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"chooseTotalBet_pb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"chooseBet_list1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"chooseBet_list2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"chooseBet_list3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"lbLine",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"lblUserCoin",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"lblCurBet",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"winCoin_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/cRabbit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./dataChange9.ts"],(function(t){var e,n,i,s;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.SubGameDef},function(t){s=t.dataChange}],execute:function(){n._RF.push({},"ef9dcBumolBAJDkCNvTI5WL","cRabbit",void 0);var u=function(){function t(){this.BETNUM=s.BETNUM,this.LINES=s.LINES,this.BET=s.BET,this._isNewUser=!1,this._money=0,this._exchangeRate=0,this.detail=null,this.node=null,this.wheelList=[],this.bet=0,this.betNum=0,this.sumIdx=0,this._betSum=0,this.lotteryRes=null,this.auto=!1,this.autoTimes=0,this.status=0,this.winLinePos=[],this.bigWinNum=0,this.rollIndex=0,this._rollEnable=!0,this.betPanel=null,this.autoPanel=null,this.rulePanel=null,this.payPanel=null,this.lastmoneyPanel=null}return e(t,[{key:"isNewUser",get:function(){return this._isNewUser=!1,this._isNewUser}},{key:"money",get:function(){return this._money},set:function(t){this._money=t}},{key:"exchangeRate",get:function(){return this._exchangeRate=1,this._exchangeRate}},{key:"slotCtrl",get:function(){return this.node.slotCtrl}},{key:"betSum",get:function(){return this._betSum||(this._betSum=Number(localStorage.getItem(i.SLOTS_RABBIT+"betSum"))),this._betSum},set:function(t){this._betSum!=t&&localStorage.setItem(i.SLOTS_RABBIT+"betSum",t+""),this._betSum=t}},{key:"rollEnable",get:function(){return this._rollEnable},set:function(t){this._rollEnable=t}},{key:"inBigWin",get:function(){return this.lotteryRes.getBigWin.res_list.length>1}},{key:"bigWinBn",get:function(){return l.lotteryRes.winscore>20*l.betSum}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();u._instance=null;var l=t("rabbit",u.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/dataChange9.ts",["cc","./Num.ts"],(function(e){var n,r;return{setters:[function(e){n=e.cclegacy},function(e){r=e.Num}],execute:function(){n._RF.push({},"0e31cHypI9AEqRsgkWYsgX5","dataChange",void 0);var s=e("dataChange",function(){function e(){}return e.change=function(n){var s={code:0,err_msg:"",nBet:15,nHandCards:[],goldList:[],getBigWin:{},getFreeTime:{}};s.getBigWin.res_list=[],s.userscore=r.parse(n.coins),s.winscore=r.parse(n.payout);for(var t=0;t<n.results.length;t++){for(var i=n.results[t],a=[],o=[0,0,0,0,0,0,0,0,0,0,0,0],l=[],u=[],g=[],c=[!1,!1,!1,!1,!1,!1,!1,!1,!1],d=0;d<i.symbols.length;d++){var p=i.symbols[d],h=e.posToIndex(p.coordinate);a[h]=this.transformId(p.id),8==a[h]&&(o[h]=this.specialNums[this.specials.indexOf(p.id)],c[h]=!0)}for(var f=0;f<i.paylines.length;f++){var m=i.paylines[f];l.push(Number(m.id)-1),g.push(m.payout),u[t]=[];for(var v=0;v<m.points.length;v++){var W=m.points[v],b=e.posToIndex(W);u[t].push(b),c[b]=!0}}t==n.results.length-1&&(s.nHandCards=a,s.goldList=o,s.nWinLines=l,s.nWinLinesDetail=u,s.nWinDetail=g,s.nWinCards=c),s.getBigWin.bFlag=n.results.length>1,s.getBigWin.isStart=n.results.length>1,s.getFreeTime.bFlag=n.results.length>1,s.getFreeTime.nFreeTime=n.results.length;var y={};y.nHandCards=a,y.goldList=o,y.nWinLines=l,y.nWinLinesDetail=u,y.nWinDetail=g,y.nWinCards=c,y.winscore=Number(i.payout),s.getBigWin.res_list.push(y)}return s},e.posToIndex=function(e){if(2==e.reel)return 3*(4-e.row)+(e.reel-1);if(1==e.reel&&4==e.row){return 9}if(3==e.reel&&4==e.row){return 11}return 3*(3-e.row)+(e.reel-1)},e.transformId=function(e){var n;return-1!=this.specials.indexOf(e)?8:null!=(n={rabbit:7,rabbit_yuanbao:6,blessing_bag:5,red_envelope:4,copper_coin:3,rocket:2,carrot:1}[e])?n:10},e}());s.BETNUM=[.03,.1,.3,.9],s.LINES=10,s.BET=[1,2,3,4,5,6,7,8,9,10],s.specials=["0.5倍","1倍","2倍","5倍","10倍","50倍","100倍","500倍"],s.specialNums=[.5,1,2,5,10,50,100,500],n._RF.pop()}}}));

System.register("chunks:///_virtual/flyNum.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Num.ts"],(function(t){var e,i,n,r,o,s,c,u,p,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,u=t.CCFloat,p=t.Vec3,a=t.Component},function(t){l=t.Num}],execute:function(){var f,h,y,m,_;s._RF.push({},"076ebI6pq1MeJZ75Kn1wZ8m","flyNum",void 0);var v=c.ccclass,w=c.property;t("flyNum",(f=v("flyNum"),h=w({type:u,tooltip:"飞行进度"}),f((_=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_t",_,r(e)),e.p0=new p,e.p1=new p,e.p2=new p,e.p3=new p,e}return i(e,t),o(e,[{key:"t",get:function(){return this._t},set:function(t){this._t=t;var e=l.threeBezier(this.p0,this.p1,this.p2,this.p3,this._t);this.node.position=e}}]),e}(a)).prototype,"_t",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=m))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/lastmoneyPanel10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./Num.ts"],(function(t){var e,n,i,o,a,l,s,r,c,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,r=t.Label,c=t.tween,h=t.Component},function(t){p=t.rabbit},function(t){u=t.Num}],execute:function(){var d,y,f,v,P,b,m;a._RF.push({},"54ae9dlHrdJhp+LGDovZB/l","lastmoneyPanel",void 0);var g=l.ccclass,w=l.property;t("lastmoneyPanel",(d=g("lastmoneyPanel"),y=w({type:s,tooltip:""}),f=w({type:r,tooltip:""}),d((b=e((P=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"panel",b,o(e)),i(e,"lblUserCoin",m,o(e)),e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var a=e.prototype;return a.init=function(){p.lastmoneyPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.update=function(t){this.lblUserCoin.string=u.exchangeToThousands(p.exchangeRate,p.money)},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(P.prototype,"lblUserCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_rabbit",["./SlotsRabbitGameMgr.ts","./SlotsRabbitLobbyScene.ts","./autoPanel9.ts","./betNum10.ts","./betPanel10.ts","./cRabbit.ts","./dataChange9.ts","./flyNum.ts","./lastmoneyPanel10.ts","./nodeSizeJump.ts","./payPanel5.ts","./pbCardNum.ts","./rabbitAudio.ts","./rabbitDetail.ts","./rabbitMain.ts","./rabbitSlotCtrl.ts","./rabbitWheel.ts","./rulePanel5.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/nodeSizeJump.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,c,a,s,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.CCFloat,s=e.tween,l=e.Vec3,p=e.Component}],execute:function(){var u,d,f,h,y,m,z;o._RF.push({},"71ccdpUhdZH34n2mdcNeXBw","nodeSizeJump",void 0);var b=c.ccclass,w=c.property;e("nodeSizeJump",(u=b("nodeSizeJump"),d=w({type:a,tooltip:"scale"}),f=w({type:a,tooltip:"时间间隔"}),u((m=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"scale",m,r(t)),n(t,"dis",z,r(t)),t}return i(t,e),t.prototype.play=function(){s(this.node).to(this.dis,{scale:new l(this.scale,this.scale)}).to(this.dis,{scale:new l(1,1)}).start()},t}(p)).prototype,"scale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(y.prototype,"dis",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/payPanel5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts"],(function(t){var e,i,n,o,a,s,l,r,c,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,r=t.Widget,c=t.tween,h=t.Component},function(t){p=t.rabbit}],execute:function(){var d,u,y,f,v;a._RF.push({},"1d27fptZsNOwLwiWFWbUgVx","payPanel",void 0);var P=s.ccclass,w=s.property;t("payPanel",(d=P("payPanel"),u=w({type:l,tooltip:""}),d((v=e((f=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"panel",v,o(e)),e.showPos=void 0,e.hidePos=void 0,e}i(e,t);var a=e.prototype;return a.init=function(){p.payPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var e=this.panel.getComponentsInChildren(r),i=0;i<e.length;i++)e[i].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/pbCardNum.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,i,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.CCFloat,u=e.Component}],execute:function(){var c,p,s,d,b,f,y;n._RF.push({},"8873b2QWPdIn59RBM8lVvy5","pbCardNum",void 0);var m=a.ccclass,h=a.property;e("pbCardNum",(c=m("pbCardNum"),p=h({type:l,tooltip:"showNodeNum"}),s=h({type:l,tooltip:"val"}),c((f=r((b=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(r,"showNodeNum",f,i(r)),o(r,"val",y,i(r)),r}return t(r,e),r}(u)).prototype,"showNodeNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=r(b.prototype,"val",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=b))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/rabbitAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleDef.ts"],(function(t){var i,n,r,e,l,o,a,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.AudioClip,u=t.Component},function(t){p=t.ModuleDef}],execute:function(){var b,c,f,y,s,_,h,g,m,d,w,E,z,W,A,M,k,B,L,v,S,F,C,D,x,P,O,R,T,H,I,j,G,J,N,q,K,Q,U,V,X,Y,Z,$,tt,it,nt;l._RF.push({},"c3186r3i9pJ6r4kGN8sdsBl","rabbitAudio",void 0);var rt=o.ccclass,et=o.property;t("rabbitAudio",(b=rt("rabbitAudio"),c=et({type:[a],tooltip:"bgmAudio"}),f=et({type:a,tooltip:"滚轮旋转"}),y=et({type:a,tooltip:"滚轮停止"}),s=et({type:a,tooltip:"粒子触发"}),_=et({type:a,tooltip:"粒子结束"}),h=et({type:a,tooltip:"语音_1_兔来运转"}),g=et({type:a,tooltip:"语音_2_福到财到"}),m=et({type:a,tooltip:"语音_3_啊哈啊哈"}),d=et({type:a,tooltip:"语音_4_嗯哼"}),w=et({type:a,tooltip:"语音_5_恭喜恭喜"}),E=et({type:a,tooltip:"语音_6_厉害"}),z=et({type:a,tooltip:"语音_7_真好"}),W=et({type:a,tooltip:"语音_8_啊哈"}),A=et({type:a,tooltip:"语音_9_嘿嘿"}),M=et({type:a,tooltip:"语音_10_好"}),k=et({type:a,tooltip:"语音_11_耶"}),B=et({type:a,tooltip:"bigWinEf"}),L=et({type:a,tooltip:"中奖首次音效"}),v=et({type:a,tooltip:"中奖循环音效"}),S=et({type:a,tooltip:"点击旋转"}),F=et({type:a,tooltip:"点击打开"}),C=et({type:a,tooltip:"点击关闭"}),b((P=i((x=function(t){function i(){for(var i,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,r(i,"bgmAudio",P,e(i)),r(i,"wheelspin",O,e(i)),r(i,"stopWheel",R,e(i)),r(i,"particalStart",T,e(i)),r(i,"particalEnd",H,e(i)),r(i,"rabbit_01",I,e(i)),r(i,"rabbit_02",j,e(i)),r(i,"rabbit_03",G,e(i)),r(i,"rabbit_04",J,e(i)),r(i,"rabbit_05",N,e(i)),r(i,"rabbit_06",q,e(i)),r(i,"rabbit_07",K,e(i)),r(i,"rabbit_08",Q,e(i)),r(i,"rabbit_09",U,e(i)),r(i,"rabbit_10",V,e(i)),r(i,"rabbit_11",X,e(i)),r(i,"bigWinEf",Y,e(i)),r(i,"WinFirstEf",Z,e(i)),r(i,"WinLoopEf",$,e(i)),r(i,"clickstart",tt,e(i)),r(i,"clickOpen",it,e(i)),r(i,"clickClose",nt,e(i)),i.url="sound/bgm",i.BWurl="sound/bigwin",i}n(i,t);var l=i.prototype;return l.onLoad=function(){},l.start=function(){this.playBgm()},l.stopAudio=function(){},l.stopbigwinmain=function(){this.playBgm()},l.playBgm=function(){tgx.AudioMgr.inst.audio.playMusicLoop(this.url,p.SLOTS_RABBIT)},l.playbigwinmain=function(){},l.playStopWheel=function(){this.playEf(this.stopWheel)},l.playwheelspin=function(){this.playEf(this.wheelspin)},l.playParticalStart=function(){this.playEf(this.particalStart)},l.playclickstart=function(){this.playEf(this.clickstart)},l.playParticalEnd=function(){this.playEf(this.particalEnd)},l.playrabbit_01=function(){this.playEf(this.rabbit_01)},l.playrabbit_02=function(){this.playEf(this.rabbit_02)},l.playBWCome=function(){0==Math.floor(Math.random())?this.playEf(this.rabbit_03):this.playEf(this.rabbit_04)},l.playWinLow=function(){var t=[this.rabbit_08,this.rabbit_09,this.rabbit_10,this.rabbit_11],i=Math.floor(Math.random()*t.length);this.playEf(t[i])},l.playWinHigh=function(){var t=[this.rabbit_05,this.rabbit_06,this.rabbit_07],i=Math.floor(Math.random()*t.length);this.playEf(t[i])},l.playWinFirst=function(){this.playEf(this.WinFirstEf)},l.playWinLoop=function(){this.playEf(this.WinLoopEf)},l.playBW=function(){this.playEf(this.bigWinEf)},l.playEf=function(t){tgx.AudioMgr.inst.audio.playEffect(t)},l.playclickopen=function(){},l.playclickclose=function(){},l.clearAll=function(){tgx.AudioMgr.inst.audio.clearAll()},i}(u)).prototype,"bgmAudio",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(x.prototype,"wheelspin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(x.prototype,"stopWheel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(x.prototype,"particalStart",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(x.prototype,"particalEnd",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"rabbit_01",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(x.prototype,"rabbit_02",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(x.prototype,"rabbit_03",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(x.prototype,"rabbit_04",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(x.prototype,"rabbit_05",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(x.prototype,"rabbit_06",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(x.prototype,"rabbit_07",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(x.prototype,"rabbit_08",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(x.prototype,"rabbit_09",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(x.prototype,"rabbit_10",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(x.prototype,"rabbit_11",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(x.prototype,"bigWinEf",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(x.prototype,"WinFirstEf",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(x.prototype,"WinLoopEf",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(x.prototype,"clickstart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(x.prototype,"clickOpen",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(x.prototype,"clickClose",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=x))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/rabbitDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./pbCardNum.ts"],(function(e){var t,i,o,r,n,a,l,d,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,d=e.Label,c=e.Component},function(e){u=e.rabbit},function(e){p=e.pbCardNum}],execute:function(){var s,h,N,b,f,v,y,m,g,B,G,w,C,z,D;n._RF.push({},"4061fGO1QRLlbkh9pbFwMAL","rabbitDetail",void 0);var k=a.ccclass,L=a.property,S=[{3:2},{3:3},{3:5},{3:10},{3:50},{3:100},{3:200},{3:0}];e("rabbitDetail",(s=k("rabbitDetail"),h=L({type:l,tooltip:"图片"}),N=L({type:l,tooltip:"背景板"}),b=L({type:l,tooltip:"反向背景板"}),f=L({type:l,tooltip:"中奖分数"}),v=L({type:l,tooltip:"特殊牌"}),y=L({type:l,tooltip:"其他牌"}),s((B=t((g=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"roleSpriteNode",B,r(t)),o(t,"BGNode",G,r(t)),o(t,"BGNode2",w,r(t)),o(t,"numNode",C,r(t)),o(t,"specialNode",z,r(t)),o(t,"otherNode",D,r(t)),t}i(t,e);var n=t.prototype;return n.init=function(e,t,i){void 0===i&&(i=void 0),u.detail&&(u.detail.node.active=!1),u.detail=this;var o=e;if(this.roleSpriteNode.children[e-1].active=!0,8==e){this.BGNode.w=685,this.BGNode2.w=685,this.otherNode.active=!0,this.numNode.active=!1;var r=this.roleSpriteNode.children[e-1],n=i.getComponent(p);r.getChildByName("001").active=!1,r.getChildByName("002").active=!1,r.getChildByName("003").active=!1;var a=r.getChildByName("00"+n.showNodeNum);a.active=!0,a.getComponent(d).string=n.val+""}else for(var l in this.BGNode.w=542,this.BGNode2.w=542,this.otherNode.active=!1,this.numNode.active=!0,S[o-1])this.numNode.getChildByName(l).children[0].getComponent(d).string=S[e-1][l];7==e?(this.BGNode.h=367,this.BGNode2.h=367):(this.BGNode.h=281,this.BGNode2.h=281),t||(this.BGNode.active=!1,this.BGNode2.active=!0,this.numNode.x=-180,this.specialNode.x=-340,this.otherNode.x=-430)},n.node_onclick=function(e){u.node.deskMask.active=!1,this.node.destroy(),u.detail=null},t}(c)).prototype,"roleSpriteNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(g.prototype,"BGNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(g.prototype,"BGNode2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(g.prototype,"numNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(g.prototype,"specialNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(g.prototype,"otherNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/rabbitMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./rabbitSlotCtrl.ts","./cRabbit.ts","./pbCardNum.ts","./flyNum.ts","./Num.ts","./nodeSizeJump.ts","./NetGameServer.ts","./SubGameDef.ts","./dataChange9.ts","./UserMgr.ts","./RoomMgr.ts","./UIHelp.ts","./LanguageData.ts"],(function(e){var t,i,n,l,o,r,a,s,c,h,u,f,d,p,g,m,b,y,v,w,C,B,L,N,R,A,x,_,W,S,I,T,k,F,P,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime,a=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,c=e._decorator,h=e.Prefab,u=e.Node,f=e.Label,d=e.sp,p=e.tween,g=e.Vec3,m=e.Animation,b=e.macro,y=e.find,v=e.instantiate,w=e.Component,C=e.UITransform,B=e.math},function(e){L=e.rabbitSlotCtrl},function(e){N=e.rabbit},function(e){R=e.pbCardNum},function(e){A=e.flyNum},function(e){x=e.Num},function(e){_=e.nodeSizeJump},function(e){W=e.gameNet},function(e){S=e.SubGameDef},function(e){I=e.dataChange},function(e){T=e.UserMgr},function(e){k=e.RoomMgr},function(e){F=e.UIHelp,P=e.UIhelpParam},function(e){E=e.LanguageData}],execute:function(){var z,G,M,O,U,D,J,H,V,j,q,K,Q,X,Y,Z,$,ee,te,ie,ne,le,oe,re,ae,se,ce,he,ue,fe,de,pe,ge,me,be,ye,ve,we,Ce,Be,Le,Ne,Re,Ae,xe,_e,We,Se,Ie,Te,ke,Fe,Pe,Ee,ze,Ge,Me,Oe,Ue,De,Je,He,Ve,je,qe,Ke,Qe,Xe,Ye,Ze,$e;s._RF.push({},"f0813esnjBAPLrb3O/JN8fu","rabbitMain",void 0);var et=c.ccclass,tt=c.property;e("rabbitMain",(z=et("rabbitMain"),G=tt({type:[h],tooltip:"滚轮角色Pb"}),M=tt({type:[h],tooltip:"滚轮角色动画Pb"}),O=tt({type:h,tooltip:"滚轮免费模式空角色Pb"}),U=tt({type:h,tooltip:"角色详情Pb"}),D=tt({type:h,tooltip:"万能特效Pb"}),J=tt({type:u,tooltip:"摇奖普通特效1"}),H=tt({type:u,tooltip:"摇奖普通特效2"}),V=tt({type:u,tooltip:"摇奖极速特效"}),j=tt({type:u,tooltip:"中奖数字特效"}),q=tt({type:u,tooltip:"中奖光特效"}),K=tt({type:u,tooltip:"中奖牌特效"}),Q=tt({type:u,tooltip:"中奖图标底部光影"}),X=tt({type:u,tooltip:"中奖图层遮罩"}),Y=tt({type:u,tooltip:"中奖特效"}),Z=tt({type:u,tooltip:"游戏背景节点"}),$=tt({type:u,tooltip:"免费摇奖背景节点"}),ee=tt({type:u,tooltip:"免费摇奖提示节点"}),te=tt({type:u,tooltip:"免费模式提示2"}),ie=tt({type:u,tooltip:"免费模式没中特效"}),ne=tt({type:u,tooltip:"免费模式中奖特效"}),le=tt({type:u,tooltip:"中奖背景2"}),oe=tt({type:u,tooltip:"中奖背景3"}),re=tt({type:u,tooltip:"滚屏提示"}),ae=tt({type:u,tooltip:"中奖提示"}),se=tt({type:u,tooltip:"爆金币"}),ce=tt({type:u,tooltip:"金币跳跃"}),he=tt({type:u,tooltip:"跑光"}),ue=tt({type:f,tooltip:"单线中奖金币"}),fe=tt({type:u,tooltip:"兔子动画"}),de=tt({type:u,tooltip:"deskMask"}),pe=tt({type:u,tooltip:"免费模式假开始特效"}),ge=tt({type:u,tooltip:"免费模式开始特效"}),me=tt({type:u,tooltip:"免费模式摇奖特效"}),be=tt({type:u,tooltip:"slotCtrl"}),z((we=t((ve=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"rolePb",we,l(t)),n(t,"roleAnimPb",Ce,l(t)),n(t,"roleNullPb",Be,l(t)),n(t,"detailPb",Le,l(t)),n(t,"wildEffectPb",Ne,l(t)),n(t,"effectSlot1",Re,l(t)),n(t,"effectSlot2",Ae,l(t)),n(t,"effectFastSlot1",xe,l(t)),n(t,"effectNum",_e,l(t)),n(t,"effectLight",We,l(t)),n(t,"effectCard",Se,l(t)),n(t,"effectpsvfx",Ie,l(t)),n(t,"maskNode",Te,l(t)),n(t,"effectLine",ke,l(t)),n(t,"BgNode",Fe,l(t)),n(t,"freeBgNode",Pe,l(t)),n(t,"freeTipNode",Ee,l(t)),n(t,"freeTipNode2",ze,l(t)),n(t,"effectFreeNo",Ge,l(t)),n(t,"effectFree",Me,l(t)),n(t,"win2BG",Oe,l(t)),n(t,"win3BG",Ue,l(t)),n(t,"tipNode",De,l(t)),n(t,"winNode",Je,l(t)),n(t,"coinBoomEffect",He,l(t)),n(t,"coinJumpEffect",Ve,l(t)),n(t,"runLight",je,l(t)),n(t,"coinLineLab",qe,l(t)),n(t,"rabbitAnim",Ke,l(t)),n(t,"deskMask",Qe,l(t)),n(t,"freeModeFakeStartEffect",Xe,l(t)),n(t,"freeModeStartEffect",Ye,l(t)),n(t,"freeModeRollEffect",Ze,l(t)),n(t,"slotCtrlNode",$e,l(t)),t.delayClick=!1,t.audio=null,t.slotCtrl=null,t.bIsFreeGame=!1,t.freeTimes=0,t.bigWinBoo=!1,t.stopFree=!1,t.freeGameCoin=0,t.lineAni=null,t.goldAni=null,t.stateCallBackBn=!1,t.completeBn=!1,t.playWinAnimOverBn=!1,t.closeBigWinBn=!1,t.flyIndex=0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){N.node=this,this.slotCtrl=this.slotCtrlNode.getComponent(L),this.slotCtrl.initBetContent(N.BETNUM,N.BET,N.LINES),this.audio=this.node.getComponent("rabbitAudio"),N.wheelList=[],N.auto=!1,N.autoTimes=0,N.status=0,N.winLinePos=[300,100,100,100,100,-50,-50,-50,-50,-200],N.rollIndex=0,N.lotteryRes=null,N.money=T.inst.coin,this.slotCtrl.lblUserCoin.string=x.exchangeToThousands(N.exchangeRate,N.money),this.freeTimes=0,this.stopFree=!1,this.freeGameCoin=0,this.bIsFreeGame=!1,this.delayClick=!1,this.lineAni=null,this.goldAni=null,this.coinBoomEffect.active=!1,this.coinJumpEffect.active=!1,this.runLight.active=!1,this.winNode.active=!1,this.win2BG.active=!1,this.win3BG.active=!1,N.money=N.money},s.initWheel=function(){for(var e=0;e<N.wheelList.length;e++)N.wheelList[e].initWheel()},s.start=function(){this.initWheel(),this.slotCtrl.bindBet();var e=this.rabbitAnim.getComponent(d.Skeleton);e.setCompleteListener((function(t){switch(t.animation.name){case"idle2":case"idle3":case"win":case"win2":case"tease_exit":e.setAnimation(0,"idle",!0);break;case"tease_start":e.setAnimation(0,"tease_idle",!0);break;case"respawn":e.setAnimation(0,"idle",!0)}})),this.closeShine()},s.update=function(){},s.onCLick=function(e,t){switch(t){case"roll":this.startRoll();break;case"add":this.add();break;case"dec":this.dec();break;case"exitGame":this.onBtnExitClicked();break;case"lastmoney":N.lastmoneyPanel.showPanel();break;case"help":tgx.UIMgr.inst.showUI(F,null,this,new P("rule"));break;case"pay":tgx.UIMgr.inst.showUI(F,null,this,new P("payout"))}},s.onBtnExitClicked=function(){tgx.UIAlert.show(E.getLangByID("exit_game"),!0).onClick(o(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(N.node.close(),k.inst.exitRoom());case 1:case"end":return e.stop()}}),e)}))))},s.startRoll=function(){var e=this;this.freeTimes>0||this.bigWinBoo||this.stopFree||this.bIsFreeGame||this.delayClick||0==N.rollEnable||N.auto||(this.delayClick=!0,this.scheduleOnce((function(){e.delayClick=!1}),1),0==N.status?(N.status=2,this.sendRoll()):1==N.status&&(this.slotCtrl.setSpinAnim(3),this.stopImmediately()))},s.add=function(){this.freeTimes>0||this.bigWinBoo||this.stopFree||N.auto||(N.sumIdx+=1,N.sumIdx=0==this.slotCtrl.updateBet(N.sumIdx)?N.sumIdx-1:N.sumIdx,p(this.slotCtrl.lblCurBet.node).to(.1,{scale:new g(1.2,1.2,1.2)}).to(.1,{scale:new g(1,1,1)}).start())},s.dec=function(){this.freeTimes>0||this.bigWinBoo||this.stopFree||N.auto||(N.sumIdx-=1,N.sumIdx=0==this.slotCtrl.updateBet(N.sumIdx)?N.sumIdx+1:N.sumIdx,p(this.slotCtrl.lblCurBet.node).to(.1,{scale:new g(1.2,1.2,1.2)}).to(.1,{scale:new g(1,1,1)}).start())},s.startAuto=function(e){var t=this;this.freeTimes>0||this.bigWinBoo||this.stopFree||this.bIsFreeGame||this.delayClick||0==N.status&&(N.auto=!0,N.autoTimes=e,this.slotCtrl.Btn_stopAuto.children[0].getComponent(f).string=e+"",this.slotCtrl.Btn_stopAuto.children[0].scale=e>999?new g(.76,.76,.76):e>99?new g(.9,.9,.9):new g(1,1,1),this.slotCtrl.Btn_stopAuto.active=N.auto,this.slotCtrl.Btn_start.active=!this.slotCtrl.Btn_stopAuto.active,this.scheduleOnce((function(){t.sendRoll()}),1))},s.stopAuto=function(){N.auto=!1,N.autoTimes=0},s.stateCallBack=function(){var e=this,t=0;for(var i in N.wheelList)if(N.wheelList[i].status){t=1;break}if(N.status=t,0==N.status){if(this.stateCallBackBn)return;this.stateCallBackBn=!0,this.scheduleOnce((function(){e.stateCallBackBn=!1}),1),N.lotteryRes.winscore>0?(this.slotCtrl.setSpinAnim(3),N.rollEnable=!1):this.slotCtrl.setSpinAnim(2);var n=N.lotteryRes.getBigWin.res_list.length;this.scheduleOnce((function(){if(!(n>1&&n!=N.rollIndex))for(var t in N.wheelList){var i=4;1==Number(t)&&(i=5);for(var l=function(){if(8==N.wheelList[t].roleIdList[o+1]){var i=v(e.wildEffectPb),n=N.wheelList[t].rolePbList[o+1].getComponent(C),l=n.convertToWorldSpaceAR(new g(0,0,0)),r=(n=e.node.getComponent(C)).convertToNodeSpaceAR(l);i.position=r,e.node.addChild(i),p(i).call((function(){var t;null==(t=e.rabbitAnim.getComponent(d.Skeleton))||t.setAnimation(0,"idle2",!1),e.audio.playParticalStart()})).delay(.1).to(.3,{position:new g(-155,520,0)}).call((function(){e.audio.playParticalEnd(),i.parent=null})).start()}else if(7==N.wheelList[t].roleIdList[o+1]){var a,s=v(e.roleAnimPb[7]);N.wheelList[t].rolePbList[o+1].children[1].active=!1,N.wheelList[t].rolePbList[o+1].addChild(s),null==(a=s.getComponent(d.Skeleton))||a.setAnimation(0,"idle",!0)}else if(N.wheelList[t].roleIdList[o+1]<9){var c,h=v(e.roleAnimPb[N.wheelList[t].roleIdList[o+1]]);N.wheelList[t].rolePbList[o+1].children[1].active=!1,N.wheelList[t].rolePbList[o+1].addChild(h),null==(c=h.getComponent(d.Skeleton))||c.setAnimation(0,"spawn",!1)}},o=0;o<=i-2;o++)l()}}),.1),this.bIsFreeGame&&(this.freeGameCoin+=N.lotteryRes.winscore);var l,o=0;l=N.lotteryRes.getBigWin.res_list.length>1?N.lotteryRes.getBigWin.res_list[N.rollIndex].goldList:N.lotteryRes.goldList;for(var r=0;r<l.length;r++)l[r]&&o++;N.rollIndex++,N.lotteryRes.getBigWin.isStart&&N.lotteryRes.getBigWin.bFlag&&N.lotteryRes.getBigWin.res_list.length>1?n==N.rollIndex||1==n?(this.playWinAnim(.2*o+.2),this.stopFreeTimes(.2*o+.2)):(this.playWinAnim(),p(this.node.getChildByName("node")).delay(.2*o+.2).call((function(){e.closeShine(),e.roll(N.lotteryRes.getBigWin.res_list[N.rollIndex].nHandCards)})).start()):this.playWinAnim()}},s.playWinAnim=function(e){var t,i=this,n=[],l=N.lotteryRes.getBigWin.res_list.length;for(var o in t=l>1?N.lotteryRes.getBigWin.res_list[N.rollIndex-1].nWinCards:N.lotteryRes.nWinCards)t[o]&&n.push(o);var r=N.lotteryRes.nWinLinesDetail,a=N.lotteryRes.getBigWin.res_list.length,s=this.freeTimes>0||this.stopFree?[n]:[n].concat(r);if(N.lotteryRes.winscore>0&&(a==N.rollIndex||1==a)){var c,h,u,p=this.winNode.getChildByName("lab").getComponent(f);if(N.bigWinBn)this.slotCtrl.playAnim_BigWin(N.lotteryRes.winscore),p.string=x.exchangeToThousands(N.exchangeRate,N.lotteryRes.winscore),this.audio.playbigwinmain();else this.coinBoomEffect.active=!0,null==(c=this.coinBoomEffect.getComponent(m))||c.play(),N.auto?p.string=x.exchangeToThousands(N.exchangeRate,N.lotteryRes.winscore):this.slotCtrl.playAnimWin(0,N.lotteryRes.winscore,p),this.rollComplete();if(this.tipNode.active=!1,this.winNode.active=!0,this.winNode.children[2].active=!0,this.winNode.children[3].active=!1,N.lotteryRes.winscore<3*N.betSum)N.lotteryRes.winscore<N.betSum?this.audio.playWinLow():N.lotteryRes.winscore<3*N.betSum&&this.audio.playWinHigh(),null==(h=this.rabbitAnim.getComponent(d.Skeleton))||h.setAnimation(0,"win",!1);else this.audio.playrabbit_02(),null==(u=this.rabbitAnim.getComponent(d.Skeleton))||u.setAnimation(0,"win2",!1);N.lotteryRes.winscore<N.betSum||N.lotteryRes.winscore<3*N.betSum?this.audio.playWinLow():(N.lotteryRes.winscore,N.betSum)}else a!=N.rollIndex&&1!=a||this.rollComplete();var g=0;this.goldAni=function(){var e=[];for(var t in s[g])e.push([s[g][t]%3,parseInt(s[g][t]/3+"")]);e.sort((function(e,t){return e[0]-t[0]}));for(var n=function(t){i.scheduleOnce((function(){i.showAnim(e[t][0],e[t][1])}),.1*e[t][0])},l=0;l<e.length;l++)n(l)},N.inBigWin||N.auto?this.scheduleOnce(this.goldAni,.01):this.schedule(this.goldAni,2,b.REPEAT_FOREVER,.01),this.lineAni=function(){if(a==N.rollIndex||1==a){i.closeShine();for(var e=0;e<12;e++)i.closeAnim(e%3,parseInt(e/3+""));if(!s[g]||0==s[g].length)return;if(0!=s[g].length&&(i.maskNode.active=!0),N.auto){g=s[g].length,N.lotteryRes.nWinLines.length>0&&i.audio.playWinFirst();for(var t=0;t<N.lotteryRes.nWinLines.length;t++){var n;i.effectLine.children[N.lotteryRes.nWinLines[t]].active=!0,null==(n=i.effectLine.children[N.lotteryRes.nWinLines[t]].getComponent(m))||n.play(),i.effectNum.children[N.lotteryRes.nWinLines[t]].active=!0}return}if(0==g){N.lotteryRes.nWinLines.length>0&&i.audio.playWinFirst();for(var l=0;l<N.lotteryRes.nWinLines.length;l++){var o;i.effectLine.children[N.lotteryRes.nWinLines[l]].active=!0,null==(o=i.effectLine.children[N.lotteryRes.nWinLines[l]].getComponent(m))||o.play(),i.effectNum.children[N.lotteryRes.nWinLines[l]].active=!0}}else{var r;if(i.audio.playWinLoop(),N.lotteryRes.nWinLines.length>0)i.coinLineLab.node.active=!0,i.coinLineLab.node.y=N.winLinePos[N.lotteryRes.nWinLines[g-1]],i.coinLineLab.string=x.fixNum(N.exchangeRate,N.lotteryRes.nWinDetail[g-1]),i.effectLine.children[N.lotteryRes.nWinLines[g-1]].active=!0,null==(r=i.effectLine.children[N.lotteryRes.nWinLines[g-1]].getComponent(m))||r.play(),i.effectNum.children[N.lotteryRes.nWinLines[g-1]].active=!0}++g==N.lotteryRes.nWinLines.length+1&&(g=0)}},N.auto?this.scheduleOnce(this.lineAni,.01):this.schedule(this.lineAni,2,b.REPEAT_FOREVER,.01),this.flyIndex=0,N.auto||(this.slotCtrl.Btn_stopAuto.active=!1,this.slotCtrl.Btn_start.active=!0),this.playWinAnimOverBn=!0,N.lotteryRes.winscore<=20*N.betSum&&this.scheduleOnce(this.playWinAnimOver,1)},s.rollComplete=function(){var e=this;this.completeBn||(this.completeBn=!0,this.scheduleOnce((function(){e.completeBn=!1}),3),this.scheduleOnce((function(){e.slotCtrl.setSpinAnim(0),N.auto&&N.autoTimes>0&&e.scheduleOnce(e.sendRoll,1)}),1))},s.playWinAnimOver=function(){if(this.playWinAnimOverBn){this.playWinAnimOverBn=!1,this.winNode.active&&this.scheduleOnce(this.winShowBack,1),this.closeShine();var e=N.lotteryRes.getBigWin.res_list.length-N.rollIndex-1;0==e?(this.slotCtrl.Btn_free.children[0].active=!1,this.slotCtrl.Btn_free.children[1].active=!0):(this.slotCtrl.Btn_free.children[0].active=!0,this.slotCtrl.Btn_free.children[1].active=!1,this.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(f).string=e+"")}},s.winShowBack=function(){this.tipNode.active=!0,this.winNode.active=!1,this.win2BG.active=!1,this.win3BG.active=!1,this.stopFree=!1,this.coinBoomEffect.active=!1,this.coinJumpEffect.active=!1,this.runLight.active=!1},s.closeBigWin=function(){var e=this;this.closeBigWinBn||(this.closeBigWinBn=!0,this.scheduleOnce((function(){e.closeBigWinBn=!1,e.rollComplete()}),1),this.slotCtrl.winCoin_lab.string=x.exchangeToThousands(N.exchangeRate,N.lotteryRes.winscore),p(this.node.getChildByName("node")).delay(.5).call((function(){var t,i,n;e.playWinAnimOverBn&&(N.lotteryRes.winscore>3*N.betSum&&N.lotteryRes.winscore<5*N.betSum&&(e.win2BG.active=!0,e.win2BG.opacity=0,p(e.win2BG).to(1,{opacity:255}).start()),N.lotteryRes.winscore>=5*N.betSum&&(e.win3BG.active=!0,e.win3BG.opacity=0,p(e.win3BG).to(1,{opacity:255}).start()),e.winNode.active&&(e.coinBoomEffect.active=!0,null==(t=e.coinBoomEffect.getComponent(m))||t.play(),e.coinJumpEffect.active=!0,null==(i=e.coinJumpEffect.getComponent(m))||i.play(),e.runLight.active=!0,null==(n=e.runLight.getComponent(m))||n.play()))})).delay(3).call((function(){e.playWinAnimOver()})).start())},s.stopFreeTimes=function(e){var t,i,n=this;this.audio.playBgm(),null==(t=y("node/bg/s_bkg_normal/bg_logo_vfx",this.node).getComponent(m))||t.play("gxfc"),p(this.node.getChildByName("node")).to(.5,{scale:new g(1,1,1)}).start(),this.rabbitAnim.active=!0,null==(i=this.rabbitAnim.getComponent(d.Skeleton))||i.setAnimation(0,"respawn",!1),this.slotCtrl.Btn_free.active=!1,this.scheduleOnce((function(){n.tipNode.active=!0,n.freeTipNode.active=!1,n.freeTipNode2.active=!1,n.bIsFreeGame=!1,n.winNode.active=!1,n.win2BG.active=!1,n.win3BG.active=!1,n.slotCtrl.betting_panel.active=!0}),e+1)},s.showAnim=function(e,t){var i,n=this;this.flyIndex++;var l=t+1,o=N.wheelList[e].rolePbList[l],r=o.getComponent(R);for(var a in o.children)o.children[a].active=!1;var s=this.effectLight.children;s[4*e+t].active=!0,null==(i=s[4*e+t].getComponent(m))||i.play();for(var c=this.effectCard.children,h=function(){var i=c[4*e+t].children[u];if(i.active=u==N.wheelList[e].roleIdList[l]-1,8==N.wheelList[e].roleIdList[l]&&7==u){i.getChildByName("001").active=!1,i.getChildByName("002").active=!1,i.getChildByName("003").active=!1,i.getChildByName("00"+r.showNodeNum).active=!0;var o=x.exchangeToThousands2(N.exchangeRate,r.val*N.exchangeRate);if(i.children[1].getComponent(f).string=o,i.children[2].getComponent(f).string=o,i.children[3].getComponent(f).string=o,N.lotteryRes.getBigWin.isStart&&N.lotteryRes.getBigWin.bFlag){var a=v(i.children[r.showNodeNum]),s=i.children[r.showNodeNum].getComponent(C),h=s.convertToWorldSpaceAR(new g(0,0,0)),d=(s=n.node.getComponent(C)).convertToNodeSpaceAR(h);a.position=new g(d.x/.9,d.y/.9),y("node/createArea",n.node).addChild(a);var m=a.addComponent(A);m.p0=a.position,m.p1=new g(m.p0.x/3-10+20*B.random(),m.p0.y),m.p2=new g(0,-310),m.p3=new g(22,-310),m.t=0,p(m).delay(.2*n.flyIndex).call((function(){i.children[r.showNodeNum].opacity=170})).to(.4,{t:1},{easing:"cubicIn"}).call((function(){n.showWin(r.val),a.parent=null})).start()}}},u=0;u<c[4*e+t].children.length;u++)h();for(var d=this.effectpsvfx.children,b=0;b<d[4*e+t].children.length;b++)d[4*e+t].children[b].active=b==N.wheelList[e].roleIdList[l]-1},s.showWin=function(e){var t,i,n=this.winNode.getChildByName("lab").getComponent(f);this.winNode.active?n.string=x.exchangeToThousands(N.exchangeRate,x.toThousandsBack(n.string)+e):n.string=x.exchangeToThousands(N.exchangeRate,e),this.freeTipNode2.active=!1,this.winNode.active=!0,this.winNode.children[2].active=!0,this.winNode.children[3].active=!1,this.winNode.children[0].children[1].getComponent(m).play(),null==(t=n.getComponent(_))||t.play(),null==(i=this.winNode.children[2].getComponent(_))||i.play()},s.closeAnim=function(e,t){var i=t+1,n=N.wheelList[e].rolePbList[i],l=n.getComponent(R);8==N.wheelList[e].roleIdList[i]?(n.children[0].active=!0,n.getChildByName("001").active=!1,n.getChildByName("002").active=!1,n.getChildByName("003").active=!1,n.getChildByName("00"+l.showNodeNum).active=!0):7!=N.wheelList[e].roleIdList[i]?n.children[1].active=!0:n.children[2]?n.children[2].active=!0:n.children[1].active=!0,this.effectLight.children[4*e+t].active=!1;for(var o=this.effectCard.children,r=0;r<o[4*e+t].children.length;r++)o[4*e+t].children[r].active=!1;for(var a=this.effectpsvfx.children,s=0;s<a[4*e+t].children.length;s++)a[4*e+t].children[s].active=!1},s.checkRollData=function(e){for(var t,i=a(e);!(t=i()).done;){if(t.value>=this.rolePb.length)return!1}return!0},s.roll=function(e){var t=this;this.closeShine(),this.lineAni&&(this.unschedule(this.lineAni),this.lineAni=null),this.goldAni&&(this.unschedule(this.goldAni),this.goldAni=null),N.auto||(N.rollEnable=!0),N.status=1;for(var i=[],n=0;n<3;n++)i[n]=[];for(var l in e)i[Number(l)%3][3-parseInt(Number(l)/3+"")]=e[l];var o=y("node/bg/s_bkg_normal/bg_logo_vfx",this.node);if(o.active=!1,N.lotteryRes.getBigWin.bFlag&&0==N.rollIndex){var r=N.lotteryRes.getBigWin;for(var a in this.bIsFreeGame=!0,this.scheduleOnce((function(){var e,i,n,l,a;(t.audio.playBWCome(),t.audio.playBW(),null==(e=t.rabbitAnim.getComponent(d.Skeleton))||e.setAnimation(0,"tease_start",!1),r.isStart)?(t.slotCtrl.betting_panel.active=!1,p(t.freeBgNode).to(2,{opacity:255}).start(),p(t.node.getChildByName("node")).to(3,{scale:new g(.9,.9,.9)}).call((function(){var e;t.audio.playrabbit_01(),null==(e=t.rabbitAnim.getComponent(d.Skeleton))||e.setAnimation(0,"freespin",!1)})).start(),null==(i=t.freeModeStartEffect.getComponent(m))||i.play(),t.effectFree.active=!0,null==(n=t.effectFree.getComponent(m))||n.play(),p(t.effectFree).to(4,{scale:new g(.98,.98,.98)}).call((function(){var e=y("node/createArea/light",t.node);p(e).call((function(){e.active=!0})).delay(3).call((function(){e.active=!1})).start()})).delay(2).call((function(){var e;t.freeBgNode.active=!0,t.slotCtrl.Btn_free.active=!0;var i=N.lotteryRes.getBigWin.res_list.length-N.rollIndex-1;0==i?(t.slotCtrl.Btn_free.children[0].active=!1,t.slotCtrl.Btn_free.children[1].active=!0):(t.slotCtrl.Btn_free.children[0].active=!0,t.slotCtrl.Btn_free.children[1].active=!1,t.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(f).string=i+""),o.active=!0,null==(e=o.getComponent(m))||e.play("gxfc1"),t.effectFree.active=!1,t.freeTipNode.active=!0,t.rabbitAnim.active=!1,t.tipNode.active=!1,t.freeTipNode.active=!0,t.freeTipNode2.active=!0,t.winNode.active=!1;var n=0,l=[2,2,2,2,2,1];t.schedule((function e(){var i=Math.floor(Math.random()*l.length),o=l[i];l.splice(i,1);for(var r=0;r<o;r++){var a=Math.floor(3*Math.random()),s=215*a-215,c=400*Math.random()-200;t.createFreeAnimation(new g(s,c),a)}(n+=o)>=11&&t.unschedule(e)}),.3)})).start()):(p(t.freeBgNode).to(2,{opacity:255}).delay(2).to(.3,{opacity:0}).start(),p(t.node.getChildByName("node")).to(4,{scale:new g(.9,.9,.9)}).call((function(){var e;null==(e=t.rabbitAnim.getComponent(d.Skeleton))||e.setAnimation(0,"tease_exit",!1),y("node/bg/s_bkg_normal/bg_logo_vfx",t.node).active=!1})).to(.5,{scale:new g(1,1,1)}).call((function(){t.bIsFreeGame=!1})).start(),null==(l=t.freeModeFakeStartEffect.getComponent(m))||l.play(),t.effectFreeNo.active=!0,null==(a=t.effectFreeNo.getComponent(m))||a.play(),p(t.effectFreeNo).to(4,{scale:new g(.98,.98,.98)}).to(.5,{scale:new g(1,1,1)}).call((function(){t.effectFreeNo.active=!1})).start())}),.5),N.wheelList){var s;(s=N.wheelList[a]).startFreeRoll.apply(s,i[a])}}else{var c=N.lotteryRes.getBigWin.res_list.length-N.rollIndex-1;if(0==c?(this.slotCtrl.Btn_free.children[0].active=!1,this.slotCtrl.Btn_free.children[1].active=!0):(this.slotCtrl.Btn_free.children[0].active=!0,this.slotCtrl.Btn_free.children[1].active=!1,this.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(f).string=c+""),this.bIsFreeGame){var h,u=y("node/bg/s_bkg_normal/bg_logo_vfx",this.node);for(var b in u.active=!0,null==(h=u.getComponent(m))||h.play("gxfc1"),N.wheelList){var v;(v=N.wheelList[b]).FreeRoll.apply(v,i[b])}}else for(var w in N.wheelList){var C;(C=N.wheelList[w]).startRoll.apply(C,i[w])}}},s.closeShine=function(){for(var e=0;e<this.effectLine.children.length;e++)this.effectLine.children[e].active=!1;for(var t=0;t<this.effectNum.children.length;t++)this.effectNum.children[t].active=!1;for(var i=0;i<this.effectLight.children.length;i++)this.effectLight.children[i].active=!1;for(var n=0;n<this.effectpsvfx.children.length;n++)for(var l=0;l<this.effectpsvfx.children[n].children.length;l++)this.effectpsvfx.children[n].children[l].active=!1;for(var o=0;o<this.effectCard.children.length;o++)for(var r=0;r<this.effectCard.children[o].children.length;r++)this.effectCard.children[o].children[r].active=!1;for(var a=0;a<N.wheelList.length;a++)for(var s=0;s<N.wheelList[a].rolePbList.length;s++)7==N.wheelList[a].roleIdList[s]?(N.wheelList[a].rolePbList[s].children[0].active=!1,N.wheelList[a].rolePbList[s].children[1].active=!0,N.wheelList[a].rolePbList[s].children[2]&&(N.wheelList[a].rolePbList[s].children[2].active=!0,N.wheelList[a].rolePbList[s].children[1].active=!1)):8!=N.wheelList[a].roleIdList[s]&&(N.wheelList[a].rolePbList[s].children[0].active=!1,N.wheelList[a].rolePbList[s].children[1].active=!0,N.wheelList[a].rolePbList[s].children[2]&&(N.wheelList[a].rolePbList[s].children[2].active=!1));this.maskNode.active=!1,this.coinLineLab.node.active=!1},s.sendRoll=function(){var e,t,i,n,l=this;(N.detail&&(this.deskMask.active=!1,N.detail.node.active=!1,N.detail=null),this.unschedule(this.winShowBack),this.winShowBack(),this.closeShine(),this.slotCtrl.unscheduleAllCallbacks(),N.autoTimes=N.autoTimes>0?N.autoTimes-1:0,0==N.autoTimes&&(N.auto=!1),this.bIsFreeGame||(this.freeBgNode.opacity=0),null==(e=this.effectSlot2.getComponent(m))||e.play(),this.bIsFreeGame)?null==(t=this.freeModeRollEffect.getComponent(m))||t.play():this.slotCtrl.isSpeed?null==(i=this.effectFastSlot1.getComponent(m))||i.play():null==(n=this.effectSlot1.getComponent(m))||n.play();if(p(this.node.getChildByName("node")).delay(.1).call((function(){l.slotCtrl.setSpinAnim(1)})).start(),this.slotCtrl.Btn_stopAuto.children[0].getComponent(f).string=N.autoTimes+"",this.audio.playclickstart(),N.autoTimes>999?(this.slotCtrl.Btn_stopAuto.children[0].scale=new g(.76,.76,.76),this.slotCtrl.Btn_stopAuto.children[1].scale=new g(.76,.76,.76)):N.autoTimes>99?(this.slotCtrl.Btn_stopAuto.children[0].scale=new g(.9,.9,.9),this.slotCtrl.Btn_stopAuto.children[1].scale=new g(.9,.9,.9)):(this.slotCtrl.Btn_stopAuto.children[0].scale=new g(1,1,1),this.slotCtrl.Btn_stopAuto.children[1].scale=new g(1,1,1)),!this.bIsFreeGame)for(var o in N.wheelList)N.wheelList[o].rollLoop();this.sendLottery()},s.sendLottery=function(){var e=o(r().mark((function e(){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.playSlots(S.SLOTS_RABBIT,N.betSum.toString());case 2:t=e.sent,console.log("retSpin is",t),i=this.exchange(t.res),console.log("data is ",i),this.lotteryBack(i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.exchange=function(e){return I.change(e)},s.lotteryBack=function(e){var t=this;console.log("lotteryResult:",e),e&&0==e.code&&(N.lotteryRes=e,N.rollIndex=0,N.money=e.userscore,this.slotCtrl.lblUserCoin.string=x.exchangeToThousands(N.exchangeRate,e.userscore-e.winscore),p(this.node.getChildByName("node")).delay(.4).call((function(){N.lotteryRes.getBigWin.isStart&&N.lotteryRes.getBigWin.bFlag&&N.lotteryRes.getBigWin.res_list.length>1?(t.roll(N.lotteryRes.getBigWin.res_list[N.rollIndex].nHandCards),t.slotCtrl.winCoin_lab.string=x.exchangeToThousands(N.exchangeRate,0)):(t.roll(e.nHandCards),t.slotCtrl.winCoin_lab.string=x.exchangeToThousands(N.exchangeRate,e.winscore))})).start())},s.stopImmediately=function(){if(!N.auto)for(var e in N.wheelList)N.wheelList[e].stopImmediately()},s.createFreeAnimation=function(e,t){var i=[.5,.5,.5,.5,.5,1,1,1,1,1,2,2,2,2,2,5,5,5,5,5,10,10,10,10,10,50,50,50,100,100,500],n=Math.floor(Math.random()*i.length),l=v(this.rolePb[8]);l.y=200,i[n]<=10?(l.children[1].active=!0,l.getComponent(R).showNodeNum=1):i[n]<=100?(l.children[2].active=!0,l.getComponent(R).showNodeNum=2):i[n]<=1e3&&(l.children[3].active=!0,l.getComponent(R).showNodeNum=3),l.children[1].getComponent(f).string=x.exchangeToThousands(N.exchangeRate,i[n]*N.lotteryRes.nBet),l.children[2].getComponent(f).string=x.exchangeToThousands(N.exchangeRate,i[n]*N.lotteryRes.nBet),l.children[3].getComponent(f).string=x.exchangeToThousands(N.exchangeRate,i[n]*N.lotteryRes.nBet),y("node/createArea",this.node).addChild(l),p(l).to(.3,{position:new g(e,100)}).call((function(){l.parent=N.wheelList[t].node.parent})).to(.8,{position:new g(l.x,l.y-800)}).call((function(){l.parent=null})).start()},s.close=function(){this.audio.clearAll()},t}(w)).prototype,"rolePb",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ve.prototype,"roleAnimPb",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=t(ve.prototype,"roleNullPb",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ve.prototype,"detailPb",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ve.prototype,"wildEffectPb",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ve.prototype,"effectSlot1",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ve.prototype,"effectSlot2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ve.prototype,"effectFastSlot1",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ve.prototype,"effectNum",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ve.prototype,"effectLight",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ve.prototype,"effectCard",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ve.prototype,"effectpsvfx",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ve.prototype,"maskNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ve.prototype,"effectLine",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ve.prototype,"BgNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ve.prototype,"freeBgNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ve.prototype,"freeTipNode",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ve.prototype,"freeTipNode2",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ve.prototype,"effectFreeNo",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ve.prototype,"effectFree",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ve.prototype,"win2BG",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ve.prototype,"win3BG",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ve.prototype,"tipNode",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ve.prototype,"winNode",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ve.prototype,"coinBoomEffect",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ve.prototype,"coinJumpEffect",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ve.prototype,"runLight",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ve.prototype,"coinLineLab",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ve.prototype,"rabbitAnim",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ve.prototype,"deskMask",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ve.prototype,"freeModeFakeStartEffect",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ve.prototype,"freeModeStartEffect",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(ve.prototype,"freeModeRollEffect",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(ve.prototype,"slotCtrlNode",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=ve))||ye));s._RF.pop()}}}));

System.register("chunks:///_virtual/rabbitSlotCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./Num.ts","./LanguageData.ts"],(function(t){var i,e,n,o,s,a,l,r,h,c,u,p,d,b,g,m,_,C,y,f,w,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,h=t.SpriteFrame,c=t.Label,u=t.Animation,p=t.Sprite,d=t.find,b=t.tween,g=t.Vec3,m=t.macro,_=t.Button,C=t.Component,y=t.Color},function(t){f=t.rabbit},function(t){w=t.Num},function(t){B=t.LanguageData}],execute:function(){var N,v,T,S,x,A,R,W,L,k,O,E,z,I,P,F,M,U,j,D,X,H,V,G,K,q,J,Q,Y,Z,$,tt,it,et,nt,ot,st,at,lt,rt,ht,ct,ut,pt,dt,bt,gt,mt,_t,Ct,yt,ft,wt,Bt,Nt;a._RF.push({},"f47248adP5K4p0DLlTgdX5i","rabbitSlotCtrl",void 0);var vt=l.ccclass,Tt=l.property;t("rabbitSlotCtrl",(N=vt("rabbitSlotCtrl"),v=Tt({type:r,tooltip:"开始按钮"}),T=Tt({type:h,tooltip:"旋转图片"}),S=Tt({type:r,tooltip:"spin_AnimNode"}),x=Tt({type:r,tooltip:"摇奖按钮点击效果"}),A=Tt({type:r,tooltip:"自动次数按钮"}),R=Tt({type:r,tooltip:"停止自动按钮点击效果"}),W=Tt({type:r,tooltip:"免费按钮"}),L=Tt({type:r,tooltip:"加注"}),k=Tt({type:r,tooltip:"减注"}),O=Tt({type:r,tooltip:"自动面板"}),E=Tt({type:r,tooltip:"设置"}),z=Tt({type:r,tooltip:"下注面板"}),I=Tt({type:r,tooltip:"设置面板"}),P=Tt({type:r,tooltip:"金币面板"}),F=Tt({type:c,tooltip:"用户金币"}),M=Tt({type:c,tooltip:"本局总注"}),U=Tt({type:c,tooltip:"赢钱金额"}),j=Tt({type:c,tooltip:"大奖赢钱金额"}),D=Tt({type:r,tooltip:"状态节点"}),X=Tt({type:r,tooltip:"大奖节点"}),H=Tt({type:r,tooltip:"提示文字"}),V=Tt({type:r,tooltip:"音乐"}),G=Tt({type:h,tooltip:"sp_settingControl"}),K=Tt({type:r,tooltip:"极速"}),q=Tt({type:h,tooltip:"sp_speed"}),J=Tt({type:h,tooltip:"sp2_speed"}),N((Z=i((Y=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"Btn_start",Z,o(i)),n(i,"spin_Sp",$,o(i)),n(i,"spin_AnimNode",tt,o(i)),n(i,"rollClickAni",it,o(i)),n(i,"Btn_stopAuto",et,o(i)),n(i,"stopRollClickAni",nt,o(i)),n(i,"Btn_free",ot,o(i)),n(i,"Btn_add",st,o(i)),n(i,"Btn_sub",at,o(i)),n(i,"Btn_auto",lt,o(i)),n(i,"Btn_set",rt,o(i)),n(i,"betting_panel",ht,o(i)),n(i,"Setting_panel",ct,o(i)),n(i,"coin_panel",ut,o(i)),n(i,"lblUserCoin",pt,o(i)),n(i,"lblCurBet",dt,o(i)),n(i,"winCoin_lab",bt,o(i)),n(i,"bigWinCoin_lab",gt,o(i)),n(i,"stateNode",mt,o(i)),n(i,"bigWinNode",_t,o(i)),n(i,"tipNode",Ct,o(i)),n(i,"musicBtn",yt,o(i)),n(i,"sp_settingControl",ft,o(i)),n(i,"speedBtn",wt,o(i)),n(i,"sp_speed",Bt,o(i)),n(i,"sp2_speed",Nt,o(i)),i.autoNum=0,i.isPanelAnim=!1,i.isSpeed=!1,i.sumList=[],i._btnContent=null,i.curBetTween=null,i.aimCoin=0,i.addcoin=0,i.addOnce=0,i.playOverBn=!1,i.init_big_click=!1,i.watchLabel=null,i.inumObj={inum:0},i.score_bigwin=0,i.tween=null,i.tipTween=null,i}e(i,t);var a=i.prototype;return a.start=function(){this.Btn_start.on(r.EventType.MOUSE_ENTER,this.btnRollTouchStart,this),this.Btn_start.on(r.EventType.MOUSE_LEAVE,this.btnRollTouchEnd,this),this.Btn_start.on(r.EventType.TOUCH_START,this.btnRollClick,this),this.Btn_stopAuto.on(r.EventType.MOUSE_ENTER,this.btnStopRollTouchStart,this),this.Btn_stopAuto.on(r.EventType.MOUSE_LEAVE,this.btnStopRollTouchEnd,this),this.Btn_stopAuto.on(r.EventType.TOUCH_START,this.btnStopRollClick,this),this.autoNum=0,this.isPanelAnim=!1,this.isSpeed=!1,this.init()},a.btnRollTouchStart=function(){f.rollEnable&&this.rollClickAni&&(this.rollClickAni.active=!0,this.rollClickAni.getComponent(u).play())},a.btnRollTouchEnd=function(){this.rollClickAni&&(this.rollClickAni.active=!1)},a.btnRollClick=function(t){f.rollEnable&&f.node.onCLick(t,"roll")},a.btnStopRollTouchStart=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!0,this.stopRollClickAni.getComponent(u).play())},a.btnStopRollTouchEnd=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!1)},a.btnStopRollClick=function(t){this.onCLick_stopAuto()},a.onCLick_startAuto=function(){this.autoNum},a.onCLick_stopAuto=function(){this.Btn_stopAuto.active=!1,this.Btn_start.active=!0,f.node.stopAuto()},a.init=function(){this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[tgx.AudioMgr.inst.switch?1:0],this.Setting_panel.opacity=0,this.tipNode.opacity=0,this.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,0),this.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.money)},a.update=function(){this.initTip(),this.watchLabel&&(this.bigWinCoin_lab.string=w.exchangeToThousands(f.exchangeRate,this.inumObj.inum),this.watchLabel.string=w.exchangeToThousands(f.exchangeRate,this.inumObj.inum))},a.initBetContent=function(t,i,e){for(var n=[],o=0;o<t.length;o++)for(var s=0;s<i.length;s++)n.push(Math.round(t[o]*i[s]*e*100)/100);var a=Array.from(new Set(n));a.sort((function(t,i){return t-i})),this.sumList=a,f.betNum?f.sumIdx=this.sumList.indexOf(f.betNum):(f.sumIdx=0,f.betNum=this.sumList[f.sumIdx])},a.settingControlButtonClick_Function=function(){1==tgx.AudioMgr.inst.switch?(tgx.AudioMgr.inst.switch=!1,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[0]):(tgx.AudioMgr.inst.switch=!0,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[1])},a.onCLick=function(t,i){f.node.onCLick(t,i)},a.onCLick_openAutoPanel=function(){f.autoPanel.showPanel()},a.onCLick_closeAutoPanel=function(){f.node.audio.playclickclose()},a.onClickShowSettingPanel=function(t){if(f.node.audio.playclickopen(),0!=this.betting_panel.opacity){var i=d("ui_footer/ui_footer_a",f.node.node);i&&(i.active=!1),this.Btn_start.active=!1,b(this.btnContent).to(.2,{position:new g(0,-180,0),opacity:0}).start(),b(this.Setting_panel).to(.2,{position:new g(0,-530,0),opacity:255}).start()}},a.onClickHideSettingPanel=function(t){if(0!=this.Setting_panel.opacity){var i=d("ui_footer/ui_footer_a",f.node.node);i&&(i.active=!0),this.Btn_start.active=!0,b(this.btnContent).to(.2,{position:new g(0,0,0),opacity:255}).start(),b(this.Setting_panel).to(.2,{position:new g(0,-710,0),opacity:0}).start()}},a.onCLick_betPanel=function(t,i){var e=this,n=parseInt(i);this.isPanelAnim||(this.isPanelAnim=!0,this.scheduleOnce((function(){e.isPanelAnim=!1}),.5),0==n?f.betPanel.hidePanel():(f.betPanel.showPanel(),f.betPanel.bindBet()))},a.onCLick_sound=function(t){this.settingControlButtonClick_Function()},a.onCLick_chooseAutoNum=function(t,i){},a.onCLick_speed=function(){f.node.audio.playclickopen(),this.isSpeed?(this.isSpeed=!1,this.tipNode.children[2].active=!0,this.tipNode.children[3].active=!1,this.createTipNode(B.getLangByID("BXINGAME_33")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[0],this.speedBtn.children[0].getComponent("cc.Sprite").spriteFrame=this.sp2_speed[0],this.speedBtn.children[1].active=!1):(this.isSpeed=!0,this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!0,this.createTipNode(B.getLangByID("BXINGAME_34")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[1],this.speedBtn.children[0].getComponent(p).spriteFrame=this.sp2_speed[1],this.speedBtn.children[1].active=!0)},a.initTip=function(){this.tipNode.children[2].active||this.tipNode.children[3].active?(this.tipNode.children[0].w=this.tipNode.children[1].w+70,this.tipNode.children[1].x=16,this.tipNode.children[2].x=-this.tipNode.children[1].w/2,this.tipNode.children[3].x=-this.tipNode.children[1].w/2):(this.tipNode.children[1].x=0,this.tipNode.children[0].w=this.tipNode.children[1].w+30)},a.bindBet=function(){f.sumIdx=this.sumList.indexOf(f.betSum),-1==f.sumIdx&&(f.sumIdx=0),this.updateBet(f.sumIdx)},a.updateBet=function(t){return t>=this.sumList.length||t<0?(t>=this.sumList.length?(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(B.getLangByID("BXINGAME_35"))):(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(B.getLangByID("BXINGAME_36"))),0):(f.sumIdx>0&&(this.Btn_sub.opacity=255),f.sumIdx<this.sumList.length-1&&(this.Btn_add.opacity=255),0==f.sumIdx&&(this.Btn_sub.opacity=100),f.sumIdx==this.sumList.length-1&&(this.Btn_add.opacity=100),f.betSum=this.sumList[t],this.lblCurBet.string=w.exchangeToThousands(f.exchangeRate,this.sumList[t]),this.curBetAni(),1)},a.curBetAni=function(){var t,i;null==(t=this.curBetTween)||t.stop(),null==(i=this.curBetTween)||i.destroySelf(),this.curBetTween=b(this.lblCurBet.node).to(.1,{scale:new g(1.6,1.6,1.6)}).to(.1,{scale:new g(1,1,1)}).to(.1,{scale:new g(1.2,1.2,1.2)}).to(.1,{scale:new g(1,1,1)}).start()},a.playAnimWin=function(t,i,e){var n=this,o=30*(t+1);if(0==o)return e.string=w.exchangeToThousands(f.exchangeRate,i),this.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,i),void(this.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.money));for(var s=[],a=0;a<o;a++){var l=i/100,r=l+2*a*(i-o*l)/(o*(o-1));s.push(r)}var h=o-1,c=0;e.string=w.exchangeToThousands(f.exchangeRate,c),this.schedule((function(){c+=s[h],0==h&&(c=i),e.string=w.exchangeToThousands(f.exchangeRate,c),h--}),.05,o-1);var u=o-1;this.schedule((function(){0==u&&n.changeLabColor(1),n.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,c),n.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.lotteryRes.userscore-f.lotteryRes.winscore+c),u--}),.1,o-1,.1*(o+3))},a.playBigWinCoin=function(t){this.aimCoin=t,this.addcoin=0,this.addOnce=this.aimCoin/100,this.playOverBn=!1,this.bigWinCoin_lab.string=w.exchangeToThousands(f.exchangeRate,this.addcoin),this.schedule(this.coinOneChange,.05,m.REPEAT_FOREVER),this.scheduleOnce(this.closeBigWin,8)},a.coinOneChange=function(){this.addcoin+=this.addOnce,this.addcoin>=this.aimCoin?this.playCoinOver():(this.addcoin>=50*f.betSum&&!this.bigWinNode.children[2].active?this.playAnim_MegaWin():this.addcoin>=35*f.betSum&&this.addcoin<50*f.betSum&&!this.bigWinNode.children[1].active&&this.playAnim_SuperWin(),this.bigWinCoin_lab.string=w.exchangeToThousands(f.exchangeRate,this.addcoin))},a.playCoinOver=function(){this.unschedule(this.coinOneChange),this.playOverBn=!0,this.aimCoin>=50*f.betSum&&!this.bigWinNode.children[2].active?this.playAnim_MegaWin():this.aimCoin>=35*f.betSum&&this.aimCoin<50*f.betSum&&!this.bigWinNode.children[1].active&&this.playAnim_SuperWin(),this.bigWinCoin_lab.string=w.exchangeToThousands(f.exchangeRate,this.aimCoin),this.unschedule(this.closeBigWin),this.scheduleOnce(this.closeBigWin,2)},a.onFastBigWin=function(t){this.playOverBn?this.closeBigWin():this.playCoinOver()},a.playAnim_BigWin_ByRateLv=function(t,i){if(!this.init_big_click){this.init_big_click=!0;var e=this.bigWinNode.addComponent(_),n=new C.EventHandler;n.target=this.node,n.component="tigerSlotCtrl",n.handler="onBigWinClick",e.clickEvents.push(n)}this.watchLabel=i,this.inumObj.inum=0,this.score_bigwin=t,this.showBigWinByRate(),this.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,f.lotteryRes.winscore),this.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.money)},a.getNextTargetNum_bigWin=function(){var t=this.score_bigwin;return this.watchLabel&&this.watchLabel.node&&this.inumObj.inum<35*f.betSum?t=35*f.betSum:this.watchLabel&&this.watchLabel.node&&this.inumObj.inum<50*f.betSum&&(t=50*f.betSum),t>this.score_bigwin&&(t=this.score_bigwin),t},a.showBigWinByRate=function(){var t=this;this.bigWinNode.active=!0,this.watchLabel&&this.watchLabel.node&&this.inumObj.inum>=50*f.betSum?this.playAnim_MegaWin():this.watchLabel&&this.watchLabel.node&&this.inumObj.inum>=35*f.betSum?this.playAnim_SuperWin():this.playAnim_BigWin(-1);var i=this.getNextTargetNum_bigWin();if(this.watchLabel&&this.watchLabel.node){var e,n,o=(i-this.inumObj.inum)/(20*f.betSum)*4;null==(e=this.tween)||e.stop(),null==(n=this.tween)||n.destroySelf(),this.tween=b(this.inumObj).to(o,{inum:i}).call((function(){t.watchLabel&&t.watchLabel.node&&(t.inumObj.inum>=t.score_bigwin?t.scheduleOnce(t.closeBigWin,4):t.showBigWinByRate())})).start()}},a.playAnim_BigWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!0,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!1,this.bigWinNode.children[0].getComponent(u).play(),-1!=t&&this.playBigWinCoin(t)},a.playAnim_SuperWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!0,this.bigWinNode.children[2].active=!1;try{this.bigWinNode.children[1].getComponent(u).play()}catch(t){console.log(t)}},a.playAnim_MegaWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!0;try{this.bigWinNode.children[2].getComponent(u).play()}catch(t){console.log(t)}},a.closeBigWin=function(){this.unschedule(this.closeBigWin),this.unschedule(this.coinOneChange),this.bigWinNode.active&&(this.bigWinNode.active=!1,f.node.audio.stopbigwinmain()),this.watchLabel&&(this.inumObj.inum=0,this.watchLabel=null),this.bigWinCoin_lab&&(this.bigWinCoin_lab.string="0"),f.node.closeBigWin()},a.setSpinAnim=function(t){switch(t){case 0:f.rollEnable=!0,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1,!f.auto&&this.setButtonState(!0),f.lotteryRes&&0==f.lotteryRes.winscore&&this.changeLabColor(1);break;case 1:f.rollEnable=!1,this.Btn_start.getChildByName("VFX").getComponent(u).play(),this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[2],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=10,this.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,0),this.setButtonState(!1),this.changeLabColor(0);break;case 2:f.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1;break;case 3:f.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=0}},a.setButtonState=function(t){this.Btn_add.opacity=t?255:100,this.Btn_sub.opacity=t?255:100,this.Btn_auto.opacity=t?255:100,this.Btn_set.opacity=t?255:100,this.Btn_add.getComponent(_).interactable=t,this.Btn_sub.getComponent(_).interactable=t,this.Btn_auto.getComponent(_).interactable=t,this.Btn_set.getComponent(_).interactable=t},a.changeLabColor=function(t){0==t?(this.lblUserCoin.node.color=new y(255,255,255),this.lblCurBet.node.color=new y(255,255,255),this.winCoin_lab.node.color=new y(255,255,255)):(this.lblUserCoin.node.color=new y(123,233,246),this.lblCurBet.node.color=new y(123,233,246),this.winCoin_lab.node.color=new y(123,233,246))},a.createTipNode=function(t){var i,e,n=this;null==(i=this.tipTween)||i.stop(),null==(e=this.tipTween)||e.destroySelf(),this.tipNode.opacity=0,this.tipNode.scale=new g(1,1,1),this.tipNode.getChildByName("lab").getComponent(c).string=t,this.tipTween=b(this.tipNode).call((function(){n.tipNode.opacity=255})).to(.1,{scale:new g(1.2,1.2,1.2)}).to(.1,{scale:new g(1,1,1)}).delay(2).to(.2,{opacity:0}).start()},a.playAnimWinWithStart=function(t,i,e,n){for(var o=this,s=e-i,a=30*(t+1),l=[],r=0;r<a;r++){var h=s/100,c=h+2*r*(s-a*h)/(a*(a-1));l.push(c)}var u=a-1,p=0;this.schedule((function(){p+=l[u],0==u&&(p=s),n&&(n.string=w.exchangeToThousands(f.exchangeRate,p+i)),u--}),.05,a-1);var d=a-1,b=0;this.schedule((function(){b+=l[d],0==d&&(b=s,o.changeLabColor(1)),o.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,b+i),o.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.lotteryRes.userscore-f.lotteryRes.winscore+b+i),d--}),.05,a-1,.05*(a+3))},a.playAnimWinWithStart_aw=function(t,i,e,n){for(var o=this,s=e-i,a=30*(t+1),l=[],r=0;r<a;r++){var h=s/100,c=h+2*r*(s-a*h)/(a*(a-1));l.push(c)}var u=a-1,p=0;this.schedule((function(){p+=l[u],0==u&&(p=s),n&&(n.string=w.exchangeToThousands(f.exchangeRate,p+i)),u--}),.05,a-1);var d=a-1,b=0;this.schedule((function(){b+=l[d],0==d&&(b=s,o.changeLabColor(1)),o.winCoin_lab.string=w.exchangeToThousands(f.exchangeRate,b+i),o.lblUserCoin.string=w.exchangeToThousands(f.exchangeRate,f.lotteryRes.userscore-f.lotteryRes.viewarray.aw+b+i),d--}),.05,a-1,.05*(a+3))},s(i,[{key:"btnContent",get:function(){return this._btnContent||(this._btnContent=d("btnContent",this.betting_panel)),this._btnContent}}]),i}(C)).prototype,"Btn_start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Y.prototype,"spin_Sp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(Y.prototype,"spin_AnimNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Y.prototype,"rollClickAni",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(Y.prototype,"Btn_stopAuto",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Y.prototype,"stopRollClickAni",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Y.prototype,"Btn_free",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Y.prototype,"Btn_add",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Y.prototype,"Btn_sub",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(Y.prototype,"Btn_auto",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Y.prototype,"Btn_set",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(Y.prototype,"betting_panel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Y.prototype,"Setting_panel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(Y.prototype,"coin_panel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(Y.prototype,"lblUserCoin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(Y.prototype,"lblCurBet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(Y.prototype,"winCoin_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(Y.prototype,"bigWinCoin_lab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(Y.prototype,"stateNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(Y.prototype,"bigWinNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(Y.prototype,"tipNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i(Y.prototype,"musicBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(Y.prototype,"sp_settingControl",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=i(Y.prototype,"speedBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i(Y.prototype,"sp_speed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(Y.prototype,"sp2_speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=Y))||Q));a._RF.pop()}}}));

System.register("chunks:///_virtual/rabbitWheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts","./pbCardNum.ts","./Num.ts"],(function(t){var e,s,i,l,o,n,a,d,h,r,u,c,R,p,m,f,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.CCFloat,d=t.Tween,h=t.tween,r=t.Vec3,u=t.instantiate,c=t.Label,R=t.Component,p=t.Button,m=t.UITransform},function(t){f=t.rabbit},function(t){g=t.pbCardNum},function(t){v=t.Num}],execute:function(){var b,I,C,N,y,w;o._RF.push({},"ac0abcjl4JMZJOiUz6IrKdO","rabbitWheel",void 0);var x=n.ccclass,L=n.property,B=20,P=1.2,F=[[1,6,6,7,1],[8,8,8,8,8],[1,6,6,7,1]];t("rabbitWheel",(b=x("rabbitWheel"),I=L({type:a,tooltip:"不会出现的数字id"}),b((y=e((N=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"wheelId",y,l(e)),i(e,"excludeId",w,l(e)),e.status=0,e.nextCb=void 0,e.rolePbList=[],e.roleIdList=[],e.lastResult=[],e.lastResultNum=[],e.p=0,e}s(e,t);var o=e.prototype;return o.onLoad=function(){f.wheelList[this.wheelId]=this,this.status=0,this.lastResult=[0,0,0,0,0],this.nextCb=null,this.rolePbList=[],this.roleIdList=[],this.lastResultNum=[0,0,0,0,0]},o.start=function(){},o.initWheel=function(){for(var t in f.isNewUser?this.lastResult=F[this.wheelId]:this.lastResult=[0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.lastResult)if(f.isNewUser)if(8==this.lastResult[t]){this.initAddRole(this.lastResult[t],[0,2500,100,25,2.5][t])}else this.addRole(this.lastResult[t]);else this.lastResult[t]=this.getRandomId(),this.addRole(this.lastResult[t]);this.p=0,1==this.wheelId&&(this.p=170),this.node.y=this.p,f.rollIndex++,f.node.closeShine(),this.lastResult=this.roleIdList.slice(-5)},o.startRoll=function(){for(var t=this,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];for(var l=0;l<s.length;l++)if(9==s[l])this.addRole(this.getRandomId(),!1,0);else if(8==s[l]){var o=f.lotteryRes.goldList;this.addRole(s[l],o[this.wheelId+3*(3-l)],0)}else this.addRole(s[l],!1,0);this.addRole(this.getRandomId(),!1,0);var n=function(){t.setBlur(!1),f.slotCtrl.isSpeed?h(t.node).to(.1,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.stopImmediately(),t.rollCallBack()})).start():h(t.node).to(.3,{position:new r(t.node.x,660-t.node.h+t.p)}).to(.1,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start()};this.nextCb=n},o.startFreeRoll=function(){var t=this;this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=this.p,this.addRole(this.getRandomId());for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];for(var l=s.length-1;l>=0;l--)if(9==s[l])this.addRole(this.getRandomId());else if(8==s[l]){var o=f.lotteryRes.getBigWin.res_list[f.rollIndex].goldList;this.addRole(s[l],o[this.wheelId+3*(3-l)])}else this.addRole(s[l]);for(var n=6,a=0;a<40;a++)this.addRole(10);for(var u=0;u<80;u++)this.addRole(this.getRandomId());for(var c=0;c<this.lastResult.length;c++)this.lastResult[c]=0==this.lastResult[c]?this.getRandomId():this.lastResult[c],0!=this.lastResult[c]&&0!=this.lastResultNum[c]?this.addRole(this.lastResult[c],this.lastResultNum[c]/parseFloat(v.fixNum(f.exchangeRate,f.betSum))):this.addRole(this.lastResult[c]);setTimeout((function(){d.stopAllByTarget(t.node);var e=P*n*1.4+.2*t.wheelId;h(t.node).to(e,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.setBlur(!1)})).to(.3,{position:new r(t.node.x,660-t.node.h+t.p)}).to(.1,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start(),h(t.node).delay(.1+e/.1).call((function(){f.node.audio.playwheelspin()})).union().repeatForever().start()}),100)},o.FreeRoll=function(){var t=this;this.status=1,this.rolePbList=[],this.roleIdList=[],d.stopAllByTarget(this.node),this.node.removeAllChildren(),this.node.y=this.p,this.addRole(10);for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];for(var l=s.length-1;l>=0;l--)if(9==s[l])this.addRole(10);else if(8==s[l]){var o=f.lotteryRes.getBigWin.res_list[f.rollIndex].goldList;this.addRole(s[l],o[this.wheelId+3*(3-l)])}else this.addRole(s[l]);for(var n=0;n<B;n++){var a=[.5,.5,.5,.5,.5,1,1,1,1,1,5,5,5,5,5,10,10,10,10,10,50,50,50,100,100,500],u=Math.floor(Math.random()*a.length),c=Math.floor(4*Math.random());0==c?this.addRole(8,u):this.addRole(10)}for(var R=0;R<this.lastResult.length;R++)this.lastResult[R]=0==this.lastResult[R]?this.getRandomId():this.lastResult[R],0!=this.lastResult[R]&&0!=this.lastResultNum[R]?this.addRole(this.lastResult[R],this.lastResultNum[R]/parseFloat(v.fixNum(f.exchangeRate,f.betSum))):this.addRole(this.lastResult[R]);setTimeout((function(){d.stopAllByTarget(t.node);var e=1.5*P+.2*t.wheelId;h(t.node).delay(.2).to(e,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.setBlur(!1)})).to(.1,{position:new r(t.node.x,692-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start(),h(t.node).delay(.1+e/.1).call((function(){f.node.audio.playwheelspin()})).union().repeatForever().start()}),100)},o.rollLoop=function(){var t=this;this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=this.p;for(var e=0;e<this.lastResult.length;e++)this.lastResult[e]=0==this.lastResult[e]?this.getRandomId():this.lastResult[e],0!=this.lastResult[e]&&0!=this.lastResultNum[e]?this.addRole(this.lastResult[e],this.lastResultNum[e]/parseFloat(v.fixNum(f.exchangeRate,f.betSum))):this.addRole(this.lastResult[e]);for(var s=0;s<14;s++)this.addRole(this.getRandomId());for(var i=0;i<this.lastResult.length;i++)this.lastResult[i]=0==this.lastResult[i]?this.getRandomId():this.lastResult[i],0!=this.lastResult[i]&&0!=this.lastResultNum[i]?this.addRole(this.lastResult[i],this.lastResultNum[i]/parseFloat(v.fixNum(f.exchangeRate,f.betSum))):this.addRole(this.lastResult[i]);var l=function(){t.node.y=t.p,d.stopAllByTarget(t.node);var e=P+.2*t.wheelId;t.setBlur(!0),f.slotCtrl.isSpeed?h(t.node).call((function(){t.setBlur(!0)})).to(e/3,{y:692-t.node.h+t.p}).call((function(){t.nextCb()})).start():h(t.node).call((function(){t.setBlur(!0)})).to(e,{y:692-t.node.h+t.p}).call((function(){t.nextCb()})).start(),h(t.node).delay(.1+e/.1).call((function(){f.node.audio.playwheelspin()})).union().repeatForever().start()},o=0;f.slotCtrl.isSpeed||(1==this.wheelId&&(o+=.1),2==this.wheelId&&(o+=.4)),setTimeout((function(){t.node.y=t.p;var e=P;f.slotCtrl.isSpeed?e/=2:e=P+.2*t.wheelId,h(t.node).delay(o).to(e,{position:new r(t.node.x,672-t.node.h+t.p)}).call((function(){l()})).start(),h(t.node).delay(.1+e/.1).call((function(){f.node.audio.playwheelspin()})).union().repeatForever().start()}),100),this.nextCb=l},o.getRandomId=function(){for(var t=0;0==t;)((t=Math.floor(Math.random()*(f.node.rolePb.length-1)+1))>8||7==t)&&(t=0),t=t==this.excludeId?0:t;return t},o.addRole=function(t,e,s){if(void 0===e&&(e=0),void 0===s&&(s=void 0),10!=t){var i=u(f.node.rolePb[t]),l=i.getComponent(g);e&&(l.val=e*f.betSum/f.exchangeRate,e<=10?(i.children[1].active=!0,l.showNodeNum=1):e<=100?(i.children[2].active=!0,l.showNodeNum=2):e<=5e3&&(i.children[3].active=!0,l.showNodeNum=3),i.getChildByName("001").getComponent(c).string=v.exchangeToThousands2(f.exchangeRate,e*f.betSum),i.getChildByName("002").getComponent(c).string=v.exchangeToThousands2(f.exchangeRate,e*f.betSum),i.getChildByName("003").getComponent(c).string=v.exchangeToThousands2(f.exchangeRate,e*f.betSum)),void 0!==s?(this.rolePbList.unshift(i),this.roleIdList.unshift(t)):(this.rolePbList.push(i),this.roleIdList.push(t)),this.addClickEvent(i,t),this.node.addChild(i),void 0!==s&&i.setSiblingIndex(s)}else this.addNullRole(10)},o.initAddRole=function(t,e,s){if(void 0===s&&(s=void 0),10!=t){var i=u(f.node.rolePb[t]),l=i.getComponent(g);e&&(l.val=e/f.exchangeRate,e<=25?(i.children[1].active=!0,l.showNodeNum=1):e<=100?(i.children[2].active=!0,l.showNodeNum=2):e<=2500&&(i.children[3].active=!0,l.showNodeNum=3),i.children[1].getComponent(c).string=this.initFormatNum(e)(i.children[2].getComponent(c)).string=this.initFormatNum(e)(i.children[3].getComponent(c)).string=this.initFormatNum(e)),void 0!==s?(this.rolePbList.unshift(i),this.roleIdList.unshift(t)):(this.rolePbList.push(i),this.roleIdList.push(t)),this.addClickEvent(i,t),this.node.addChild(i),void 0!==s&&i.setSiblingIndex(s)}else this.addNullRole(10)},o.initFormatNum=function(t){return Number.isInteger(t)?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")},o.addNullRole=function(t){var e=u(f.node.roleNullPb);this.rolePbList.push(e),this.roleIdList.push(t),this.node.addChild(e)},o.rollCallBack=function(){f.node.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(0,5);for(var t=0;t<this.lastResult.length;t++)if(8==this.lastResult[t]){var e=this.rolePbList[t].getComponent(g);this.lastResultNum[t]=parseFloat(e.val+"")}else this.lastResultNum[t]=0;this.status=0,f.node.stateCallBack()},o.stopImmediately=function(){var t=this;d.stopAllByTarget(this.node),this.lastResult=this.roleIdList.slice(0,5);for(var e=0;e<this.lastResult.length;e++)8==this.lastResult[e]?this.lastResultNum[e]=parseFloat(this.rolePbList[e].children[1].getComponent(c).string):this.lastResultNum[e]=0;setTimeout((function(){t.setBlur(!1),t.node.y=692-t.node.h+t.p}),50),this.status=0,f.node.stateCallBack()},o.addClickEvent=function(t,e){var s=new R.EventHandler;s.target=this.node,s.component="rabbitWheel",s.handler="roleClick",s.customEventData=e,t.getComponent(p).clickEvents.push(s)},o.roleClick=function(t,e){if(f.detail)return f.node.deskMask.active=!1,f.detail.node.parent=null,void(f.detail=null);var s=u(f.node.detailPb),i=t.target.getComponent(m),l=i.convertToWorldSpaceAR(new r(0,0,0)),o=(i=f.node.getComponent(m)).convertToNodeSpaceAR(l);s.position=o,s.x-=50;var n=s.x<10;s.getComponent("rabbitDetail").init(Number(e),n,t.target),f.node.node.addChild(s),f.node.deskMask.active=!0},o.setBlur=function(t){for(var e in this.rolePbList)8!=this.roleIdList[e]&&(this.rolePbList[e].children[0].active=t,this.rolePbList[e].children[1].active=!t)},e}(R)).prototype,"wheelId",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(N.prototype,"excludeId",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=N))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/rulePanel5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cRabbit.ts"],(function(e){var t,n,i,o,a,l,r,s,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Node,s=e.Widget,c=e.tween,h=e.Component},function(e){p=e.rabbit}],execute:function(){var u,d,f,v,y;a._RF.push({},"031fb+zcF5NOqZgMHHLyleo","rulePanel",void 0);var P=l.ccclass,g=l.property;e("rulePanel",(u=P("rulePanel"),d=g({type:r,tooltip:""}),u((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",y,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){p.rulePanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var e=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var t=this.panel.getComponentsInChildren(s),n=0;n<t.length;n++)t[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsRabbitGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts","./RoomMgr.ts","./ModuleDef.ts","./ResourceMgr.ts","./Logger.ts"],(function(e){var n,t,r,o,i,s,a,u,c,f,m,d,g,h;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,a=e.Prefab},function(e){u=e.GameMgr},function(e){c=e.SubGameMgr},function(e){f=e.SubGameDef},function(e){m=e.RoomMgr},function(e){d=e.ModuleDef},function(e){g=e.ResourceMgr},function(e){h=e.Logger}],execute:function(){var l,p;i._RF.push({},"bce52PZFwhAmrordsGRe/Pf","SlotsRabbitGameMgr",void 0);var b=s.ccclass,M=(s.property,e("SlotsRabbitGameMgr",b("SlotsRabbitGameMgr")(((p=function(e){function i(){var n;return(n=e.call(this)||this).totalNum=2,n.nowIndex=0,n._porcessFun=void 0,n.modName=d.SLOTS_RABBIT,n.mainName="rabbitMain",n._gameType=f.SLOTS_RABBIT,n._loadingScene={name:"subgame_loading",bundle:d.BASIC},n._gameScene={name:"game_slots_rabbit",bundle:d.SLOTS_RABBIT},n.initNetMsgHandlers(),n}n(i,e);var s=i.prototype;return s.initNetMsgHandlers=function(){},s.initSoloMode=function(){m.inst.reset(),this.reset(),c.gameMgr=this},s.preLoadRes=function(){var e=r(o().mark((function e(n){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return t.preLoad((function(){e(!0)}),n),!0})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s.preLoad=function(){var e=r(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowIndex=0,this._porcessFun=t,t&&t(this.nowIndex/this.totalNum),e.next=5,this.preLoadMain();case 5:return this.finishOneItemLoad(),e.next=8,this.preLoadLanguage();case 8:this.finishOneItemLoad(),n();case 10:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r="prefab/"+e.mainName;g.inst.loadResByModuleBundle(e.modName,r,a,(function(t,o){t?h.error("载入Prefab失败, 原因:"+r):o instanceof a?n():h.error(e,"你载入的不是Prefab, 你做了什么事?")}))}))},s.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},s.finishOneItemLoad=function(){this.nowIndex++,this._porcessFun&&this._porcessFun(this.nowIndex/this.totalNum,Math.floor(this.nowIndex/this.totalNum*100)+"%")},t(i,null,[{key:"inst",get:function(){return this._inst||(this._inst=new i),this._inst}}]),i}(u))._inst=void 0,l=p))||l));c.inst.registerGameMgr(M.inst),i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsRabbitLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./SceneDef.ts","./UIAnnouncement.ts","./SlotsRabbitGameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts"],(function(e){var n,t,o,r,i,c,a,s,u,l,b,f,p,S,m,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Node,l=e.Component},function(e){b=e.UserMgr},function(e){f=e.SceneDef},function(e){p=e.UIAnnouncement},function(e){S=e.SlotsRabbitGameMgr},function(e){m=e.SubGameMgr},function(e){g=e.SubGameDef}],execute:function(){var y,d,M,R,h;a._RF.push({},"c553du7MXlJd5PC0GNwD/sV","SlotsRabbitLobbyScene",void 0);var v=s.ccclass,D=s.property;e("SlotsRabbitLobbyScene",(y=v("SlotsRabbitLobbyScene"),d=D(u),y((h=n((R=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,o(n,"announcementPlacer",h,r(n)),n}t(n,e);var a=n.prototype;return a.start=function(){var e=i(c().mark((function e(){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.inst.uid){e.next=3;break}return tgx.SceneUtil.loadScene(f.START),e.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(p,(function(e){e.setPosition(n.announcementPlacer.position.x,n.announcementPlacer.position.y)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.update=function(e){},a.onBtnSoloModeClicked=function(){S.inst.initSoloMode(),m.inst.CreateRoom(g.SLOTS_RABBIT,!0)},n}(l)).prototype,"announcementPlacer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=R))||M));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_rabbit', 'chunks:///_virtual/module_slots_rabbit'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});