System.register("chunks:///_virtual/DragonElementDetailsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonSceneManager.ts"],(function(t){var e,n,i,l,o,r,a,s,c,h,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Vec3,h=t.find,u=t.Label,f=t.Component},function(t){p=t.SlotDragonSceneManager}],execute:function(){var d,g,v,b,C,y,D,N,m,S,_,w,k,E;r._RF.push({},"61d6fl52UpKSrPmQDDDo+tY","DragonElementDetailsManager",void 0);var M=a.ccclass,z=a.property;t("DragonElementDetailsManager",(d=M("DragonElementDetailsManager"),g=z(s),v=z(s),b=z(s),C=z(s),y=z(s),d(((E=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"blackNode",m,l(e)),i(e,"leftContent",S,l(e)),i(e,"rightContent",_,l(e)),i(e,"letfSpNode",w,l(e)),i(e,"rightSpNode",k,l(e)),e._twId=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){e._instance?this.node.destroy():(e._instance=this,this.leftContent.on(s.EventType.TOUCH_END,this.hide,this),this.rightContent.on(s.EventType.TOUCH_END,this.hide,this))},r.onDestroy=function(){e._instance=null},r.showDetails=function(t,e,n,i){this.hideAllFace();var l=null,o=null,r=null;this.blackNode.active=!0;var a=null;if("2"===n)this.leftContent.active=!1,this.rightContent.active=!0,this.rightContent.position=new c(175,e.y+870+10*i),r=this.rightContent,a=this.rightSpNode;else{this.leftContent.active=!0,this.rightContent.active=!1;var s=Number(n);this.leftContent.position=new c(290*s-490,e.y+870+10*i),r=this.leftContent,a=this.letfSpNode}l=h("lineNum",r).getComponent(u),o=h("lineMult",r).getComponent(u),l.string="3",o.string=p.instance.elementOdd[t]+"",h(t.toString(),a).active=!0,this.unscheduleAllCallbacks(),this.scheduleOnce(this.hide,3)},r.hideAllFace=function(){for(var t=0;t<this.letfSpNode.children.length;t++)this.letfSpNode.children[t].active=!1,this.rightSpNode.children[t].active=!1},r.hide=function(){this.unscheduleAllCallbacks(),this.leftContent.active=!1,this.rightContent.active=!1,this.blackNode.active=!1},o(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(f))._instance=null,m=e((N=E).prototype,"blackNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(N.prototype,"leftContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(N.prototype,"rightContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(N.prototype,"letfSpNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"rightSpNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=N))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_loong",["./SlotDragonUtils.ts","./SlotDragonGameData.ts","./SlotDragonGameVariable.ts","./DragonElementDetailsManager.ts","./SlotDragonAnimation.ts","./SlotDragonGameElement.ts","./SlotDragonGameManager.ts","./SlotDragonNoticeManager.ts","./SlotDragonPrizeManager.ts","./SlotDragonSceneManager.ts","./SlotLoongGameMgr.ts","./UIDGMiniGame.ts","./UIDGMiniGameTip.ts","./UIDragonResult.ts","./UIDragonResultItem.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotDragonAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonGameManager.ts"],(function(t){var n,e,i,a,o,l,s,r,c,u,p,h,f,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,r=t.Enum,c=t.sp,u=t.Node,p=t.macro,h=t.Vec3,f=t.Component},function(t){m=t.SlotDragonGameManager}],execute:function(){var d,y,_,b,g,D,A,v;l._RF.push({},"a8695Zk2cVAXIuJAePJGFyZ","SlotDragonAnimation",void 0);var S=s.ccclass,P=s.property,w={idle:"idle",cute:"cute",celebrate:"celebrate",ball1:"ball1",ball2:"ball2"},L=function(t){return t[t.idle=0]="idle",t[t.cute=1]="cute",t[t.celebrate=2]="celebrate",t[t.ball1=3]="ball1",t[t.ball2=4]="ball2",t}(L||{});r(L);t("SlotDragonAnimation",(d=S("SlotDragonAnimation"),y=P([c.SkeletonData]),_=P(u),d(((v=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return n=t.call.apply(t,[this].concat(o))||this,i(n,"aniData",D,a(n)),i(n,"effect",A,a(n)),n.DragonAniName=w,n._status=L.idle,n._animation=null,n._isPlayLoop=!0,n}e(n,t);var l=n.prototype;return l.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.gameSetup())},l.onDestroy=function(){n._instance=null},l.gameSetup=function(){var t=this;this._animation=this.node.getComponent(c.Skeleton),this._animation.setCompleteListener((function(n){if(t.node.activeInHierarchy&&!t._isPlayLoop){if(t._status===L.ball1)return t._isPlayLoop=!0,t._animation.setAnimation(0,"1",!0),void m.instance.freeMiniGame();t._status!==L.cute&&t.openAniDownTime(),t.playAni(w.idle,!0)}})),this.openAniDownTime()},l.playAni=function(t,n){var e=this;this._status!==L[t]&&this.node.activeInHierarchy&&(t!==w.idle&&t!==w.cute&&this.unschedule(this.playCute),t===w.ball1&&(this.effect.active=!1),t===w.ball2&&(this.effect.active=!0),this._isPlayLoop=n,this._status=L[t],this._animation.paused=!0,this.scheduleOnce((function(){e._animation.paused=!1,e._animation.skeletonData=e.aniData[e._status],e._animation.setAnimation(0,"animation",n)}),1/60))},l.openAniDownTime=function(){this.schedule(this.playCute,10,p.REPEAT_FOREVER)},l.resetBallParet=function(t){this.node.parent=t,this.node.setSiblingIndex(2),this.node.position=new h(54,932)},l.resetPlay=function(){this.openAniDownTime(),this.playAni(w.ball2,!1)},l.isShow=function(t){void 0===t&&(t=!0),this.node.active=t},l.playCute=function(){this.playAni(w.cute,!1)},o(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(f))._instance=null,D=n((g=v).prototype,"aniData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(g.prototype,"effect",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonGameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,o=e.Enum,r=e.Component}],execute:function(){var c,u;a._RF.push({},"7b015hdj8NG6bmJuXMTp0RX","SlotDragonGameData",void 0);var s=n.ccclass,i=(n.property,e("DragonGameStatus",function(e){return e[e.start=0]="start",e[e.over=1]="over",e[e.mini=2]="mini",e}({})));o(i);e("SlotDragonGameData",s("SlotDragonGameData")(((u=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a}(r)).MessgeDefine={Request:{start:"startgame",selected:"selected",route:"getminiroute"},Response:{GameScene:"slot_dragon_game_scene"}},u.EventName={clickGameItem:"clickGameItem"},u.Auto={AutoIndex:[10,30,50,100,1e3]},u.cacheName={betScore:"_betScore"},u.autoCountIndex=0,u.leftAutoCount=0,u.reduceLabel=0,u.addLabel=0,u.winLabel=0,c=u))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonGameElement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DragonElementDetailsManager.ts","./SlotDragonGameManager.ts","./SlotDragonUtils.ts"],(function(e){var t,n,i,o,r,a,l,s,c,p,m,h,u,f,d,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.SpriteAtlas,s=e.Sprite,c=e.sp,p=e.Node,m=e.Vec3,h=e.find,u=e.Component},function(e){f=e.DragonElementDetailsManager},function(e){d=e.SlotDragonGameManager},function(e){S=e.SlotDragonUtils}],execute:function(){var g,v,D,b,E,_,y,w,z,I,N,A,F,M,P;r._RF.push({},"9d2e8E9NfRCraMj9Yorql3M","SlotDragonGameElement",void 0);var G=a.ccclass,T=a.property,k={101:0,102:1,103:2,104:3,105:4,106:5,201:6};e("SlotDragonGameElement",(g=G("SlotDragonGameElement"),v=T(l),D=T(s),b=T(c.Skeleton),E=T([c.SkeletonData]),_=T(p),y=T(p),g((I=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"elementAtlas",I,o(t)),i(t,"elementSprite",N,o(t)),i(t,"elementSpine",A,o(t)),i(t,"elementSpineDatas",F,o(t)),i(t,"prizeEffectNode",M,o(t)),i(t,"commonParticle",P,o(t)),t._faceId="",t._score="",t}n(t,e);var r=t.prototype;return r.start=function(){var e=this;this.node.on(p.EventType.TOUCH_END,this.onTouchEnd,this),this.elementSpine.setCompleteListener((function(t){"1"===t.animation.name&&e.elementSpine.setAnimation(0,"2",!0)})),S.instance.setNodesByComponent(this.node)},r.onTouchEnd=function(){"301"!==this._faceId&&"302"!==this._faceId&&f.instance.showDetails(Number(this._faceId),this.node.position,this.node.parent.name,Number(this.node.name))},r.initElement=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=""),this._faceId=e,this._score=t||"0",this.elementSpine.node.active=!1,this.resetElement(),this.setFace(e,n),"3"===n&&this.setSpine(n,!1)},r.resetElement=function(){this.elementSprite.spriteFrame=null;for(var e=0;e<this.prizeEffectNode.children.length;e++)this.prizeEffectNode.children[e].active=!1;this.commonParticle.active=!1},r.setFace=function(e,t){this.elementSprite.node.active=!0,this.elementSprite.spriteFrame=this.elementAtlas.getSpriteFrame(e)},r.showSpine=function(e,t,n){if(void 0===t&&(t="1"),"201"===e||""===t)return this.elementSprite.node.active=!1,this.elementSpine.node.active=!0,this.elementSpine.skeletonData=this.elementSpineDatas[k[e]],this.elementSpine.setAnimation(0,"2",!0),void(this.elementSpine.node.position=new m(0,-65));this.elementSprite.node.active=!1,this.elementSpine.node.active=!0,this.elementSpine.node.position=new m(0,0),this.elementSpine.skeletonData=this.elementSpineDatas[k[e]],this.elementSpine.setAnimation(0,t,!1)},r.prizeEffect=function(){this.commonParticle.active=!0,"201"!==this._faceId&&(h(this._faceId,this.prizeEffectNode).active=!0)},r.setSpine=function(e,t,n){if(void 0===n&&(n=0),"201"===this._faceId)n>0&&d.instance.showTail(this.node.worldPosition.clone()),"3"!=e&&t&&this.showSpine(this._faceId,"",t);else{if(""===e)return;this.showSpine(this._faceId,e)}},t}(u)).prototype,"elementAtlas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"elementSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"elementSpine",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"elementSpineDatas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(z.prototype,"prizeEffectNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(z.prototype,"commonParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonGameVariable.ts","./SlotDragonSceneManager.ts","./SlotDragonGameData.ts","./SlotDragonPrizeManager.ts","./SlotDragonNoticeManager.ts","./DragonElementDetailsManager.ts","./UIDragonResult.ts","./UIDGMiniGameTip.ts","./SlotDragonAnimation.ts","./SlotDragonUtils.ts","./BaseSlot.ts","./Num.ts","./UserMgr.ts","./GameUtil.ts","./SubGameDef.ts","./RoomMgr.ts","./SlotShowPanelMgr.ts","./LanguageData.ts","./AudioMgr.ts","./ModuleDef.ts","./NetGameServer.ts","./UIHelp.ts"],(function(t){var e,i,a,n,s,o,r,l,c,h,u,b,d,_,g,f,v,S,p,m,O,A,L,y,N,T,G,x,I,M,w,C,D,E,B,k,U,P,R,V,F,z,W,H,K,Y,j,Z,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime,r=t.createClass},function(t){l=t.cclegacy,c=t._decorator,h=t.Node,u=t.Vec3,b=t.UIOpacity,d=t.tween,_=t.easing,g=t.Label,f=t.randomRangeInt,v=t.Tween,S=t.Sprite,p=t.instantiate,m=t.ParticleSystem,O=t.Component,A=t.find},function(t){L=t.SlotDragonGameVariable},function(t){y=t.SlotDragonSceneManager},function(t){N=t.DragonGameStatus,T=t.SlotDragonGameData},function(t){G=t.SlotDragonPrizeManager},function(t){x=t.SlotDragonNoticeManager},function(t){I=t.DragonElementDetailsManager},function(t){M=t.UIDragonResult},function(t){w=t.UIDGMiniGameTip},function(t){C=t.SlotDragonAnimation},function(t){D=t.SlotDragonUtils},function(t){E=t.SlotStopType,B=t.SlotEaseType},function(t){k=t.Num},function(t){U=t.UserMgr},function(t){P=t.GameUtil},function(t){R=t.SubGameDef},function(t){V=t.RoomMgr},function(t){F=t.showSlotBetPanel,z=t.showSlotAutoPenel,W=t.showSlotLastMoneyPenel},function(t){H=t.LanguageData},function(t){K=t.AudioMgr},function(t){Y=t.ModuleDef},function(t){j=t.gameNet},function(t){Z=t.UIHelp,q=t.UIhelpParam}],execute:function(){var J,Q,X,$,tt,et,it,at;l._RF.push({},"9bd26M1KRlMt4snZxu1UaOm","SlotDragonGameManager",void 0);var nt=c.ccclass,st=c.property;t("SlotDragonGameManager",(J=nt("SlotDragonGameManager"),Q=st({type:L,displayName:"暴露变量"}),X=st(h),J(((at=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,a(e,"variable",et,n(e)),a(e,"clickNode",it,n(e)),e.isAuto=!1,e.gameStatus=N.over,e.index=0,e._score=0,e._betScore=0,e._gearValueArr=[],e._betLevel=1,e._isSpeed=!1,e._isOpenSetting=!1,e._isEntryMiniGame=!1,e._gameInfo=null,e._isFreeGame=!1,e.isDialog=!1,e._freeGameCallback=null,e._totalLose=0,e._totalWin=0,e._singleWin=0,e._id1=-1,e._id2=-1,e._id3=-1,e._tailNum=0,e._isStartLaser=!1,e._laserSpeed=5,e._laserAddSpeed=5,e._isStartLaserStop=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){e._instance?this.node.destroy():(e._instance=this,this.gameSetup())},l.onDestroy=function(){e._instance=null},l.gameSetup=function(){K.inst.play("audio/AC_sound_8004_music_interface_001",1,Y.SLOTS_LOONG);this.variable.scroll.setup(["101","102","103","104","105","106","201"]),this.variable.scroll.node.active=!1,this.variable.otherNode.scale=new u(1,0,1),this.variable.otherNode.getComponent(b).opacity=0,this.variable.setStartAni(3),this.clickNode.on(h.EventType.TOUCH_END,this.onTouchEnd,this),y.instance.startGame(),D.instance.setNodesByComponent(this.node.parent,this.node.parent.parent.angle,this.node.parent.scale.clone())},l.onEventEnd=function(){I.instance.hide()},l.reconnect=function(){var t=this;if(!this.isEntryMiniGame&&!this._isFreeGame&&null==this._gameInfo){var e=this.variable.scroll.getRandomElementIds();this.variable.scroll.roll(e,(function(){t.variable.scroll.node.active=!1,G.instance.showPrize(e,0,0,null,t.gameResult.bind(t))}),(function(t){})),this.scheduleOnce((function(){t.variable.scroll.stop()}),.5)}},l.laserStartScroll=function(){for(var t=this.variable.laserNode.children,e=y.instance.multi,i=0;i<t.length;i++){var a=new u(160*i-245,0,0);d(t[i]).to(.5,{position:a},{easing:_.backOut}).call((function(t){t.position.x<-244&&(t.position=new u(245,0,0),t.setSiblingIndex(10),t.getComponent(g).string="x"+e[f(0,e.length)])})).tag(1241).start()}},l.laserBigEndScroll=function(t,e){var i=this,a=this.variable.laserCenterNode.children;v.stopAllByTag(1241);for(var n=0;n<a.length;n++)if(a[n].position.x>=230){var s=-a[n].position.x;a[n].getComponent(g).string="x"+t;for(var o=function(t){d(a[t]).by(.8,{position:new u(s,0,0)}).call((function(){2==t&&i.scheduleOnce((function(){e&&e()}),.5)})).start()},r=0;r<a.length;r++)o(r);break}},l.initUI=function(){this._score=U.inst.coin,this.variable.scoreText.string=k.exchangeToThousands(1,this._score),this.variable.winText.string="0.00",this.variable.scroll.setWheels(y.instance.wheelData,0),this._gearValueArr=P.GetBetRange();var t=localStorage.getItem(R.SLOTS_LOONG+T.cacheName.betScore);this._betScore=t?Number(t):this._gearValueArr[0],this.index=this._gearValueArr.indexOf(this._betScore),this.variable.betText.string=k.exchangeToThousands(1,this._betScore),this.updateBetGear(),this.variable.resetBigLaser(y.instance.multi),this.btnManager(!0)},l.openInteractable=function(){this.variable.btnAdd.interactable=!0,this.variable.btnSub.interactable=!1,this.variable.btnStart.interactable=!0,this.variable.btnAuto.interactable=!0,this.variable.btnTurbo.interactable=!0,this.variable.btnBet.interactable=!0},l.fakeMiniGame=function(){for(var t=0;t<this.variable.entryMiniAniNode.length;t++)d(this.variable.entryMiniAniNode[t]).to(1.5,{scale:new u(.92,.92)}).delay(1).to(.5,{scale:u.ONE}).start()},l.getElementIds=function(t){for(var e=[],i=0;i<t.length;i++){e.push([]);for(var a=0;a<t[i].elementId.length;a++){var n=t[i].elementId[a];e[i].push({name:n.toString(),text:"0.00"})}}return e},l.getFrameIds=function(){for(var t=this.variable.scroll.column,e=[],i=0;i<t.length;i++){e[i]=[];for(var a=0;a<t[i].length;a++)e[i].push({name:t[i][a].getComponent(S).spriteFrame.name,text:""})}return e},l.setScore=function(t){0!==t&&(this._score+=t,this.variable.updateScore(this._score-t,this._score))},l.btnManager=function(t){this.variable.btnSub.interactable=t,this.variable.btnAdd.interactable=t,this.variable.btnAuto.interactable=t,this.variable.btnStart.interactable=t,0===this.index?this.variable.btnSub.interactable=!1:this.index>=this._gearValueArr.length-1&&(this.variable.btnAdd.interactable=!1),t?this.variable.setStartAni(3):this.variable.setStartAni(.5)},l.onStart=function(){var t=s(o().mark((function t(){var e,i,a,n,s,r=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gameStatus==N.over){t.next=2;break}return t.abrupt("return");case 2:return this.isAuto,x.instance.hideScoreNode(),this.btnManager(!1),G.instance.hideEndContet(),this.variable.winText.string="0.00",this.variable.scroll.node.active=!0,this.variable.scroll.showAllLayer(),this.isAuto||(K.inst.playOneShot("audio/AC_sound_8004_dragon_UI_button",1,Y.SLOTS_LOONG),this.variable.btnStartEffect.active=!0,(i=null==(e=A("1",this.variable.btnStartEffect))?void 0:e.getComponent(m)).stop(),i.play()),K.inst.playOneShot("audio/AC_sound_8004_dragon_turntable_glitter",1,Y.SLOTS_LOONG).then((function(t){r._id1=t})),this.variable.scroll.rollVirtually(),this._isEntryMiniGame&&this.variable.scroll.toggle(0,null),this.gameStatus=N.start,this.variable.effectStart.stop(),this.variable.effectStart.play(),t.next=18,j.playSlots(R.SLOTS_LOONG,this._betScore.toString());case 18:return a=t.sent,t.next=21,D.instance.conver(a,this._betScore);case 21:n=t.sent,this._gameInfo=n,200===n.code?this.successStart(n):(this._gameInfo=null,s=this.variable.scroll.getRandomElementIds(),this.variable.scroll.roll(s,(function(){r.isAuto=!1,r.variable.scroll.node.active=!1,r.stopAuto(),G.instance.showPrize(s,0,0,null,r.gameResult.bind(r)),r.btnManager(!0)}),(function(t){})),!n.code||501===n.code||201===n.code||202===n.code||203===n.code||n.code,this.scheduleOnce((function(){r.variable.scroll.stop()}),2));case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.successStart=function(t){var e=this,i=t.betScore?t.betScore:0;this._score-=i,this._totalLose+=i,this._totalWin-=i,this.variable.scoreTw&&this.variable.scoreTw.stop(),this.variable.scoreText.string=k.exchangeToThousands(1,this._score);var a=[];if(this._isFreeGame=!!t.free,t.mini)this._isEntryMiniGame=!0,a=this.getElementIds(t.main.colums),this.variable.scroll.roll(a,(function(){e.variable.scroll.node.active=!1,G.instance.showPrize(a,0,t.betScore),w.instance.show(t.mini)}),(function(t){})),this.scheduleOnce((function(){e.variable.scroll.stop()}),1);else if(t.main&&t.main.colums.length>0){this._isEntryMiniGame=!1,a=this.getElementIds(t.main.colums),G.instance.endContent.active=!0,G.instance.showEndContent(!1),this.variable.scroll.roll(a,(function(){e.variable.scroll.node.active=!1,G.instance.showPrize(a,t.main.hitType,t.betScore,t.main,e.gameOver.bind(e))}),(function(t){}));var n=.06;Math.random()<y.instance.fakeMiniRate/1e4&&(n=4,this.fakeMiniGame()),this.scheduleOnce((function(){if(e.variable.scroll.stopType===E.立即停止)-1!=e._id1&&(K.inst.stopOneShot(e._id1,"audio/AC_sound_8004_dragon_turntable_glitter",Y.SLOTS_LOONG),e._id1=-1),e.isDialog||K.inst.playOneShot("audio/AC_sound_8004_dragon_turntable_stop",1,Y.SLOTS_LOONG).then((function(t){e._id2=t}));else for(var t=0;t<3;t++){var i=0;1===t?i=.4:2===t&&(i=1.02),e.scheduleOnce((function(){e.isDialog||K.inst.playOneShot("audio/AC_sound_8004_dragon_turntable_stop",1,Y.SLOTS_LOONG).then((function(t){e._id2=t}))}),i)}}),n+.4),this.scheduleOnce((function(){e._isSpeed||e.scheduleOnce((function(){-1!=e._id1&&(K.inst.stopOneShot(e._id1,"audio/AC_sound_8004_dragon_turntable_glitter",Y.SLOTS_LOONG),e._id1=-1)}),1.05),e.variable.scroll.stop()}),n)}},l.showTail=function(t){var e=this;0!==this._tailNum||this.isDialog||K.inst.playOneShot("audio/AC_sound_8004_dragon_light_up",1,Y.SLOTS_LOONG).then((function(t){e._id3=t})),this._tailNum++;var i=p(this.variable.tailPrefab);i.parent=this.variable.effectParent,i.worldPosition=t;var a=this.variable.ballBoomEffect.worldPosition.clone(),n=new u(a.x,t.y);D.instance.bezierTo(i,.3,0,t,n,a).call((function(t){t.removeFromParent(),e.variable.ballBoomEffect.children.forEach((function(t){t.getComponent(m).stop(),t.getComponent(m).play()}))})).start()},l.getMiniRoute=function(t,e){},l.stopAllAudio=function(){-1!=this._id1&&(K.inst.stopOneShot(this._id1,"audio/AC_sound_8004_dragon_turntable_glitter",Y.SLOTS_LOONG),this._id1=-1),-1!=this._id2&&(K.inst.stopOneShot(this._id2,"audio/AC_sound_8004_dragon_turntable_stop",Y.SLOTS_LOONG),this._id2=-1),-1!=this._id3&&(K.inst.stopOneShot(this._id3,"audio/AC_sound_8004_dragon_light_up",Y.SLOTS_LOONG),this._id3=-1)},l.gameOver=function(){var t=this;if(this._isFreeGame){w.instance.showFreeTip(function(){t.scheduleOnce((function(){K.inst.playOneShot("audio/AC_sound_8004_dragon_ball_rotate",1,Y.SLOTS_LOONG)}),.2),C.instance.playAni(C.instance.DragonAniName.ball1,!1),t.variable.ball.node.active=!0,t.variable.ball.setAnimation(0,"animation",!1)}.bind(this))}else this.gameResult()},l.freeMiniGame=function(){var t=this;this.variable.laserCenterNode.active=!0,this.variable.dragonBallEffect.active=!0,this.variable.effectBlack.active=!0,this.variable.ballEffectBg.active=!0;var e=function(){var e;M.instance.showFreeResult(null==(e=t._gameInfo)?void 0:e.free.winScore,function(){t.gameResult(),t.isDialog=!1,t.variable.ball.node.active=!1,t.variable.dragonBallEffect.active=!1,t.variable.effectBlack.active=!1,t.variable.ballEffectBg.active=!1,t.variable.resetBigLaser(y.instance.multi),C.instance.playAni(C.instance.DragonAniName.ball2,!1)}.bind(t))};this.stopAllAudio(),this.isDialog=!0,this._laserSpeed=5,this._laserAddSpeed=45,this._isStartLaser=!0,this._isStartLaserStop=!1,this.scheduleOnce((function(){t._isStartLaserStop=!0,console.log("-----球开始停了:",t._gameInfo.free.multi),t._freeGameCallback=e.bind(t)}),3)},l.gameResult=function(){var t=this,e=this._gameInfo&&this._gameInfo.betScore?this._gameInfo.betScore:0,i=this._gameInfo&&this._gameInfo.winScore?this._gameInfo.winScore:0,a=function(){t.gameStatus=N.over,t.variable.mainBtn.active=!0,T.leftAutoCount<=0&&t.btnManager(!0),t.setScore(i),t.totalScore(i),i>0&&t.variable.updateWin(i);var e=1;0===i&&(e=.2),T.leftAutoCount>0?t.updateLabelAutoCount(e):T.leftAutoCount<=0&&(t.isAuto=!1),t._isFreeGame=!1,t._isEntryMiniGame=!1,t._gameInfo=null,t._tailNum=0};if(0===e||this._isEntryMiniGame||this._isFreeGame)x.instance.balanceScore(e,i,a.bind(this));else{var n=i/e;n&&n>=10?this.scheduleOnce((function(){x.instance.balanceScore(e,i),M.instance.showResult(i,e,a.bind(t))}),1):(n>1&&n<2?K.inst.playOneShot("audio/AC_sound_8004_dragon_voice_yeah_001",1,Y.SLOTS_LOONG):n>=2&&n<5?K.inst.playOneShot("audio/AC_sound_8004_dragon_voice_great_001",1,Y.SLOTS_LOONG):n>=5&&n<10&&K.inst.playOneShot("audio/AC_sound_8004_dragon_voice_prefect_001",1,Y.SLOTS_LOONG),x.instance.balanceScore(e,i,a.bind(this)))}},l.setScroll=function(t){t?(this.variable.scroll.easingIn=B.Back,this.variable.scroll.easingOut=B.Back):this._isSpeed?(this.variable.scroll.easingIn=B.Linear,this.variable.scroll.easingOut=B.Linear):(this.variable.scroll.easingIn=B.Back,this.variable.scroll.easingOut=B.Elastic)},l.onBetSub=function(){this.index=Math.ceil(this.index-1),this.index<=0&&(this.index=0,this.variable.btnSub.interactable=!1),this.variable.btnAdd.interactable=!0,this.variable.betText.string=this._gearValueArr[this.index]+"",this._betScore=this._gearValueArr[this.index],localStorage.setItem(R.SLOTS_KYLIN+T.cacheName.betScore,this._betScore.toString()),this._betLevel=1},l.onBetAdd=function(){this.index=Math.floor(this.index+1),this.index>=this._gearValueArr.length-1&&(this.index=this._gearValueArr.length-1,this.variable.btnAdd.interactable=!1),this.variable.btnSub.interactable=!0,this.variable.betText.string=this._gearValueArr[this.index]+"",this._betScore=this._gearValueArr[this.index],localStorage.setItem(R.SLOTS_KYLIN+T.cacheName.betScore,this._betScore.toString()),this._betLevel=1},l.onTurbo=function(){this._isSpeed?(this._isSpeed=!1,this.variable.scroll.stopType=E.立即陆续,this.variable.scroll.easingIn=B.Back,this.variable.scroll.easingOut=B.Elastic,this.variable.turboTip.string=H.getLangByID("Off"),this.variable.turboEffect.active=!1):(this._isSpeed=!0,this.variable.scroll.stopType=E.立即停止,this.variable.scroll.easingIn=B.Linear,this.variable.scroll.easingOut=B.Linear,this.variable.turboTip.string=H.getLangByID("Turbo"),this.variable.turboEffect.active=!0)},l.onMore=function(){this._isOpenSetting?(this._isOpenSetting=!1,this.clickNode.active=!1,d(this.variable.otherNode.getComponent(b)).to(.2,{opacity:0}).start(),d(this.variable.otherNode).to(.2,{scale:new u(1,0,1)}).start()):(this._isOpenSetting=!0,this.clickNode.active=!0,d(this.variable.otherNode.getComponent(b)).to(.2,{opacity:255}).start(),d(this.variable.otherNode).to(.2,{scale:new u(1,1,1)}).start())},l.onBet=function(){var t=this;if(this.gameStatus==N.over&&!this.isAuto){F(this.variable.panelParentNode,[.03,.1,.3,.9],[1,2,3,4,5,6,7,8,9,10],10,U.inst.coin,Number(this.variable.betText.string),function(){t.index=arguments.length<=2?void 0:arguments[2],t._betScore=arguments.length<=3?void 0:arguments[3],t.variable.betText.string=arguments.length<=4?void 0:arguments[4],localStorage.setItem(R.SLOTS_KYLIN+T.cacheName.betScore,t._betScore.toString()),t.updateBetGear()}.bind(this)).then((function(e){e.bindBet(t.index)})),this.onTouchEnd()}},l.updateBetGear=function(){for(var t=0;t<this._gearValueArr.length;t++){if(this._gearValueArr[t]===this._betScore){0===t?(this.variable.btnSub.interactable=!1,this.variable.btnAdd.interactable=!0):t===this._gearValueArr.length-1?(this.variable.btnSub.interactable=!0,this.variable.btnAdd.interactable=!1):(this.variable.btnSub.interactable=!0,this.variable.btnAdd.interactable=!0),this.index=t;break}if(t===this._gearValueArr.length-1)break;var e=this._gearValueArr[t+1];if(this._betScore>this._gearValueArr[t]&&this._betScore<e){this.index=t+.5,this.variable.btnAdd.interactable=!0,this.variable.btnSub.interactable=!0;break}}},l.onAuto=function(){var t=this;console.log("%c ----自动-----","color:#2ba914");z(this.variable.panelParentNode,U.inst.coin,Number(this.variable.betText.string),function(e){T.leftAutoCount=e,t.startAuto()}.bind(this)),this.onTouchEnd()},l.startAuto=function(){U.inst.coin<this._betScore?tgx.UITip.instance.show(H.getLangByID("206")):(this.isAuto=!0,this.variable.btnStart.node.active=!1,this.variable.btnStop.node.active=!0,this._totalLose=0,this._totalWin=0,this._singleWin=0,this.updateLabelAutoCount())},l.updateLabelAutoCount=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce((function(){T.leftAutoCount--,T.leftAutoCount>0?e.variable.autoText.string=T.leftAutoCount.toString():e.stopAuto(),e.onStart()}),t)},l.totalScore=function(t){t||(t=0),this._totalLose-=t,this._totalWin+=t,this._singleWin=t,(0!=T.reduceLabel&&this._totalLose>=100*T.reduceLabel||0!=T.addLabel&&this._totalWin>=100*T.addLabel||0!=T.winLabel&&this._singleWin>=100*T.winLabel)&&(this.stopAuto(),this.btnManager(!0))},l.onStop=function(){this.stopAuto()},l.stopAuto=function(){console.log("%c ----停止自动游戏-----","color:#2ba914"),this.variable.btnStart.node.active=!0,this.variable.btnStop.node.active=!1,T.leftAutoCount=0},l.onHelp=function(){tgx.UIMgr.inst.showUI(Z,null,this,new q("rule"))},l.onPayout=function(){tgx.UIMgr.inst.showUI(Z,null,this,new q("payout"))},l.onMusic=function(){K.inst.switch=!K.inst.switch},l.onHistroy=function(){},l.onLastMoney=function(){W(this.variable.panelParentNode,U.inst.coin)},l.onExit=function(){tgx.UIAlert.show(H.getLangByID("exit_game"),!0,"e4d3ff","6347d8","d3cceb","554b6b").onClick(s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,V.inst.exitRoom();case 3:case"end":return t.stop()}}),t)}))))},l.onTouchEnd=function(){this._isOpenSetting&&(this._isOpenSetting=!1,this.clickNode.active=!1,d(this.variable.otherNode.getComponent(b)).to(.2,{opacity:0}).start(),d(this.variable.otherNode).to(.2,{scale:new u(1,0,1)}).start())},l.update=function(t){var e=this;if(this._isStartLaser){var i=this.variable.laserCenterNode.children;this._laserSpeed+=this._laserAddSpeed*t,this._laserSpeed>=70&&(this._laserSpeed=70,this._laserAddSpeed=-30),this._laserSpeed<=15&&-30===this._laserAddSpeed&&(this._laserSpeed=15);for(var a=0;a<i.length;a++){var n=i[a].position.clone();if(n.subtract3f(this._laserSpeed,0,0),i[a].position=n,this._isStartLaserStop&&n.x>=-10&&n.x<=10&&i[a].name===this._gameInfo.free.multi.toString()&&(this._isStartLaser=!1,K.inst.playOneShot("audio/AC_sound_8004_dragon_ball_rotate_001",1,Y.SLOTS_LOONG),this.scheduleOnce((function(){e._freeGameCallback&&(e._freeGameCallback(),e._freeGameCallback=null)}),.5)),n.x<=-690){var s=y.instance.multi.length-1;i[a].position=new u(450*s-240,0,0)}}}},r(e,[{key:"isEntryMiniGame",get:function(){return this._isEntryMiniGame}}],[{key:"instance",get:function(){return this._instance}}]),e}(O))._instance=null,et=e((tt=at).prototype,"variable",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),it=e(tt.prototype,"clickNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=tt))||$));l._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonGameVariable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonUtils.ts","./ExtendButton.ts","./BaseSlot.ts"],(function(t){var e,i,n,r,l,o,a,u,s,b,c,p,f,h,g,m,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t._decorator,l=t.Label,o=t.Node,a=t.Sprite,u=t.UITransform,s=t.sp,b=t.ParticleSystem,c=t.Prefab,p=t.tween,f=t.Vec3,h=t.randomRangeInt},function(t){g=t.SlotDragonUtils},function(t){m=t.ExtendButton},function(t){w=t.BaseSlot}],execute:function(){var y,d,S,z,N,T,v,x,B,E,P,_,C,D,F,A,I,R,V,M,k,G,L,H,O,U,j,q,K,W,X,Y,Z,J,Q,$,tt,et,it,nt,rt,lt,ot,at,ut,st,bt,ct,pt,ft,ht,gt,mt,wt,yt,dt,St,zt,Nt,Tt,vt,xt,Bt,Et,Pt,_t,Ct,Dt,Ft,At,It;n._RF.push({},"895f2eiqXVHYZKmtwHx1i3c","SlotDragonGameVariable",void 0);var Rt=r.ccclass,Vt=r.property;t("SlotDragonGameVariable",(y=Rt("SlotDragonGameVariable"),d=Vt({type:m,displayName:"开始按钮"}),S=Vt({type:m,displayName:"加速按钮"}),z=Vt({type:m,displayName:"减按钮"}),N=Vt({type:m,displayName:"加按钮"}),T=Vt({type:m,displayName:"自动按钮"}),v=Vt({type:m,displayName:"停止自动按钮"}),x=Vt({type:m,displayName:"下注按钮"}),B=Vt(l),E=Vt({type:l,displayName:"积分"}),P=Vt({type:l,displayName:"下注额"}),_=Vt({type:l,displayName:"赢的分数"}),C=Vt({type:l,tooltip:"加速按钮提示"}),D=Vt({type:o,tooltip:"放置所有二级界面"}),F=Vt(w),A=Vt(o),I=Vt([o]),R=Vt(o),V=Vt(o),M=Vt(a),k=Vt(o),G=Vt(o),L=Vt(l),H=Vt(o),O=Vt(u),U=Vt(s.Skeleton),j=Vt(o),q=Vt(o),K=Vt(o),W=Vt(o),X=Vt(o),Y=Vt(o),Z=Vt(o),J=Vt(b),Q=Vt(c),y((et=e((tt=function(){function t(){i(this,"btnStart",et,this),i(this,"btnTurbo",it,this),i(this,"btnSub",nt,this),i(this,"btnAdd",rt,this),i(this,"btnAuto",lt,this),i(this,"btnStop",ot,this),i(this,"btnBet",at,this),i(this,"autoText",ut,this),i(this,"scoreText",st,this),i(this,"betText",bt,this),i(this,"winText",ct,this),i(this,"turboTip",pt,this),i(this,"panelParentNode",ft,this),i(this,"scroll",ht,this),i(this,"otherNode",gt,this),i(this,"entryMiniAniNode",mt,this),i(this,"mainBtn",wt,this),i(this,"startRefresh",yt,this),i(this,"turntableBg",dt,this),i(this,"laserNode",St,this),i(this,"laserCenterNode",zt,this),i(this,"laserMultiple",Nt,this),i(this,"decorateNode",Tt,this),i(this,"bottomBg",vt,this),i(this,"ball",xt,this),i(this,"effectBlack",Bt,this),i(this,"turboEffect",Et,this),i(this,"btnStartEffect",Pt,this),i(this,"dragonBallEffect",_t,this),i(this,"ballEffectBg",Ct,this),i(this,"ballBoomEffect",Dt,this),i(this,"effectParent",Ft,this),i(this,"effectStart",At,this),i(this,"tailPrefab",It,this),this._btnStartTw=null,this.winTw=null,this.scoreTw=null}var e=t.prototype;return e.setStartAni=function(t){this._btnStartTw&&(this._btnStartTw.stop(),this._btnStartTw=null),this._btnStartTw=p(this.startRefresh).by(t,{eulerAngles:new f(0,0,360)}).repeatForever(),this._btnStartTw.start()},e.updateScore=function(t,e){var i;null==(i=this.scoreTw)||i.removeSelf(),this.scoreTw=g.instance.IncreaseNumber(this.scoreText,t,e,{timer:1}),this.scoreTw.start()},e.updateWin=function(t){var e;null==(e=this.winTw)||e.removeSelf(),this.winTw=g.instance.IncreaseNumber(this.winText,0,t,{timer:.5,tag:3}),this.winTw.start()},e.resetLaser=function(){this.laserNode.active=!0;for(var t=this.laserNode.children,e=0;e<t.length;e++)t[e].position=new f(160*e-85,0,0)},e.laserScroll=function(t){for(var e=this.laserNode.children,i=0;i<e.length;i++)e[i].position=new f(160*i-85,0,0);for(var n=0;n<e.length;n++)p(e[n]).by(.2,{position:new f(-160,0,0)}).call((function(e){e.position.x<-244&&(e.position=new f(235,0,0),e.setSiblingIndex(10),e.getComponent(l).string="x"+t[h(0,t.length)])})).union().repeatForever().tag(1241).start(),p(e[n]).to(.1,{scale:new f(1.3,1.3,1.3)}).to(.1,{scale:f.ONE}).union().repeatForever().tag(1241).start()},e.laserRScroll=function(t){for(var e=this.laserNode.children,i=0;i<e.length;i++)p(e[i]).by(.5,{position:new f(-450,0,0)}).call((function(e){e.position.x>234&&(e.position=new f(-245,0,0),e.setSiblingIndex(0),e.getComponent(l).string="x"+t[h(0,t.length)])})).union().repeatForever().tag(1241).start(),p(e[i]).to(.25,{scale:new f(1.3,1.3,1.3)}).to(.25,{scale:f.ONE}).union().repeatForever().tag(1241).start()},e.resetBigLaser=function(t){for(var e=this.laserCenterNode.children,i=0;i<e.length;i++){var n=new f(450*i-240,0,0);e[i].active=!0,e[i].position=n,e[i].getComponent(l).string="x"+t[i],e[i].name=""+t[i]}this.laserCenterNode.active=!1},e.laserBigScroll=function(t,e){void 0===e&&(e=.3);for(var i=this.laserCenterNode.children,n=0;n<i.length;n++)p(i[n]).by(e,{position:new f(-450,0,0)}).call((function(e){e.position.x<=-689&&(e.position=new f(660,0,0),e.setSiblingIndex(10),e.getComponent(l).string="x"+t[h(0,t.length)])})).union().repeatForever().tag(1241).start(),p(i[n]).to(e/2,{scale:new f(1.3,1.3,1.3)}).to(e/2,{scale:f.ONE}).union().repeatForever().tag(1241).start()},t}()).prototype,"btnStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(tt.prototype,"btnTurbo",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(tt.prototype,"btnSub",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(tt.prototype,"btnAdd",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(tt.prototype,"btnAuto",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(tt.prototype,"btnStop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(tt.prototype,"btnBet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(tt.prototype,"autoText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(tt.prototype,"scoreText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(tt.prototype,"betText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(tt.prototype,"winText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(tt.prototype,"turboTip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(tt.prototype,"panelParentNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(tt.prototype,"scroll",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(tt.prototype,"otherNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(tt.prototype,"entryMiniAniNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=e(tt.prototype,"mainBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(tt.prototype,"startRefresh",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(tt.prototype,"turntableBg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(tt.prototype,"laserNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(tt.prototype,"laserCenterNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(tt.prototype,"laserMultiple",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(tt.prototype,"decorateNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(tt.prototype,"bottomBg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(tt.prototype,"ball",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(tt.prototype,"effectBlack",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(tt.prototype,"turboEffect",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(tt.prototype,"btnStartEffect",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(tt.prototype,"dragonBallEffect",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(tt.prototype,"ballEffectBg",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(tt.prototype,"ballBoomEffect",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(tt.prototype,"effectParent",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(tt.prototype,"effectStart",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(tt.prototype,"tailPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=tt))||$));n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonNoticeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonUtils.ts","./AudioMgr.ts","./ModuleDef.ts","./LanguageData.ts"],(function(e){var t,n,i,o,r,s,a,c,l,u,g,p,f,h,m,b,d,w,_,L,y,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.Sprite,l=e.RichText,u=e.UITransform,g=e.Node,p=e.Label,f=e.SpriteFrame,h=e.ParticleSystem,m=e.tween,b=e.Vec3,d=e.macro,w=e.Component},function(e){_=e.SlotDragonUtils},function(e){L=e.AudioMgr},function(e){y=e.ModuleDef},function(e){S=e.LanguageData}],execute:function(){var z,E,N,T,D,F,v,C,x,B,I,M,O,P,R,k,A,J,U,V,W,G,X,j;s._RF.push({},"3ede0Fy7SVJJJ5/WGXX+xcB","SlotDragonNoticeManager",void 0);var H=a.ccclass,Z=a.property,q=["slotDragon_tip1","slotDragon_tip2"];e("SlotDragonNoticeManager",(z=H("SlotDragonNoticeManager"),E=Z(c),N=Z(l),T=Z(u),D=Z(g),F=Z(c),v=Z(p),C=Z([f]),x=Z([f]),B=Z([g]),I=Z([g]),z(((j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"noticeBg",P,o(t)),i(t,"msgLab",R,o(t)),i(t,"maskTrans",k,o(t)),i(t,"scoreNode",A,o(t)),i(t,"winSpr",J,o(t)),i(t,"winScoreLab",U,o(t)),i(t,"winFrames",V,o(t)),i(t,"winTextFrames",W,o(t)),i(t,"bigPrizeEffectList",G,o(t)),i(t,"prizeEffectList",X,o(t)),t._noticeIndex=1,t._msgTween=null,t._miniWinScore=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){t._instance?this.node.destroy():(t._instance=this,this.showNotice())},s.onDestroy=function(){t._instance=null},s.balanceScore=function(e,t,n){if(void 0===n&&(n=null),0!==t&&0!==e){this.scoreNode.active=!0,this.msgLab.node.active=!1,L.inst.playOneShot("audio/AC_sound_8004_dragon_hoodle_score_collect",1,y.SLOTS_LOONG);var i=t/e;i>10?i<=100?(this.bigPrizeEffectList[1].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()})),this.prizeEffectList[1].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()})),this.noticeBg.spriteFrame=this.winFrames[1]):(this.bigPrizeEffectList[2].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()})),this.prizeEffectList[2].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()})),this.noticeBg.spriteFrame=this.winFrames[2]):(this.noticeBg.spriteFrame=this.winFrames[0],this.bigPrizeEffectList[0].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()})),this.prizeEffectList[0].children.forEach((function(e){e.getComponent(h).stop(),e.getComponent(h).play()}))),i>=5?_.instance.IncreaseNumber(this.winScoreLab,0,t,{prefix:"win ",timer:1}).start():this.winScoreLab.string="win "+t,m(this.node).to(.2,{scale:new b(1.2,1.2,1.2)}).delay(.1).to(.2,{scale:b.ONE}).call((function(){n&&n()})).union().start()}else n&&n()},s.resetNoticeBg=function(){this.noticeBg.spriteFrame=this.winFrames[0]},s.hideScoreNode=function(){this._miniWinScore=0,this.scoreNode.active=!1,this.msgLab.node.active=!0,this.resetNoticeBg()},s.showNotice=function(){this.schedule(this.setNotice,8,d.REPEAT_FOREVER,.1)},s.setNotice=function(){var e=this;this._msgTween&&(this._msgTween.stop(),this._msgTween=null),this.msgLab.string=S.getLangByID(q[this._noticeIndex]),this.scheduleOnce((function(){var t=e.msgLab.getComponent(u).contentSize,n=e.maskTrans.contentSize.width;t.width>n?(e.msgLab.node.position=new b((t.width-n)/2),e.scheduleOnce((function(){m(e.msgLab.node).removeSelf(),e._msgTween=m(e.msgLab.node).to(7,{position:new b(-t.width,0)}),e._msgTween.start()}),1)):e.msgLab.node.position=b.ZERO}),1/60),this._noticeIndex++,this._noticeIndex>=q.length&&(this._noticeIndex=0)},s.stopNotice=function(){this._msgTween&&(this._msgTween.stop(),this._msgTween=null)},r(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(w))._instance=null,P=t((O=j).prototype,"noticeBg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(O.prototype,"msgLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(O.prototype,"maskTrans",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(O.prototype,"scoreNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"winSpr",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(O.prototype,"winScoreLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"winFrames",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(O.prototype,"winTextFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(O.prototype,"bigPrizeEffectList",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(O.prototype,"prizeEffectList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=O))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonPrizeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonGameManager.ts","./SlotDragonGameElement.ts","./SlotDragonAnimation.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(e){var n,t,i,o,r,l,a,s,c,h,u,d,g,f,p,m,v,C,S,b,_,N;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Vec3,c=e.Node,h=e.Prefab,u=e.Label,d=e.Font,g=e.instantiate,f=e.macro,p=e.find,m=e.Color,v=e.Component},function(e){C=e.SlotDragonGameManager},function(e){S=e.SlotDragonGameElement},function(e){b=e.SlotDragonAnimation},function(e){_=e.AudioMgr},function(e){N=e.ModuleDef}],execute:function(){var w,z,E,F,L,y,D,O,x,A,I,P,H,M,X,k,T,G,R,W,B,V,j,q;l._RF.push({},"8ed95Iuv21O85qYrS1mFN+J","SlotDragonPrizeManager",void 0);var J=a.ccclass,Y=a.property,K=[4,4,4],Q=[230,230,230],U=[new s(0,712),new s(0,477),new s(0,246),new s(0,26)];e("SlotDragonPrizeManager",(w=J("SlotDragonPrizeManager"),z=Y(c),E=Y(c),F=Y(c),L=Y(c),y=Y(c),D=Y(c),O=Y(h),x=Y(c),A=Y(u),I=Y([d]),w(((q=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,i(n,"maskNode",M,o(n)),i(n,"letfLightNode",X,o(n)),i(n,"rightLightNode",k,o(n)),i(n,"lineNode",T,o(n)),i(n,"endContent",G,o(n)),i(n,"prizeContent",R,o(n)),i(n,"elementItem",W,o(n)),i(n,"lineScoreNode",B,o(n)),i(n,"lineScoreText",V,o(n)),i(n,"lineFont",j,o(n)),n._lineIndex=0,n._lines=[],n._scoreElements=[],n}t(n,e);var l=n.prototype;return l.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.gameSetup())},l.onDestroy=function(){n._instance=null},l.gameSetup=function(){for(var e=0;e<this.endContent.children.length;e++){for(var n=0;n<K[e];n++){var t=g(this.elementItem);t.parent=this.endContent.children[e],t.position=new s(0,-112-Q[e]*n),t.name=n.toString()}for(var i=0;i<K[e];i++){var o=g(this.elementItem);o.parent=this.prizeContent.children[e],o.position=new s(0,-112+Q[e]+Q[e]*i),o.name=i.toString(),o.active=!1}}this.endContent.active=!1,this.prizeContent.active=!1,this.showPrize(C.instance.getFrameIds(),0,0)},l.showPrize=function(e,n,t,i,o){var r;void 0===i&&(i=null),void 0===o&&(o=null),this._lines=null==(r=i)?void 0:r.lines,this.endContent.active=!0;for(var l=0;l<e.length;l++)for(var a=0;a<e[l].length;a++){var s=this.endContent.children[l].children[a].getComponent(S);s.initElement(e[l][a].name,e[l][a].text),s.node.active=!0,s.setSpine("",!0,t);var c=this.prizeContent.children[l].children[a].getComponent(S);c.initElement(e[l][a].name,e[l][a].text),c.showSpine(e[l][a].name)}1===n?(b.instance.playAni(b.instance.DragonAniName.celebrate,!1),this.linePrize(),o&&o()):2===n||o&&o()},l.linePrize=function(){this.prizeContent.active=!0,this.closeAllLine(),this._lineIndex=this._lines.length,this.maskNode.active=!0,this._lines.sort((function(e,n){return e.lineNo-n.lineNo})),this.schedule(this.carouselLine.bind(this),1.5,f.REPEAT_FOREVER,.1)},l.carouselLine=function(){if(this.resetPrizeElement(),this.closeAllLine(),1===this._lines.length&&(this._lineIndex=0),this.showEndContent(),this._lineIndex===this._lines.length){C.instance.isDialog||_.inst.playOneShot("audio/AC_sound_8004_dragon_connect_multiple",1,N.SLOTS_LOONG),this.lineScoreNode.active=!1;for(var e=0;e<this._lines.length;e++){var n=this._lines[e];p(n.lineNo.toString(),this.lineNode).active=!0;var t=p(n.lineNo.toString(),this.letfLightNode).getComponent(u),i=p(n.lineNo.toString(),this.rightLightNode).getComponent(u);t.color=(new m).fromHEX("#FFEF39"),i.color=(new m).fromHEX("#FFEF39"),t.enableOutline=!0,i.enableOutline=!0,t.outlineColor=(new m).fromHEX("#743F03"),i.outlineColor=(new m).fromHEX("#743F03"),t.outlineWidth=2,i.outlineWidth=2;for(var o=0;o<n.line.length;o++){var r=this.prizeContent.children[o].children[n.line[o]];this.endContent.children[o].children[n.line[o]].active=!1,r.active=!0,r.position=new s(0,-112-Q[o]*n.line[o]),r.getComponent(S).prizeEffect(),r.getComponent(S).setSpine("1",!1)}}}else{C.instance.isDialog||_.inst.playOneShot("audio/AC_sound_8004_dragon_connect_single",1,N.SLOTS_LOONG);var l=this._lines[this._lineIndex];p(l.lineNo.toString(),this.lineNode).active=!0;var a=p(l.lineNo.toString(),this.letfLightNode).getComponent(u),c=p(l.lineNo.toString(),this.rightLightNode).getComponent(u);a.color=(new m).fromHEX("#FFEF39"),c.color=(new m).fromHEX("#FFEF39"),a.enableOutline=!0,c.enableOutline=!0,a.outlineColor=(new m).fromHEX("#743F03"),c.outlineColor=(new m).fromHEX("#743F03"),a.outlineWidth=2,c.outlineWidth=2,this.lineScoreNode.active=!0,this.lineScoreText.string=l.lineScore+"",this.lineScoreNode.position=U[l.line[1]];for(var h=0;h<l.line.length;h++){var d=this.prizeContent.children[h].children[l.line[h]];this.endContent.children[h].children[l.line[h]].active=!1,d.active=!0,d.position=new s(0,-112-Q[h]*l.line[h]),d.getComponent(S).prizeEffect(),d.getComponent(S).setSpine("1",!1)}}this._lineIndex++,this._lineIndex>this._lines.length&&(this._lineIndex=0)},l.showElementSpine=function(e,n,t){var i=this.endContent.children[n].children[t].getComponent(S);i.node.active=!0,i.node.position=new s(0,-112-Q[n]*t),i.initElement(e.name,e.text,"3")},l.showEndContent=function(e){void 0===e&&(e=!0);for(var n=0;n<this.endContent.children.length;n++)for(var t=0;t<K[n];t++){var i=this.endContent.children[n].children[t];i.getComponent(S).setSpine("",!1),i.active=e}},l.resetPrizeElement=function(){for(var e=0;e<this.prizeContent.children.length;e++)for(var n=0;n<K[e];n++){var t=this.prizeContent.children[e].children[n];t.position=new s(0,-112+Q[e]+Q[e]*n),t.active=!1}},l.closeAllLine=function(){for(var e=0;e<this.lineNode.children.length;e++)this.lineNode.children[e].active=!1;for(var n=0;n<this.letfLightNode.children.length;n++){var t=this.letfLightNode.children[n].getComponent(u),i=this.rightLightNode.children[n].getComponent(u);t.color=(new m).fromHEX("#7B6F5F"),i.color=(new m).fromHEX("#7B6F5F"),t.enableOutline=!1,i.enableOutline=!1}},l.hideEndContet=function(){this.resetPrizeElement(),this.closeAllLine(),this.lineScoreNode.active=!1,this.endContent.active=!1,this.prizeContent.active=!1,this.maskNode.active=!1,this.unscheduleAllCallbacks()},r(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(v))._instance=null,M=n((H=q).prototype,"maskNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(H.prototype,"letfLightNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(H.prototype,"rightLightNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(H.prototype,"lineNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(H.prototype,"endContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(H.prototype,"prizeContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(H.prototype,"elementItem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(H.prototype,"lineScoreNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(H.prototype,"lineScoreText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(H.prototype,"lineFont",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=H))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonSceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDragonGameManager.ts","./SlotDragonUtils.ts"],(function(e){var t,n,i,a,o,r,l,s,c,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.UITransform,c=e.Component},function(e){u=e.SlotDragonGameManager},function(e){h=e.SlotDragonUtils}],execute:function(){var f,p,g,S,m,d;r._RF.push({},"db255q5JplA84oxID2ik+Xs","SlotDragonSceneManager",void 0);var D=l.ccclass,y=l.property;e("SlotDragonSceneManager",(f=D("SlotDragonSceneManager"),p=y({type:s,tooltip:"游戏的主节点"}),f(((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"gameMainTran",m,a(t)),t.betScore=[],t.elementOdd=[],t.lineCount=0,t.fakeMiniRate=0,t.pointScores=[],t.wheel=[],t.wheelData=[],t.miniWheelData=[],t.isOpenVideo=!0,t.isFirstEnty=!0,t.multi=[],t._isFirst=!0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t._instance?this.node.destroy():(t._instance=this,this.gameSetup())},r.onDestroy=function(){t._instance=null,h.instance=null},r.gameSetup=function(){},r.startGame=function(){this.initGameScene({betScore:[100,200,300,400,500,600,700,800,900],elementOdd:{101:3,102:5,103:8,104:10,105:25,106:100,201:250},lineCount:10,fakeMiniRate:10,pointScores:[100,300,500,700,900,1100],wheel:[{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]}],multi:[2,5,10,20,30,50,100]})},r.initGameScene=function(e){console.log("---龙--",e),this.betScore=e.betScore,this.elementOdd=e.elementOdd,this.lineCount=e.lineCount,this.fakeMiniRate=e.fakeMiniRate?e.fakeMiniRate:0,this.pointScores=e.pointScores,this.wheel=e.wheel,this.multi=e.multi,this.multi.sort((function(e,t){return e-t})),this.setWheelData(),this._isFirst&&(this._isFirst=!1,u.instance.initUI())},r.reconnect=function(){u.instance.reconnect()},r.setWheelData=function(){for(var e=0;e<this.wheel.length;e++)this.wheelData[e]=this.wheel[e].lineWheel},o(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(c))._instance=null,m=t((S=d).prototype,"gameMainTran",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDragonUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Num.ts"],(function(e){var n,t,r,a,i,o,s,c,u,l,p,h,m;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator,s=e.Vec3,c=e.ParticleSystem,u=e.easing,l=e.tween,p=e.randomRangeInt,h=e.Component},function(e){m=e.Num}],execute:function(){var f,b;i._RF.push({},"7ba04JDLxpAUJ3DpyzFzKSc","SlotDragonUtils",void 0);var d=o.ccclass,g=(o.property,{loong:201,key:101,reel:102,heart:103,pot:104,cup:105,crown:106}),y={1:[0,1,1],2:[1,1,0],3:[0,0,0],4:[1,2,2],5:[2,2,1],6:[1,1,1],7:[2,2,2],8:[3,3,3],9:[2,2,2],10:[2,3,2]};e("SlotDragonUtils",d("SlotDragonUtils")(((b=function(e){function i(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).numberTween=null,n}n(i,e);var o=i.prototype;return o.conver=function(){var e=r(a().mark((function e(n,t){var r,i,o,s,c,u,l,p,h,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={betScore:0,code:200,main:{colums:[],hitType:0,isAllSame:0,lines:[],winScore:0,multi:[]},mini:{winScore:0,multi:0,route:"",routeId:0,routeLength:0,finished:1},winScore:0,free:{winScore:0,multi:0}},!n.isSucc){e.next=30;break}for(r.code=200,r.betScore=t,r.winScore=m.toThousandsBack(n.res.payout),i=n.res.results[0],o=0;o<3;o++)for(r.main.colums.push({elementId:[]}),s=0;s<4;s++)r.main.colums[o].elementId.push(0);c=i.symbols.length-1;case 8:if(!(c>=0)){e.next=15;break}if("null"!==i.symbols[c].id){e.next=11;break}return e.abrupt("continue",12);case 11:r.main.colums[i.symbols[c].coordinate.reel-1].elementId[4-i.symbols[c].coordinate.row]=g[i.symbols[c].id];case 12:c--,e.next=8;break;case 15:if(i.paylines.length>0)for(r.main.hitType=1,u=0;u<i.paylines.length;u++)l=i.paylines[u],p=parseInt(l.id),h=m.toThousandsBack(l.payout),r.main.lines.push({lineNo:p,lineScore:h,line:y[p]});if(i.bigEvents){e.next=21;break}r.mini=null,r.free=null,e.next=28;break;case 21:return r.free=null,f=n.res.results[0],r.mini.winScore=m.toThousandsBack(f.payout),r.mini.multi=f.pinball?f.pinball.multiple:0,e.next=27,this.unzipData(f.pinball&&f.pinball.zipData?f.pinball.zipData:null);case 27:r.mini.route=e.sent;case 28:e.next=31;break;case 30:r.code=500;case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),o.unzipData=function(){var e=r(a().mark((function e(n){var t,r,i,o,s,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new window.JSZip,e.next=4,t.loadAsync(n);case 4:r=e.sent,i=0,o=Object.entries(r.files);case 6:if(!(i<o.length)){e.next=17;break}if((s=o[i])[0],(c=s[1]).dir){e.next=14;break}return e.next=11,c.async("uint8array");case 11:return u=e.sent,l=(new TextDecoder).decode(u),e.abrupt("return",l);case 14:i++,e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("解压 ZIP 文件时出错:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(n){return e.apply(this,arguments)}}(),o.findNodesByComponent=function(e,n,t){var r=this;return void 0===t&&(t=[]),e.getComponent(n)&&t.push(e),e.children.forEach((function(e){return r.findNodesByComponent(e,n,t)})),t},o.setNodesByComponent=function(e,n,t){var r=this;void 0===n&&(n=90),void 0===t&&(t=new s(.75,.75,.75));var a=e.getComponent(c);a&&(a.node.scale=t.clone().multiply(a.node.scale.clone())),e.children.forEach((function(e){return r.setNodesByComponent(e,n,t)}))},o.IncreaseNumber=function(e,n,t,r){r||(r={prefix:"",timer:3,place:2,easing:{easing:u.quintOut},tag:1});var a=r.place?r.place:2,i=r.timer?r.timer:3,o=r.prefix?r.prefix:"",s=r.tag?r.tag:1,c=(r.easing?r.easing:u.quintOut,t-n);if(c<0)return this.ReceduNumber(e,n,t,r);var p=c*Math.pow(10,a);return e.string=o+m.exchangeToThousands(1,n),this.numberTween=l({number:0}).to(i,{number:Math.round(p)},{progress:function(t,r,i,s){return e.string=o+m.exchangeToThousands(1,(n*Math.pow(10,a)+Math.ceil(t+(r-t)*s))/Math.pow(10,a)),(n*Math.pow(10,a)+t+(r-t)*s)/Math.pow(10,a)},easing:u.linear}).call((function(){e.string=o+m.exchangeToThousands(1,t),r.callback&&r.callback()})).tag(s),this.numberTween},o.ReceduNumber=function(e,n,t,r){this.numberTween&&this.numberTween.stop(),r||(r={prefix:"",timer:2,place:2});var a=r.place?r.place:2,i=r.timer?r.timer:2,o=r.prefix?r.prefix:"",s=r.tag?r.tag:2,c=Math.abs(t-n)*Math.pow(10,a);return e.string=o+n,this.numberTween=l({number:0}).to(i,{number:c},{progress:function(t,r,i,s){return e.string=o+(n*Math.pow(10,a)-Math.ceil(t+(r-t)*s))/Math.pow(10,a),(n*Math.pow(10,a)-t+(r-t)*s)/Math.pow(10,a)},easing:u.quintOut}).call((function(){e.string=o+t,r.callback&&r.callback()})).tag(s),this.numberTween},o.getRandomNumberNotInArray=function(e,n,t){for(var r=[],a=e;a<=n;a++)t.includes(a)||r.push(a);return r.length<=0?-1:r[p(0,r.length)]},o.bezierTo=function(e,n,t,r,a,i,o){o=o||Object.create(null);return o.onUpdate=function(n,t){e.worldPosition=function(e,n,t,r){var a=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,i=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,o=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new s(a,i,o)}(t,r,a,i)},l(e).delay(t).to(n,{},o)},o.bezierPostionTo=function(e,n,t,r,a,i,o){o=o||Object.create(null);return o.onUpdate=function(n,t){e.position=function(e,n,t,r){var a=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,i=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,o=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new s(a,i,o)}(t,r,a,i)},l(e).delay(t).to(n,{},o)},t(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i),this._instance},set:function(e){this._instance=e}}]),i}(h))._instance=null,f=b))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotLoongGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./RoomMgr.ts","./SubGameDef.ts","./SubGameMgr.ts","./ModuleDef.ts"],(function(e){var n,t,r,o,s,a,i,u,c,g,l,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,i=e.assetManager},function(e){u=e.GameMgr},function(e){c=e.RoomMgr},function(e){g=e.SubGameDef},function(e){l=e.SubGameMgr},function(e){f=e.ModuleDef}],execute:function(){var m,p;s._RF.push({},"4e5fcf/sCVA3qGFIkLbyPzK","SlotLoongGameMgr",void 0);var d=a.ccclass,_=(a.property,e("SlotLoongGameMgr",d("SlotLoongGameMgr")(((p=function(e){function s(){var n;return(n=e.call(this)||this)._porcessFun=void 0,n._gameType=g.SLOTS_LOONG,n._loadingScene={name:"subgame_loading",bundle:f.BASIC},n._gameScene={name:"game_slots_loong",bundle:f.SLOTS_LOONG},n.initNetMsgHandlers(),n}n(s,e);var a=s.prototype;return a.initNetMsgHandlers=function(){},a.initSoloMode=function(){c.inst.reset(),this.reset(),l.gameMgr=this},a.preLoadRes=function(){var e=r(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._porcessFun=n,n&&n(0),e.next=4,this.preLoadMain();case 4:return e.next=6,this.preLoadLanguage();case 6:return n&&n(1),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),a.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r=i.getBundle(e._gameScene.bundle);r?r.preloadScene(e._gameScene.name,(function(n,t){e._porcessFun&&e._porcessFun(n/t)}),(function(){e._porcessFun(1),n()})):n()}))},a.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},t(s,null,[{key:"inst",get:function(){return this._inst||(this._inst=new s),this._inst}}]),s}(u))._inst=void 0,m=p))||m));l.inst.registerGameMgr(_.inst),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIDGMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIDragonResult.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(t){var i,n,e,o,s,a,l,r,u,c,h,_,d,f,p,A,g,y,b,v,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,u=t.Button,c=t.Widget,h=t.Vec3,_=t.tween,d=t.easing,f=t.Label,p=t.Color,A=t.ParticleSystem,g=t.randomRangeInt,y=t.Component},function(t){b=t.UIDragonResult},function(t){v=t.AudioMgr},function(t){L=t.ModuleDef}],execute:function(){var O,m,P,C,w,S,N,R,G,D,F,I,M,x,E,k;a._RF.push({},"51270pP3KxGAaud1XFsk7YA","UIDGMiniGame",void 0);var j=l.ccclass,z=l.property,T={150:0,10:1,5:2,3:3,20:4,50:5},U=["001","002","003"];t("UIDGMiniGame",(O=j("UIDGMiniGame"),m=z(r),P=z(r),C=z([r]),w=z([r]),S=z(u),N=z([r]),O(((k=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,e(i,"ball",D,o(i)),e(i,"springNode",F,o(i)),e(i,"nailList",I,o(i)),e(i,"fanList",M,o(i)),e(i,"btnFire",x,o(i)),e(i,"floorList",E,o(i)),i._data=null,i._isEnd=!1,i._isFirst=!0,i._lastColloctAudio1={value:""},i._lastColloctAudio2={value:""},i._lastColloctAudio3={value:""},i._lastColloctAudio4={value:""},i._isPlayAudio1=!1,i._isPlayAudio2=!1,i._isPlayAudio3=!1,i._isPlayAudio4=!1,i._jsonAsset=null,i._startRun=!1,i._index=0,i}n(i,t);var a=i.prototype;return a.onLoad=function(){if(i._instance)this.node.destroy();else{i._instance=this;var t=this.node.getComponent(c);t.left=0,t.right=0,this.node.position=h.ZERO,this.node.active=!1}},a.onDestroy=function(){i._instance=null},a.initMiniGame=function(t){var i=this;v.inst.play("audio/AC_sound_8004_music_interface_002",1,L.SLOTS_LOONG),this.node.active=!0,this._isEnd=!1,this._data=t,this._jsonAsset=JSON.parse(t.route),this.btnFire.interactable=!0,this.btnFire.node.active=!1,this._isPlayAudio1=!1,this._isPlayAudio2=!1,this._isPlayAudio3=!1,this._isPlayAudio4=!1,this.scheduleOnce((function(){i.onBtnRun()}),1)},a.onBtnRun=function(){this.startRun(),this.btnFire.interactable=!1},a.startRun=function(){var t=this;_(this.springNode).to(.1,{scale:new h(1,.6,1)}).delay(.1).to(1,{scale:h.ONE},{easing:d.elasticOut}).start(),_(this.ball).to(.1,{position:new h(395,-387)}).delay(.1).to(.05,{position:new h(395,-328)}).call((function(){v.inst.playOneShot("audio/AC_sound_8004_dragon_hoodle_catapult",1,L.SLOTS_LOONG),t.run()})).start()},a.run=function(){this._index=0,this._startRun=!0},a.update=function(t){var i=this;if(this._startRun){this.ball.position=this._jsonAsset.data[this._index].p,this.ball.rotation=this._jsonAsset.data[this._index].r;for(var n=0;n<this.fanList.length;n++)this.fanList[n].rotation=this._jsonAsset.fanList[this._index];switch(this._jsonAsset.data[this._index].c){case 2:this._isPlayAudio4||this.getAudioName(this._lastColloctAudio4,"AC_sound_8004_dragon_hoodle_crash_springback_004_").then((function(t){i._isPlayAudio4=!0,i.scheduleOnce((function(){i._isPlayAudio4=!1}),.2)})).catch((function(t){}));for(var e=0;e<this.nailList.length;e++){var o=this.nailList[e].position.clone(),s=this.ball.position.clone();if(this.isPointInCircle(s,o,90)){_(this.nailList[e]).to(.1,{scale:new h(1.2,1.2,1.2)}).delay(.1).to(.5,{scale:h.ONE},{easing:d.elasticOut}).start();break}}break;case 16:if(!this._isEnd){v.inst.playOneShot("audio/AC_sound_8004_dragon_hoodle_score_light",1,L.SLOTS_LOONG),this._isEnd=!0;var a=this.floorList[T[this._data.multi]];a.active=!0,a.parent.getComponent(f).color=p.YELLOW,a.children.forEach((function(t){var i=t.getComponent(A);i.stop(),i.play()}))}break;case 64:this._isPlayAudio1||this.getAudioName(this._lastColloctAudio1,"AC_sound_8004_dragon_hoodle_crash_001_").then((function(t){i._isPlayAudio1=!0,i.scheduleOnce((function(){i._isPlayAudio1=!1}),.2)})).catch((function(t){}));break;case 128:this._isPlayAudio2||this.getAudioName(this._lastColloctAudio2,"AC_sound_8004_dragon_hoodle_crash_002_").then((function(t){i._isPlayAudio2=!0,i.scheduleOnce((function(){i._isPlayAudio2=!1}),.2)})).catch((function(t){}));break;case 256:this._isPlayAudio3||this.getAudioName(this._lastColloctAudio3,"AC_sound_8004_dragon_hoodle_crash_fan blade_003_").then((function(t){i._isPlayAudio3=!0,i.scheduleOnce((function(){i._isPlayAudio3=!1}),.2)})).catch((function(t){}))}this._index++,this._index===this._jsonAsset.data.length&&(this._startRun=!1,console.log("结束"),this.scheduleOnce((function(){b.instance.showMiniResult(i._data.winScore)}),1))}},a.getAudioName=function(t,i){return new Promise((function(n,e){for(var o=g(0,U.length),s=0;t.value===U[o];)if(o=g(0,U.length),++s>=5)return t.value=U[o],v.inst.playOneShot("audio/"+i+U[o],1,L.SLOTS_LOONG),e(U[o]);t.value=U[o];var a=i+U[o];return v.inst.playOneShot("audio/"+a,1,L.SLOTS_LOONG),n(a)}))},a.isPointInCircle=function(t,i,n){var e=new h;return h.subtract(e,t,i),!(e.length()>n)},a.hide=function(){for(var t=0;t<this.floorList.length;t++)this.floorList[t].active=!1,this.floorList[t].parent.getComponent(f).color=p.WHITE;this._startRun=!1,this.ball.position=new h(395,-328),this.node.active=!1,this._isFirst&&(this._isFirst=!1)},s(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(y))._instance=null,D=i((G=k).prototype,"ball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(G.prototype,"springNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(G.prototype,"nailList",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(G.prototype,"fanList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(G.prototype,"btnFire",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(G.prototype,"floorList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=G))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIDGMiniGameTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIDGMiniGame.ts","./SlotDragonGameManager.ts","./SlotDragonAnimation.ts","./ModuleDef.ts","./AudioMgr.ts"],(function(i){var e,n,t,r,a,o,s,l,u,c,p,h,b,f,g,d,m,S;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,r=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,s=i._decorator,l=i.Node,u=i.Sprite,c=i.SpriteFrame,p=i.Widget,h=i.Vec3,b=i.Component},function(i){f=i.UIDGMiniGame},function(i){g=i.SlotDragonGameManager},function(i){d=i.SlotDragonAnimation},function(i){m=i.ModuleDef},function(i){S=i.AudioMgr}],execute:function(){var _,D,v,F,y,M,G,w,A,O,z,k,C,I,T,L,U,B,N,x;o._RF.push({},"5802aCs9jxNDYAH9HixI7pN","UIDGMiniGameTip",void 0);var H=s.ccclass,R=s.property;i("UIDGMiniGameTip",(_=H("UIDGMiniGameTip"),D=R(l),v=R(l),F=R(u),y=R([c]),M=R(u),G=R([c]),w=R(l),A=R(l),_(((x=function(i){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,t(e,"btnFreeSure",k,r(e)),t(e,"btnMiniSure",C,r(e)),t(e,"tipSpr",I,r(e)),t(e,"tipFrames",T,r(e)),t(e,"bgSpr",L,r(e)),t(e,"bgFrames",U,r(e)),t(e,"miniDragon",B,r(e)),t(e,"freeDragon",N,r(e)),e._data=null,e._callback=null,e}n(e,i);var o=e.prototype;return o.onLoad=function(){if(e._instance)this.node.destroy();else{e._instance=this;var i=this.node.getComponent(p);i.left=0,i.right=0,this.node.position=h.ZERO,this.node.active=!1}},o.onDestroy=function(){e._instance=null},o.showFreeTip=function(i){var e=this;g.instance.stopAllAudio(),S.inst.playOneShot("audio/AC_sound_8004_dragon_hoodle_window_appear",1,m.SLOTS_LOONG),g.instance.isDialog=!0,this._callback=i,this.tipSpr.spriteFrame=this.tipFrames[1],this.bgSpr.spriteFrame=this.bgFrames[1],this.btnFreeSure.active=!0,this.btnMiniSure.active=!1,this.miniDragon.active=!1,this.freeDragon.active=!0,this.node.active=!0,g.instance.isAuto&&this.scheduleOnce((function(){e.onBtnSureFree()}),2)},o.show=function(i){var e=this;g.instance.stopAllAudio(),g.instance.isDialog=!0,S.inst.playOneShot("audio/AC_sound_8004_dragon_hoodle_window_appear",1,m.SLOTS_LOONG),this.tipSpr.spriteFrame=this.tipFrames[0],this.bgSpr.spriteFrame=this.bgFrames[0],this._data=i,this.btnFreeSure.active=!1,this.btnMiniSure.active=!0,this.miniDragon.active=!0,this.freeDragon.active=!1,this.node.active=!0,g.instance.isAuto&&this.scheduleOnce((function(){e.onBtnSure()}),2)},o.onBtnSureFree=function(){this._callback&&this._callback(),this.unscheduleAllCallbacks(),g.instance.isDialog=!1,this.node.active=!1},o.onBtnSure=function(){f.instance.initMiniGame(this._data),d.instance.isShow(!1),this.unscheduleAllCallbacks(),g.instance.isDialog=!1,this.node.active=!1},a(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(b))._instance=null,k=e((z=x).prototype,"btnFreeSure",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"btnMiniSure",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(z.prototype,"tipSpr",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(z.prototype,"tipFrames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(z.prototype,"bgSpr",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(z.prototype,"bgFrames",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(z.prototype,"miniDragon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(z.prototype,"freeDragon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=z))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIDragonResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIDragonResultItem.ts","./UIDGMiniGame.ts","./SlotDragonGameManager.ts","./SlotDragonAnimation.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(t){var i,e,n,s,o,l,a,r,c,h,u,_,f,b,d,p,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,c=t.Widget,h=t.Vec3,u=t.Component},function(t){_=t.UIDragonResultItem},function(t){f=t.UIDGMiniGame},function(t){b=t.SlotDragonGameManager},function(t){d=t.SlotDragonAnimation},function(t){p=t.AudioMgr},function(t){g=t.ModuleDef}],execute:function(){var m,W,v,C,S,D,y,w,B,O,A,N,R,T,k,L;l._RF.push({},"ff3e0lnaPBOII79WL2zjIcl","UIDragonResult",void 0);var F=a.ccclass,I=a.property;t("UIDragonResult",(m=F("UIDragonResult"),W=I(_),v=I(_),C=I(_),S=I(_),D=I(r),y=I(r),m(((L=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=t.call.apply(t,[this].concat(o))||this,n(i,"bitWin",O,s(i)),n(i,"mageWin",A,s(i)),n(i,"superWin",N,s(i)),n(i,"totalWin",R,s(i)),n(i,"btnClose",T,s(i)),n(i,"btnFreeClose",k,s(i)),i._winScore=0,i._level=20,i._betScore=0,i._isFirst=!0,i.isNext=!1,i.isBest=!1,i._callback=null,i._mult=0,i}e(i,t);var l=i.prototype;return l.onLoad=function(){if(i._instance)this.node.destroy();else{i._instance=this;var t=this.node.getComponent(c);t.left=0,t.right=0,this.node.position=h.ZERO,this.node.active=!1}},l.onDestroy=function(){i._instance=null},l.showResult=function(t,i,e){if(this._mult=t/i,this._callback=e,this._level=20,this.isNext=!1,this.isBest=!1,this._winScore=t||0,this._betScore=i,!this._mult||this._mult<10)return this._callback&&(this._callback(),this._callback=null);b.instance.stopAllAudio(),b.instance.isDialog=!0,p.inst.play("audio/AC_sound_8004_music_interface_003",1,g.SLOTS_LOONG),this.node.on(r.EventType.TOUCH_END,this.onBtnNext,this),this.node.active=!0,this._mult>=10&&this.bitWin.show(i,t,0)},l.showMiniResult=function(t){b.instance.stopAllAudio(),b.instance.isDialog=!0,p.inst.play("audio/AC_sound_8004_music_interface_003",1,g.SLOTS_LOONG),this.node.active=!0,b.instance.isAuto||this.node.on(r.EventType.TOUCH_END,this.onBtnResult,this),this._winScore=t,this.totalWin.showMini(t)},l.showFreeResult=function(t,i){b.instance.stopAllAudio(),b.instance.isDialog=!0,p.inst.play("audio/AC_sound_8004_music_interface_003",1,g.SLOTS_LOONG),this.node.active=!0,this._callback=i,b.instance.isAuto||this.node.on(r.EventType.TOUCH_END,this.onBtnFreeResult,this),this._winScore=t,this.totalWin.showFree(t)},l.showNext=function(t,i,e){this.isNext=!1,20===t?(this._level=100,this.bitWin.hide(),this.mageWin.show2(i,e,20*i)):100===t&&(this._level=-1,this.mageWin.hide(),this.superWin.show2(i,e,100*i))},l.onBtnResult=function(){this.offListener(),this.totalWin.setWinMiniScore(),this.btnClose.active=!0,this.btnFreeClose.active=!1},l.onBtnFreeResult=function(){this.offListener(),this.totalWin.setWinMiniScore(),this.btnClose.active=!1,this.btnFreeClose.active=!0},l.onBtnNext=function(){var t=this;this.isBest?this.onBtnClose():(this.bitWin.unAllCallbacks(),this.mageWin.unAllCallbacks(),this.superWin.unAllCallbacks(),this.bitWin.hide(),this.mageWin.hide(),this.superWin.hide(),this._mult>=10&&this._mult<=20?this.bitWin.setWinScore(this._winScore):this._mult>20&&this._mult<=100?this.mageWin.setWinScore(this._winScore):this.superWin.setWinScore(this._winScore),this.isBest=!0,this.scheduleOnce((function(){t.onBtnClose()}),2))},l.toNext=function(){this.showNext(this._level,this._betScore,this._winScore)},l.onDisable=function(){this.hide()},l.hide=function(){this.node.off(r.EventType.TOUCH_END,this.onBtnNext,this),this.offListener(),this.unscheduleAllCallbacks(),this.onBtnClose(),this.isNext=!1,this.isBest=!1,this.bitWin.hide(),this.mageWin.hide(),this.superWin.hide(),this.totalWin.hide(),this.btnClose.active=!1,this.btnFreeClose.active=!1,this._callback&&(this._callback(),this._callback=null),b.instance.isDialog=!1,this._isFirst?this._isFirst=!1:p.inst.play("audio/AC_sound_8004_music_interface_001",1,g.SLOTS_LOONG)},l.offListener=function(){this.node.off(r.EventType.TOUCH_END,this.onBtnResult,this),this.node.off(r.EventType.TOUCH_END,this.onBtnFreeResult,this)},l.onBtnClose=function(){this.node.active=!1},l.onBtnBack=function(){d.instance.isShow(),f.instance.hide(),b.instance.gameOver(),this.node.active=!1},o(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(u))._instance=null,O=i((B=L).prototype,"bitWin",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(B.prototype,"mageWin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(B.prototype,"superWin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(B.prototype,"totalWin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(B.prototype,"btnClose",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(B.prototype,"btnFreeClose",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIDragonResultItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIDragonResult.ts","./SlotDragonUtils.ts","./SlotDragonGameManager.ts","./AudioMgr.ts","./ModuleDef.ts","./Num.ts"],(function(t){var e,n,i,o,s,a,l,c,r,u,h,_,d,p,f,w,L,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.Label,c=t.Node,r=t.tween,u=t.UIOpacity,h=t.Vec3,_=t.Component},function(t){d=t.UIDragonResult},function(t){p=t.SlotDragonUtils},function(t){f=t.SlotDragonGameManager},function(t){w=t.AudioMgr},function(t){L=t.ModuleDef},function(t){b=t.Num}],execute:function(){var g,S,O,v,C,m,N,y;s._RF.push({},"141c3TZ3yRDwbCi7VebJVay","UIDragonResultItem",void 0);var A=a.ccclass,I=a.property;t("UIDragonResultItem",(g=A("UIDragonResultItem"),S=I(l),O=I(c),g((m=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"winLab",m,o(e)),i(e,"effectNode",N,o(e)),i(e,"panelLevel",y,o(e)),e._tw=null,e._betScore=0,e._winScore=0,e._collectId=-1,e}n(e,t);var s=e.prototype;return s.showMini=function(t){var e=this;this._winScore=t,this.node.active=!0,this.winLab.string="0.00",r(this.node.getComponent(u)).to(.3,{opacity:255}).call((function(){e._tw=p.instance.IncreaseNumber(e.winLab,0,t,{timer:2,callback:function(){e.stopCollectAudio(),f.instance.isAuto?e.scheduleOnce((function(){d.instance.onBtnBack()}),1):(d.instance.btnClose.active=!0,d.instance.offListener())}}),w.inst.playOneShot("audio/AC_sound_8004_dragon_bigwin_003",1,L.SLOTS_LOONG),w.inst.playOneShot("audio/AC_sound_8004_dragon_number_collect",1,L.SLOTS_LOONG).then((function(t){return e._collectId=t})),e._tw.start()})).start(),r(this.node).to(.3,{scale:h.ONE}).start()},s.showFree=function(t){var e=this;this._winScore=t,this.node.active=!0,this.winLab.string="0.00",r(this.node.getComponent(u)).to(.3,{opacity:255}).call((function(){e._tw=p.instance.IncreaseNumber(e.winLab,0,t,{timer:2,callback:function(){e.stopCollectAudio(),f.instance.isAuto?e.scheduleOnce((function(){d.instance.onBtnClose()}),1):(d.instance.btnFreeClose.active=!0,d.instance.offListener())}}),w.inst.playOneShot("audio/AC_sound_8004_dragon_bigwin_003",1,L.SLOTS_LOONG),w.inst.playOneShot("audio/AC_sound_8004_dragon_number_collect",1,L.SLOTS_LOONG).then((function(t){return e._collectId=t})),e._tw.start()})).start(),r(this.node).to(.3,{scale:h.ONE}).start()},s.show=function(t,e,n){var i=this;this._betScore=t,this._winScore=e,this.node.active=!0;var o=0;20===this.panelLevel||100===this.panelLevel?(o=t*this.panelLevel,o=e>=o?o:e):-1===this.panelLevel&&(o=e),this.winLab.string=b.exchangeToThousands(1,n),20===this.panelLevel?(n=0,o=t*this.panelLevel,o=e>=o?o:e):100===this.panelLevel?(n=20*t,o=t*this.panelLevel,o=e>=o?o:e):(n=100*t,o=e);var s=function(){i.stopCollectAudio(),e>o?d.instance.showNext(i.panelLevel,t,e):(d.instance.isBest=!0,i.scheduleOnce((function(){d.instance.onBtnClose()}),2)),d.instance.isNext=!0};this.node.getComponent(u).opacity=0,this.node.scale=new h(1,0,1),r(this.node.getComponent(u)).to(.3,{opacity:255}).call((function(){i._tw=p.instance.IncreaseNumber(i.winLab,n,o,{timer:2.6,callback:s.bind(i)}),w.inst.playOneShot("audio/AC_sound_8004_dragon_bigwin_001",1,L.SLOTS_LOONG),i._tw.start()})).start(),r(this.node).to(.3,{scale:h.ONE}).start()},s.show2=function(t,e,n){var i=this;this._betScore=t,this._winScore=e,this.node.active=!0;var o=0;20===this.panelLevel?(o=t*this.panelLevel,o=e>=o?o:e):100===this.panelLevel?(w.inst.playOneShot("audio/AC_sound_8004_dragon_bigwin_002",1,L.SLOTS_LOONG),o=t*this.panelLevel,o=e>=o?o:e):-1===this.panelLevel&&(w.inst.playOneShot("audio/AC_sound_8004_dragon_bigwin_003",1,L.SLOTS_LOONG),o=e),this.winLab.string=n+"",20===this.panelLevel||100===this.panelLevel?(o=t*this.panelLevel,o=e>=o?o:e):o=e;this.effectNode.getComponent(u).opacity=0,this.effectNode.scale=new h(1,0,1),r(this.effectNode.getComponent(u)).to(.3,{opacity:255}).start(),r(this.effectNode).to(.3,{scale:h.ONE}).start(),w.inst.playOneShot("audio/AC_sound_8004_dragon_number_collect",1,L.SLOTS_LOONG).then((function(t){return i._collectId=t})),this._tw=p.instance.IncreaseNumber(this.winLab,n,o,{timer:2.1,callback:function(){i.stopCollectAudio(),e>o?d.instance.showNext(i.panelLevel,t,e):(d.instance.isBest=!0,i.scheduleOnce((function(){d.instance.onBtnClose()}),2)),d.instance.isNext=!0}.bind(this)}),this._tw.start()},s.setWinScore=function(t){this.node.active=!0,this.winLab.string=t+""},s.setWinMiniScore=function(){this._tw&&(this._tw.stop(),this._tw=null,this.stopCollectAudio()),this.winLab.string=this._winScore+""},s.unAllCallbacks=function(){this.unscheduleAllCallbacks();var t=this._betScore*this.panelLevel;t=this._winScore>=t?t:this._winScore,-1===this.panelLevel&&(t=this._winScore),this.winLab.string=t+"",this._winScore<=t&&this.scheduleOnce((function(){d.instance.onBtnClose()}),2),this._tw&&(this._tw.stop(),this._tw=null,this.stopCollectAudio())},s.hide=function(){this.unscheduleAllCallbacks(),this._tw&&(this._tw.stop(),this._tw=null,this.stopCollectAudio()),this.node.active=!1},s.stopCollectAudio=function(){-1!==this._collectId&&(w.inst.stopOneShot(this._collectId,"AC_sound_8004_dragon_number_collect",L.SLOTS_LOONG),this._collectId=-1)},e}(_)).prototype,"winLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"effectNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(C.prototype,"panelLevel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=C))||v));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_loong', 'chunks:///_virtual/module_slots_loong'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});