System.register("chunks:///_virtual/GameConst3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.Enum,r=e.Component}],execute:function(){e("SlotUnicornData",void 0),n._RF.push({},"9b99d1xliVE8Kt7JfJT3tpV","GameConst",void 0);var c,s=o.ccclass;o.property;!function(e,n,o,c){var i=function(e){return e[e.start=0]="start",e[e.over=1]="over",e}({});e.GameStatus=i,a(i);var u=s("GameConst")(((c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(r)).MessgeDefine={Request:{start:"startgame",selected:"selected"},Response:{GameScene:"slot_tiger_game_scene"}},c.EventName={clickGameItem:"clickGameItem"},c.cacheName={betScore:"_betScore"},c.isEntryMini=!1,c.Auto={AutoIndex:[10,30,50,100,1e3]},c.autoCountIndex=0,c.leftAutoCount=0,c.reduceLabel=0,c.addLabel=0,c.winLabel=0,o=c))||o;e.GameConst=u}(c||(c=e("SlotUnicornData",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst3.ts","./UIManager2.ts","./UnicornGameItem.ts","./UnicornAniManager.ts","./UnicornPoolManager.ts"],(function(e){var n,t,i,r,o,a,l,c,s,u,f,m,p,g,h,d,b,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Prefab,s=e.UITransform,u=e.input,f=e.Input,m=e.randomRangeInt,p=e.Component},function(e){g=e.SlotUnicornData},function(e){h=e.SlotUnicorn},function(e){d=e.UnicornGameItem},function(e){b=e.UnicornAniManager},function(e){v=e.UnicornPoolManager}],execute:function(){e("SlotUnicorn",void 0),a._RF.push({},"9c72fPEhINF2oY7HWqKccb7","GameManager",void 0);var I,S,y,P,M,U,G,C,W,_,N,O,D,w,z=l.ccclass,E=l.property;S=I||(I=e("SlotUnicorn",{})),D={1:[1,1,1],2:[0,0,0],3:[2,2,2],4:[0,1,2],5:[2,1,0]},y=z("GameManager"),P=E(c),M=E(c),U=E({type:s,tooltip:"游戏的主节点"}),w=y(((O=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"giftPrefab",W,r(n)),i(n,"elementPrefab",_,r(n)),i(n,"gameMainTran",N,r(n)),n.betScore=[],n.elementOdd=[],n.lineCount=0,n.speed=1,n.gameStatus=g.GameStatus.over,n.miniElementId=0,n.isSpeed=!1,n}t(n,e);var a=n.prototype;return a.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.gameSetup())},a.onDestroy=function(){n._instance=null},a.gameSetup=function(){u.on(f.EventType.MOUSE_DOWN,this.touchStart,this),v.instance.createPool({prefab:this.elementPrefab,name:v.PoolsName.element,initCount:20}),v.instance.createPool({prefab:this.giftPrefab,name:v.PoolsName.giftEffect,initCount:20})},a.startGame=function(){this.initGameScene({betScore:[100,200,300,400,500,600,700,800,900],elementOdd:{101:3,102:5,103:8,104:10,105:25,106:100,201:250},lineCount:10,fakeMiniRate:10,pointScores:[100,300,500,700,900,1100],mainWheel:[{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]}],miniWheel:[{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]}]})},a.touchStart=function(){b.instance.resetDowntime()},a.initGameScene=function(e){console.log("-----",e),this.betScore=e.betScore,this.elementOdd=e.elementOdd,this.lineCount=e.lineCount,h.UIManager.instance.initUI()},a.reconnect=function(){h.UIManager.instance.reconnect()},a.getAllLineNo=function(e,n){var t=[];for(var i in D)if(Object.prototype.hasOwnProperty.call(D,i)){for(var r=D[i],o=0,a=0;a<r.length&&e[a][r[a]];a++)o++;3===o&&t.push(Number(i))}return t},a.getLineNo=function(e){return D[e]},a.zeroToList=function(e){for(var n=[],t=0;t<3;t++)n[t]=[];for(var i=0;i<e.length;i++)for(var r=0;r<e[i].elementIds.length;r++)0===e[i].elementIds[r]&&n[i].push(r);return n},a.setImage=function(e,n){if(void 0===n&&(n=-1),0!==n){var t=n;-1===n&&(t=m(101,107))>106&&(t=201);var i=e.getComponent(d);i.setNull(),i.initGameItem(t),i.resetItem()}else e.getComponent(d).setNull()},a.getElementIds=function(){for(var e=[],n=0;n<3;n++){for(var t={elementIds:[]},i=0;i<3;i++){var r=m(101,107);t.elementIds.push(r)}e.push(t)}return e},o(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(p))._instance=null,W=n((C=O).prototype,"giftPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(C.prototype,"elementPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(C.prototype,"gameMainTran",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=C))||G,S.GameManager=w,a._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_unicorn",["./UnicornBaseButton.ts","./UnicornPoolManager.ts","./GameConst3.ts","./UnicornUtils.ts","./GameManager3.ts","./SlotUnicornGameMgr.ts","./SlotUnicornScorll.ts","./SlotsUnicornGameHUD.ts","./SlotsUnicornLobbyScene.ts","./UIManager2.ts","./UnicoreAutoManager.ts","./UnicoreResult.ts","./UnicoreResultItem.ts","./UnicornAniManager.ts","./UnicornCashScroll.ts","./UnicoreDetailsManager.ts","./UnicornEndManager.ts","./UnicornGameItem.ts","./UnicornNoticeView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotsUnicornGameHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./RoomMgr.ts","./UserMgr.ts","./SceneDef.ts"],(function(n){var t,e,r,o,c,a,i,s,u,p;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,c=n._decorator,a=n.Component},function(n){i=n.LanguageData},function(n){s=n.RoomMgr},function(n){u=n.UserMgr},function(n){p=n.SceneDef}],execute:function(){var f;o._RF.push({},"80aa0oF+bRAFpppS5bTVy/9","SlotsUnicornGameHUD",void 0);var l=c.ccclass;c.property,n("SlotsUnicornGameHUD",l("SlotsUnicornGameHUD")(f=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var c=o.prototype;return c.start=function(){u.inst.uid?tgx.UIMgr.inst.closeAll():tgx.SceneUtil.loadScene(p.START)},c.update=function(n){},c.onBtnExitClicked=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:tgx.UIAlert.show(i.getLangByID("exit_game"),!0).onClick(e(r().mark((function n(t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,s.inst.exitRoom();case 3:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o}(a))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsUnicornLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./SubGameMgr.ts","./UserMgr.ts","./UIAnnouncement.ts","./SceneDef.ts"],(function(n){var e,t,r,o,c,i,a,s,u,l,p,f,S,b,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized,c=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,u=n.Node,l=n.Component},function(n){p=n.SubGameDef},function(n){f=n.SubGameMgr},function(n){S=n.UserMgr},function(n){b=n.UIAnnouncement},function(n){y=n.SceneDef}],execute:function(){var m,g,d,h,U;a._RF.push({},"ce45c/18+tDoJaS0q8sLZNy","SlotsUnicornLobbyScene",void 0);var v=s.ccclass,x=s.property;n("SlotsUnicornLobbyScene",(m=v("SlotsUnicornLobbyScene"),g=x(u),m((U=e((h=function(n){function e(){for(var e,t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return e=n.call.apply(n,[this].concat(c))||this,r(e,"announcementPlacer",U,o(e)),e}t(e,n);var a=e.prototype;return a.start=function(){var n=c(i().mark((function n(){var e=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S.inst.uid){n.next=3;break}return tgx.SceneUtil.loadScene(y.START),n.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(b,(function(n){n.setPosition(e.announcementPlacer.position.x,e.announcementPlacer.position.y)}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.update=function(n){},a.onBtnSoloModeClicked=function(){var n=c(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f.inst.CreateRoom(p.SLOTS_UNICORN,!0);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e}(l)).prototype,"announcementPlacer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotUnicornGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./RoomMgr.ts","./SubGameDef.ts","./SubGameMgr.ts","./ModuleDef.ts"],(function(e){var n,t,r,o,i,s,a,u,c,g,l,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,a=e.assetManager},function(e){u=e.GameMgr},function(e){c=e.RoomMgr},function(e){g=e.SubGameDef},function(e){l=e.SubGameMgr},function(e){f=e.ModuleDef}],execute:function(){var m,p;i._RF.push({},"dcb83j8iM1JBp80J7jlUPdM","SlotUnicornGameMgr",void 0);var d=s.ccclass,M=(s.property,e("SlotUnicornGameMgr",d("SlotUnicornGameMgr")(((p=function(e){function i(){var n;return(n=e.call(this)||this)._porcessFun=void 0,n._gameType=g.SLOTS_UNICORN,n._loadingScene={name:"subgame_loading",bundle:f.BASIC},n._gameScene={name:"game_slots_unicorn",bundle:f.SLOTS_UNICORN},n.initNetMsgHandlers(),n}n(i,e);var s=i.prototype;return s.initNetMsgHandlers=function(){},s.initSoloMode=function(){c.inst.reset(),this.reset(),l.gameMgr=this},s.preLoadRes=function(){var e=r(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._porcessFun=n,n&&n(0),e.next=4,this.preLoadMain();case 4:return e.next=6,this.preLoadLanguage();case 6:return n&&n(1),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r=a.getBundle(e._gameScene.bundle);r?r.preloadScene(e._gameScene.name,(function(n,t){e._porcessFun&&e._porcessFun(n/t)}),(function(){e._porcessFun(1),n()})):n()}))},s.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},t(i,null,[{key:"inst",get:function(){return this._inst||(this._inst=new i),this._inst}}]),i}(u))._inst=void 0,m=p))||m));l.inst.registerGameMgr(M.inst),i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotUnicornScorll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UnicornGameItem.ts","./GameManager3.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(e){var n,t,i,a,o,r,s,c,l,d,m,h,g,p,f,u,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Prefab,c=e.instantiate,l=e.Vec3,d=e.tween,m=e.easing,h=e.randomRangeInt,g=e.Component},function(e){p=e.UnicornGameItem},function(e){f=e.SlotUnicorn},function(e){u=e.AudioMgr},function(e){v=e.ModuleDef}],execute:function(){var S,w,I,M,y;o._RF.push({},"93facYbKd5P+JZ1fJwQEk5m","SlotUnicornScorll",void 0);var G=r.ccclass,b=r.property;e("SlotUnicornScorll",(S=G("SlotUnicornScorll"),w=b({type:s,displayName:"滚动的对象"}),S((y=n((M=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"item",y,a(n)),n._startTw=[],n}t(n,e);var o=n.prototype;return o.addIteem=function(){for(var e=1;e<=3;e++){var n=c(this.item);n.parent=this.node,n.name=(e-1).toString(),n.position=new l(0,638+319*e),f.GameManager.instance.setImage(n)}},o.startScroll=function(e,n){var t=this;void 0===e&&(e=new l(0,638)),void 0===n&&(n=319);var i=c(this.item);i.parent=this.node,i.setSiblingIndex(-1),i.position=e,f.GameManager.instance.setImage(i);for(var a=0;a<this.node.children.length;a++){var o=this.node.children[a].position,r=new l;l.add(r,o,new l(0,-n)),d(this.node.children[a]).removeSelf(),d(this.node.children[a]).to(.5*f.GameManager.instance.speed,{position:r},{easing:m.backIn}).call((function(i){d(i).removeSelf(),i.position.y<-600&&(i.position=e,i.setSiblingIndex(-1),f.GameManager.instance.setImage(i));var a=d(i).by(.05*f.GameManager.instance.speed,{position:new l(0,-n)}).call((function(n){d(n).removeSelf(),n.position.y<-600&&(n.position=e,n.setSiblingIndex(-1),f.GameManager.instance.setImage(n))})).union().repeatForever().tag(1200);t._startTw.push(a),a.start()})).start()}},o.endScroll=function(e,n,t,i){var a=this;void 0===i&&(i=null);for(var o=new l(0,638),r=0;r<this._startTw.length;r++)this._startTw[r]&&this._startTw[r].stop(),this.node.children[r]&&(this.node.children[r].position=new l(0,o.y-319*r));this._startTw=[];for(var s=function(o){var r=a.node.children[o].position,s=new l;l.add(s,r,new l(0,-319)),d(a.node.children[o]).removeSelf(),d(a.node.children[o]).to(.05*f.GameManager.instance.speed,{position:s}).call((function(r){d(r).removeSelf(),r.position.y<-600&&(n?(r.position=new l(0,638),r.setSiblingIndex(-1)):r.destroy()),o===a.node.children.length-2&&a.setEndFace(e,t,n,i)})).tag(1200).start()},c=0;c<this.node.children.length;c++)s(c)},o.setEndFace=function(e,n,t,i){var a=this;void 0===i&&(i=null);var o=319;if(t)for(var r=0;r<this.node.children.length;r++){var s=h(0,3);this.node.children[r].active=!0,f.GameManager.instance.setImage(this.node.children[r],f.GameManager.instance.miniElementId),this.node.children[r].position=new l(0,638+s*o),r>=4&&(this.node.children[r].active=!1)}else for(var g=2;g>=0;g--){var S=c(this.item);S.parent=this.node,S.setSiblingIndex(-1),S.position=new l(0,638+g*o),t?f.GameManager.instance.setImage(S,f.GameManager.instance.miniElementId):f.GameManager.instance.setImage(S,e[2-g])}for(var w=function(e){d(a.node.children[e]).removeSelf(),d(a.node.children[e]).by(.05*f.GameManager.instance.speed,{position:new l(0,-319)}).call((function(e){d(e).removeSelf(),e.position.y<-600&&(t?(e.position=new l(0,638),e.setSiblingIndex(-1)):e.destroy())})).union().repeat(n).call((function(n){t?(f.GameManager.instance.setImage(n,f.GameManager.instance.miniElementId),d(n).to(.5*f.GameManager.instance.speed,{position:new l(0,-1400)},{easing:m.backOut}).call((function(n){d(n).removeSelf(),n.position.y<-600&&(n.position=new l(0,638),n.setSiblingIndex(-1),f.GameManager.instance.setImage(n,f.GameManager.instance.miniElementId)),i&&i(Number(a.node.name));for(var t=0;t<a.node.children.length;t++)a.node.children[t].position=new l(0,638+e*o)})).tag(1200).start()):(a.scheduleOnce((function(){u.inst.playOneShot("audio/sfx_reel_stop",1,v.SLOTS_UNICORN)}),.2*f.GameManager.instance.speed),d(n).by(.5*f.GameManager.instance.speed,{position:new l(0,-319)},{easing:m.backOut}).call((function(e){d(e).removeSelf(),e.position.y<-600?e.destroy():e.getComponent(p).addGift()})).tag(1200).start())})).start()},I=0;I<this.node.children.length;I++)w(I)},n}(g)).prototype,"item",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=M))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager3.ts","./SlotUnicornScorll.ts","./UnicornUtils.ts","./GameConst3.ts","./UnicoreDetailsManager.ts","./UnicornEndManager.ts","./UnicornNoticeView.ts","./UnicoreResult.ts","./UnicornAniManager.ts","./UnicornPoolManager.ts","./UnicornBaseButton.ts","./SubGameDef.ts","./SlotShowPanelMgr.ts","./UserMgr.ts","./Num.ts","./GameUtil.ts","./ResourceMgr.ts","./ModuleDef.ts","./AudioMgr.ts","./RoomMgr.ts","./NetGameServer.ts","./LanguageData.ts","./UIHelp.ts"],(function(t){var e,n,i,s,o,a,r,l,c,u,h,f,d,b,p,g,S,m,_,w,y,v,L,N,E,O,M,A,C,R,T,x,I,U,G,B,z,V,k,P,D,W,F,H,j,Z,J,K,Q,X,q,Y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime,r=t.createClass},function(t){l=t.cclegacy,c=t._decorator,u=t.Label,h=t.Node,f=t.Toggle,d=t.Prefab,b=t.SpriteFrame,p=t.ParticleSystem,g=t.instantiate,S=t.Vec3,m=t.Tween,_=t.tween,w=t.find,y=t.Sprite,v=t.UIOpacity,L=t.easing,N=t.macro,E=t.sp,O=t.Component},function(t){M=t.SlotUnicorn},function(t){A=t.SlotUnicornScorll},function(t){C=t.UnicornUtils},function(t){R=t.SlotUnicornData},function(t){T=t.UnicoreDetailsManager},function(t){x=t.UnicornEndManager},function(t){I=t.UnicornNoticeView},function(t){U=t.UnicoreResult},function(t){G=t.UnicornAniManager},function(t){B=t.UnicornPoolManager},function(t){z=t.UnicornBaseButton},function(t){V=t.SubGameDef},function(t){k=t.showSlotBetPanel,P=t.showSlotAutoPenel,D=t.showSlotLastMoneyPenel},function(t){W=t.UserMgr},function(t){F=t.Num},function(t){H=t.GameUtil},function(t){j=t.ResourceMgr},function(t){Z=t.ModuleDef},function(t){J=t.AudioMgr},function(t){K=t.RoomMgr},function(t){Q=t.gameNet},function(t){X=t.LanguageData},function(t){q=t.UIHelp,Y=t.UIhelpParam}],execute:function(){t("SlotUnicorn",void 0),l._RF.push({},"43c80K/xClCp7a28ltkQfi5","UIManager",void 0);var $,tt,et,nt,it,st,ot,at,rt,lt,ct,ut,ht,ft,dt,bt,pt,gt,St,mt,_t,wt,yt,vt,Lt,Nt,Et,Ot,Mt,At,Ct,Rt,Tt,xt,It,Ut,Gt,Bt,zt,Vt,kt,Pt,Dt,Wt,Ft,Ht,jt,Zt,Jt,Kt,Qt,Xt,qt,Yt,$t,te,ee,ne,ie,se,oe,ae,re,le,ce,ue,he,fe,de,be,pe,ge,Se,me,_e,we=c.ccclass,ye=c.property,ve=null;tt=$||($=t("SlotUnicorn",{})),et=we("UIManager"),nt=ye({type:u,tooltip:"余额"}),it=ye({type:u,tooltip:"下注额"}),st=ye({type:u,tooltip:"赢取金额"}),ot=ye({type:h,tooltip:"其他按钮节点"}),at=ye({type:z,tooltip:"减注按钮"}),rt=ye({type:z,tooltip:"加注按钮"}),lt=ye({type:z,tooltip:"自动按钮"}),ct=ye({type:z,tooltip:"开始按钮"}),ut=ye({type:z,tooltip:"停止按钮"}),ht=ye({type:f,tooltip:"更多按钮"}),ft=ye({type:u,tooltip:"自动剩余次数"}),dt=ye({type:h,tooltip:"左边连线亮起球"}),bt=ye({type:h,tooltip:"右边连线亮起球"}),pt=ye({type:d,displayName:"滚动的对象"}),gt=ye({type:u,tooltip:"赢取倍数"}),St=ye(u),mt=ye([b]),_t=ye([A]),wt=ye(h),yt=ye(h),vt=ye(I),Lt=ye(h),Nt=ye(h),Et=ye(h),Ot=ye(p),Mt=ye([h]),At=ye(h),Ct=ye(h),Rt=ye(h),Tt=ye(h),xt=ye(h),It=ye(h),Ut=ye(h),Gt=ye(h),_e=et(((me=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"coinLab",Vt,s(e)),i(e,"betLab",kt,s(e)),i(e,"winLab",Pt,s(e)),i(e,"otherNode",Dt,s(e)),i(e,"btnSub",Wt,s(e)),i(e,"btnAdd",Ft,s(e)),i(e,"btnAuto",Ht,s(e)),i(e,"btnStart",jt,s(e)),i(e,"btnStop",Zt,s(e)),i(e,"btnMore",Jt,s(e)),i(e,"autoNumber",Kt,s(e)),i(e,"leftLightContent",Qt,s(e)),i(e,"rightLightContent",Xt,s(e)),i(e,"elementItem",qt,s(e)),i(e,"winMult",Yt,s(e)),i(e,"turboTip",$t,s(e)),i(e,"lightFrames",te,s(e)),i(e,"uniScrollList",ee,s(e)),i(e,"lineContent",ne,s(e)),i(e,"startrefresh",ie,s(e)),i(e,"noticeView",se,s(e)),i(e,"giftNode",oe,s(e)),i(e,"turboEffect",ae,s(e)),i(e,"startLight",re,s(e)),i(e,"startContentLight",le,s(e)),i(e,"entryMiniAniNode",ce,s(e)),i(e,"giftBoxNode",ue,s(e)),i(e,"tailEffect",he,s(e)),i(e,"contentEffect",fe,s(e)),i(e,"uiReward",de,s(e)),i(e,"btnStartEffect",be,s(e)),i(e,"btnAutoEffect",pe,s(e)),i(e,"topEffect",ge,s(e)),i(e,"panelParentNode",Se,s(e)),e.index=0,e._btnStartTw=null,e._score=0,e._susscessRes=null,e._betScore=0,e._betLevel=1,e._totalLose=0,e._totalWin=0,e._singleWin=0,e._giftEffect=null,e._gearValueArr=[],e._isEntryMini=!1,e._rollingId=-1,e._endScrollTime=.5,e.isAuto=!1,e}n(e,t);var l=e.prototype;return l.onLoad=function(){e._instance?this.node.destroy():(e._instance=this,ve=M.GameManager,this.gameSetup())},l.onDestroy=function(){e._instance=null},l.gameSetup=function(){this.addListener(),J.inst.play("audio/bgm_mg",1,Z.SLOTS_UNICORN);for(var t=0;t<this.uniScrollList.length;t++)for(var e=0;e<3;e++){var n=g(this.elementItem);n.parent=this.uniScrollList[t].node,n.name=e.toString(),n.position=new S(0,319-319*e),ve.instance.setImage(n)}this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.noticeView.showNotice(),ve.instance.startGame(),C.instance.setNodesByComponent(this.node.parent,this.node.parent.parent.angle,this.node.parent.scale.clone())},l.reconnect=function(){var t=this;m.stopAllByTag(1200),m.stopAllByTag(3),this.uiReward.active=!1,this._score=W.inst.coin,this.coinLab.string=F.exchangeToThousands(1,this._score),this.winLab.string="0.00",x.instance.hide(),this.noticeView.hideScore(),G.instance.playStand(),G.instance.resetDowntime();for(var e=0;e<this.uniScrollList.length;e++){this.uniScrollList[e].node.removeAllChildren();for(var n=0;n<3;n++){var i=g(this.elementItem);i.parent=this.uniScrollList[e].node,i.name=n.toString(),i.position=new S(0,319-319*n),ve.instance.setImage(i)}}this.entryMiniGame(S.ONE),this.unscheduleAllCallbacks(),this.scheduleOnce((function(){ve.instance.gameStatus=R.GameStatus.over,t.setStartAni(3),t.btnManager(!0),R.GameConst.leftAutoCount>0&&t.updateLabelAutoCount()}),.5)},l.onTouchEnd=function(){this.btnMore.isChecked&&(this.btnMore.isChecked=!1,_(this.otherNode).removeSelf(),_(this.otherNode).to(.2,{scale:new S(0,1,1)}).start())},l.initUI=function(){if(0==this._betScore){this.index=0,this.btnSub.interactable=!1,this.btnAdd.interactable=!0,this._score=W.inst.coin,this.coinLab.string=F.exchangeToThousands(1,this._score),this.winLab.string="0.00",this.setStartAni(3),this._gearValueArr=H.GetBetRange();var t=localStorage.getItem(V.SLOTS_UNICORN+R.GameConst.cacheName.betScore);this._betScore=t?Number(t):this._gearValueArr[0],this.index=this._gearValueArr.indexOf(this._betScore),this.betLab.string=F.exchangeToThousands(1,this._betScore),this.updateBetGear()}},l.addListener=function(){var t=this;this.btnStart.node.on(h.EventType.MOUSE_ENTER,(function(){t.btnStartEffect.active=!0}),this),this.btnStart.node.on(h.EventType.MOUSE_LEAVE,(function(){t.btnStartEffect.active=!1}),this),this.btnStop.node.on(h.EventType.MOUSE_ENTER,(function(){t.btnAutoEffect.active=!0}),this),this.btnStop.node.on(h.EventType.MOUSE_LEAVE,(function(){t.btnAutoEffect.active=!1}),this)},l.updateScore=function(t,e){C.instance.IncreaseNumber(this.coinLab,t,e,{timer:1}).start()},l.updateWin=function(t){C.instance.IncreaseNumber(this.winLab,0,t,{timer:.5,tag:3}).start()},l.startAuto=function(){W.inst.coin<this._betScore?tgx.UITip.instance.show(X.getLangByID("BXINGAME_60")):(this.isAuto=!0,this.btnStart.node.active=!1,this.btnStop.node.active=!0,this._totalLose=0,this._totalWin=0,this._singleWin=0,this.updateLabelAutoCount())},l.updateLabelAutoCount=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce((function(){R.GameConst.leftAutoCount--,R.GameConst.leftAutoCount>0?e.autoNumber.string=R.GameConst.leftAutoCount.toString():e.onStop(),e.onStart()}),t)},l.resetSortScroll=function(){if(this._susscessRes&&!(this._susscessRes&&this._susscessRes.elements.length>0)){for(var t=this._susscessRes.mini.miniElements,e=0;e<this.uniScrollList.length;e++)for(var n=0;n<this.uniScrollList[e].node.children.length;n++)this.uniScrollList[e].node.children[n].destroy();for(var i=0;i<t.length;i++)for(var s=0;s<t[i].elementIds.length;s++)if(0!==t[i].elementIds[s]){var o=g(this.elementItem);o.parent=this.uniScrollList[i].node,o.position=new S(0,319-319*s),ve.instance.setImage(o,t[i].elementIds[s])}for(var a=0;a<this.uniScrollList.length;a++)this.uniScrollList[a].addIteem()}},l.onStart=function(){var t=o(a().mark((function t(){var e,n,i,s=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ve.instance.gameStatus!==R.GameStatus.start){t.next=3;break}return t.abrupt("return");case 3:return this.initStart(),t.next=6,Q.playSlots(V.SLOTS_UNICORN,this._betScore.toString());case 6:e=t.sent,200===(n=C.instance.conver(e,this._betScore)).code?(i=n.betScore?n.betScore:0,this._score-=i,this._totalLose+=i,this._totalWin-=i,this.coinLab.string=F.exchangeToThousands(1,this._score),this._susscessRes=n,0===n.elements.length&&n.mini.miniElements.length>0&&(G.instance.playShake(),R.GameConst.isEntryMini=!0,this.entryMiniGame(new S(.92,.92)),this._isEntryMini=!0,J.inst.play("audio/bgm_mg_fast",1,Z.SLOTS_UNICORN),this.giftBox(n.mini.miniElementId)),this.sucessStartGame(n)):this.scheduleOnce((function(){var t=ve.instance.getElementIds();if(ve.instance.isSpeed)for(var e=0;e<s.uniScrollList.length;e++)s.uniScrollList[e].endScroll(t[e].elementIds,!1,2),2===e&&(ve.instance.gameStatus=R.GameStatus.over,G.instance.resetDowntime(),s.setStartAni(3),s.btnManager(!0),s.onStop(),!n.code||201===n.code||202===n.code||203===n.code||n.code);else C.instance.startLoad((function(e){s.uniScrollList[e].endScroll(t[e].elementIds,!1,2),2===e&&(ve.instance.gameStatus=R.GameStatus.over,G.instance.resetDowntime(),s.setStartAni(3),s.btnManager(!0),s.onStop(),!n.code||501===n.code||201===n.code||202===n.code||203===n.code||n.code)}),s.uniScrollList.length)}),2);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.initStart=function(){var t=this;if(J.inst.playOneShot("audio/sfx_reel_spin",1,Z.SLOTS_UNICORN),1===ve.instance.speed?C.instance.delayTime=.2:C.instance.delayTime=0,this._isEntryMini=!1,this.onTouchEnd(),T.instance.hide(),m.stopAllByTag(3),m.stopAllByTag(1200),this.winLab.string="0.00",this.noticeView.hideScore(),ve.instance.gameStatus=R.GameStatus.start,this.setStartAni(.4),this.btnManager(!1),this.uiReward.active=!1,R.GameConst.isEntryMini=!1,this.winMult.node.active=!1,x.instance.isRunMiniScroll=0,x.instance.hide(),this.resetSortScroll(),J.inst.playOneShot("audio/sfx_reel_rolling_loop",1,Z.SLOTS_UNICORN).then((function(e){return t._rollingId=e})),ve.instance.isSpeed)for(var e=0;e<this.uniScrollList.length;e++)this.uniScrollList[e].startScroll();else C.instance.startLoad((function(e){t.uniScrollList[e].startScroll()}),this.uniScrollList.length);this.startLight.active=!0,this.startContentLight.node.parent.active=!0},l.entryMiniGame=function(t){var e=function(t,e){_(t).removeSelf(),_(t).to(.7,{scale:e}).start()};this.entryMiniAniNode.forEach((function(n){return e(n,t)})),1===t.x&&w("effect",this.uiReward).children.forEach((function(t){return e(t,new S(1.2,1.2))}))},l.notEntryMiniGame=function(){var t=ve.instance.speed<1?.8:1;this.entryMiniAniNode.forEach((function(e){_(e).removeSelf(),_(e).to(.6*t,{scale:new S(.95,.95)}).delay(.8*t).to(.6*t,{scale:S.ONE}).start()}))},l.giftBox=function(t){var e=this,n=g(this.giftNode);n.parent=this.node,w("liwuhe",n).active=!1,this.giftNode.active=!1,J.inst.playOneShot("audio/sfx_multipiler_game_start",1,Z.SLOTS_UNICORN),_(n).removeSelf(),_(n).delay(.5*ve.instance.speed).call((function(){J.inst.playOneShot("audio/sfx_multipiler_balloon",1,Z.SLOTS_UNICORN)})).to(1*ve.instance.speed,{position:new S(0,480),scale:new S(1.5,1.5)}).call((function(){w("loveSp",n).active=!1;var i=w("boom/glow",n);i.getComponent(p).play(),i.children.forEach((function(t){return t.getComponent(p).play()})),J.inst.playOneShot("audio/sfx_multipiler_balloon_locate",1,Z.SLOTS_UNICORN),e.scheduleOnce((function(){e.showGift(t)}),.7*ve.instance.speed),e.scheduleOnce((function(){n.removeFromParent()}),1.4*ve.instance.speed)})).start()},l.showGift=function(t){var e=this,n=new S(0,480);this.giftBoxNode.position=n,this.giftBoxNode.setSiblingIndex(20);var i=w("icon",this.giftBoxNode).getComponent(y),s="textures/turntable/element/"+t;this._giftEffect=w(t.toString(),this.giftBoxNode),j.inst.loadResByModuleBundle(Z.SLOTS_UNICORN,s,b,(function(n,s){if(n)return console.error("--换面--",n);i.spriteFrame=s,e.giftBoxNode.active=!0,J.inst.playOneShot("audio/sfx_multipiler_balloon_land",1,Z.SLOTS_UNICORN),J.inst.playOneShot("audio/sfx_readyhead",1,Z.SLOTS_UNICORN);var o=e.giftBoxNode.getComponent(v);o.opacity=255,{101:new S(.5,.5),102:new S(.45,.45),103:new S(.43,.43),104:new S(.43,.43),105:new S(.35,.35),106:new S(.4,.4),201:new S(.5,.5)}[t]||new S(.9,.9),e._giftEffect.active=!0,e.scheduleOnce((function(){o.opacity=0,_(o).removeSelf(),_(o).to(.5*ve.instance.speed,{opacity:255}).start(),e._giftEffect.active=!1,_(e.giftBoxNode).removeSelf(),_(e.giftBoxNode).to(.5*ve.instance.speed,{position:new S(0,915),scale:new S(.9,.9)}).to(.2*ve.instance.speed,{position:new S(0,1015)}).to(.5*ve.instance.speed,{position:new S(0,585),scale:new S(.7,.7)},{easing:L.backOut}).call((function(){e._giftEffect.active=!0,w("effect",e.giftBoxNode).active=!0,J.inst.playOneShot("audio/sfx_multipiler_balloon_land",1,Z.SLOTS_UNICORN),e.scheduleOnce((function(){e.effectMini()}),1.5*ve.instance.speed)})).start()}),1.1*ve.instance.speed)}))},l.effectMini=function(){var t=this;this.giftBoxNode.active=!1,this._giftEffect.active=!1,this.tailEffect.active=!0,this.contentEffect.active=!1,this.topEffect.active=!1;var e=new S(0,585);J.inst.playOneShot("audio/sfx_multipiler_game_trigger",1,Z.SLOTS_UNICORN);for(var n=0;n<this.tailEffect.children.length;n++){this.tailEffect.children[n].active=!0;var i=new S(300*n-300,500),s=new S(1*(e.x+i.x),1100);C.instance.bezierTo(this.tailEffect.children[n],.5*ve.instance.speed,e,s,i).delay(.1*ve.instance.speed).call((function(t){t.active=!1})).start()}this.scheduleOnce((function(){t.contentEffect.active=!0,t.topEffect.active=!0,t.showWinMult()}),.6*ve.instance.speed)},l.sucessStartGame=function(t){var e=this;t.elements.length>0&&(Math.random()<.02?(this._endScrollTime=2,this.scheduleOnce((function(){G.instance.playAngry(),e.notEntryMiniGame()}),1*ve.instance.speed)):ve.instance.isSpeed?this._endScrollTime=.5:this._endScrollTime=1),this.scheduleOnce((function(){if(e.startLight.active=!1,e.startContentLight.stop(),e.startContentLight.node.parent.active=!1,t.elements.length>0)C.instance.startLoad((function(n){var i=t.elements;x.instance.unicornElements=i,e.uniScrollList[n].endScroll(i[n].elementIds,t.elements.length<=0,2)}),e.uniScrollList.length),e.gameStage(t,1.5*ve.instance.speed);else{for(var n=0;n<3;n++)x.instance.lightIndexList[n]=[];ve.instance.miniElementId=e._susscessRes.mini.miniElementId,Math.random()>.5?G.instance.playFete():G.instance.playJump(),x.instance.lightIndexList=ve.instance.zeroToList(e._susscessRes.mini.miniElements),e.schedule(e.scheduleEndScroll,3,N.REPEAT_FOREVER,4.7*ve.instance.speed)}}),this._endScrollTime*ve.instance.speed)},l.scheduleEndScroll=function(){for(var t=this,e=function(t){x.instance.setMiniElement()},n=x.instance.lightIndexList,i=!1,s=0;s<n.length;s++)if(n[s].length<3){if(ve.instance.isSpeed)for(var o=0;o<this.uniScrollList.length;o++){var a=this._susscessRes.mini.miniElements;x.instance.unicornElements=a,this.uniScrollList[o].endScroll(a[o].elementIds,this._susscessRes.elements.length<=0,25,e.bind(this))}else C.instance.startLoad((function(n){var i=t._susscessRes.mini.miniElements;x.instance.unicornElements=i,t.uniScrollList[n].endScroll(i[n].elementIds,t._susscessRes.elements.length<=0,25,e.bind(t))}),this.uniScrollList.length);i=!0;break}if(!i){var r=0;if(!this._susscessRes.isAllSame){if(ve.instance.isSpeed)for(var l=0;l<this.uniScrollList.length;l++){var c=this._susscessRes.mini.miniElements;x.instance.unicornElements=c,this.uniScrollList[l].endScroll(c[l].elementIds,this._susscessRes.elements.length<=0,25,e.bind(this))}else C.instance.startLoad((function(n){var i=t._susscessRes.mini.miniElements;x.instance.unicornElements=i,t.uniScrollList[n].endScroll(i[n].elementIds,t._susscessRes.elements.length<=0,25,e.bind(t))}),this.uniScrollList.length);r=1.5}this.scheduleOnce((function(){G.instance.playHappy(),x.instance.setMask(),t.scheduleOnce((function(){t.noticeView.balanceScore(t._susscessRes.betScore,t._susscessRes.mini.miniWinScore,!0,t._susscessRes.isAllSame)}),1),t.unschedule(t.scheduleEndScroll)}),r)}},l.gameStage=function(t,e){var n=this;this.scheduleOnce((function(){t.lines.length>0&&x.instance.showTurnble(t.lines),t.elements.length>0&&n.noticeView.balanceScore(t.betScore,t.winScore,!1,n._susscessRes.isAllSame)}),e)},l.gameOver=function(){(this._isEntryMini||this._susscessRes.isAllSame||this._susscessRes.winScore>20*this._susscessRes.betScore)&&J.inst.play("audio/bgm_mg",1,Z.SLOTS_UNICORN),ve.instance.gameStatus=R.GameStatus.over,G.instance.resetDowntime();var t=this._susscessRes.winScore?this._susscessRes.winScore:this._susscessRes.mini.miniWinScore?this._susscessRes.mini.miniWinScore:0;this.updateWin(t),this.setStartAni(3),this.isAuto||this.btnManager(!0);var e=1;0==t&&(e=0),R.GameConst.leftAutoCount>0&&this.updateLabelAutoCount(e)},l.setStartAni=function(t){this._btnStartTw&&(this._btnStartTw.stop(),this._btnStartTw=null),_(this.startrefresh).removeSelf(),this._btnStartTw=_(this.startrefresh).by(t,{eulerAngles:new S(0,0,-360)}).repeatForever(),this._btnStartTw.start()},l.btnManager=function(t){this.btnSub.interactable=t,this.btnAdd.interactable=t,this.btnAuto.interactable=t,0===this.index?this.btnSub.interactable=!1:this.index>=this._gearValueArr.length-1&&(this.btnAdd.interactable=!1)},l.onStop=function(){console.log("%c ----停止自动游戏-----","color:#2ba914"),this.isAuto=!1,this.btnStart.node.active=!0,this.btnStop.node.active=!1,R.GameConst.leftAutoCount=0,this.onTouchEnd()},l.addGiftEffect=function(t){var e=this,n=B.instance.getPoolObj(B.PoolsName.giftEffect);n.parent=this.node,n.name="GiftEffectTw",n.worldPosition=t;var i=this.giftNode.worldPosition.clone(),s=new S(.2*(t.x+i.x),.5*(t.y+i.y)),o=C.instance.bezierTo2(n,.6,.5,t,s,i),a=w("light/glow-002",this.giftNode),r=w("light/glow-002",n);r.getComponent(p).play(),r.children.forEach((function(t){t.getComponent(p).play()})),this.scheduleOnce((function(){J.inst.playOneShot("audio/sfx_sym_wild_fly",1,Z.SLOTS_UNICORN)}),.5),J.inst.playOneShot("audio/sfx_sym_wild",1,Z.SLOTS_UNICORN),_(n).removeSelf(),o.call((function(t){B.instance.putPoolObj(B.PoolsName.giftEffect,t),r.getComponent(p).stop(),r.children.forEach((function(t){t.getComponent(p).stop()})),G.instance.playAmazed();var n=w("loveSp",e.giftNode).getComponent(E.Skeleton);n.timeScale=1,a.getComponent(p).play(),a.children.forEach((function(t){t.getComponent(p).play()})),J.inst.playOneShot("audio/sfx_multipiler_trigger",1,Z.SLOTS_UNICORN),_(e.giftNode).to(.2,{scale:new S(.8,.8,.8)}).delay(.5).call((function(){_(e.giftNode).to(.2,{scale:new S(1,1,1)}).call((function(){n.timeScale=.5,a.getComponent(p).stop(),a.children.forEach((function(t){t.getComponent(p).stop()}))})).start()})).start()})).start()},l.showWinMult=function(){var t=this;this.winMult.node.active=!0,R.GameConst.isEntryMini?this.winMult.node.position=new S(0,595):this.winMult.node.position=new S(0,675),this.winMult.node.scale=S.ZERO;var e=w("multEffect",this.winMult.node);e.active=!1;var n=this.winMult.node.position.clone();S.add(n,n,new S(0,-30)),_(this.winMult.node).removeSelf(),_(this.winMult.node).to(.4,{scale:new S(.8,.8,.8)}).call((function(){e.active=!0,t.winMult.node.setSiblingIndex(0)})).delay(1).to(.3,{position:n}).start()},l.setWinMult=function(t){var e=this,n=this.winMult.node.position.clone();S.add(n,n,new S(0,200)),_(this.winMult.node).removeSelf(),_(this.winMult.node).to(.2*ve.instance.speed,{position:n},{easing:L.backOut}).call((function(){e.winMult.node.setSiblingIndex(100)})).to(.3*ve.instance.speed,{position:new S(0,130),scale:new S(1.2,1.2,1)}).to(.3*ve.instance.speed,{position:new S(0,-452)}).union().call((function(){J.inst.playOneShot("audio/sfx_multipiler_win",1,Z.SLOTS_UNICORN),e.winMult.node.active=!1,e.noticeView.updateTip(),t<10&&e.resetGame(),e.showReward(t,e._susscessRes.mini.miniWinScore)})).start()},l.setScore=function(t){0!==t&&(this._score+=t,this.updateScore(this._score-t,this._score))},l.showReward=function(t,e){var n=this;if(this._susscessRes.isAllSame){this.uiReward.active=!0;for(var i=w("effect",this.uiReward),s=0;s<i.children.length;s++)i.children[s].scale=new S(1.104,1.104);J.inst.playOneShot("audio/sfx_multipiler_win_crown",1,Z.SLOTS_UNICORN);var o=w("icon",this.uiReward).getComponent(y);o.node.scale=S.ZERO;var a="textures/turntable/element/"+this._susscessRes.isAllSame,r=new S;switch(this._susscessRes.isAllSame){case 101:case 102:r=new S(4,4);break;case 103:case 104:r=new S(3.5,3.5);break;case 106:r=new S(3.2,3.2);break;case 105:r=new S(3,3);break;case 201:r=new S(2,2)}j.inst.loadResByModuleBundle(Z.SLOTS_UNICORN,a,b,(function(i,s){if(i)return console.error("--换面--",i);o.spriteFrame=s,_(o.node).removeSelf(),_(o.node).delay(1).to(.3,{scale:r}).call((function(){x.instance.hide(),t>=10&&U.instance.show(n._susscessRes.betScore,e)})).start()}))}else t>=10&&U.instance.show(this._susscessRes.betScore,e)},l.totalScore=function(t){t||(t=0),this._totalLose-=t,this._totalWin+=t,this._singleWin=t,(0!=R.GameConst.reduceLabel&&this._totalLose>=100*R.GameConst.reduceLabel||0!=R.GameConst.addLabel&&this._totalWin>=100*R.GameConst.addLabel||0!=R.GameConst.winLabel&&this._singleWin>=100*R.GameConst.winLabel)&&(this.onStop(),this.btnManager(!0))},l.resetGame=function(){this.entryMiniGame(S.ONE),this.giftNode.active=!0,this.winMult.node.active=!1,this.tailEffect.active=!1,this.contentEffect.active=!1,this.topEffect.active=!1,this.gameOver()},l.miniScroll=function(){},l.onBetSub=function(){this.index=Math.ceil(this.index-1),this.index<=0&&(this.index=0,this.btnSub.interactable=!1),this.btnAdd.interactable=!0,this.betLab.string=F.exchangeToThousands(1,this._gearValueArr[this.index]),this._betScore=this._gearValueArr[this.index],this._betLevel=1,localStorage.setItem(V.SLOTS_UNICORN+R.GameConst.cacheName.betScore,this._betScore.toString()),T.instance.hide(),this.onTouchEnd()},l.onBetAdd=function(){this.index=Math.floor(this.index+1),this.index>=this._gearValueArr.length-1&&(this.index=this._gearValueArr.length-1,this.btnAdd.interactable=!1),this.btnSub.interactable=!0,this.betLab.string=F.exchangeToThousands(1,this._gearValueArr[this.index]),this._betScore=this._gearValueArr[this.index],this._betLevel=1,localStorage.setItem(V.SLOTS_UNICORN+R.GameConst.cacheName.betScore,this._betScore.toString()),T.instance.hide(),this.onTouchEnd()},l.onTurbo=function(){ve.instance.isSpeed?(this.turboEffect.active=!1,ve.instance.isSpeed=!1,ve.instance.speed=1,C.instance.delayTime=.2,this.turboTip.string="OFF"):(ve.instance.speed=.5,ve.instance.isSpeed=!0,C.instance.delayTime=.01,this.turboEffect.active=!0,this.turboTip.string="TURBO"),this.onTouchEnd(),T.instance.hide()},l.onMore=function(t){_(this.otherNode).removeSelf(),t.isChecked?_(this.otherNode).to(.2,{scale:new S(1,1,1)}).start():_(this.otherNode).to(.2,{scale:new S(0,1,1)}).start(),T.instance.hide()},l.onBet=function(){var t=this;ve.instance.gameStatus===R.GameStatus.start||this.isAuto||(k(this.panelParentNode,[.03,.1,.3,.9],[1,2,3,4,5,6,7,8,9,10],10,W.inst.coin,Number(this.betLab.string),function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];console.log("bet----",n),t.index=n[2],t._betScore=n[3],t.betLab.string=n[4],localStorage.setItem(V.SLOTS_UNICORN+R.GameConst.cacheName.betScore,t._betScore.toString()),t.updateBetGear()}.bind(this)).then((function(e){e.bindBet(t.index)})),this.onTouchEnd(),T.instance.hide())},l.updateBetGear=function(){for(var t=0;t<this._gearValueArr.length;t++){if(this._gearValueArr[t]===this._betScore){0===t?(this.btnSub.interactable=!1,this.btnAdd.interactable=!0):t===this._gearValueArr.length-1?(this.btnSub.interactable=!0,this.btnAdd.interactable=!1):(this.btnSub.interactable=!0,this.btnAdd.interactable=!0),this.index=t;break}if(t===this._gearValueArr.length-1)break;var e=this._gearValueArr[t+1];if(this._betScore>this._gearValueArr[t]&&this._betScore<e){this.index=t+.5,this.btnAdd.interactable=!0,this.btnSub.interactable=!0;break}}},l.onAuto=function(){var t=this;console.log("%c ----自动-----","color:#2ba914"),P(this.panelParentNode,W.inst.coin,Number(this.betLab.string),function(e){R.GameConst.leftAutoCount=e,t.startAuto()}.bind(this)),T.instance.hide(),this.onTouchEnd()},l.onLastMoney=function(){D(this.panelParentNode,W.inst.coin)},l.onHelp=function(){tgx.UIMgr.inst.showUI(q,null,this,new Y("rule"))},l.onPayout=function(){tgx.UIMgr.inst.showUI(q,null,this,new Y("payout"))},l.onMusic=function(){J.inst.switch=!J.inst.switch},l.onHistroy=function(){},l.onExit=function(){tgx.UIAlert.show(X.getLangByID("exit_game"),!0,"c4cdc0","4e4933","a3b6a5","17160f").onClick(o(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,K.inst.exitRoom();case 3:case"end":return t.stop()}}),t)}))))},l.stopShot=function(){-1!=this._rollingId&&(J.inst.stopOneShot(this._rollingId,"audio/sfx_reel_rolling_loop",Z.SLOTS_UNICORN),this._rollingId=-1)},r(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(O))._instance=null,Vt=e((zt=me).prototype,"coinLab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(zt.prototype,"betLab",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(zt.prototype,"winLab",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(zt.prototype,"otherNode",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(zt.prototype,"btnSub",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(zt.prototype,"btnAdd",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(zt.prototype,"btnAuto",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(zt.prototype,"btnStart",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(zt.prototype,"btnStop",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(zt.prototype,"btnMore",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(zt.prototype,"autoNumber",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(zt.prototype,"leftLightContent",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(zt.prototype,"rightLightContent",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(zt.prototype,"elementItem",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(zt.prototype,"winMult",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=e(zt.prototype,"turboTip",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(zt.prototype,"lightFrames",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=e(zt.prototype,"uniScrollList",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=e(zt.prototype,"lineContent",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(zt.prototype,"startrefresh",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=e(zt.prototype,"noticeView",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(zt.prototype,"giftNode",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=e(zt.prototype,"turboEffect",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=e(zt.prototype,"startLight",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=e(zt.prototype,"startContentLight",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=e(zt.prototype,"entryMiniAniNode",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=e(zt.prototype,"giftBoxNode",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=e(zt.prototype,"tailEffect",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=e(zt.prototype,"contentEffect",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=e(zt.prototype,"uiReward",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=e(zt.prototype,"btnStartEffect",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(zt.prototype,"btnAutoEffect",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=e(zt.prototype,"topEffect",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=e(zt.prototype,"panelParentNode",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=zt))||Bt,tt.UIManager=_e,l._RF.pop()}}}));

System.register("chunks:///_virtual/UnicoreAutoManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst3.ts","./UIManager2.ts","./GameManager3.ts"],(function(e){var n,t,i,r,o,a,l,u,s,c,d,p,g,b,f,h,m,w,L,C,S,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,s=e.Label,c=e.ToggleContainer,d=e.Slider,p=e.Widget,g=e.Vec3,b=e.UITransform,f=e.UIOpacity,h=e.tween,m=e.Toggle,w=e.find,L=e.Component},function(e){C=e.SlotUnicornData},function(e){S=e.SlotUnicorn},function(e){y=e.SlotUnicorn}],execute:function(){var v,B,z,M,U,A,I,_,R,G,x,k,D,E,O,F,T,Z,P,H,N,V,W,j,K,Y,q,J,Q,X,$,ee;a._RF.push({},"27fffOIZTtBYo5pvDUV6HKe","UnicoreAutoManager",void 0);var ne=l.ccclass,te=l.property;e("UnicoreAutoManager",(v=ne("UnicoreAutoManager"),B=te(u),z=te(s),M=te(s),U=te(s),A=te(c),I=te(d),_=te(u),R=te(s),G=te(d),x=te(u),k=te(s),D=te(d),E=te(u),O=te(s),v(((ee=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"content",Z,r(n)),i(n,"coinLab",P,r(n)),i(n,"betLab",H,r(n)),i(n,"winLab",N,r(n)),i(n,"toggleRound",V,r(n)),i(n,"reduceSlider",W,r(n)),i(n,"reduceproBar",j,r(n)),i(n,"reduceLabel",K,r(n)),i(n,"addSlider",Y,r(n)),i(n,"addproBar",q,r(n)),i(n,"addLabel",J,r(n)),i(n,"winSlider",Q,r(n)),i(n,"winproBar",X,r(n)),i(n,"winLabel",$,r(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){if(n._instance)this.node.destroy();else{n._instance=this,y.GameManager;var e=this.node.getComponent(p);e.left=0,e.right=0,this.node.position=g.ZERO,this.node.active=!1}},a.onDisable=function(){n._instance=null},a.showPanel=function(){this.node.active=!0,this.reduceSlider.progress=0,this.addSlider.progress=0,this.winSlider.progress=0,this.reduceproBar.getComponent(b).width=0,this.addproBar.getComponent(b).width=0,this.winproBar.getComponent(b).width=0,this.coinLab.string=S.UIManager.instance.coinLab.string,this.betLab.string=S.UIManager.instance.betLab.string,this.winLab.string=S.UIManager.instance.winLab.string,C.GameConst.reduceLabel=0,C.GameConst.addLabel=0,C.GameConst.winLabel=0,this.node.scale=g.ZERO,this.node.getComponent(f).opacity=0,h(this.node).removeSelf(),h(this.node).to(.25,{scale:g.ONE}).start(),h(this.node.getComponent(f)).to(.25,{opacity:255}).start(),this.AutoEnable()},a.AutoEnable=function(){for(var e=0;e<this.toggleRound.node.children.length;e++){var n=this.toggleRound.node.children[e];0===e&&(n.getComponent(m).isChecked=!0),n.name=e.toString(),C.GameConst.autoCountIndex=0,w("Background/Label",n).getComponent(s).string=C.GameConst.Auto.AutoIndex[e].toString(),w("Checkmark/Label",n).getComponent(s).string=C.GameConst.Auto.AutoIndex[e].toString()}},a.onSelectRound=function(e){},a.onBtnConfirm=function(){this.onBtnClose(),S.UIManager.instance.startAuto()},a.reduce_Label=function(e){var n=this.reduceSlider.progress,t=(Math.floor(5*n)+5).toFixed(0);this.reduceLabel.string="0"==t?"5":t},a.add_labbel=function(e){var n=this.addSlider.progress,t=(Math.floor(4900*n)+100).toFixed(0);this.addLabel.string="0"==t?"100":t},a.win_label=function(e){var n=this.winSlider.progress,t=(Math.floor(490*n)+10).toFixed(0);this.winLabel.string="0"==t?"10":t},a.onReduceSlider=function(){var e=this.reduceSlider.progress;this.reduceproBar.getComponent(b).width=1e3*e},a.onAddSlider=function(){var e=this.addSlider.progress;this.addproBar.getComponent(b).width=1e3*e},a.onWinSlider=function(){var e=this.winSlider.progress;this.winproBar.getComponent(b).width=1e3*e},a.onBtnClose=function(){var e=this;h(this.node).removeSelf(),h(this.node).to(.25,{scale:g.ZERO}).call((function(){e.node.active=!1})).start(),h(this.node.getComponent(f)).removeSelf(),h(this.node.getComponent(f)).to(.25,{opacity:0}).start()},o(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(L))._instance=null,Z=n((T=ee).prototype,"content",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(T.prototype,"coinLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(T.prototype,"betLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(T.prototype,"winLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(T.prototype,"toggleRound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(T.prototype,"reduceSlider",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(T.prototype,"reduceproBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(T.prototype,"reduceLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(T.prototype,"addSlider",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(T.prototype,"addproBar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(T.prototype,"addLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(T.prototype,"winSlider",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(T.prototype,"winproBar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(T.prototype,"winLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/UnicoreDetailsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager3.ts","./ResourceMgr.ts","./ModuleDef.ts"],(function(e){var t,n,i,o,l,r,a,s,c,u,h,f,p,d,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.sp,u=e.Vec3,h=e.find,f=e.Label,p=e.Component},function(e){d=e.SlotUnicorn},function(e){g=e.ResourceMgr},function(e){b=e.ModuleDef}],execute:function(){var C,v,y,N,m,D,k,M,S,_,w,U,R,z;r._RF.push({},"e4b86drnL9G8apIAWRP3URN","UnicoreDetailsManager",void 0);var A=a.ccclass,L=a.property;e("UnicoreDetailsManager",(C=A("UnicoreDetailsManager"),v=L(s),y=L(s),N=L(s),m=L(c.Skeleton),D=L(c.Skeleton),C(((z=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"blackNode",S,o(t)),i(t,"leftContent",_,o(t)),i(t,"rightContent",w,o(t)),i(t,"letfSpNode",U,o(t)),i(t,"rightSpNode",R,o(t)),t._twId=void 0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t._instance?this.node.destroy():(t._instance=this,this.leftContent.on(s.EventType.TOUCH_END,this.hide,this),this.rightContent.on(s.EventType.TOUCH_END,this.hide,this))},r.onDestroy=function(){t._instance=null},r.showDetails=function(e,t,n){this.hideAllFace();var i=null,o=null,l=null;this.blackNode.active=!0;var r=null;"2"===n?(this.leftContent.active=!1,this.rightContent.active=!0,this.rightContent.position=new u(145,t.y),l=this.rightContent,r=this.rightSpNode):(this.leftContent.active=!0,this.rightContent.active=!1,this.leftContent.position=new u(290*Number(n)-460,t.y),l=this.leftContent,r=this.letfSpNode),i=h("lineNum",l).getComponent(f),o=h("lineMult",l).getComponent(f),i.string="3",o.string=d.GameManager.instance.elementOdd[e]+"";var a="spine/"+e+"/skeleton";g.inst.loadResByModuleBundle(b.SLOTS_UNICORN,a,c.SkeletonData,(function(e,t){if(e)return console.error("--独角兽动作--",e);r.skeletonData=t,r.setAnimation(0,"1",!0)})),this.unscheduleAllCallbacks(),this.scheduleOnce(this.hide,3)},r.hideAllFace=function(){},r.hide=function(){this.unscheduleAllCallbacks(),this.leftContent.active=!1,this.rightContent.active=!1,this.blackNode.active=!1},l(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(p))._instance=null,S=t((M=z).prototype,"blackNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(M.prototype,"leftContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"rightContent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"letfSpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"rightSpNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/UnicoreResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UnicoreResultItem.ts","./UIManager2.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(i){var t,e,s,n,o,h,r,a,u,_,l,c,d,p,f,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized,o=i.createClass},function(i){h=i.cclegacy,r=i._decorator,a=i.Label,u=i.Widget,_=i.Vec3,l=i.Node,c=i.Component},function(i){d=i.UnicoreResultItem},function(i){p=i.SlotUnicorn},function(i){f=i.AudioMgr},function(i){g=i.ModuleDef}],execute:function(){var S,b,I,N,O,w,m,y,v,x,U,R;h._RF.push({},"0f87bjzzYdHRav1zdgy8TLF","UnicoreResult",void 0);var C=r.ccclass,L=r.property;i("UnicoreResult",(S=C("UnicoreResult"),b=L(d),I=L(d),N=L(d),O=L(a),S(((R=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),h=0;h<e;h++)o[h]=arguments[h];return t=i.call.apply(i,[this].concat(o))||this,s(t,"bitWin",y,n(t)),s(t,"mageWin",v,n(t)),s(t,"superWin",x,n(t)),s(t,"winLab",U,n(t)),t._winScore=0,t._level=20,t._betScore=0,t.isNext=!1,t.isBest=!1,t._numTw=null,t._bigId=-1,t._mageId=-1,t._superId=-1,t._payoutId=-1,t}e(t,i);var h=t.prototype;return h.onLoad=function(){if(t._instance)this.node.destroy();else{t._instance=this;var i=this.node.getComponent(u);i.left=0,i.right=0,this.node.position=_.ZERO,this.node.active=!1,this.node.on(l.EventType.TOUCH_END,this.onBtnNext,this)}},h.onDestroy=function(){t._instance=null},h.show=function(i,t){var e=this,s=t/i;this._level=20,this.isNext=!1,this.isBest=!1,this._winScore=t||0,this._betScore=i,!s||s<10||(f.inst.play("audio/bgm_wins",1,g.SLOTS_UNICORN),f.inst.playOneShot("audio/sfx_wins_payout",1,g.SLOTS_UNICORN).then((function(i){return e._payoutId=i})),this.node.active=!0,s>=10&&(this.winLab.string="0.00",f.inst.playOneShot("audio/sfx_wins_hit_big",1,g.SLOTS_UNICORN).then((function(i){return e._bigId=i})),this.bitWin.show(i,t,0)))},h.showNext=function(i,t,e){var s=this;this.isNext=!1,20===i?(this._level=100,this.bitWin.hide(),f.inst.playOneShot("audio/sfx_wins_hit_mega",1,g.SLOTS_UNICORN).then((function(i){return s._mageId=i})),this.mageWin.show2(t,e,20*t)):100===i&&(this._level=-1,this.mageWin.hide(),f.inst.playOneShot("audio/sfx_wins_hit_mega",1,g.SLOTS_UNICORN).then((function(i){return s._superId=i})),this.superWin.show2(t,e,100*t))},h.onBtnNext=function(){var i=this._betScore*this._level;if(i=this._winScore>=i?i:this._winScore,-1===this._level&&(i=this._winScore),this.isNext)this.unschedule(this.toNext),this.toNext(),this.isBest&&this.hide();else{if(20===this._level)-1!=this._bigId&&(f.inst.stopOneShot(this._bigId,"audio/sfx_wins_hit_big",g.SLOTS_UNICORN),this._bigId=-1),this.bitWin.unAllCallbacks();else if(100===this._level)-1!=this._mageId&&(f.inst.stopOneShot(this._mageId,"audio/sfx_wins_hit_mega",g.SLOTS_UNICORN),this._mageId=-1),this.mageWin.unAllCallbacks();else if(-1===this._level)return-1!=this._superId&&(f.inst.stopOneShot(this._superId,"audio/sfx_wins_hit_mega",g.SLOTS_UNICORN),this._superId=-1),this.isBest=!0,this.isNext=!0,void this.superWin.unAllCallbacks();this.isNext=!0,this._winScore>i?this.scheduleOnce(this.toNext,2):this.isBest=!0}},h.toNext=function(){this.showNext(this._level,this._betScore,this._winScore)},h.hide=function(){this.onBtnClose(),this.isNext=!1,this.isBest=!1,this.bitWin.hide(),this.mageWin.hide(),this.superWin.hide(),p.UIManager.instance.resetGame(),p.UIManager.instance.setScore(this._winScore)},h.stopShot=function(i){switch(i){case"big":-1!=this._bigId&&(f.inst.stopOneShot(this._bigId,"audio/sfx_wins_hit_big",g.SLOTS_UNICORN),this._bigId=-1);break;case"mage":-1!=this._mageId&&(f.inst.stopOneShot(this._mageId,"audio/sfx_wins_hit_mega",g.SLOTS_UNICORN),this._mageId=-1);break;case"super":-1!=this._superId&&(f.inst.stopOneShot(this._superId,"audio/sfx_wins_hit_mega",g.SLOTS_UNICORN),this._superId=-1);break;case"payout":-1!=this._payoutId&&(f.inst.stopOneShot(this._payoutId,"audio/sfx_wins_payout",g.SLOTS_UNICORN),this._payoutId=-1)}},h.onBtnClose=function(){this.node.active=!1},o(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(c))._instance=null,y=t((m=R).prototype,"bitWin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"mageWin",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(m.prototype,"superWin",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(m.prototype,"winLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=m))||w));h._RF.pop()}}}));

System.register("chunks:///_virtual/UnicoreResultItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UnicornUtils.ts","./UnicoreResult.ts","./Num.ts"],(function(e){var t,n,i,l,s,c,a,o,r,h,u,p,f,b,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,a=e.Node,o=e.Label,r=e.Vec3,h=e.tween,u=e.find,p=e.sp,f=e.Component},function(e){b=e.UnicornUtils},function(e){v=e.UnicoreResult},function(e){w=e.Num}],execute:function(){var L,d,_,g,m,S,y,N,U,z,E,x,R,k;s._RF.push({},"cc145Bf5e1KZYzUbFEVN9t9","UnicoreResultItem",void 0);var I=c.ccclass,T=c.property;e("UnicoreResultItem",(L=I("UnicoreResultItem"),d=T(a),_=T(o),g=T(a),m=T(a),S=T(a),L((U=t((N=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,i(t,"content",U,l(t)),i(t,"winLab",z,l(t)),i(t,"effectNode",E,l(t)),i(t,"lightEffect1",x,l(t)),i(t,"lightEffect2",R,l(t)),i(t,"panelLevel",k,l(t)),t._tw=null,t._betScore=0,t._winScore=0,t}n(t,e);var s=t.prototype;return s.show=function(e,t,n){var i=this;this._betScore=e,this._winScore=t,this.node.active=!0,this.content.scale=new r(1,0,1);var l=0;20===this.panelLevel||100===this.panelLevel?(l=e*this.panelLevel,l=t>=l?l:t):-1===this.panelLevel&&(l=t),this.winLab.string=w.exchangeToThousands(1,n),h(this.content).to(.5,{scale:r.ONE}).call((function(){var s;null==(s=u("unicorn",i.content))||null==(s=s.getComponent(p.Skeleton))||s.setAnimation(0,"1",!0),20===i.panelLevel?(n=0,l=e*i.panelLevel,l=t>=l?l:t):100===i.panelLevel?(n=20*e,l=e*i.panelLevel,l=t>=l?l:t):(n=100*e,l=t);i._tw=b.instance.IncreaseNumber(i.winLab,n,l,{timer:2.6,callback:function(){t>l?v.instance.showNext(i.panelLevel,e,t):(i.scheduleOnce((function(){v.instance.hide()}),2),v.instance.isNext=!0,v.instance.isBest=!0)}.bind(i)}),i._tw.start()})).start()},s.show2=function(e,t,n){var i=this;this._betScore=e,this._winScore=t,this.node.active=!0,this.content.scale=new r(1,0,1);var l=0;20===this.panelLevel||100===this.panelLevel?(l=e*this.panelLevel,l=t>=l?l:t):-1===this.panelLevel&&(l=t),this.winLab.string=w.exchangeToThousands(1,n),20===this.panelLevel?(n=0,l=e*this.panelLevel,l=t>=l?l:t):100===this.panelLevel?(n=20*e,l=e*this.panelLevel,l=t>=l?l:t):(n=100*e,l=t);this._tw=b.instance.IncreaseNumber(this.winLab,n,l,{timer:2.1,callback:function(){t>l?v.instance.showNext(i.panelLevel,e,t):(i.scheduleOnce((function(){v.instance.hide()}),2),v.instance.stopShot("payout"),v.instance.isNext=!0,v.instance.isBest=!0)}.bind(this)}),this._tw.start(),h(this.content).to(.5,{scale:r.ONE}).call((function(){})).start()},s.unAllCallbacks=function(){this.unscheduleAllCallbacks();var e=this._betScore*this.panelLevel;e=this._winScore>=e?e:this._winScore,-1===this.panelLevel&&(e=this._winScore),this.winLab.string=w.exchangeToThousands(1,e),this._winScore<=e&&(v.instance.stopShot("payout"),this.scheduleOnce((function(){v.instance.hide()}),2)),this._tw&&(this._tw.stop(),this._tw=null)},s.onDisable=function(){this.unscheduleAllCallbacks(),v.instance.stopShot("big"),v.instance.stopShot("mage"),this._tw&&(this._tw.stop(),this._tw=null),this.hide(),this.lightEffect1.active=!1,this.lightEffect2.active=!1},s.hide=function(){this.node.active=!1},t}(f)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"winLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"effectNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"lightEffect1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"lightEffect2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"panelLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=N))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornAniManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager3.ts","./GameConst3.ts","./ResourceMgr.ts","./ModuleDef.ts"],(function(n){var i,t,e,a,o,r,c,s,u,l,h,p,y,d,m,f;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.createClass},function(n){r=n.cclegacy,c=n._decorator,s=n.Enum,u=n.sp,l=n.macro,h=n.Vec3,p=n.Component},function(n){y=n.SlotUnicorn},function(n){d=n.SlotUnicornData},function(n){m=n.ResourceMgr},function(n){f=n.ModuleDef}],execute:function(){var A,_,g,S,U,w;r._RF.push({},"71df9kE5ylCtKrC88lpGBjo","UnicornAniManager",void 0);var k=c.ccclass,z=c.property,M=function(n){return n[n.common=0]="common",n[n.stand=1]="stand",n[n.amazed=2]="amazed",n[n.jump=3]="jump",n[n.happy=4]="happy",n[n.shake=5]="shake",n[n.leer=6]="leer",n[n.anger=7]="anger",n[n.gaze=8]="gaze",n[n.yawn=9]="yawn",n[n.fete=10]="fete",n}(M||{});s(M);var R=function(n){return n[n.other=0]="other",n[n.yawn=1]="yawn",n}(R||{});s(R);n("UnicornAniManager",(A=k("UnicornAniManager"),_=z(u.Skeleton),A(((w=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=n.call.apply(n,[this].concat(o))||this,e(i,"unicorn",U,a(i)),i._unicornAni=M.common,i._unicornState=R.other,i._isPlayLoop=!1,i._lastPath="",i.skes={},i}t(i,n);var r=i.prototype;return r.onLoad=function(){var n=this;i._instance?this.node.destroy():(i._instance=this,this.playStand(),this.schedule(this.playGaze,18,l.REPEAT_FOREVER),this.scheduleOnce(this.playYawn,30),this.unicorn.setCompleteListener((function(i){n._isPlayLoop||(n._unicornAni===M.yawn&&n.scheduleOnce(n.playYawn,30),n._unicornAni=M.common,n.playStand())})))},r.onDestroy=function(){i._instance=null},r.loadUnicornAni=function(n,i){var t=this;if(this._unicornAni==M.common||this._unicornAni==M.stand){this._isPlayLoop=i;var e="spine/Unicorn@"+n+"/skeleton";this.unicorn.node.position=new h("fete"===n?0:70,1015),this._unicornAni=M[n],m.inst.loadResByModuleBundle(f.SLOTS_UNICORN,e,u.SkeletonData,(function(n,e){if(n)return console.error("--独角兽动作--",n);t.unicorn.skeletonData=e,t.unicorn.setAnimation(0,"animation",i)}))}},r.resetDowntime=function(){this.unschedule(this.playYawn),this.scheduleOnce(this.playYawn,30),this._unicornState===R.yawn&&(this._unicornState=R.other,this.schedule(this.playGaze,18,l.REPEAT_FOREVER))},r.playStand=function(){this.loadUnicornAni("stand",!0)},r.playAmazed=function(){this.loadUnicornAni("amazed",!1)},r.playJump=function(){this._unicornAni=M.common,this.loadUnicornAni("jump",!0)},r.playFete=function(){this._unicornAni=M.common,this.loadUnicornAni("fete",!0)},r.playHappy=function(){this._unicornAni=M.common,this.loadUnicornAni("happy",!1)},r.playShake=function(){this._unicornAni=M.common,this.loadUnicornAni("shake",!0)},r.playLeer=function(){this.loadUnicornAni("leer",!1)},r.playAngry=function(){this.loadUnicornAni("anger",!1)},r.playGaze=function(){y.GameManager.instance.gameStatus!==d.GameStatus.start&&this.loadUnicornAni("gaze",!1)},r.playYawn=function(){y.GameManager.instance.gameStatus!==d.GameStatus.start&&(this.unscheduleAllCallbacks(),this._unicornState=R.yawn,this.loadUnicornAni("yawn",!1))},o(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(p))._instance=null,U=i((S=w).prototype,"unicorn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornBaseButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,s,a,c,l,u,p,g,h,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.ccenum,l=e.CCInteger,u=e.SpriteFrame,p=e.Sprite,g=e.Button,h=e.tween,y=e.Vec3,d=e.color}],execute:function(){var f,b,m,C,_,k,F,v,T,B,w,A,R;s._RF.push({},"2a8c0oLY6FO57ebA43Nzn6F","UnicornBaseButton",void 0);var z=a.ccclass,D=a.property,S=function(e){return e[e.DARK=0]="DARK",e[e.GRAY=1]="GRAY",e}(S||{});c(S);e("UnicornBaseButton",(f=z("UnicornBaseButton"),b=D({type:S,displayName:"禁用类型"}),m=D(l),C=D({displayName:"是否用作复选按钮",tooltip:"选中状态图片放0  未选中图片放1"}),_=D({displayName:"是否选中",tooltip:"复选按钮的选中状态",visible:function(){return this.isToggle}}),k=D({type:[u],tooltip:"复选按钮要切换的图片",visible:function(){return this.isToggle}}),f((T=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isScale",T,r(t)),n(t,"interactableType",B,r(t)),n(t,"dark",w,r(t)),n(t,"isToggle",A,r(t)),t._isChecked=!0,n(t,"toggleFrames",R,r(t)),t._st=void 0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this._st=this.node.getComponent(p),this.node.on(g.EventType.CLICK,(function(){e.interactable&&(e.isToggle&&(e.isChecked=!e.isChecked,e._st||(e._st=e.node.getComponent(p)),e._st.spriteFrame=e.isChecked?e.toggleFrames[0]:e.toggleFrames[1]),0==e.transition&&e.isScale&&h(e.node).to(.1,{scale:new y(1.05,1.05,1.05)}).to(.1,{scale:y.ONE}).start())}))},o(t,[{key:"isChecked",get:function(){return this._isChecked},set:function(e){this._isChecked=e,this.node.getComponent(p).spriteFrame=this.isChecked?this.toggleFrames[0]:this.toggleFrames[1]}},{key:"interactable",get:function(){return this._interactable},set:function(e){if(this._st||(this._st=this.node.getComponent(p)),this._st){if(this.interactableType==S.DARK){var t=e?255:this.dark;this._st.color=d(t,t,t,255)}this.interactableType==S.GRAY&&(this._st.grayscale=!e)}this._interactable=e}}]),t}(g)).prototype,"isScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=t(v.prototype,"interactableType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.DARK}}),w=t(v.prototype,"dark",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 125}}),A=t(v.prototype,"isToggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(v.prototype,"isChecked",[_],Object.getOwnPropertyDescriptor(v.prototype,"isChecked"),v.prototype),R=t(v.prototype,"toggleFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=v))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornCashScroll.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var r,o,c,t;return{setters:[function(n){r=n.inheritsLoose},function(n){o=n.cclegacy,c=n._decorator,t=n.Component}],execute:function(){var e;o._RF.push({},"890a9/oba9Leaw1SXkVjCH6","UnicornCashScroll",void 0);var s=c.ccclass;c.property,n("UnicornCashScroll",s("UnicornCashScroll")(e=function(n){function o(){return n.apply(this,arguments)||this}return r(o,n),o}(t))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornEndManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager2.ts","./UnicornGameItem.ts","./GameManager3.ts","./UnicornUtils.ts","./UnicornAniManager.ts","./Num.ts","./ModuleDef.ts","./AudioMgr.ts"],(function(t){var e,n,i,r,a,o,s,l,h,c,g,u,d,f,p,_,m,L,w,v,C,b,N,y,S,I,M,E,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.Node,h=t.Prefab,c=t.SpriteFrame,g=t.instantiate,u=t.find,d=t.Vec3,f=t.Sprite,p=t.Mask,_=t.macro,m=t.randomRangeInt,L=t.tween,w=t.easing,v=t.Label,C=t.Component},function(t){b=t.SlotUnicorn},function(t){N=t.UnicornGameItem},function(t){y=t.SlotUnicorn},function(t){S=t.UnicornUtils},function(t){I=t.UnicornAniManager},function(t){M=t.Num},function(t){E=t.ModuleDef},function(t){F=t.AudioMgr}],execute:function(){var U,x,R,T,O,A,k,z,P,D,G,H,V,j,B,X;o._RF.push({},"2c33416X0FPS5EYHzsxa/0y","UnicornEndManager",void 0);var Y=s.ccclass,q=s.property;t("UnicornEndManager",(U=Y("UnicornEndManager"),x=q(l),R=q(l),T=q(l),O=q({type:h,displayName:"中奖对象"}),A=q([c]),k=q(l),U(((X=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"blackNode",D,r(e)),i(e,"lineContent",G,r(e)),i(e,"turbleContent",H,r(e)),i(e,"rewardPrefab",V,r(e)),i(e,"lightFrames",j,r(e)),i(e,"winTip",B,r(e)),e._leftLightContent=null,e._rightLightContent=null,e._unicornElements=[],e._rewardLines=[],e._rewardLineNo=[],e._isElementLight=[],e._playIndex=0,e.lightIndexList=[],e._data=[],e.isRunMiniScroll=0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){if(e._instance)this.node.destroy();else{e._instance=this,this._leftLightContent=b.UIManager.instance.leftLightContent,this._rightLightContent=b.UIManager.instance.rightLightContent;for(var t=1;t<=5;t++)this._rewardLines[t]=[];for(var n=0;n<3;n++){this._isElementLight[n]=[!1,!1,!1],this.lightIndexList[n]=[];for(var i=0;i<3;i++){var r=g(this.rewardPrefab);r.parent=u(n.toString(),this.turbleContent),r.name=i.toString(),r.position=new d(0,638),r.active=!1}}}},o.onDestroy=function(){e._instance=null},o.showTurnble=function(t){if(!(t.length<=0)){this._data=t,F.inst.playOneShot("audio/sfx_multipiler",1,E.SLOTS_UNICORN),this.blackNode.active=!0;for(var e=0;e<t.length;e++){var n=t[e].lineNo.toString(),i=u(n,this.lineContent);i.active=!0,this._rewardLines[n].push(i),this._rewardLineNo.push(t[e].lineNo),u(n,this._leftLightContent).getComponent(f).spriteFrame=this.lightFrames[1],u(n,this._rightLightContent).getComponent(f).spriteFrame=this.lightFrames[1];for(var r=0;r<t[e].line.length;r++){var a=u(r.toString(),this.turbleContent),o=t[e].line[r],s=u(o.toString(),a);s.active=!0,s.position=new d(0,319-319*o);var l=s.getComponent(N);l.setNull(),l.setAnimation(this._unicornElements[r].elementIds[o],"2"),l.showEffect(),this._rewardLines[n].push(s)}}this.turbleContent.getComponent(p).enabled=!1,this._rewardLineNo.sort((function(t,e){return t-e})),F.inst.playOneShot("audio/sfx_win_line",1,E.SLOTS_UNICORN),I.instance.playLeer(),t.length>1&&this.schedule(this.playReward,1.5,_.REPEAT_FOREVER)}},o.setMiniElement=function(){if(!(this.isRunMiniScroll>=1)){this.isRunMiniScroll++,b.UIManager.instance.stopShot();for(var t=[],e=0;e<3;e++)t[e]=[];for(var n=0;n<3;n++){var i=S.instance.getRandomNumberNotInArray(0,2,this.lightIndexList[n]);-1!==i&&t[n].push(i)}for(var r=0,a=0;a<3;a++)t[a].length>0&&r++;if(3===r)for(var o=[],s=m(1,3),l=0;l<s;l++){var h=S.instance.getRandomNumberNotInArray(1,2,o);t[h]=[],o.push(h)}0!==r&&this.showMiniElement(t)}},o.showMiniElement=function(t){var e=this;S.instance.startLoad((function(n){if(0!==t[n].length){var i=t[n][0];if(-1!=i){e.lightIndexList[n].push(i);var r=u(n.toString(),e.turbleContent),a=u(i.toString(),r);a.active=!0,a.getComponent(N).closeEffect(),a.position=new d(0,638+319*(2-i)),y.GameManager.instance.setImage(a,e._unicornElements[n].elementIds[i]),0!=e._unicornElements[n].elementIds[i]&&(e._isElementLight[n][i]=!0),a.scale=new d(.9,.9),L(a).removeSelf(),L(a).to(.1,{position:new d(0,319-319*i)},{easing:w.backOut}).delay(.1).call((function(t){L(t).to(.1,{scale:d.ONE}).call((function(){for(var t=0;t<3;t++)F.inst.playOneShot("audio/sfx_reel_stop",1,E.SLOTS_UNICORN);for(var n=y.GameManager.instance.getAllLineNo(e._isElementLight,e._rewardLineNo),i=0;i<n.length;i++){0===i&&F.inst.playOneShot("audio/sfx_win_line",1,E.SLOTS_UNICORN);var r=n[i].toString();u(r,e.lineContent).active=!0,e._rewardLineNo.push(n[i]),u(r,e._leftLightContent).getComponent(f).spriteFrame=e.lightFrames[1],u(r,e._rightLightContent).getComponent(f).spriteFrame=e.lightFrames[1];for(var a=y.GameManager.instance.getLineNo(r),o=0;o<e.turbleContent.children.length;o++){u(a[o].toString(),e.turbleContent.children[o]).getComponent(N).showEffect()}}e.isRunMiniScroll=0})).tag(1200).start()})).tag(1200).start()}}}),t.length)},o.playReward=function(){if(F.inst.playOneShot("audio/sfx_win_line",1,E.SLOTS_UNICORN),this._playIndex>=this._rewardLineNo.length){this._playIndex=0,this.winTip.active=!1;for(var t=0;t<this._rewardLineNo.length;t++)for(var e=0;e<this._rewardLines[this._rewardLineNo[t]].length;e++)this._rewardLines[this._rewardLineNo[t]][e].active=!0,this.setLightFrame(t,1)}else{for(var n=0;n<this._rewardLineNo.length;n++)for(var i=0;i<this._rewardLines[this._rewardLineNo[n]].length;i++)this._rewardLines[this._rewardLineNo[n]][i].active=!1,this.setLightFrame(n,0);this.winTip.active=!0,2===this._rewardLineNo[this._playIndex]?this.winTip.position=new d(0,740):3===this._rewardLineNo[this._playIndex]?this.winTip.position=new d(0,100):this.winTip.position=new d(0,420),u("Label",this.winTip).getComponent(v).string=M.exchangeToThousands(1,this.getLineScore(this._rewardLineNo[this._playIndex]));for(var r=0;r<this._rewardLines[this._rewardLineNo[this._playIndex]].length;r++)this._rewardLines[this._rewardLineNo[this._playIndex]][r].active=!0,this.setLightFrame(this._playIndex,1);this._playIndex++}},o.getLineScore=function(t){for(var e=0;e<this._data.length;e++)if(this._data[e].lineNo===t)return this._data[e].lineScore},o.setLightFrame=function(t,e){u(this._rewardLineNo[t].toString(),b.UIManager.instance.rightLightContent).getComponent(f).spriteFrame=b.UIManager.instance.lightFrames[e],u(this._rewardLineNo[t].toString(),b.UIManager.instance.leftLightContent).getComponent(f).spriteFrame=b.UIManager.instance.lightFrames[e]},o.setMask=function(){this.turbleContent.getComponent(p).enabled=!1},o.isAllLight=function(){for(var t=0;t<this.turbleContent.children.length;t++)for(var e=this.turbleContent.children[t],n=0;n<e.children.length;n++)if(!e.children[n].activeInHierarchy)return!1;return!0},o.hide=function(){this.blackNode.active=!1,this.winTip.active=!1,this._data=[],this.turbleContent.getComponent(p).enabled=!0,this.unscheduleAllCallbacks();for(var t=0;t<this.lineContent.children.length;t++)this.lineContent.children[t].active=!1,this._leftLightContent.children[t].getComponent(f).spriteFrame=this.lightFrames[0],this._rightLightContent.children[t].getComponent(f).spriteFrame=this.lightFrames[0];for(var e=1;e<=5;e++)this._rewardLines[e]=[];for(var n=0;n<3;n++)this._isElementLight[n]=[!1,!1,!1],this.lightIndexList[n]=[];this._rewardLineNo=[];for(var i=0;i<this.turbleContent.children.length;i++)for(var r=this.turbleContent.children[i],a=0;a<r.children.length;a++)r.children[a].position=new d(0,638),r.children[a].active=!1},a(e,[{key:"unicornElements",set:function(t){this._unicornElements=t}}],[{key:"instance",get:function(){return this._instance}}]),e}(C))._instance=null,D=e((P=X).prototype,"blackNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"lineContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(P.prototype,"turbleContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(P.prototype,"rewardPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(P.prototype,"lightFrames",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(P.prototype,"winTip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornGameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager3.ts","./GameConst3.ts","./UnicoreDetailsManager.ts","./UIManager2.ts","./UnicornAniManager.ts","./ResourceMgr.ts","./ModuleDef.ts","./UnicornUtils.ts"],(function(e){var t,n,i,o,s,a,c,r,f,l,d,u,h,p,m,N,v,k,g,w,E,I,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,c=e.Vec3,r=e.Sprite,f=e.sp,l=e.Node,d=e.SpriteFrame,u=e.tween,h=e.easing,p=e.find,m=e.Component},function(e){N=e.SlotUnicorn},function(e){v=e.SlotUnicornData},function(e){k=e.UnicoreDetailsManager},function(e){g=e.SlotUnicorn},function(e){w=e.UnicornAniManager},function(e){E=e.ResourceMgr},function(e){I=e.ModuleDef},function(e){_=e.UnicornUtils}],execute:function(){var U,S,b,y,D,M,O,F,G,R,T,C,z;s._RF.push({},"d5018PezFpL7pxRY7KhzTb4","UnicornGameItem",void 0);var B=a.ccclass,L=a.property;new c(-7,-24),new c(-3,-68),new c,new c(3,-20),new c(-1,-18),new c(-6,-12),new c(0,0),e("UnicornGameItem",(U=B("UnicornGameItem"),S=L(r),b=L(f.Skeleton),y=L(l),D=L(l),M=L(l),U((G=t((F=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"icon",G,o(t)),i(t,"ske",R,o(t)),i(t,"effectNode",T,o(t)),i(t,"wEffectNode",C,o(t)),i(t,"effectFrontNode",z,o(t)),t._faceId=0,t._lastPath="",t.skes={},t.skins={},t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.ske.setCompleteListener((function(t){"2"===t.animation.name&&e.setAnimation(e._faceId,"1",!0)})),_.instance.setNodesByComponent(this.node.parent)},s.initGameItem=function(e){this._faceId=e,this.setElement(e),this.node.on(l.EventType.TOUCH_END,this.touchEnd,this)},s.resetItem=function(){this.wEffectNode.active=!1},s.setNull=function(){this.ske.skeletonData=null,this.icon.spriteFrame=null,this.node.off(l.EventType.TOUCH_END,this.touchEnd,this)},s.setElement=function(e){var t=this;if(201===e){var n="spine/"+e+"/skeleton";this.wEffectNode.active=!0,this.ske.node.scale=new c(.9,.9),E.inst.loadResByModuleBundle(I.SLOTS_UNICORN,n,f.SkeletonData,(function(e,n){if(e||!t.ske||!t.ske.node)return console.error("--换面--",e);t.ske.node.active=!0,t.ske.skeletonData=n,t.ske.setAnimation(0,"1",!0)}))}else{var i="textures/turntable/element/"+e;this.ske.node.scale=c.ONE,E.inst.loadResByModuleBundle(I.SLOTS_UNICORN,i,d,(function(e,n){if(e||!t.icon||!t.icon.node)return console.error("--换面--",i);t.icon.node.active=!0,t.icon.spriteFrame=n}))}},s.addGift=function(){var e=this;201===this._faceId&&(u(this.node).to(.2,{scale:new c(1.1,1.1)},{easing:h.backIn}).call((function(){u(e.node).to(.2,{scale:c.ONE},{easing:h.elasticOut}).start()})).start(),g.UIManager.instance.addGiftEffect(this.node.worldPosition.clone()))},s.closeEffect=function(e){void 0===e&&(e=0);for(var t=0;t<this.effectFrontNode.children.length;t++)this.effectFrontNode.children[t].name!==e.toString()&&(this.effectFrontNode.children[t].active=!1);this.wEffectNode.active=!1;for(var n=0;n<this.effectNode.children.length;n++)this.effectNode.children[n].name!==e.toString()&&(this.effectNode.children[n].active=!1)},s.showEffect=function(){(this.closeEffect(this._faceId),201===this._faceId)?this.wEffectNode.active=!0:p(this._faceId.toString(),this.effectNode).active=!0;this.wEffectNode.active=!1,p(this._faceId.toString(),this.effectFrontNode).active=!0},s.setAnimation=function(e,t,n){var i=this;void 0===n&&(n=!1),this._faceId=e;var o="spine/"+this._faceId+"/skeleton";this.ske.node.scale=c.ONE,201===this._faceId&&(this.ske.node.scale=new c(.9,.9),"2"===t&&(o="spine/"+this._faceId+"_click/skeleton")),E.inst.loadResByModuleBundle(I.SLOTS_UNICORN,o,f.SkeletonData,(function(e,o){if(e||!i.ske||!i.ske.node)return console.error("--换面--",e);i.ske.node.active=!0,i.ske.skeletonData=o,i.ske.setAnimation(0,t,n)}))},s.touchEnd=function(){N.GameManager.instance.gameStatus!==v.GameStatus.start&&(w.instance.resetDowntime(),k.instance.showDetails(this._faceId,this.node.position,this.node.parent.name))},s.onDisable=function(){this.node.off(l.EventType.TOUCH_END,this.touchEnd,this)},t}(m)).prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"ske",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(F.prototype,"effectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(F.prototype,"wEffectNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(F.prototype,"effectFrontNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=F))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornNoticeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager2.ts","./Num.ts","./ModuleDef.ts","./AudioMgr.ts","./LanguageData.ts"],(function(e){var t,i,n,r,o,a,s,c,u,l,h,g,f,w,m,p,b,d,_,S,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,c=e.RichText,u=e.Node,l=e.Label,h=e.SpriteFrame,g=e.tween,f=e.Vec3,w=e.macro,m=e.UITransform,p=e.Component},function(e){b=e.SlotUnicorn},function(e){d=e.Num},function(e){_=e.ModuleDef},function(e){S=e.AudioMgr},function(e){T=e.LanguageData}],execute:function(){var v,L,y,F,N,B,I,x,U,z,M,O,R,D,E,V,A,C,G,P,k;o._RF.push({},"78c5fEk+zpC24GAJ1nQflYw","UnicornNoticeView",void 0);var j=a.ccclass,H=a.property,J=["broadcast1","broadcast2","broadcast3","broadcast4"];e("UnicornNoticeView",(v=j("UnicornNoticeView"),L=H(s),y=H(c),F=H(u),N=H(s),B=H(l),I=H([h]),x=H([h]),U=H(u),z=H(u),v((R=t((O=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"noticeBg",R,r(t)),n(t,"msgLab",D,r(t)),n(t,"scoreNode",E,r(t)),n(t,"winSpr",V,r(t)),n(t,"winScoreLab",A,r(t)),n(t,"winFrames",C,r(t)),n(t,"winTextFrames",G,r(t)),n(t,"effectBg",P,r(t)),n(t,"effectBg2",k,r(t)),t._noticeIndex=2,t._msgTween=null,t._winScore=0,t._isShow=!1,t}i(t,e);var o=t.prototype;return o.balanceScore=function(e,t,i,n){if(!this._isShow){var r=t/e;this._winScore=t,r?(this._isShow=!0,r>0&&r<10?(this.noticeBg.spriteFrame=this.winFrames[0],this.effectBg2.active=!0):r>=10&&r<20?(this.noticeBg.spriteFrame=this.winFrames[1],this.effectBg.active=!0):r>=100&&(this.noticeBg.spriteFrame=this.winFrames[3],this.effectBg.active=!0),n&&i?(b.UIManager.instance.setWinMult(r),this.winScoreLab.string=d.exchangeToThousands(1,t/10)):(b.UIManager.instance.showReward(r,t),this.winScoreLab.string=d.exchangeToThousands(1,t)),this.msgLab.node.active=!1,this.scoreNode.active=!0,S.inst.playOneShot("audio/sfx_win_line",1,_.SLOTS_UNICORN),g(this.node).removeSelf(),g(this.node).to(.2,{scale:new f(1.2,1.2,1.2)}).delay(.1).to(.2,{scale:f.ONE}).call((function(){r<10&&(i?i&&!n&&b.UIManager.instance.resetGame():b.UIManager.instance.gameOver(),b.UIManager.instance.setScore(t))})).union().start()):b.UIManager.instance.resetGame()}},o.updateTip=function(){this.winScoreLab.string=d.exchangeToThousands(1,this._winScore)},o.hideScore=function(){this.effectBg.active=!1,this.effectBg2.active=!1,this.scoreNode.active=!1,this._isShow=!1,this.msgLab.node.active=!0,this.noticeBg.spriteFrame=this.winFrames[0],this.winSpr.spriteFrame=this.winTextFrames[0]},o.showNotice=function(){this.schedule(this.setNotice,7,w.REPEAT_FOREVER,.1)},o.setNotice=function(){var e=this;this._msgTween&&(this._msgTween.stop(),this._msgTween=null),this.msgLab.string=T.getLangByID(J[this._noticeIndex]),this.scheduleOnce((function(){var t=e.msgLab.getComponent(m).contentSize;t.width>860?(e.msgLab.node.position=new f((t.width-860)/2),e.scheduleOnce((function(){g(e.msgLab.node).removeSelf(),e._msgTween=g(e.msgLab.node).to(5,{position:new f(-t.width,0)}),e._msgTween.start()}),1)):e.msgLab.node.position=f.ZERO}),1/60),this._noticeIndex++,this._noticeIndex>=J.length&&(this._noticeIndex=0)},o.stopNotice=function(){this._msgTween&&(this._msgTween.stop(),this._msgTween=null)},t}(p)).prototype,"noticeBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(O.prototype,"msgLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(O.prototype,"scoreNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"winSpr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(O.prototype,"winScoreLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(O.prototype,"winFrames",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(O.prototype,"winTextFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(O.prototype,"effectBg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(O.prototype,"effectBg2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=O))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornPoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,t,l,s,a,r;return{setters:[function(o){e=o.inheritsLoose,n=o.createClass},function(o){t=o.cclegacy,l=o._decorator,s=o.NodePool,a=o.instantiate,r=o.Component}],execute:function(){var i,c;t._RF.push({},"e697elQzDxHhLNfsYfv2JVZ","UnicornPoolManager",void 0);var p=l.ccclass;l.property,o("UnicornPoolManager",p("UnicornPoolManager")(((c=function(o){function t(){for(var e,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(e=o.call.apply(o,[this].concat(t))||this).pools={},e}e(t,o);var l=t.prototype;return l.createPool=function(o){if(!this.pools[o.name]){for(var e=o.mediator||"",n=new s(e),t=o.initCount||1,l=o.nodeName?o.nodeName:o.prefab.name,r=0;r<t;++r){var i=a(o.prefab);i.name="["+o.name+"]"+l,n.put(i)}o.pool=n,this.pools[o.name]=o}},l.createPoolAsync=function(o){if(this.pools[o.name])o.cb&&o.cb();else{console.log("createPool","start");for(var e=o.mediator||"",n=new s(e),t=o.initCount||1,l=0,r=o.name?o.name:o.prefab.name,i=0;i<t;++i)setTimeout((function(){var e=a(o.prefab);if(e.name="["+o.name+"]"+r,n.put(e),++l>=t&&o.cb)return o.cb()}),0);o.pool=n,this.pools[o.name]=o,console.log("createPool","done")}},l.clearPool=function(o){console.log("clearPool",o),console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool.clear(),delete this.pools[o]},l.clearPoolContent=function(o){console.log("clearPoolContent",o),console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool.clear()},l.getPool=function(o){return console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool},l.getPoolObj=function(o,e){if(0==this.pools[o].pool.size()){var n=a(this.pools[o].prefab);this.pools[o].pool.put(n)}return this.pools[o].pool.get(e)},l.getPoolParams=function(o){return this.pools[o]},l.putPoolObj=function(o,e){this.pools[o].pool.put(e)},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(r))._instance=null,c.PoolsName={element:"element",giftEffect:"giftEffect"},i=c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/UnicornUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Num.ts"],(function(e){var n,t,r,i,o,a,s,c,l,u,m,h,p,f;return{setters:[function(e){n=e.inheritsLoose,t=e.regeneratorRuntime,r=e.createClass,i=e.asyncToGenerator},function(e){o=e.cclegacy,a=e._decorator,s=e.Vec3,c=e.ParticleSystem,l=e.easing,u=e.tween,m=e.randomRangeInt,h=e.v2,p=e.Component},function(e){f=e.Num}],execute:function(){var d,g;o._RF.push({},"c209aWHFXVDUJ747c0yvl8Y","UnicornUtils",void 0);var b=a.ccclass,y=(a.property,{unicorn:201,heart:101,cloud:102,flower:103,marshmallow:104,rainbow:105,crown:106}),v={1:[1,1,1],2:[0,0,0],3:[2,2,2],4:[0,1,2],5:[2,1,0],6:[1,2,1],7:[1,2,2],8:[2,2,1],9:[2,2,2],10:[2,3,2]};e("UnicornUtils",b("UnicornUtils")(((g=function(e){function o(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).numberTween=null,n.delayTime=.2,n}n(o,e);var a=o.prototype;return a.conver=function(e,n){var t={betScore:0,code:200,elements:[],lines:[],mini:{miniElementId:0,miniElements:[],miniLines:[],miniWinScore:0},winScore:0,isAllSame:0};if(e.isSucc){t.code=200,t.betScore=n,t.winScore=f.toThousandsBack(e.res.payout);var r=e.res.results[0];if(r.bigEvents){t.mini.miniWinScore=f.toThousandsBack(e.res.payout),t.mini.miniElementId=y[r.chosenSymbolId?r.chosenSymbolId:""];for(var i=0;i<3;i++){t.mini.miniElements.push({elementIds:[]});for(var o=0;o<3;o++)t.mini.miniElements[i].elementIds.push(0)}for(var a=r.symbols.length-1;a>=0;a--)"the_empty"===r.symbols[a].id?t.mini.miniElements[r.symbols[a].coordinate.reel-1].elementIds[3-r.symbols[a].coordinate.row]=0:t.mini.miniElements[r.symbols[a].coordinate.reel-1].elementIds[3-r.symbols[a].coordinate.row]=y[r.symbols[a].id];if(r.paylines.length>0)for(var s=0;s<r.paylines.length;s++){var c=r.paylines[s],l=parseInt(c.id),u=f.toThousandsBack(c.payout);t.mini.miniLines.push({lineNo:l,lineScore:u,line:v[l]})}r.allTheSame&&r.allTheSame.isTheSame&&(t.isAllSame=y[r.chosenSymbolId])}else{for(var m=0;m<3;m++){t.elements.push({elementIds:[]});for(var h=0;h<3;h++)t.elements[m].elementIds.push(0)}for(var p=r.symbols.length-1;p>=0;p--)"null"!==r.symbols[p].id&&(t.elements[r.symbols[p].coordinate.reel-1].elementIds[3-r.symbols[p].coordinate.row]=y[r.symbols[p].id]);if(r.paylines.length>0)for(var d=0;d<r.paylines.length;d++){var g=r.paylines[d],b=parseInt(g.id),w=f.toThousandsBack(g.payout);t.lines.push({lineNo:b,lineScore:w,line:v[b]})}}}else t.code=500;return t},a.setNodesByComponent=function(e,n,t){var r=this;void 0===n&&(n=90),void 0===t&&(t=new s(.75,.75,.75));var i=e.getComponent(c);i&&(i.node.scale=t.clone().multiply(i.node.scale.clone())),e.children.forEach((function(e){return r.setNodesByComponent(e,n,t)}))},a.IncreaseNumber=function(e,n,t,r){r||(r={prefix:"",timer:3,place:2,easing:{easing:l.quintOut},tag:1});var i=r.place?r.place:2,o=r.timer?r.timer:3,a=r.prefix?r.prefix:"",s=r.tag?r.tag:1,c=(r.easing?r.easing:l.quintOut,t-n);if(c<0)return this.ReceduNumber(e,n,t,r);var m=c*Math.pow(10,i);return e.string=a+f.exchangeToThousands(1,n),this.numberTween=u({number:0}).to(o,{number:Math.round(m)},{progress:function(t,r,o,s){return e.string=a+f.exchangeToThousands(1,(n*Math.pow(10,i)+Math.ceil(t+(r-t)*s))/Math.pow(10,i)),(n*Math.pow(10,i)+t+(r-t)*s)/Math.pow(10,i)},easing:l.linear}).call((function(){e.string=a+f.exchangeToThousands(1,t),r.callback&&r.callback()})).tag(s),this.numberTween},a.ReceduNumber=function(e,n,t,r){this.numberTween&&this.numberTween.stop(),r||(r={prefix:"",timer:2,place:2});var i=r.place?r.place:2,o=r.timer?r.timer:2,a=r.prefix?r.prefix:"",s=r.tag?r.tag:2,c=Math.abs(t-n)*Math.pow(10,i);return e.string=a+f.exchangeToThousands(1,n),this.numberTween=u({number:0}).to(o,{number:c},{progress:function(t,r,o,s){return e.string=a+f.exchangeToThousands(1,(n*Math.pow(10,i)-Math.ceil(t+(r-t)*s))/Math.pow(10,i)),(n*Math.pow(10,i)-t+(r-t)*s)/Math.pow(10,i)},easing:l.quintOut}).call((function(){e.string=a+f.exchangeToThousands(1,t),r.callback&&r.callback()})).tag(s),this.numberTween},a.getRandomNumberNotInArray=function(e,n,t){for(var r=[],i=e;i<=n;i++)t.includes(i)||r.push(i);return r.length<=0?-1:r[m(0,r.length)]},a.bezierTo=function(e,n,t,r,i,o){o=o||Object.create(null);return o.onUpdate=function(n,o){var a=e.position.clone();e.position=function(e,n,t,r){var i=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,o=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,a=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new s(i,o,a)}(o,t,r,i);var c=e.position.clone(),l=a.x-c.x,u=a.y-c.y,m=180,p=h(0,0);l<0?(m=180,p=h(0,1)):(m=0,p=h(0,-1));var f=h(l,u).angle(p)/Math.PI*180+m;e.eulerAngles=new s(0,0,f)},u(e).to(n,{},o)},a.bezierTo2=function(e,n,t,r,i,o,a){a=a||Object.create(null);return a.onUpdate=function(n,t){e.worldPosition=function(e,n,t,r){var i=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,o=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,a=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new s(i,o,a)}(t,r,i,o)},u(e).delay(t).to(n,{},a)},a.startLoad=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];this.framingLoad(e,n,r)},a._getItemGenerator=t().mark((function e(n,r,i){var o,a,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>0)){e.next=21;break}if("boolean"!=typeof(o=i[i.length-1])||!o){e.next=12;break}a=r-1;case 4:if(!(a>=0)){e.next=10;break}return e.next=7,n(a,i);case 7:a--,e.next=4;break;case 10:e.next=19;break;case 12:s=0;case 13:if(!(s<r)){e.next=19;break}return e.next=16,n(s,i);case 16:s++,e.next=13;break;case 19:e.next=28;break;case 21:c=0;case 22:if(!(c<r)){e.next=28;break}return e.next=25,n(c,i);case 25:c++,e.next=22;break;case 28:case"end":return e.stop()}}),e)})),a.framingLoad=function(){var e=i(t().mark((function e(n,r,i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executePreFrame(this._getItemGenerator(n,r,i),1);case 2:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),a.executePreFrame=function(e,n){var t=this;return new Promise((function(r,i){var o=e;!function e(){var i=(new Date).getTime();t.scheduleOnce((function(){for(var a=o.next();;a=o.next()){if(null==a||a.done)return void r(!0);if((new Date).getTime()-i>n)return void t.scheduleOnce((function(){e()}))}}),t.delayTime)}()}))},r(o,null,[{key:"instance",get:function(){return this._instance||(this._instance=new o),this._instance}}]),o}(p))._instance=null,d=g))||d);o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_unicorn', 'chunks:///_virtual/module_slots_unicorn'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});