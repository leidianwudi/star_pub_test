System.register("chunks:///_virtual/GomokuAI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GomokuGameMgr.ts","./RoomMgr.ts"],(function(t){var n,o,r,e,i,s,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.director,i=t.Component},function(t){s=t.GomokuGameEvent,a=t.GomokuGameMgr},function(t){c=t.RoomMgr}],execute:function(){var u;o._RF.push({},"2d187RL2/lGubUmBRydfnd/","GomokuAI",void 0);var d=r.ccclass;r.property,t("GomokuAI",d("GomokuAI")(u=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.start=function(){e.on(s.TURN_PLAYER_CHANGED,this.onEvent_TurnPlayerChanged,this),e.on(s.PLACE_PIECE,this.onCheckResult,this)},r.onDestroy=function(){e.off(s.TURN_PLAYER_CHANGED,this.onEvent_TurnPlayerChanged,this),e.off(s.PLACE_PIECE,this.onCheckResult,this)},r.onEvent_TurnPlayerChanged=function(){this.scheduleOnce(this.onAIPlay.bind(this),1)},r.onAIPlay=function(){if("ai"==a.inst.gameData.currentPlayer){var t=a.inst.boardMgr.getBestPlaceGrid(2),n=a.inst.boardMgr.getBestPlaceGrid(1),o=t;n.score>=t.score&&(o=n),a.inst.boardMgr.setGrid(o.gridX,o.gridY,2);var r={uid:a.inst.gameData.currentPlayer,gridX:o.gridX,gridY:o.gridY,value:2};e.emit(s.PLACE_PIECE,r),a.inst.changeTurnPlayer()}},r.onCheckResult=function(t){var n=a.inst.boardMgr.getGridData(t.gridX,t.gridY);if(a.inst.boardMgr.checkWin(t.gridX,t.gridY,n)){var o=function(t){t?(a.inst.initAIMode(),tgx.SceneUtil.reloadScene()):c.inst.exitRoom()};1==n?tgx.UIAlert.show("你赢了! 再来一局？",!0).onClick(o):tgx.UIAlert.show("你输了! 再来一局？",!0).onClick(o)}},r.update=function(t){},o}(i))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuDef.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"516d96/ohRAxKwxPD7qtEvH","GomokuDef",void 0);t("ConstantDef",(function(){this.GRID_SIZE=1.25}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuGameHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./SceneDef.ts","./GomokuGameMgr.ts","./GamePlayerInfo.ts","./UIChat.ts","./RoomMgr.ts","./NetGameServer.ts","./SubGameMessage.ts"],(function(t){var e,i,n,r,s,o,a,l,c,h,u,f,p,m,d,g,y,U,R,b,L,I,S,v,E,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,h=t.Button,u=t.Node,f=t.director,p=t.Component,m=t.Sprite,d=t.instantiate},function(t){g=t.UserMgr},function(t){y=t.SceneDef},function(t){U=t.GomokuGameMgr,R=t.GomokuGameEvent},function(t){b=t.GamePlayerInfo},function(t){L=t.UIChat},function(t){I=t.RoomMgr,S=t.GameMode,v=t.RoomEvent},function(t){E=t.gameNet},function(t){G=t.SubGameMessage}],execute:function(){var C,w,_,A,M,P,D,k,N,x,H,O,T,W,B;a._RF.push({},"98a35l9iWNL3rj2I9KJ7/07","GomokuGameHUD",void 0);var z=l.ccclass,j=l.property;t("GomokuGameHUD",(C=z("GomokuGameHUD"),w=j(b),_=j(b),A=j(c),M=j(h),P=j(u),D=j(c),C((x=e((N=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"leftPlayer",x,r(e)),n(e,"rightPlayer",H,r(e)),n(e,"tips",O,r(e)),n(e,"btnReady",T,r(e)),n(e,"watcherList",W,r(e)),n(e,"lblRoomId",B,r(e)),e}i(e,t);var a=e.prototype;return a.start=function(){g.inst.uid?(tgx.UIMgr.inst.closeAll(),this.initEventListener(),I.inst.isOnline?(I.inst.rpc_Ready(),this.reStart()):this.onRoomBackByRoomMgr()):tgx.SceneUtil.loadScene(y.START)},a.reStart=function(){I.inst.rpc_ClientReady()},a.onRoomBackByRoomMgr=function(){I.inst.isOnline?this.lblRoomId.string=I.inst.data.displayId||"":this.lblRoomId.string="",this.initUser(),this.initWatcherList(),this.updateCtrlUI(),I.inst.isOnline&&tgx.UIMgr.inst.showUI(L,null,null,E)},a.initUser=function(){if(I.inst.isOnline){this.leftPlayer.setUserId(U.inst.leftUserId),this.rightPlayer.setUserId(U.inst.rightUserId);var t=I.inst.selfUser;this.btnReady.node.active=t&&t.playerId&&!t.ready}else this.btnReady.node.active=!1,this.leftPlayer.setUserId(g.inst.uid),I.inst.gameMode==S.AI?this.rightPlayer.setAILevel(0):this.rightPlayer.node.active=!1},a.initEventListener=function(){f.on(R.TURN_PLAYER_CHANGED,this.updateCtrlUI,this),f.on(v.NEW_USER_COMES,this.onNewUserComes,this),f.on(v.USER_DATA_CHANGED,this.onUserDataChanged,this),f.on(v.USER_LEAVES,this.onUserLeaves,this),f.on(v.WATCHER_LIST_CHANGED,this.initWatcherList,this),f.on(R.ROOM_PUSH,this.onRoomBackByRoomMgr,this),f.on(G.EnterSubGameRoomSuccess,this.reStart,this)},a.onDestroy=function(){f.off(R.TURN_PLAYER_CHANGED,this.updateCtrlUI,this),f.off(v.NEW_USER_COMES,this.onNewUserComes,this),f.off(v.USER_DATA_CHANGED,this.onUserDataChanged,this),f.off(v.USER_LEAVES,this.onUserLeaves,this),f.off(v.WATCHER_LIST_CHANGED,this.initWatcherList,this),f.off(R.ROOM_PUSH,this.onRoomBackByRoomMgr,this),f.off(G.EnterSubGameRoomSuccess,this.reStart,this)},a.onNewUserComes=function(t){t.isPlayer?this.initUser():this.initWatcherList()},a.onUserLeaves=function(t){t.isPlayer?this.initUser():this.initWatcherList()},a.onUserDataChanged=function(t){this.initUser(),void 0!==t.isPlayer&&this.initWatcherList()},a.initWatcherList=function(){var t=s(o().mark((function t(){var e,i,n,r,s,a,l,c,h,u,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.watcherList.parent.active=!1,i=null==(e=I.inst.data)?void 0:e.userList,I.inst.isOnline&&i.length){t.next=4;break}return t.abrupt("return");case 4:for(this.watcherList.parent.active=!0,n=0;n<this.watcherList.children.length;++n)this.watcherList.children[n].active=!1;for(r=[],s=this.watcherList.children[0],a=0;a<i.length;++a)(l=i[a]).playerId||(c=d(s),this.watcherList.addChild(c),r.push(l.uid));return t.next=11,g.inst.rpc_GetUserInfos(r);case 11:for(h=0;h<r.length;++h)(u=this.watcherList.children[h]).active=!0,f=u.children[0].getComponent(m),g.inst.setUserIconAndName(r[h],f);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.updateCtrlUI=function(){I.inst.gameMode==S.SOLO?this.tips.string="单人练习":I.inst.isWatcher?this.tips.string="观战中...":I.inst.data.playerNum<2?this.tips.string="等待对手加入...":U.inst.isMyTurn?this.tips.string="该你落子...":this.tips.string="对手落子..."},a.onBtnExitClicked=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.inst.isOnline?I.inst.isPlayer&&I.inst.isPlaying?tgx.UIAlert.show("确定要认输并退出吗？",!0).onClick(s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&I.inst.exitRoom();case 1:case"end":return t.stop()}}),t)})))):I.inst.exitRoom():tgx.UIAlert.show("球局未结束，确定离开吗？",!0).onClick((function(t){t&&I.inst.exitRoom()}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(p)).prototype,"leftPlayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"rightPlayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(N.prototype,"tips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"btnReady",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(N.prototype,"watcherList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(N.prototype,"lblRoomId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./SubGameMgr.ts","./UserMgr.ts","./GomokuBoardMgr.ts","./NetGameServer.ts","./RoomMgr.ts","./SubGameDef.ts","./ModuleDef.ts"],(function(e){var t,a,r,i,n,s,u,o,g,m,l,h,c,_,P;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e.director},function(e){u=e.GameMode,o=e.GameMgr},function(e){g=e.SubGameMgr},function(e){m=e.UserMgr},function(e){l=e.GomokuBoardMgr},function(e){h=e.gameNet},function(e){c=e.RoomMgr},function(e){_=e.SubGameDef},function(e){P=e.ModuleDef}],execute:function(){n._RF.push({},"a9a43PJJlBKa4KibaJGYZGJ","GomokuGameMgr",void 0);var d=e("GomokuGameEvent",(function(){}));d.ROOM_PUSH="GomokuGameEvent.ROOM_PUSH",d.TURN_PLAYER_CHANGED="GomokuGameEvent.TURN_PLAYER_CHANGED",d.PLAYER_COMES="GomokuGameEvent.PLAYER_COMES",d.PLAYER_LEAVES="GomokuGameEvent.PLAYER_LEAVES",d.GAME_BEGIN="GomokuGameEvent.GAME_BEGIN",d.GAME_OVER="GomokuGameEvent.GAME_OVER",d.PLACE_PIECE="GomokuGameEvent.PLACE_PIECE";var y=e("GomokuGameMgr",function(e){function n(){var t;return(t=e.call(this)||this)._gameData=void 0,t._boardMgr=new l,t._gameType=_.GOMOKU,t._entryScene={name:"lobby_gomoku",bundle:P.GOMOKU},t._gameScene={name:"game_gomoku",bundle:P.GOMOKU},t.initNetMsgHandlers(),t}t(n,e);var o=n.prototype;return o.initNetMsgHandlers=function(){h.listenMsg("gomoku/GameDataSyncPush",this.onNet_GameDataSyncPush,this),h.listenMsg("gomoku/GameDataChangedPush",this.onNet_GameDataChangedPush,this),h.listenMsg("gomoku/PlayerComesPush",this.onNet_PlayerComesPush,this),h.listenMsg("gomoku/PlayerDataChangedPush",this.onNet_PlayerDataChangedPush,this),h.listenMsg("gomoku/PlayerLeavesPush",this.onNet_PlayerLeavesPush,this),h.listenMsg("gomoku/GameBeginPush",this.onNet_GameBeginPush,this),h.listenMsg("gomoku/GameOverPush",this.onNet_GameOverPush,this),h.listenMsg("gomoku/PlacePiecePush",this.onNet_PlacePiecePush,this)},o.reset=function(){e.prototype.reset.call(this)},o.initAIMode=function(){g.gameMgr=this,c.inst.initAIMode("gomoku",[{uid:m.inst.uid,ready:!0,playerId:1},{uid:"ai",ready:!0,playerId:2}]),this._gameData={players:[{uid:m.inst.uid,color:"black"},{uid:"ai",color:"white"}],currentPlayer:m.inst.uid},this._boardMgr.reset()},o.changeTurnPlayer=function(){c.inst.gameMode==u.AI&&(this._gameData.currentPlayer==this._gameData.players[0].uid?this._gameData.currentPlayer=this.gameData.players[1].uid:this._gameData.currentPlayer=this.gameData.players[0].uid,s.emit(d.TURN_PLAYER_CHANGED,this._gameData.currentPlayer))},o.getPlayer=function(e){if(!this._gameData||!this._gameData.players)return null;for(var t=0;t<this._gameData.players.length;++t){var a=this._gameData.players[t];if(a.uid==e)return a}return null},o.getPlayerIndex=function(e){for(var t=0;t<this._gameData.players.length;++t)if(this._gameData.players[t].uid==e)return t;return-1},o.rpc_PlacePiece=function(){var e=r(i().mark((function e(t,a){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.inst.gameMode!=u.AI){e.next=9;break}return 1,this._boardMgr.setGrid(t,a,1),r={uid:n.inst.gameData.currentPlayer,gridX:t,gridY:a,value:1},s.emit(d.PLACE_PIECE,r),this.changeTurnPlayer(),e.abrupt("return",{isSucc:!0,err:null});case 9:return e.next=11,h.callApi("gomoku/PlacePiece",{gridX:t,gridY:a});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),o.onNet_GameDataSyncPush=function(e){this._gameData=e.data,this._boardMgr.gridData=this._gameData.boardData,s.emit(d.ROOM_PUSH)},o.onNet_GameDataChangedPush=function(e){this._gameData&&(void 0!==e.currentPlayer&&(this._gameData.currentPlayer=e.currentPlayer,s.emit(d.TURN_PLAYER_CHANGED,e.currentPlayer)),void 0!==e.boardData&&(this._gameData.boardData=e.boardData))},o.onNet_PlayerComesPush=function(e){this._gameData.players.push(e.player),s.emit(d.PLAYER_COMES,e.player)},o.onNet_PlayerDataChangedPush=function(e){var t=this.getPlayer(e.uid);t&&null!=e.color&&(t.color=e.color)},o.onNet_PlayerLeavesPush=function(e){for(var t=0;t<this._gameData.players.length;++t){if(this._gameData.players[t].uid==e.uid){this._gameData.players.splice(t,1),s.emit(d.PLAYER_LEAVES,e.uid);break}}},o.onNet_GameBeginPush=function(e){this._gameData&&(this._boardMgr.reset(),this._gameData.players.forEach((function(e){e.color=""})),s.emit(d.GAME_BEGIN))},o.onNet_GameOverPush=function(e){s.emit(d.GAME_OVER,e)},o.onNet_PlacePiecePush=function(e){this._boardMgr.setGrid(e.gridX,e.gridY,e.value),s.emit(d.PLACE_PIECE,e)},a(n,[{key:"gameData",get:function(){return this._gameData}},{key:"boardMgr",get:function(){return this._boardMgr}},{key:"selfPlayer",get:function(){return this.getPlayer(m.inst.uid)}},{key:"selfPlayerIndex",get:function(){return this.getPlayerIndex(m.inst.uid)}},{key:"leftUserId",get:function(){return this._gameData&&0!=this._gameData.players.length?c.inst.isPlayer?m.inst.uid:this._gameData.players[0].uid:""}},{key:"rightUserId",get:function(){if(!this._gameData||0==this._gameData.players.length)return"";if(c.inst.isPlayer){if(this._gameData.players[0].uid!=m.inst.uid)return this._gameData.players[0].uid;var e=this._gameData.players[1];return e?e.uid:""}var t=this._gameData.players[1];return t?t.uid:""}},{key:"isMyTurn",get:function(){return!!this._gameData&&(!!c.inst.isPlayer&&(!!this._gameData.currentPlayer&&this._gameData.currentPlayer==m.inst.uid))}}],[{key:"inst",get:function(){return this._inst||(this._inst=new n),this._inst}}]),n}(o));y._inst=void 0,g.inst.registerGameMgr(y.inst),n._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuGameplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts","./GomokuGameMgr.ts","./UserMgr.ts","./SceneUtils.ts","./GameMgr.ts","./GomokuAI.ts","./RoomMgr.ts"],(function(t){var e,o,i,n,r,a,s,c,l,u,h,m,f,g,p,d,P,b,y,v,_,k,w,G,M,R,x,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,l=t.v2,u=t.geometry,h=t.Node,m=t.Material,f=t.instantiate,g=t.MeshRenderer,p=t.director,d=t.Component,P=t.find,b=t.Camera,y=t.v3},function(t){v=t.EasyController,_=t.EasyControllerEvent},function(t){k=t.GomokuGameEvent,w=t.GomokuGameMgr},function(t){G=t.UserMgr},function(t){M=t.SceneUtil},function(t){R=t.GameMode},function(t){x=t.GomokuAI},function(t){E=t.RoomMgr}],execute:function(){var C,T,B,S,A,U,I,N,H,O,D,z,L,F,W,V,Y;s._RF.push({},"9b3c1bgJFRPYoUClvsBL/sy","GomokuGameplay",void 0);var X=c.ccclass,j=c.property,J=l(),q=new u.Ray,K=new u.Plane(0,1,0,-.2);t("GomokuGamePlay",(C=X("GomokuGamePlay"),T=j(h),B=j(h),S=j(h),A=j(m),U=j(m),I=j(m),N=j(m),C((D=e((O=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._piecePool=[],i(e,"white",D,n(e)),i(e,"black",z,n(e)),i(e,"pieceRoot",L,n(e)),i(e,"matWhite",F,n(e)),i(e,"matWhiteHighlight",W,n(e)),i(e,"matBlack",V,n(e)),i(e,"matBlackHighlight",Y,n(e)),e._touchStartTime=0,e._currentSide="black",e._touchStartPoint=l(),e._lastNewPiece=null,e._lastNewPieceValue=0,e}o(e,t);var s=e.prototype;return s.getFromPool=function(t){var e=this._piecePool.pop();e||(e=f(this.white));var o=e.getComponent(g),i=this.matBlack;return 2==t&&(i=this.matWhite),o.setMaterial(i,0),e},s.putToPool=function(t){t&&(t.removeFromParent(),this._piecePool.push(t))},s.start=function(){this.putToPool(this.white),this.putToPool(this.black),v.on(_.SCREEN_TOUCH_START,this.onTouchStart,this),v.on(_.SCREEN_TOUCH_END,this.onTouchEnd,this),p.on(k.PLACE_PIECE,this.onPlacePiece,this),p.on(k.GAME_BEGIN,this.onGameBegin,this),p.on(k.GAME_OVER,this.onGameOver,this),p.on(k.ROOM_PUSH,this.onRoomBackByRoomMgr,this),this.cleanBoard(),E.inst.gameMode==R.AI&&this.node.addComponent(x)},s.onDestroy=function(){v.off(_.SCREEN_TOUCH_START,this.onTouchStart,this),v.off(_.SCREEN_TOUCH_END,this.onTouchEnd,this),p.off(k.PLACE_PIECE,this.onPlacePiece,this),p.off(k.GAME_BEGIN,this.onGameBegin,this),p.off(k.GAME_OVER,this.onGameOver,this),p.off(k.ROOM_PUSH,this.onRoomBackByRoomMgr,this)},s.onRoomBackByRoomMgr=function(){this.initBoard()},s.onGameBegin=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.reloadScene();case 2:this.scheduleOnce((function(){tgx.UIAlert.show("游戏开始！")}),.1);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onGameOver=function(){var t=r(a().mark((function t(e){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!E.inst.isPlayer){t.next=4;break}1==e.reason?tgx.UIAlert.show("对手认输，你赢了！").onClick((function(){E.inst.exitRoom()})):e.winner==G.inst.uid?tgx.UIAlert.show("你赢了！").onClick((function(){E.inst.exitRoom()})):tgx.UIAlert.show("你输了！").onClick((function(){E.inst.exitRoom()})),t.next=8;break;case 4:return t.next=6,G.inst.rpc_GetUserInfo(e.winner);case 6:o=t.sent,1==e.reason?tgx.UIAlert.show("对手认输，玩家["+o.name+"] 获胜！").onClick((function(){E.inst.exitRoom()})):tgx.UIAlert.show("玩家["+o.name+"] 获胜！").onClick((function(){E.inst.exitRoom()}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.initBoard=function(){this.cleanBoard();for(var t=w.inst.boardMgr.sizeInGrid,e=0;e<t;++e)for(var o=0;o<t;++o){var i=w.inst.boardMgr.getGridData(e,o);i&&this.placePiece(e,o,i)}},s.onTouchStart=function(t){this._touchStartTime=Date.now(),this._touchStartPoint.set(t.touch.getLocation())},s.onTouchEnd=function(){var t=r(a().mark((function t(e){var o,i,n,r,s,c,l,h,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.inst.data.isPlaying){t.next=2;break}return t.abrupt("return");case 2:if(o=this._touchStartPoint.x-e.touch.getLocationX(),i=this._touchStartPoint.y-e.touch.getLocationY(),!(o*o+i*i>1||Date.now()-this._touchStartTime>200)){t.next=6;break}return t.abrupt("return");case 6:if(w.inst.isMyTurn){t.next=8;break}return t.abrupt("return");case 8:if(e.getLocation(J),console.log(J),P("Main Camera").getComponent(b).screenPointToRay(J.x,J.y,q),n=u.intersect.rayPlane(q,K),r=y(),q.computeHit(r,n),s=w.inst.boardMgr.posToGrid(r.x,r.z),!w.inst.boardMgr.getGridData(s.x,s.y)){t.next=19;break}return t.abrupt("return");case 19:return c="black"==w.inst.selfPlayer.color?1:2,l=this.getFromPool(c),h=w.inst.boardMgr.gridToPos(s.x,s.y),l.setPosition(h.x,0,h.y),t.next=25,w.inst.rpc_PlacePiece(s.x,s.y);case 25:(m=t.sent).isSucc||tgx.UIAlert.show(m.err.message),this.putToPool(l);case 28:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onPlacePiece=function(t){var e=w.inst.boardMgr.getGridData(t.gridX,t.gridY),o=this.placePiece(t.gridX,t.gridY,e);if(this._lastNewPiece){var i=1==this._lastNewPieceValue?this.matBlack:this.matWhite;this._lastNewPiece.getComponent(g).setMaterial(i,0)}var n=1==e?this.matBlackHighlight:this.matWhiteHighlight;o.getComponent(g).setMaterial(n,0),this._lastNewPiece=o,this._lastNewPieceValue=e},s.cleanBoard=function(){for(var t=this.pieceRoot.children.length-1;t>=0;--t)this.putToPool(this.pieceRoot.children[t]);this._lastNewPiece=null},s.placePiece=function(t,e,o){var i=this.getFromPool(o),n=w.inst.boardMgr.gridToPos(t,e);return i.setPosition(n.x,0,n.y),this.pieceRoot.addChild(i),i},s.randomLayPieceTest=function(){for(var t=0;t<64;++t)for(var e=0;e<64;++e){var o=Math.floor(3*Math.random());w.inst.boardMgr.setGrid(t,e,o)}for(var i=0;i<64;++i)for(var n=0;n<64;++n){var r=w.inst.boardMgr.gridToPos(i,n),a=w.inst.boardMgr.getGridData(i,n);if(console.log(a),0!=a){var s=this.black;2==a&&(s=this.white);var c=f(s);c.setPosition(r.x,0,r.y),this.node.addChild(c)}}},s.update=function(t){},e}(d)).prototype,"white",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(O.prototype,"black",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(O.prototype,"pieceRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"matWhite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(O.prototype,"matWhiteHighlight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(O.prototype,"matBlack",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(O.prototype,"matBlackHighlight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=O))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneUtils.ts","./UserMgr.ts","./UI_SearchingRival.ts","./SceneDef.ts","./GomokuGameMgr.ts","./UICreateRoom.ts","./UIChat.ts","./UIAnnouncement.ts","./NetGameServer.ts","./UIRoomList.ts"],(function(n){var t,e,o,i,r,c,a,u,s,l,f,g,p,U,m,I,h,y,S,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){a=n.cclegacy,u=n._decorator,s=n.Node,l=n.Component},function(n){f=n.SceneUtil},function(n){g=n.UserMgr},function(n){p=n.UI_SearchingRival},function(n){U=n.SceneDef},function(n){m=n.GomokuGameMgr},function(n){I=n.UICreateRoom},function(n){h=n.UIChat},function(n){y=n.UIAnnouncement},function(n){S=n.lobbyNet},function(n){b=n.UIRoomList}],execute:function(){var d,x,k,v,M;a._RF.push({},"fb4a3JxT6xEGoxXIHC0S17U","GomokuLobbyScene",void 0);var G=u.ccclass,L=u.property;n("GomokuLobbyScene",(d=G("GomokuLobbyScene"),x=L(s),d((M=t((v=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,o(t,"announcementPlacer",M,i(t)),t}e(t,n);var a=t.prototype;return a.start=function(){var n=r(c().mark((function n(){var t=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g.inst.uid){n.next=3;break}return tgx.SceneUtil.loadScene(U.START),n.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),"http"!=S.type&&tgx.UIMgr.inst.showUI(h,null,null,S),tgx.UIMgr.inst.showUI(y,(function(n){n.setPosition(t.announcementPlacer.position.x,t.announcementPlacer.position.y)}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.onBtnLobby=function(){f.loadScene(U.LOBBY)},a.onBtnQuickPlayClicked=function(){var n=this;tgx.UIMgr.inst.showUI(p,(function(t){n.scheduleOnce((function(){t.startMatch("gomoku")}),1.5)}))},a.onBtnRoomListClicked=function(){tgx.UIMgr.inst.showUI(b)},a.onBtnTraningModeClicked=function(){m.inst.initAIMode(),tgx.SceneUtil.loadScene(m.inst.gameScene)},a.onBtnCreate=function(){tgx.UIMgr.inst.showUI(I)},a.update=function(n){},t}(l)).prototype,"announcementPlacer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=v))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/GomokuViewPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Component}],execute:function(){var c,s,u,m,p,y,h;n._RF.push({},"dea0dykKiFAi4nJsgTQdTc3","GomokuViewPlayer",void 0);var g=a.ccclass,v=a.property;e("GomokuViewPlayer",(c=g("GomokuViewPlayer"),s=v(tgx.CharacterMovement),u=v(tgx.ThirdPersonCameraCtrl),c((y=t((p=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"movement",y,o(t)),r(t,"cameraCtrl",h,o(t)),t._originVelocity=0,t._originLen=0,t}i(t,e);var n=t.prototype;return n.start=function(){this._originVelocity=this.movement.velocity,this._originLen=this.cameraCtrl.len},n.update=function(e){this.movement.velocity=this.cameraCtrl.len/this._originLen*this._originVelocity},t}(l)).prototype,"movement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(p.prototype,"cameraCtrl",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=p))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/module_gomoku",["./GomokuAI.ts","./GomokuGameHUD.ts","./GomokuGameplay.ts","./GomokuLobbyScene.ts","./GomokuViewPlayer.ts","./GomokuDef.ts","./GomokuGameMgr.ts"],(function(){return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_gomoku', 'chunks:///_virtual/module_gomoku'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});