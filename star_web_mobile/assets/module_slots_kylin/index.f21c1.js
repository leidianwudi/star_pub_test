System.register("chunks:///_virtual/KylinAnimationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./ModuleDef.ts"],(function(n){var e,i,t,a,o,s,l,r,p,c,u,h,f;return{setters:[function(n){e=n.inheritsLoose,i=n.createClass},function(n){t=n.cclegacy,a=n._decorator,o=n.Enum,s=n.randomRangeInt,l=n.find,r=n.sp,p=n.tween,c=n.Vec3,u=n.Component},function(n){h=n.AudioMgr},function(n){f=n.ModuleDef}],execute:function(){var d,_;t._RF.push({},"03f14Al1ShF0Y7K9YNJHjOd","KylinAnimationManager",void 0);var y=a.ccclass,m=(a.property,function(n){return n[n.appear=0]="appear",n[n.idle=1]="idle",n[n.happy=2]="happy",n[n.leave=3]="leave",n[n.performance=4]="performance",n[n.shake=5]="shake",n}(m||{}));o(m);var v={appear:"appear",idle:"idle",happy:"happy",leave:"leave",performance:"performance",shake:"shake"};n("KylinAnimationManager",y("KylinAnimationManager")(((_=function(n){function t(){for(var e,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return(e=n.call.apply(n,[this].concat(t))||this).KylinAniName=v,e._status=m.idle,e.aniListeners={},e._isPlayLoop=!1,e._lastVoice=0,e._playNum=0,e._playRanNum=0,e}e(t,n);var a=t.prototype;return a.onLoad=function(){t._instance?this.node.destroy():(this._playRanNum=s(3,6),t._instance=this,this.gameSetup())},a.gameSetup=function(){},a.onDestroy=function(){t._instance=null},a.playAni=function(n,e){if(this._status!==m[n]){n===v.performance?this.node.setSiblingIndex(3):this.node.setSiblingIndex(1),this.closeAllAni(),this._isPlayLoop=e,this._status=m[n];var i=l(n,this.node);if(i){if("appear"===n)this.scheduleOnce((function(){h.inst.playOneShot("audio/AC_sound_8001_slotqilin_voice_001",1,f.SLOTS_KYLIN)}),1.7);else if("idle"!=n)if(this._playNum>=this._playRanNum)this._playNum=0,this._playRanNum=s(3,6);else{this._playNum++;for(var t=s(2,7);this._lastVoice===t;)t=s(2,7);var a="audio/AC_sound_8001_slotqilin_voice_00"+t;h.inst.playOneShot(a,1,f.SLOTS_KYLIN)}i.active=!0,i.getComponent(r.Skeleton).setAnimation(0,"animation",e),this.aniListeners[n]||n==v.performance||(this.aniListeners[n]=n,this.aniListener(i.getComponent(r.Skeleton)))}}},a.aniListener=function(n){var e=this;n.setCompleteListener((function(n){e._isPlayLoop||e.playAni(v.idle,!0)}))},a.setAniPosition=function(n){n?p(this.node).to(1.5,{position:new c(223,543)}).start():p(this.node).to(1.5,{position:new c(217,474)}).start()},a.setAniPositon2=function(n){this.node.position=n},a.fakeMiniGame=function(){p(this.node).to(1.5,{position:new c(217,474)}).delay(1).to(1.5,{position:new c(223,543)}).start()},a.closeAllAni=function(){for(var n=0;n<this.node.children.length;n++)this.node.children[n].active=!1},i(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(u))._instance=null,d=_))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/KylinBaseScroll.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,s,o,a,l,p,h,d,c,m,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,p=e.Prefab,h=e.UITransform,d=e.instantiate,c=e.Vec3,m=e.tween,u=e.easing,f=e.Component}],execute:function(){var _,v,b,S,g,y,N,w,E,M,x,L,Y,z,C,T,P,F,B,H,K,W,k,G,D,j,I,R,U,A,J,O,V,q,Q,X;o._RF.push({},"a2657hwn5tN2J0j8G1hYFUW","KylinBaseScroll",void 0);var Z=a.ccclass,$=a.property,ee=(_=Z("KylinScrollParam"),v=$({type:l,displayName:"单列元素的父节点"}),b=$({type:l,tooltip:"展示结果的列"}),S=$({displayName:"元素数量"}),g=$({displayName:"可视范围最高点"}),y=$({displayName:"元素距离"}),N=$({tooltip:"元素循环出现次数"}),w=$({tooltip:"速度"}),E=$({tooltip:"节点的高"}),_((L=t((x=function(){i(this,"parentNode",L,this),i(this,"endNode",Y,this),i(this,"element",z,this),i(this,"maxY",C,this),i(this,"distance",T,this),i(this,"repeatNum",P,this),i(this,"speed",F,this),i(this,"contentHeight",B,this),this.minY=0}).prototype,"parentNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(x.prototype,"endNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(x.prototype,"element",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=t(x.prototype,"maxY",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=t(x.prototype,"distance",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 319}}),P=t(x.prototype,"repeatNum",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(x.prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),B=t(x.prototype,"contentHeight",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=x))||M);e("KylinBaseScroll",(H=Z("KylinBaseScroll"),K=$(p),W=$({tooltip:"父节点的宽"}),k=$({tooltip:"是否开启缓动"}),G=$({tooltip:"正常速度是每列的启动间隔"}),D=$({type:[ee]}),j=$({tooltip:"最大速度"}),I=$({type:l,tooltip:"结束是节点"}),H((A=t((U=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"elementPrefab",A,r(t)),i(t,"contentWidth",J,r(t)),i(t,"isEasing",O,r(t)),i(t,"intervalTime",V,r(t)),i(t,"paramList",q,r(t)),i(t,"maxSpeed",Q,r(t)),i(t,"endContent",X,r(t)),t._isSpeed=!1,t._isMini=!1,t._addSpeed=1,t._isFirst=!0,t._isStart=!1,t._isStop=[],t._repeat=[],t._time=0,t._isStopScroll=!1,t._isStartMove=!1,t._isEndMove=[],t._faceCb=null,t._singleEndMove=!1,t._intervalTime=0,t._endCb=null,t._index=0,t._twNum=0,t}n(t,e);var o=t.prototype;return o.addElement=function(e){for(var t=0;t<this.paramList.length;t++){var i=this.paramList[t];i.parentNode.getComponent(h).setContentSize(this.contentWidth,i.contentHeight),i.endNode.getComponent(h).setContentSize(this.contentWidth,i.contentHeight),i.minY=-(i.maxY+i.distance);for(var n=0;n<i.element+1;n++){var r=d(this.elementPrefab);r.parent=i.parentNode,r.position=new c(0,i.maxY+i.distance+i.distance*n),r.name=n.toString(),e&&e(r)}for(var s=i.element-1;s>=0;s--){var o=d(this.elementPrefab);o.parent=i.endNode,o.position=new c(0,i.maxY-i.distance*s),o.name=s.toString(),e&&e(o)}}},o.startScroll=function(e,t){this._faceCb=e,this._endCb=t,this.resetScroll(),this.isSpeed?this._intervalTime=0:this._intervalTime=this.intervalTime,this._time=0,this._index=0,this._isStart=!0,this._isStartMove=!0,this._isStopScroll=!1,this._isStop=[],this._repeat=[],this._twNum=0,this._isEndMove=[];for(var i=0;i<this.paramList.length;i++)this._isStop.push(!1),this._repeat.push(0),this._isEndMove.push(!1)},o.stopScroll=function(){this._isStopScroll=!0},o.resetScroll=function(){if(this._isFirst)this._isFirst=!1;else for(var e=0;e<this.paramList.length;e++){var t=this.paramList[e];t.speed=-1;for(var i=0;i<t.parentNode.children.length;i++){t.parentNode.children[i].position=new c(0,-t.minY+t.distance*i)}}},o.update=function(e){this.commonGame(e)},o.commonGame=function(e){if(this.moveEndElement2(e),this._isStart){var t=!0;this._time+=e,this.moveStartElement(e);for(var i=0;i<this.paramList.length;i++){var n=this.paramList[i];if(!(this._time<i*this._intervalTime)){n.speed+=this._addSpeed*e*10,n.speed>=this.maxSpeed&&(n.speed=this.maxSpeed);for(var r=0;r<n.parentNode.children.length;r++){var s=n.parentNode.children[r];if(!(Math.abs(s.position.clone().y+n.minY)<1&&this._isStop[i])){t=!1;var o=s.position.clone().y-e*n.speed*1e3;s.position=new c(0,o),o<n.minY&&(s.position=new c(0,-n.minY),this._faceCb&&this._faceCb(s),0===r&&this._isStopScroll&&(this._repeat[i]++,this._repeat[i]>n.repeatNum&&(this._isStop[i]=!0,this._isEndMove[i]=!0,this._singleEndMove=!0)))}}}}t&&(this._isStart=!1)}},o.miniGame=function(e){if(this.moveEndElement(e),this._isStart){var t=!0;this._time+=e;for(var i=0;i<this.paramList.length;i++){var n=this.paramList[i];if(!(this._time<i*this.intervalTime)){n.speed+=this._addSpeed*e*10,n.speed>=this.maxSpeed&&(n.speed=this.maxSpeed);for(var r=0;r<n.parentNode.children.length;r++){var s=n.parentNode.children[r];if(!(Math.abs(s.position.clone().y+n.minY)<1&&this._isStop[i])){t=!1;var o=s.position.clone().y-e*n.speed*1e3;s.position=new c(0,o),o<n.minY&&(s.position=new c(0,-n.minY),0===r&&(this._repeat[i]++,this._repeat[i]>n.repeatNum&&(this._isStop[i]=!0)))}}}}t&&(this._isStart=!1)}},o.moveStartElement=function(e){if(this._isStartMove){for(var t=!1,i=0,n=0;n<this.paramList.length;n++){var r=this.paramList[n];if(!(this._time<n*this._intervalTime)){for(var s=0,o=0;o<r.endNode.children.length;o++){var a=r.endNode.children[o];if(a.position.clone().y>r.maxY+150)s++;else{var l=a.position.clone().y-e*r.speed*1e3;a.position=new c(0,l),l<r.minY&&(a.position=new c(0,-r.minY+Number(a.name)*r.distance+2*r.distance))}}s===r.element&&i++,i===this.paramList.length&&(t=!0)}}t&&(this._isStartMove=!1)}},o.moveEndElement2=function(e){if(this.isSpeed){if(!this._isEndMove[this._index])return;this._isEndMove[this._index]=!1}else{if(!this._singleEndMove)return;this._singleEndMove=!1}this.endScroll(),this._index++},o.moveEndElement=function(e){if(this._isEndMove)for(var t=0;t<this.paramList.length;t++){var i=this.paramList[t];if(this._isStop[t]){for(var n=0,r=0;r<i.endNode.children.length;r++){var s=i.endNode.children[r];if(Math.abs(s.position.clone().y-(i.maxY-r*i.distance))<50)n++;else{var o=s.position.clone().y-e*i.speed*1e3;s.position=new c(0,o)}}n===i.element&&0,this.paramList.length}}},o.endScroll=function(){for(var e=this,t=this.paramList[this._index],i=0;i<t.endNode.children.length;i++){var n=t.endNode.children[i],r=new c(0,t.maxY-t.distance*i);m(n).to(.7,{position:r},{easing:u.backOut}).call((function(){e._twNum++,10===e._twNum&&e._endCb&&e._endCb()})).start()}},s(t,[{key:"isSpeed",get:function(){return this._isSpeed},set:function(e){this._index=0,this._twNum=0,this._singleEndMove=!1,this._isEndMove=[];for(var t=0;t<this.paramList.length;t++)this._isEndMove.push(!1);this._isSpeed=e}},{key:"isMini",get:function(){return this._isMini},set:function(e){this._isMini=e}}]),t}(f)).prototype,"elementPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"contentWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(U.prototype,"isEasing",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=t(U.prototype,"intervalTime",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),q=t(U.prototype,"paramList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(U.prototype,"maxSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),X=t(U.prototype,"endContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/KylinElementDetailsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinSceneManager.ts"],(function(t){var e,n,i,l,r,o,a,s,c,u,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,c=t.SpriteAtlas,u=t.Vec3,h=t.find,p=t.Label,f=t.Component},function(t){d=t.KylinSceneManager}],execute:function(){var g,b,y,v,C,m,N,S,_,w,D,z,k,E,M,A;o._RF.push({},"c21a315SGZG37NhWzOtWvlh","KylinElementDetailsManager",void 0);var F=a.ccclass,K=a.property,O=[760,870],T=[30,10];t("KylinElementDetailsManager",(g=F("KylinElementDetailsManager"),b=K(s),y=K(s),v=K(s),C=K(s),m=K(s),N=K(c),g(((A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"blackNode",w,l(e)),i(e,"leftContent",D,l(e)),i(e,"rightContent",z,l(e)),i(e,"letfSpNode",k,l(e)),i(e,"rightSpNode",E,l(e)),i(e,"atlasFrames",M,l(e)),e._twId=void 0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){e._instance?this.node.destroy():(e._instance=this,this.leftContent.on(s.EventType.TOUCH_END,this.hide,this),this.rightContent.on(s.EventType.TOUCH_END,this.hide,this))},o.showDetails=function(t,e,n,i){this.hideAllFace();var l=null,r=null,o=null;this.blackNode.active=!0;var a=null;if("2"===n)this.leftContent.active=!1,this.rightContent.active=!0,this.rightContent.position=new u(175,e.y+760+30*i),o=this.rightContent,a=this.rightSpNode;else{this.leftContent.active=!0,this.rightContent.active=!1;var s=Number(n);this.leftContent.position=new u(290*s-490,e.y+O[s]+T[s]*i),o=this.leftContent,a=this.letfSpNode}l=h("lineNum",o).getComponent(p),r=h("lineMult",o).getComponent(p),l.string="3",r.string=d.instance.elementOdd[t]+"",h(t.toString(),a).active=!0,this.unscheduleAllCallbacks(),this.scheduleOnce(this.hide,3)},o.onDestroy=function(){e._instance=null},o.hideAllFace=function(){for(var t=0;t<this.letfSpNode.children.length;t++)this.letfSpNode.children[t].active=!1,this.rightSpNode.children[t].active=!1},o.hide=function(){this.unscheduleAllCallbacks(),this.leftContent.active=!1,this.rightContent.active=!1,this.blackNode.active=!1},r(e,null,[{key:"instance",get:function(){return this._instance}}]),e}(f))._instance=null,w=e((_=A).prototype,"blackNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(_.prototype,"leftContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(_.prototype,"rightContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(_.prototype,"letfSpNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"rightSpNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(_.prototype,"atlasFrames",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=_))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/KylinGameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var c,r,d,t,n;return{setters:[function(e){c=e.inheritsLoose},function(e){r=e.cclegacy,d=e._decorator,t=e.Enum,n=e.Component}],execute:function(){var l,m;r._RF.push({},"ef0b3eNPhNBYIE6ZLK8gVa2","KylinGameData",void 0);var o=d.ccclass,a=(d.property,e("GameStatus",function(e){return e[e.start=0]="start",e[e.over=1]="over",e[e.mini=2]="mini",e}({})));t(a);e("KylinGameData",o("KylinGameData")(((m=function(e){function r(){return e.apply(this,arguments)||this}return c(r,e),r}(n)).MessgeDefine={Request:{start:"startgame",selected:"selected"},Response:{GameScene:"slot_kirin_game_scene"}},m.EventName={clickGameItem:"clickGameItem"},m.cacheName={betScore:"_betScore"},m.Auto={AutoIndex:[10,30,50,100,1e3]},m.autoCountIndex=0,m.leftAutoCount=0,m.reduceLabel=0,m.addLabel=0,m.winLabel=0,m.miniRes={betScore:50,code:200,main:null,mini:{list:[{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300},{colums:[{elements:[{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:301,cardScore:100},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]},{elements:[{elementId:302,cardScore:0},{elementId:302,cardScore:0},{elementId:302,cardScore:0}]}],hitType:2,lines:[],winScore:300}],winScore:300},winScore:0},l=m))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/KylinGameElement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinUtils.ts","./KylinElementDetailsManager.ts","./KylinPoolManager.ts","./KylinNoticeManager.ts","./KylinGameManager.ts"],(function(e){var t,i,n,r,o,c,a,s,l,f,h,u,p,m,d,g,b,E,v,S,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.SpriteAtlas,s=e.Sprite,l=e.Label,f=e.Node,h=e.Vec3,u=e.find,p=e.sp,m=e.randomRangeInt,d=e.ParticleSystem,g=e.Component},function(e){b=e.KylinUtils},function(e){E=e.KylinElementDetailsManager},function(e){v=e.KylinPoolManager},function(e){S=e.KylinNoticeManager},function(e){z=e.KylinGameManager}],execute:function(){var y,P,_,w,N,T,A,x,K,F,C,I,M,L,D,G,O,R,k,B,U,j,H,V,q,J,Q;o._RF.push({},"bdf62DaT9NBCaS0bLR/rOFt","KylinGameElement",void 0);var W=c.ccclass,X=c.property;e("KylinGameElement",(y=W("KylinGameElement"),P=X(a),_=X(a),w=X(s),N=X(s),T=X(l),A=X(f),x=X(f),K=X(f),F=X(f),C=X(f),I=X(f),M=X(f),y((G=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"elementAtlas",G,r(t)),n(t,"bgAtlas",O,r(t)),n(t,"elementSprite",R,r(t)),n(t,"bgSpr",k,r(t)),n(t,"scoreText",B,r(t)),n(t,"spineNode",U,r(t)),n(t,"miniPrizeEffect1",j,r(t)),n(t,"miniPrizeEffect2",H,r(t)),n(t,"commonPrizeEffect",V,r(t)),n(t,"commonPrizeEffect2",q,r(t)),n(t,"scoreEffect",J,r(t)),n(t,"prizeEffectNode",Q,r(t)),t._faceId="",t._score="",t._aniListener={},t._startScale=new h,t}i(t,e);var o=t.prototype;return o.start=function(){this.node.on(f.EventType.TOUCH_END,this.onTouchEnd,this),b.instance.setNodesByComponent(this.node),this._startScale=this.miniPrizeEffect2.children[0].scale},o.onTouchEnd=function(){"301"!==this._faceId&&"302"!==this._faceId&&E.instance.showDetails(Number(this._faceId),this.node.position,this.node.parent.name,Number(this.node.name))},o.initElement=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=""),this._faceId=e,this._score=t||"0",this.resetElement(),this.setFace(e,i),"3"===i&&this.setSpine(i,!1)},o.resetElement=function(){this.elementSprite.spriteFrame=null,this.bgSpr.node.active=!1,this.scoreText.node.active=!1,this.closeAllSpine(),this.miniPrizeEffect1.active=!1,this.miniPrizeEffect2.active=!1,this.commonPrizeEffect.active=!1,this.commonPrizeEffect2.active=!1;for(var e=0;e<this.prizeEffectNode.children.length;e++)this.prizeEffectNode.children[e].active=!1;this.scoreEffect.active=!1},o.closeAllSpine=function(){for(var e=0;e<this.spineNode.children.length;e++)this.spineNode.children[e].active=!1},o.showSpine=function(e,t,i){var n=this;if(void 0===t&&(t="1"),void 0===i&&(i=!1),"301"!==e&&"302"!==e){this.bgSpr.node.active=!1,this.elementSprite.node.active=!1,this.scoreText.node.active=!1;var r=u(e,this.spineNode);if(i&&(r=u("202",this.spineNode)),r.active=!0,"201"===e||""===t)return r.getComponent(p.Skeleton).setAnimation(0,"animation",!0),void(u("201",this.prizeEffectNode).active=!0);var o=r.getComponent(p.Skeleton);o.setAnimation(0,t,!1),this._aniListener[e]||(this._aniListener[e]=o,o.setCompleteListener((function(t){"1"===t.animation.name&&n._aniListener[e].setAnimation(0,"2",!0)})))}},o.addText=function(e,t,i){var n=v.instance.getPoolObj(v.PoolsName.prizeText);n.parent=e,n.getComponent(l).string=b.instance.changeString(this._score),n.worldPosition=this.scoreText.node.worldPosition,S.instance.addText(n,b.instance.toNumber(this._score),t,i)},o.setScoreFace=function(){this._faceId="301";var e=z.instance.betPoint,t=m(0,e.length);this.bgSpr.node.active=!0,this.bgSpr.spriteFrame=this.bgAtlas.getSpriteFrame("301"),this.scoreText.node.active=!0,this.scoreText.string=b.instance.changeString(e[t].text),this.elementSprite.node.active=!1,this.closeAllSpine()},o.setFace=function(e,t){"301"===e||"302"===e?(this.bgSpr.node.active=!0,this.bgSpr.spriteFrame=this.bgAtlas.getSpriteFrame(e),"301"===e&&(this.scoreText.node.active=!0,this.scoreText.string=b.instance.changeString(this._score))):e&&(this.elementSprite.node.active=!0,this.elementSprite.spriteFrame=this.elementAtlas.getSpriteFrame(e))},o.setSpine=function(e,t){if("201"===this._faceId)"3"!=e&&t&&this.showSpine(this._faceId,"",t);else{if(""===e)return;this.showSpine(this._faceId,e)}},o.prizeEffect=function(e){var t=this;e?(z.instance.isEntryMiniGame?this.miniPrizeEffect2.children.forEach((function(e){e.scale=e.scale.clone().multiplyScalar(.92)})):this.miniPrizeEffect2.children.forEach((function(e){e.scale=t._startScale.clone()})),this.miniPrizeEffect1.active=!0,this.miniPrizeEffect2.active=!0):(this.commonPrizeEffect.active=!0,this.commonPrizeEffect.children.forEach((function(e){e.getComponent(d).stop(),e.getComponent(d).play()})),this.commonPrizeEffect2.active=!0,this.commonPrizeEffect2.children.forEach((function(e){e.getComponent(d).stop(),e.getComponent(d).play()})))},o.showScoreEffect=function(){var e=this;this.scoreEffect.active=!0,this.scheduleOnce((function(){z.instance.showScoreEffect(e.node.worldPosition.clone())}),.2)},t}(g)).prototype,"elementAtlas",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"bgAtlas",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"elementSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"bgSpr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"scoreText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"spineNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"miniPrizeEffect1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"miniPrizeEffect2",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"commonPrizeEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(D.prototype,"commonPrizeEffect2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"scoreEffect",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(D.prototype,"prizeEffectNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=D))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/KylinGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinGameVariable.ts","./KylinSceneManager.ts","./KylinGameData.ts","./UIKylinEntryMini.ts","./KylinPrizeManager.ts","./KylinElementDetailsManager.ts","./KylinNoticeManager.ts","./UIKylinResult.ts","./KylinAnimationManager.ts","./KylinPoolManager.ts","./KylinUtils.ts","./Slot2.ts","./SlotShowPanelMgr.ts","./UserMgr.ts","./Num.ts","./NetGameServer.ts","./SubGameDef.ts","./GameUtil.ts","./AudioMgr.ts","./ModuleDef.ts","./RoomMgr.ts","./LanguageData.ts","./UIHelp.ts"],(function(e){var t,i,n,a,s,o,r,l,c,h,u,b,d,v,g,_,m,S,f,p,y,A,I,O,L,M,N,T,x,E,w,C,K,P,G,U,V,B,R,Y,k,F,D,q,W,z,j,H;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime,r=e.createClass},function(e){l=e.cclegacy,c=e._decorator,h=e.Vec3,u=e.UIOpacity,b=e.macro,d=e.randomRangeInt,v=e.Sprite,g=e.random,_=e.tween,m=e.ParticleSystem,S=e.Label,f=e.instantiate,p=e.Component},function(e){y=e.KylinGameVariable},function(e){A=e.KylinSceneManager},function(e){I=e.GameStatus,O=e.KylinGameData},function(e){L=e.UIKylinEntryMini},function(e){M=e.KylinPrizeManager},function(e){N=e.KylinElementDetailsManager},function(e){T=e.KylinNoticeManager},function(e){x=e.UIKylinResult},function(e){E=e.KylinAnimationManager},function(e){w=e.KylinPoolManager},function(e){C=e.KylinUtils},function(e){K=e.StopType,P=e.EaseType},function(e){G=e.showSlotBetPanel,U=e.showSlotAutoPenel,V=e.showSlotLastMoneyPenel},function(e){B=e.UserMgr},function(e){R=e.Num},function(e){Y=e.gameNet},function(e){k=e.SubGameDef},function(e){F=e.GameUtil},function(e){D=e.AudioMgr},function(e){q=e.ModuleDef},function(e){W=e.RoomMgr},function(e){z=e.LanguageData},function(e){j=e.UIHelp,H=e.UIhelpParam}],execute:function(){var J,Q,X,Z,$,ee;l._RF.push({},"a2fb2BWz0JP7KbQJBh0VW+Q","KylinGameManager",void 0);var te=c.ccclass,ie=c.property;e("KylinGameManager",(J=te("KylinGameManager"),Q=ie({type:y,displayName:"暴露变量"}),J(((ee=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"variable",$,a(t)),t.isAuto=!1,t.gameStatus=I.over,t.index=0,t._score=0,t._betScore=0,t._gearValueArr=[],t._betLevel=0,t._isSpeed=!1,t._isOpenSetting=!1,t._gameInfo=null,t._miniIndex=0,t._isEntryMiniGame=!1,t.isShowResult=!1,t.glitterId=-1,t._totalLose=0,t._totalWin=0,t._singleWin=0,t._betPoint=[],t._scoreCount=0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){t._instance?this.node.destroy():(t._instance=this,this.gameSetup())},l.gameSetup=function(){var e=this;D.inst.play("audio/AC_sound_8001_music_slotqilin_interface_001",1,q.SLOTS_KYLIN),E.instance.playAni(E.instance.KylinAniName.appear,!1);this.variable.scroll.setup(["101","102","103","104","105","106","201"]),this.variable.scroll.node.active=!1,this.variable.bgScroll.setup(["1011"]),this._isOpenSetting=!1,this.variable.otherNode.scale=new h(1,0,1),this.variable.otherNode.getComponent(u).opacity=0,this.variable.diceSpeedUp.setCompleteListener((function(t){"1"===t.animation.name&&e.variable.diceSpeedUp.setAnimation(0,"2",!0)})),this.variable.diceSpeedUp.node.active=!1,this.variable.setStartAni(3),this.variable.initCloud(),this.schedule(this.createrCloud,40,b.REPEAT_FOREVER,40),this.schedule(this.createrLiuxing,20,b.REPEAT_FOREVER,2),A.instance.startGame(),C.instance.setNodesByComponent(this.node.parent,this.node.parent.parent.angle,this.node.parent.scale.clone())},l.createrLiuxing=function(){for(var e=this,t=d(3,6),i=function(t){var i=t*(.2+.5*Math.random());e.scheduleOnce((function(){var i=w.instance.getPoolObj(w.PoolsName.liuxing);i.parent=e.variable.topBg,i.setSiblingIndex(0),i.children.forEach((function(e){e.getComponent(m).stop(),e.getComponent(m).play()}));var n=t*(-100-150*Math.random());i.setPosition(n,100),e.scheduleOnce((function(){w.instance.putPoolObj(w.PoolsName.liuxing,i)}),5)}),i)},n=0;n<t;n++)i(n)},l.createrCloud=function(){for(var e=d(3,6),t=0;t<e;t++){var i=w.instance.getPoolObj(w.PoolsName.cloud);i.parent=this.variable.topBg,i.getComponent(v).spriteFrame=this.variable.cloudFrames[d(0,5)];var n=-900-100*Math.random(),a=870+920*g();i.setPosition(n,a),_(i).to(d(60,80),{position:new h(1e3*n/Math.abs(n)*-1,a)}).call((function(e){w.instance.putPoolObj(w.PoolsName.cloud,e)})).start()}},l.onDisable=function(){t._instance=null},l.reconnect=function(){var e=this,t=this.getRandomElementIds();this.variable.bgScroll.roll([[{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"}]],(function(){})),this.variable.scroll.roll(t,(function(){-1!=e.glitterId&&(D.inst.stopOneShot(e.glitterId,"audio/AC_sound_8001_slotqilin_turntable_glitter",q.SLOTS_KYLIN),e.glitterId=-1),e.variable.scroll.node.active=!1,M.instance.showPrize(t,0,0,null,e.gameOver.bind(e))}),(function(e){})),this.scheduleOnce((function(){e.variable.scroll.stop(),e.variable.bgScroll.stop()}),2)},l.initUI=function(){this.variable.btnSub.interactable=!1,this._score=B.inst.coin,this.variable.scoreText.string=R.exchangeToThousands(1,B.inst.coin),this.variable.winText.string="0.00",this.variable.scroll.setWheels(A.instance.wheelData,0),this.variable.bgScroll.setWheels([[1011],[1011],[1011]],0),this.variable.scroll.setWheels(A.instance.miniWheelData,1),this._gearValueArr=[],this._gearValueArr=F.GetBetRange();var e=localStorage.getItem(k.SLOTS_KYLIN+O.cacheName.betScore);this._betScore=e?Number(e):this._gearValueArr[0],this.index=this._gearValueArr.indexOf(this._betScore),this._betPoint=this.getBetPoint(),this.variable.betText.string=R.exchangeToThousands(1,this._betScore),this.updateBetGear(),this.scheduleOnce(this.playDoorEffect,1)},l.playDoorEffect=function(){var e=this,t=Math.random();this.variable.doorEffectNodes[0].active=!0,this.variable.doorEffectNodes[0].children.forEach((function(e){e.getComponent(m).stop(),e.getComponent(m).play()}));var i=7;t<.5&&(i=14),_(this.node).delay(i).call((function(){e.playDoorEffect()})).start()},l.btnManager=function(e){this.variable.btnSub.interactable=e,this.variable.btnAdd.interactable=e,this.variable.btnAuto.interactable=e,this.variable.btnStart.interactable=e,0===this.index?this.variable.btnSub.interactable=!1:this.index>=this._gearValueArr.length-1&&(this.variable.btnAdd.interactable=!1),e?this.variable.setStartAni(3):this.variable.setStartAni(.5)},l.startAuto=function(){B.inst.coin<this._betScore?tgx.UITip.instance.show(z.getLangByID("BXINGAME_60")):(this.isAuto=!0,this.variable.btnStart.node.active=!1,this.variable.btnStop.node.active=!0,this.variable.btnIdleEffect.active=!1,this._totalLose=0,this._totalWin=0,this._singleWin=0,this.updateLabelAutoCount())},l.updateLabelAutoCount=function(e){var t=this;void 0===e&&(e=0),this.scheduleOnce((function(){O.leftAutoCount--,O.leftAutoCount>0?(t.variable.autoText.string=O.leftAutoCount.toString(),O.leftAutoCount>9?t.variable.autoText.verticalAlign=S.VerticalAlign.CENTER:t.variable.autoText.verticalAlign=S.VerticalAlign.TOP):t.stopAuto(),t.onStart()}),e)},l.stopAuto=function(){console.log("%c ----停止自动游戏-----","color:#2ba914"),this.isAuto=!1,this.variable.btnStart.node.active=!0,this.variable.btnStop.node.active=!1,this.variable.btnIdleEffect.active=!0,O.leftAutoCount=0,this.onTouchEnd()},l.totalScore=function(e){e||(e=0),this._totalLose-=e,this._totalWin+=e,this._singleWin=e,(0!=O.reduceLabel&&this._totalLose>=100*O.reduceLabel||0!=O.addLabel&&this._totalWin>=100*O.addLabel||0!=O.winLabel&&this._singleWin>=100*O.winLabel)&&(this.stopAuto(),this.btnManager(!0))},l.setScore=function(e){0!==e&&(this._score+=e,this.variable.updateScore(this._score-e,this._score))},l.onVideoEvent=function(){this.variable.videoMask.active=!1,A.instance.isOpenVideo&&(A.instance.isOpenVideo=!1,A.instance.isFirstEnty=!1,this.variable.btnVideo.spriteFrame=this.variable.videoFrames[1]),E.instance.playAni(E.instance.KylinAniName.appear,!1)},l.onStart=function(){var e=this;if(this.onTouchEnd(),this.gameStatus==I.over){this.isAuto||(D.inst.playOneShot("audio/AC_sound_8001_slotqilin_UI_button_001",1,q.SLOTS_KYLIN),this.variable.playStartEffect()),E.instance.playAni(E.instance.KylinAniName.shake,!1),T.instance.hideScoreNode(),this.btnManager(!1),N.instance.hide(),this.variable.entryMiniGame(!1),M.instance.hideEndContet(),this.variable.winTw&&this.variable.winTw.stop(),this.variable.winText.string=C.instance.changeString("0.00"),this.variable.scroll.node.active=!0,this.variable.scroll.showAllLayer(),D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_glitter",1,q.SLOTS_KYLIN).then((function(t){return e.glitterId=t}));this.variable.scroll.rollVirtually(this._betPoint,function(t){e.variable.startFrameList[t].active=!0}.bind(this)),this.variable.bgScroll.rollVirtually(this._betPoint,null),this._isEntryMiniGame&&this.variable.scroll.toggle(0,this._betPoint),this.gameStatus=I.start,Y.playSlots(k.SLOTS_KYLIN,this._betScore.toString()).then((function(t){var i=C.instance.conver(t,e._betScore);if(e._gameInfo=i,200===i.code)e.successStart(i);else{var n=e.getRandomElementIds();e.variable.bgScroll.roll([[{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"}]],(function(){})),e.variable.scroll.roll(n,(function(){-1!=e.glitterId&&(D.inst.stopOneShot(e.glitterId,"audio/AC_sound_8001_slotqilin_turntable_glitter",q.SLOTS_KYLIN),e.glitterId=-1),e.variable.scroll.node.active=!1,e.stopAuto(),M.instance.showPrize(n,0,0,null,e.gameOver.bind(e)),e.btnManager(!0)}),(function(e){})),!i.code||501===i.code||201===i.code||202===i.code||203===i.code||i.code,e.scheduleOnce((function(){e.variable.scroll.stop(),e.variable.bgScroll.stop()}),2)}}))}},l.successStart=function(e){var t=this,i=e.betScore?e.betScore:0;this._score-=i,this._totalLose+=i,this._totalWin-=i,this.variable.scoreTw&&this.variable.scoreTw.stop(),this.variable.scoreText.string=C.instance.changeString(this._score.toFixed(2));var n=[];if(e.main&&e.main.colums.length>0){this._isEntryMiniGame=!1,n=this.getElementIds(e.main.colums),M.instance.endContent.active=!0,M.instance.showEndContent(!1),this.variable.bgScroll.roll([[{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"},{name:"1011"}],[{name:"1011"},{name:"1011"},{name:"1011"}]],(function(){})),this.variable.scroll.roll(n,(function(){t.variable.scroll.node.active=!1,M.instance.showPrize(n,e.main.hitType,e.betScore,e.main,t.gameOver.bind(t))}),(function(e){for(var i=0;i<t.variable.scroll.column[e].length;i++)t.variable.scroll.column[e][i].active=!1,M.instance.showElementSpine(n[e][i],e,i)}));var a=.06;Math.random()<A.instance.fakeMiniRate/1e4&&(a=4,this.fakeMiniGame()),this.scheduleOnce((function(){if(t.variable.scroll.stopType===K.立即停止)-1!=t.glitterId&&(D.inst.stopOneShot(t.glitterId,"audio/AC_sound_8001_slotqilin_turntable_glitter",q.SLOTS_KYLIN),t.glitterId=-1),D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_stop",1,q.SLOTS_KYLIN);else for(var e=0;e<3;e++){var i=0;1===e?i=.4:2===e&&(i=.72),t.scheduleOnce((function(){D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_stop",1,q.SLOTS_KYLIN)}),i)}}),a+.4),this.scheduleOnce((function(){t._isSpeed||t.scheduleOnce((function(){-1!=t.glitterId&&(D.inst.stopOneShot(t.glitterId,"audio/AC_sound_8001_slotqilin_turntable_glitter",q.SLOTS_KYLIN),t.glitterId=-1)}),1.05),t.variable.scroll.stop(),t.variable.bgScroll.stop();for(var e=0;e<t.variable.startFrameList.length;e++)t.variable.startFrameList[e].active=!1}),a)}else e.mini&&e.mini.list.length>0&&(this._isEntryMiniGame=!0,this.entryMiniGame(new h(.92,.92)),this.scheduleOnce((function(){t.setScroll(!0),t.variable.entryMiniGame(!0),t.variable.diceSpeedUp.node.active=!0,t.variable.diceSpeedUp.setAnimation(0,"1",!1),t.variable.dice.node.active=!1,t.variable.diceNode.active=!1,t.scheduleOnce((function(){t.variable.entryMiniGameEffect.active=!0,t.variable.miniGameBgEffect.active=!0,L.instance.entryMiniGame()}),1.5),L.instance.showFakeMiniGame(),D.inst.playOneShot("audio/AC_sound_8001_slotqilin_change",1,q.SLOTS_KYLIN),t.gameStatus=I.mini,T.instance.miniWinScore=0,t._miniIndex=-1,t.scrollMini(),t.scheduleOnce((function(){D.inst.play("audio/AC_sound_8001_music_slotqilin_interface_002",1,q.SLOTS_KYLIN)}),2),t.scheduleOnce((function(){t.scheduleOnce((function(){t.variable.scroll.toggle(1,t._betPoint)}),3.5);for(var i=0;i<t.variable.startFrameList.length;i++)t.variable.startFrameList[i].active=!1;L.instance.hideRound(),t.variable.roundNode.active=!0,t.variable.mainBtn.active=!1,t.variable.roundText.string=(e.mini.list.length-1).toString()}),5)}),1))},l.setScroll=function(e){e?(this.variable.scroll.easingIn=P.Back,this.variable.bgScroll.easingIn=P.Back,this.variable.scroll.easingOut=P.Elastic,this.variable.bgScroll.easingOut=P.Elastic):this._isSpeed?(this.variable.scroll.easingIn=P.Linear,this.variable.bgScroll.easingIn=P.Linear,this.variable.scroll.easingOut=P.Linear,this.variable.bgScroll.easingOut=P.Linear):(this.variable.scroll.easingIn=P.Back,this.variable.bgScroll.easingIn=P.Back,this.variable.scroll.easingOut=P.Elastic,this.variable.bgScroll.easingOut=P.Elastic)},l.scrollMini=function(){var e=this,t=10;this._miniIndex>=0&&(t=3),this._miniIndex++;var i=this._gameInfo;if(this._miniIndex!==i.mini.list.length){this.variable.scroll.node.active=!0,M.instance.hideEndContet(),this.variable.roundText.string=(i.mini.list.length-this._miniIndex-1).toString();var n=this.getMiniElementIds(i.mini.list[this._miniIndex]);this._miniIndex>1?D.inst.playOneShot("audio/AC_sound_8001_slotqilin_card_roll",1,q.SLOTS_KYLIN):D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_glitter",1,q.SLOTS_KYLIN).then((function(t){return e.glitterId=t})),this.variable.scroll.roll(n,function(){e.variable.scroll.node.active=!1,L.instance.hideRound(),M.instance.showPrize(n,2,i.betScore,i.mini.list[e._miniIndex],e.scrollMini.bind(e))}.bind(this),(function(e){})),this.scheduleOnce((function(){if(e.variable.scroll.stopType===K.立即停止)D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_stop",1,q.SLOTS_KYLIN);else for(var t=0;t<3;t++){var i=0;1===t?i=.32:2===t&&(i=.65),e.scheduleOnce((function(){D.inst.playOneShot("audio/AC_sound_8001_slotqilin_turntable_stop",1,q.SLOTS_KYLIN)}),i)}}),t+.4),this.scheduleOnce((function(){e.variable.scroll.stop()}),t)}else this.gameOver()},l.fakeMiniGame=function(){var e=this,t=-1;D.inst.playOneShot("audio/AC_sound_8001_slotqilin_change",1,q.SLOTS_KYLIN).then((function(e){return t=e})),this.variable.diceSpeedUp.node.active=!0,this.variable.diceSpeedUp.setAnimation(0,"1",!1),this.variable.dice.node.active=!1,this.variable.diceNode.active=!1,L.instance.showFakeMiniGame(),E.instance.fakeMiniGame(),this.scheduleOnce((function(){e.variable.entryMiniGame(!0)}),1);for(var i=0;i<this.variable.entryMiniAniNode.length;i++)_(this.variable.entryMiniAniNode[i]).to(1.5,{scale:new h(.92,.92)}).delay(1).to(.5,{scale:h.ONE}).call((function(){-1!=t&&(D.inst.stopOneShot(t,"audio/AC_sound_8001_slotqilin_change",q.SLOTS_KYLIN),t=-1),e.variable.diceSpeedUp.node.active=!1,e.variable.dice.node.active=!0,e.variable.diceNode.active=!0,e.variable.entryMiniGame(!1),L.instance.hide()})).start()},l.entryMiniGame=function(e){E.instance.setAniPosition(1===e.x);for(var t=0;t<this.variable.entryMiniAniNode.length;t++)_(this.variable.entryMiniAniNode[t]).to(1.5,{scale:e}).start()},l.getFrameIds=function(){for(var e=this.variable.scroll.column,t=[],i=0;i<e.length;i++){t[i]=[];for(var n=0;n<e[i].length;n++)t[i].push({name:e[i][n].getComponent(v).spriteFrame.name,text:""})}return t},l.getBetPoint=function(){for(var e=[],t=0;t<A.instance.pointScores.length;t++){var i=A.instance.pointScores[t];e.push({name:"301",text:C.instance.changeString(i*this._betScore)})}return e},l.getElementIds=function(e){for(var t=[],i=0;i<e.length;i++){t.push([]);for(var n=0;n<e[i].elements.length;n++){var a=e[i].elements[n].elementId?e[i].elements[n].elementId:302,s=e[i].elements[n].cardScore?e[i].elements[n].cardScore:0;t[i].push({name:a.toString(),text:C.instance.changeString(s)})}}return t},l.getMiniElementIds=function(e){for(var t=[],i=0;i<e.colums.length;i++){t.push([]);for(var n=0;n<e.colums[i].elements.length;n++){var a=e.colums[i].elements[n].elementId?e.colums[i].elements[n].elementId:302,s=e.colums[i].elements[n].cardScore?e.colums[i].elements[n].cardScore:0;t[i].push({name:a.toString(),text:C.instance.changeString(s)})}}return t},l.getRandomElementIds=function(){for(var e=[],t=[3,4,3],i=0;i<3;i++){e.push([]);for(var n=0;n<t[i];n++){var a=d(101,107);e[i].push({name:a.toString(),text:C.instance.changeString(0)})}}return e},l.gameOver=function(){var e,t,i,n,a,s=this,o=null==(e=this._gameInfo)?void 0:e.betScore,r=null!=(t=this._gameInfo)&&null!=(t=t.main)&&t.winScore?null==(i=this._gameInfo)?void 0:i.main.winScore:null!=(n=this._gameInfo)&&null!=(n=n.mini)&&n.winScore?null==(a=this._gameInfo)?void 0:a.mini.winScore:0,l=function(){s.setScroll(!1),s._scoreCount=0,s.variable.diceSpeedUp.node.active=!1,s.variable.dice.node.active=!0,s.variable.diceNode.active=!0,s.variable.miniGameBgEffect.active=!1,s.gameStatus=I.over,s.variable.mainBtn.active=!0,s.variable.roundNode.active=!1,s.variable.miniTip.active=!1,O.leftAutoCount<=0&&s.btnManager(!0),s.setScore(r),r>0&&s.variable.updateWin(r),s._isEntryMiniGame&&(s.entryMiniGame(h.ONE),D.inst.play("audio/AC_sound_8001_music_slotqilin_interface_001",1,q.SLOTS_KYLIN),E.instance.setAniPositon2(new h(223,543)),E.instance.playAni(E.instance.KylinAniName.appear,!1)),s.isShowResult&&!s._isEntryMiniGame&&D.inst.play("audio/AC_sound_8001_music_slotqilin_interface_001",1,q.SLOTS_KYLIN),s.isShowResult=!1;var e=1;0==r&&(e=.5),O.leftAutoCount>0&&s.updateLabelAutoCount(e)};if(o){var c=r/o;c&&c>=10?this.scheduleOnce((function(){T.instance.balanceScore(o,r),s.isShowResult=!0,x.instance.showResult(r,o,l.bind(s))}),1):T.instance.balanceScore(o,r,l.bind(this))}else l&&l()},l.showScoreEffect=function(e){var t=this,i=f(A.instance.scoreEffectPre);i.parent=this.variable.effectParent,i.worldPosition=e;var n=this.variable.dice.node.worldPosition.clone(),a=new h(n.x,e.y);0===this._scoreCount&&D.inst.playOneShot("audio/AC_sound_8001_slotqilin_score_collect_rise",1,q.SLOTS_KYLIN),this._scoreCount++,C.instance.bezierTo(i,.3,0,e,a,n).call((function(e){w.instance.putPoolObj(w.PoolsName.scoreEffect,e),t.variable.diceEffect.children.forEach((function(e){e.getComponent(m).stop(),e.getComponent(m).play()}))})).start()},l.endScroll=function(){this.gameStatus=I.over},l.onBetSub=function(){this.index=Math.ceil(this.index-1),this.index<=0&&(this.index=0,this.variable.btnSub.interactable=!1),this.variable.btnAdd.interactable=!0,this.variable.betText.string=C.instance.changeString(this._gearValueArr[this.index].toFixed(2)),this._betScore=this._gearValueArr[this.index],localStorage.setItem(k.SLOTS_KYLIN+O.cacheName.betScore,this._betScore.toString()),this._betLevel=1,N.instance.hide(),this.onTouchEnd()},l.onBetAdd=function(){this.index=Math.floor(this.index+1),this.index>=this._gearValueArr.length-1&&(this.index=this._gearValueArr.length-1,this.variable.btnAdd.interactable=!1),this.variable.btnSub.interactable=!0,this.variable.betText.string=C.instance.changeString(this._gearValueArr[this.index].toFixed(2)),this._betScore=this._gearValueArr[this.index],localStorage.setItem(k.SLOTS_KYLIN+O.cacheName.betScore,this._betScore.toString()),this._betLevel=1,N.instance.hide(),this.onTouchEnd()},l.onTurbo=function(){this._isSpeed?(this._isSpeed=!1,this.variable.scroll.stopType=K.立即陆续,this.variable.bgScroll.stopType=K.立即陆续,this.variable.scroll.easingIn=P.Back,this.variable.bgScroll.easingIn=P.Back,this.variable.scroll.easingOut=P.Elastic,this.variable.bgScroll.easingOut=P.Elastic,this.variable.turboTip.string="OFF"):(this._isSpeed=!0,this.variable.scroll.stopType=K.立即停止,this.variable.bgScroll.stopType=K.立即停止,this.variable.scroll.easingIn=P.Linear,this.variable.bgScroll.easingIn=P.Linear,this.variable.scroll.easingOut=P.Linear,this.variable.bgScroll.easingOut=P.Linear,this.variable.turboTip.string="TURBO"),this.variable.turboEffectNode.active=this._isSpeed,this.onTouchEnd(),N.instance.hide()},l.onMore=function(){this._isOpenSetting?(this._isOpenSetting=!1,_(this.variable.otherNode.getComponent(u)).to(.2,{opacity:0}).start(),_(this.variable.otherNode).to(.2,{scale:new h(1,0,1)}).start()):(this._isOpenSetting=!0,_(this.variable.otherNode.getComponent(u)).to(.2,{opacity:255}).start(),_(this.variable.otherNode).to(.2,{scale:new h(1,1,1)}).start()),N.instance.hide()},l.onBet=function(){var e=this;if(this.gameStatus==I.over&&!this.isAuto){G(this.variable.panelParentNode,[.03,.1,.3,.9],[1,2,3,4,5,6,7,8,9,10],10,B.inst.coin,Number(this.variable.betText.string),function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];console.log("bet----",i),e.index=i[2],e._betScore=i[3],e.variable.betText.string=i[4],localStorage.setItem(k.SLOTS_KYLIN+O.cacheName.betScore,e._betScore.toString()),e.updateBetGear()}.bind(this)).then((function(t){t.bindBet(e.index)})),this.onTouchEnd(),N.instance.hide()}},l.updateBetGear=function(){for(var e=0;e<this._gearValueArr.length;e++){if(this._gearValueArr[e]===this._betScore){0===e?(this.variable.btnSub.interactable=!1,this.variable.btnAdd.interactable=!0):e===this._gearValueArr.length-1?(this.variable.btnSub.interactable=!0,this.variable.btnAdd.interactable=!1):(this.variable.btnSub.interactable=!0,this.variable.btnAdd.interactable=!0),this.index=e;break}if(e===this._gearValueArr.length-1)break;var t=this._gearValueArr[e+1];if(this._betScore>this._gearValueArr[e]&&this._betScore<t){this.index=e+.5,this.variable.btnAdd.interactable=!0,this.variable.btnSub.interactable=!0;break}}},l.onAuto=function(){var e=this;console.log("%c ----自动-----","color:#2ba914");U(this.variable.panelParentNode,B.inst.coin,Number(this.variable.betText.string),function(t){O.leftAutoCount=t,e.startAuto()}.bind(this)),N.instance.hide(),this.onTouchEnd()},l.onStop=function(){this.stopAuto()},l.onLastMoney=function(){V(this.variable.panelParentNode,B.inst.coin)},l.onHelp=function(){tgx.UIMgr.inst.showUI(j,null,this,new H("rule"))},l.onPayout=function(){tgx.UIMgr.inst.showUI(j,null,this,new H("payout"))},l.onMusic=function(){D.inst.switch=!D.inst.switch},l.onHistroy=function(){},l.onExit=function(){tgx.UIAlert.show(z.getLangByID("exit_game"),!0,"ffd3eb","d33c5b","ebccd5","77434e").onClick(s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,W.inst.exitRoom();case 3:case"end":return e.stop()}}),e)}))))},l.onTouchEnd=function(){this._isOpenSetting&&(this._isOpenSetting=!1,_(this.variable.otherNode.getComponent(u)).to(.2,{opacity:0}).start(),_(this.variable.otherNode).to(.2,{scale:new h(1,0,1)}).start())},r(t,[{key:"isEntryMiniGame",get:function(){return this._isEntryMiniGame}},{key:"betPoint",get:function(){return this._betPoint}}],[{key:"instance",get:function(){return this._instance}}]),t}(p))._instance=null,$=t((Z=ee).prototype,"variable",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),X=Z))||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/KylinGameVariable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinUtils.ts","./KylinPoolManager.ts","./Slot2.ts","./PubButton.ts"],(function(t){var e,i,n,r,l,o,a,u,s,b,c,f,p,h,m,y,g,w,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t._decorator,l=t.Label,o=t.Node,a=t.UITransform,u=t.Sprite,s=t.SpriteFrame,b=t.sp,c=t.ParticleSystem,f=t.tween,p=t.Vec3,h=t.randomRangeInt,m=t.random},function(t){y=t.KylinUtils},function(t){g=t.KylinPoolManager},function(t){w=t.Slot},function(t){d=t.PubButton}],execute:function(){var z,T,S,N,E,F,v,B,P,x,M,A,_,G,K,R,V,I,L,U,k,j,D,Y,C,O,q,H,W,J,Q,X,Z,$,tt,et,it,nt,rt,lt,ot,at,ut,st,bt,ct,ft,pt,ht,mt,yt,gt,wt,dt,zt,Tt,St,Nt,Et,Ft,vt,Bt,Pt,xt,Mt,At,_t,Gt,Kt,Rt,Vt,It,Lt,Ut,kt,jt,Dt,Yt,Ct,Ot,qt,Ht,Wt,Jt,Qt,Xt,Zt,$t,te,ee,ie;n._RF.push({},"af8b8ULyYRL3KhY4i6zqYMh","KylinGameVariable",void 0);var ne=r.ccclass,re=r.property;r.type,t("KylinGameVariable",(z=ne("KylinGameVariable"),T=re({type:d,displayName:"开始按钮"}),S=re({type:d,displayName:"加速按钮"}),N=re({type:d,displayName:"减按钮"}),E=re({type:d,displayName:"加按钮"}),F=re({type:d,displayName:"自动按钮"}),v=re({type:d,displayName:"停止自动按钮"}),B=re(l),P=re({type:l,displayName:"积分"}),x=re({type:l,displayName:"下注额"}),M=re({type:l,displayName:"赢的分数"}),A=re({type:l,tooltip:"加速按钮提示"}),_=re({type:o,tooltip:"放置所有二级界面"}),G=re(w),K=re(w),R=re(o),V=re(a),I=re(a),L=re(o),U=re(o),k=re([o]),j=re(o),D=re(l),Y=re(u),C=re(o),O=re([s]),q=re(o),H=re(b.Skeleton),W=re(b.Skeleton),J=re(o),Q=re(u),X=re([s]),Z=re([s]),$=re(o),tt=re([o]),et=re(o),it=re(o),nt=re(o),rt=re(o),lt=re(c),ot=re(c),at=re({type:o,tooltip:"两边数字特效"}),ut=re(o),st=re(o),bt=re([o]),z((pt=e((ft=function(){function t(){i(this,"btnStart",pt,this),i(this,"btnTurbo",ht,this),i(this,"btnSub",mt,this),i(this,"btnAdd",yt,this),i(this,"btnAuto",gt,this),i(this,"btnStop",wt,this),i(this,"autoText",dt,this),i(this,"scoreText",zt,this),i(this,"betText",Tt,this),i(this,"winText",St,this),i(this,"turboTip",Nt,this),i(this,"panelParentNode",Et,this),i(this,"scroll",Ft,this),i(this,"bgScroll",vt,this),i(this,"otherNode",Bt,this),i(this,"bottomBg",Pt,this),i(this,"bottomBg2",xt,this),i(this,"mainBtn",Mt,this),i(this,"startRefresh",At,this),i(this,"entryMiniAniNode",_t,this),i(this,"roundNode",Gt,this),i(this,"roundText",Kt,this),i(this,"turntableBg",Rt,this),i(this,"miniTip",Vt,this),i(this,"turntableFrames",It,this),i(this,"diceNode",Lt,this),i(this,"dice",Ut,this),i(this,"diceSpeedUp",kt,this),i(this,"topBg",jt,this),i(this,"btnVideo",Dt,this),i(this,"cloudFrames",Yt,this),i(this,"videoFrames",Ct,this),i(this,"videoMask",Ot,this),i(this,"startFrameList",qt,this),i(this,"entryMiniGameEffect",Ht,this),i(this,"miniGameBgEffect",Wt,this),i(this,"diceEffect",Jt,this),i(this,"effectParent",Qt,this),i(this,"startEffectFront",Xt,this),i(this,"startEffectAfter",Zt,this),i(this,"numberEffect",$t,this),i(this,"btnIdleEffect",te,this),i(this,"turboEffectNode",ee,this),i(this,"doorEffectNodes",ie,this),this._btnStartTw=null,this.winTw=null,this.scoreTw=null}var e=t.prototype;return e.setStartAni=function(t){this._btnStartTw&&(this._btnStartTw.stop(),this._btnStartTw=null),this._btnStartTw=f(this.startRefresh).by(t,{eulerAngles:new p(0,0,-360)}).repeatForever(),this._btnStartTw.start()},e.updateScore=function(t,e){var i;null==(i=this.scoreTw)||i.removeSelf(),this.scoreTw=y.instance.IncreaseNumber(this.scoreText,t,e,{timer:1}),this.scoreTw.start()},e.updateWin=function(t){var e;null==(e=this.winTw)||e.removeSelf(),this.winTw=y.instance.IncreaseNumber(this.winText,0,t,{timer:.5,tag:3}),this.winTw.start()},e.entryMiniGame=function(t){this.turntableBg.spriteFrame=t?this.turntableFrames[1]:this.turntableFrames[0]},e.initCloud=function(){for(var t=h(3,8),e=0;e<t;e++){var i=g.instance.getPoolObj(g.PoolsName.cloud);i.parent=this.topBg,i.getComponent(u).spriteFrame=this.cloudFrames[h(0,5)];var n=-500-100*Math.random(),r=870+920*m();i.setPosition(n,r),f(i).to(h(60,80),{position:new p(1e3*n/Math.abs(n)*-1,r)}).call((function(t){g.instance.putPoolObj(g.PoolsName.cloud,t)})).start()}},e.playStartEffect=function(){this.startEffectAfter.play(),this.startEffectFront.play()},t}()).prototype,"btnStart",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(ft.prototype,"btnTurbo",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(ft.prototype,"btnSub",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(ft.prototype,"btnAdd",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(ft.prototype,"btnAuto",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(ft.prototype,"btnStop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(ft.prototype,"autoText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(ft.prototype,"scoreText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(ft.prototype,"betText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ft.prototype,"winText",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(ft.prototype,"turboTip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(ft.prototype,"panelParentNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(ft.prototype,"scroll",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(ft.prototype,"bgScroll",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(ft.prototype,"otherNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(ft.prototype,"bottomBg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(ft.prototype,"bottomBg2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(ft.prototype,"mainBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(ft.prototype,"startRefresh",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(ft.prototype,"entryMiniAniNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=e(ft.prototype,"roundNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(ft.prototype,"roundText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(ft.prototype,"turntableBg",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(ft.prototype,"miniTip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(ft.prototype,"turntableFrames",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=e(ft.prototype,"diceNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(ft.prototype,"dice",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(ft.prototype,"diceSpeedUp",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(ft.prototype,"topBg",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(ft.prototype,"btnVideo",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(ft.prototype,"cloudFrames",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=e(ft.prototype,"videoFrames",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ot=e(ft.prototype,"videoMask",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(ft.prototype,"startFrameList",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ht=e(ft.prototype,"entryMiniGameEffect",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(ft.prototype,"miniGameBgEffect",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(ft.prototype,"diceEffect",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(ft.prototype,"effectParent",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(ft.prototype,"startEffectFront",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(ft.prototype,"startEffectAfter",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=e(ft.prototype,"numberEffect",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(ft.prototype,"btnIdleEffect",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=e(ft.prototype,"turboEffectNode",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(ft.prototype,"doorEffectNodes",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=ft))||ct));n._RF.pop()}}}));

System.register("chunks:///_virtual/KylinNoticeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinUtils.ts","./KylinPoolManager.ts","./AudioMgr.ts","./ModuleDef.ts","./LanguageData.ts"],(function(e){var n,i,t,o,r,a,c,s,l,u,f,h,g,d,p,m,w,b,_,y,S,L,z;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,c=e._decorator,s=e.Sprite,l=e.RichText,u=e.UITransform,f=e.Node,h=e.Label,g=e.SpriteFrame,d=e.ParticleSystem,p=e.tween,m=e.Vec3,w=e.macro,b=e.Component},function(e){_=e.KylinUtils},function(e){y=e.KylinPoolManager},function(e){S=e.AudioMgr},function(e){L=e.ModuleDef},function(e){z=e.LanguageData}],execute:function(){var N,E,T,F,v,x,P,O,C,I,K,M,B,D,R,W,k,A,q,U,j,G,V,X;a._RF.push({},"d14b0LKXXZGw78xogywiGfl","KylinNoticeManager",void 0);var Y=c.ccclass,Z=c.property,H=["ql_broadcast1","ql_broadcast2","ql_broadcast3"];e("KylinNoticeManager",(N=Y("KylinNoticeManager"),E=Z(s),T=Z(l),F=Z(u),v=Z(f),x=Z(s),P=Z(h),O=Z([g]),C=Z([g]),I=Z(f),K=Z(f),N(((X=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(n,"noticeBg",D,o(n)),t(n,"msgLab",R,o(n)),t(n,"maskTrans",W,o(n)),t(n,"scoreNode",k,o(n)),t(n,"winSpr",A,o(n)),t(n,"winScoreLab",q,o(n)),t(n,"winFrames",U,o(n)),t(n,"winTextFrames",j,o(n)),t(n,"bigPrizeEffect",G,o(n)),t(n,"prizeEffect",V,o(n)),n._noticeIndex=2,n._msgTween=null,n._winScore=0,n._isShow=!1,n._miniWinScore=0,n}i(n,e);var a=n.prototype;return a.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.showNotice())},a.balanceScore=function(e,n,i){if(void 0===i&&(i=null),n){this.scoreNode.active=!0,this.msgLab.node.active=!1,S.inst.playOneShot("audio/AC_sound_8001_slotqilin_card_integral",1,L.SLOTS_KYLIN);var t=n/e;t>10?(this.bigPrizeEffect.children.forEach((function(e){e.getComponent(d).stop()})),this.bigPrizeEffect.children.forEach((function(e){e.getComponent(d).play()})),this.noticeBg.spriteFrame=t<100?this.winFrames[1]:this.winFrames[2]):(this.noticeBg.spriteFrame=this.winFrames[0],this.prizeEffect.children.forEach((function(e){e.getComponent(d).stop()})),this.prizeEffect.children.forEach((function(e){e.getComponent(d).play()}))),t>=5?_.instance.IncreaseNumber(this.winScoreLab,0,n,{prefix:"win ",timer:1}).start():this.winScoreLab.string="win "+_.instance.changeString(n.toFixed(2)),p(this.node).to(.2,{scale:new m(1.2,1.2,1.2)}).delay(.1).to(.2,{scale:m.ONE}).call((function(){i&&i()})).union().start()}else i&&i()},a.onDestroy=function(){n._instance=null},a.addText=function(e,n,i,t){var o=this,r=new m;r=e.position.clone().x<0?e.worldPosition.clone().add3f(this.winScoreLab.node.worldPosition.clone().x/2,-100,0):e.worldPosition.clone().subtract3f(this.winScoreLab.node.worldPosition.clone().x/2,100,0),this.scheduleOnce((function(){S.inst.playOneShot("audio/AC_sound_8001_slotqilin_card_integral",1,L.SLOTS_KYLIN)}),.2),_.instance.bezierTo(e,.5,.1,e.worldPosition.clone(),r,this.winScoreLab.node.worldPosition.clone()).call((function(){o.scoreNode.active=!0,o.msgLab.node.active=!1,y.instance.putPoolObj(y.PoolsName.prizeText,e),o._miniWinScore+=n,o.prizeEffect.children.forEach((function(e){e.getComponent(d).stop()})),o.prizeEffect.children.forEach((function(e){e.getComponent(d).play()})),o.winScoreLab.string="win "+_.instance.changeString(o._miniWinScore.toFixed(2));var r=100*o._miniWinScore/i;o.noticeBg.spriteFrame=r>=0&&r<=10?o.winFrames[0]:r>10&&r<=100?o.winFrames[1]:o.winFrames[2],p(o.scoreNode).to(.2,{scale:new m(1.2,1.2)}).to(.2,{scale:m.ONE}).call((function(){t&&t()})).start()})).start()},a.resetNoticeBg=function(){this.noticeBg.spriteFrame=this.winFrames[0]},a.showNotice=function(){this.schedule(this.setNotice,7,w.REPEAT_FOREVER,.1)},a.setNotice=function(){var e=this;this._msgTween&&(this._msgTween.stop(),this._msgTween=null),this.msgLab.string=z.getLangByID(H[this._noticeIndex]),this.scheduleOnce((function(){var n=e.msgLab.getComponent(u).contentSize,i=e.maskTrans.contentSize.width;n.width>i?(e.msgLab.node.position=new m((n.width-i)/2),e.scheduleOnce((function(){p(e.msgLab.node).removeSelf(),e._msgTween=p(e.msgLab.node).to(7,{position:new m(-n.width,0)}),e._msgTween.start()}),1)):e.msgLab.node.position=m.ZERO}),1/60),this._noticeIndex++,this._noticeIndex>=H.length&&(this._noticeIndex=0)},a.stopNotice=function(){this._msgTween&&(this._msgTween.stop(),this._msgTween=null)},a.hideScoreNode=function(){this._miniWinScore=0,this.scoreNode.active=!1,this.msgLab.node.active=!0,this.resetNoticeBg()},r(n,[{key:"miniWinScore",set:function(e){this._miniWinScore=e}}],[{key:"instance",get:function(){return this._instance}}]),n}(b))._instance=null,D=n((B=X).prototype,"noticeBg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(B.prototype,"msgLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(B.prototype,"maskTrans",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(B.prototype,"scoreNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(B.prototype,"winSpr",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(B.prototype,"winScoreLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(B.prototype,"winFrames",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(B.prototype,"winTextFrames",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(B.prototype,"bigPrizeEffect",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(B.prototype,"prizeEffect",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=B))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/KylinPoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,t,l,s,i,r;return{setters:[function(o){e=o.inheritsLoose,n=o.createClass},function(o){t=o.cclegacy,l=o._decorator,s=o.NodePool,i=o.instantiate,r=o.Component}],execute:function(){var a,c;t._RF.push({},"094b22pZ0dLb4emG4avNuju","KylinPoolManager",void 0);var p=l.ccclass;l.property,o("KylinPoolManager",p("KylinPoolManager")(((c=function(o){function t(){for(var e,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(e=o.call.apply(o,[this].concat(t))||this).pools={},e}e(t,o);var l=t.prototype;return l.createPool=function(o){var e=this;return new Promise((function(n,t){if(e.pools[o.name])return t();for(var l=o.mediator||"",r=new s(l),a=o.initCount||1,c=o.nodeName?o.nodeName:o.prefab.name,p=0;p<a;++p){var u=i(o.prefab);u.name="["+o.name+"]"+c,r.put(u)}o.pool=r,e.pools[o.name]=o,n()}))},l.createPoolAsync=function(o){if(this.pools[o.name])o.cb&&o.cb();else{console.log("createPool","start");for(var e=o.mediator||"",n=new s(e),t=o.initCount||1,l=0,r=o.name?o.name:o.prefab.name,a=0;a<t;++a)setTimeout((function(){var e=i(o.prefab);if(e.name="["+o.name+"]"+r,n.put(e),++l>=t&&o.cb)return o.cb()}),0);o.pool=n,this.pools[o.name]=o,console.log("createPool","done")}},l.clearPool=function(o){console.log("clearPool",o),console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool.clear(),delete this.pools[o]},l.clearPoolContent=function(o){console.log("clearPoolContent",o),console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool.clear()},l.getPool=function(o){return console.log(this.pools[o],"该对像池不存在:"+o),this.pools[o].pool},l.getPoolObj=function(o,e){if(0==this.pools[o].pool.size()){var n=i(this.pools[o].prefab);this.pools[o].pool.put(n)}return this.pools[o].pool.get(e)},l.getPoolParams=function(o){return this.pools[o]},l.putPoolObj=function(o,e){this.pools[o].pool.put(e)},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance},set:function(o){this._instance=o}}]),t}(r))._instance=null,c.PoolsName={prizeText:"prizeText",gameElement:"gameElement",scoreEffect:"scoreEffect",cloud:"cloud",liuxing:"liuxing"},a=c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/KylinPrizeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinGameElement.ts","./KylinGameManager.ts","./KylinAnimationManager.ts","./KylinUtils.ts","./ModuleDef.ts","./AudioMgr.ts"],(function(e){var n,t,i,o,l,r,s,a,c,h,u,d,p,f,g,m,v,_,C,y,z,S,N;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.Vec3,c=e.Node,h=e.Prefab,u=e.Label,d=e.Font,p=e.instantiate,f=e.macro,g=e.find,m=e.Component,v=e.tween},function(e){_=e.KylinGameElement},function(e){C=e.KylinGameManager},function(e){y=e.KylinAnimationManager},function(e){z=e.KylinUtils},function(e){S=e.ModuleDef},function(e){N=e.AudioMgr}],execute:function(){var b,w,E,L,x,A,I,K,P,T,M,F,O,k,R,X,q,D,G,Y,U,V,j,B,H,J,Z,Q,W,$;r._RF.push({},"371e39J/3dEqLX+3ZyaIO95","KylinPrizeManager",void 0);var ee=s.ccclass,ne=s.property,te=[3,4,3],ie=[-112,-112,-112],oe=[232,219,232],le=[new a(0,780),new a(0,555),new a(0,330),new a(0,105)];e("KylinPrizeManager",(b=ee("KylinPrizeManager"),w=ne(c),E=ne(c),L=ne(c),x=ne(c),A=ne(c),I=ne(c),K=ne(c),P=ne(c),T=ne(h),M=ne(c),F=ne(u),O=ne(c),k=ne([d]),b((($=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,i(n,"maskNode",q,o(n)),i(n,"letfLightNode",D,o(n)),i(n,"rightLightNode",G,o(n)),i(n,"letfEffectNode",Y,o(n)),i(n,"rightEffectNode",U,o(n)),i(n,"lineNode",V,o(n)),i(n,"endContent",j,o(n)),i(n,"prizeContent",B,o(n)),i(n,"elementItem",H,o(n)),i(n,"lineScoreNode",J,o(n)),i(n,"lineScoreText",Z,o(n)),i(n,"prizeTextContent",Q,o(n)),i(n,"lineFont",W,o(n)),n._lineIndex=0,n._lines=[],n._scoreElements=[],n}t(n,e);var r=n.prototype;return r.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.gameSetup())},r.gameSetup=function(){for(var e=0;e<this.endContent.children.length;e++){for(var n=0;n<te[e];n++){var t=p(this.elementItem);t.parent=this.endContent.children[e],t.position=new a(0,-112-oe[e]*n),t.name=n.toString()}for(var i=0;i<te[e];i++){var o=p(this.elementItem);o.parent=this.prizeContent.children[e],o.position=new a(0,-112+oe[e]+oe[e]*i),o.name=i.toString(),o.active=!1}}this.endContent.active=!1,this.prizeContent.active=!1,this.showPrize(C.instance.getFrameIds(),0,0)},r.onDestroy=function(){n._instance=null},r.showPrize=function(e,n,t,i,o){var l;void 0===i&&(i=null),void 0===o&&(o=null),this._lines=null==(l=i)?void 0:l.lines,this.endContent.active=!0;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++){var a=this.endContent.children[r].children[s].getComponent(_);a.initElement(e[r][s].name,e[r][s].text),a.node.active=!0,a.getComponent(_).setSpine("",!0),"301"!==e[r][s].name||C.instance.isAuto||C.instance.isEntryMiniGame||a.showScoreEffect();var c=this.prizeContent.children[r].children[s].getComponent(_);c.initElement(e[r][s].name,e[r][s].text),c.showSpine(e[r][s].name)}1===n?(this.linePrize(),o&&o()):2===n?this.scorePrize(i,t,o):o&&o()},r.showElementSpine=function(e,n,t){var i=this.endContent.children[n].children[t].getComponent(_);i.node.active=!0,i.node.position=new a(0,-112-oe[n]*t),i.initElement(e.name,e.text,"3")},r.linePrize=function(){this.prizeContent.active=!0,this.closeAllLine(),this._lineIndex=this._lines.length,this.maskNode.active=!0,1===this._lines.length?N.inst.playOneShot("audio/AC_sound_8001_slotqilin_connect_single",1,S.SLOTS_KYLIN):N.inst.playOneShot("audio/AC_sound_8001_slotqilin_connect_multiple",1,S.SLOTS_KYLIN),this.schedule(this.carouselLine.bind(this),1.5,f.REPEAT_FOREVER,.1)},r.scorePrize=function(e,n,t){var i=this;if(void 0===t&&(t=null),e.winScore){this._scoreElements=[],this.prizeContent.active=!0,this.closeAllLine(),this.maskNode.active=!0;for(var o=0;o<e.colums.length;o++)for(var l=0;l<e.colums[o].elements.length;l++){if(e.colums[o].elements[l].cardScore){var r=this.prizeContent.children[o].children[l];r.active=!0,r.position=new a(0,ie[o]-oe[o]*l),this._scoreElements.push(r)}}N.inst.playOneShot("audio/AC_sound_8001_slotqilin_card_lightmore",1,S.SLOTS_KYLIN),this._scoreElements.length>0&&!C.instance.isEntryMiniGame&&y.instance.playAni(y.instance.KylinAniName.happy,!1);for(var s=function(e){i._scoreElements[e].getComponent(_).prizeEffect(!0),v(i._scoreElements[e]).delay(.2+.5*e).call((function(o){e===i._scoreElements.length-1?o.getComponent(_).addText(i.prizeTextContent,n,t):o.getComponent(_).addText(i.prizeTextContent,n)})).start()},c=0;c<this._scoreElements.length;c++)s(c)}else t&&t()},r.carouselLine=function(){if(this.resetPrizeElement(),this.closeAllLine(),1===this._lines.length&&(this._lineIndex=0),this.showEndContent(),this._lineIndex===this._lines.length){C.instance.isShowResult||N.inst.playOneShot("audio/AC_sound_8001_slotqilin_connect_multiple",1,S.SLOTS_KYLIN),this.lineScoreNode.active=!1;for(var e=0;e<this._lines.length;e++){var n=this._lines[e];g(n.lineNo.toString(),this.lineNode).active=!0;var t=g(n.lineNo.toString(),this.letfLightNode).getComponent(u),i=g(n.lineNo.toString(),this.rightLightNode).getComponent(u);t.font=this.lineFont[0],i.font=this.lineFont[0],t.spacingX=0,i.spacingX=0;for(var o=0;o<n.line.length;o++){var l=this.prizeContent.children[o].children[n.line[o]];this.endContent.children[o].children[n.line[o]].active=!1,l.active=!0,l.position=new a(0,ie[o]-oe[o]*n.line[o]),l.getComponent(_).prizeEffect(!1),l.getComponent(_).setSpine("1",!1)}}}else{C.instance.isShowResult||N.inst.playOneShot("audio/AC_sound_8001_slotqilin_connect_single",1,S.SLOTS_KYLIN);var r=this._lines[this._lineIndex];g(r.lineNo.toString(),this.lineNode).active=!0;var s=g(r.lineNo.toString(),this.letfLightNode).getComponent(u),c=g(r.lineNo.toString(),this.rightLightNode).getComponent(u);s.font=this.lineFont[0],c.font=this.lineFont[0],s.spacingX=0,c.spacingX=0,this.lineScoreNode.active=!0,this.lineScoreText.string=z.instance.changeString(r.lineScore.toFixed(2)),this.lineScoreNode.position=le[r.line[1]];for(var h=0;h<r.line.length;h++){var d=this.prizeContent.children[h].children[r.line[h]];this.endContent.children[h].children[r.line[h]].active=!1,d.active=!0,d.position=new a(0,ie[h]-oe[h]*r.line[h]),d.getComponent(_).prizeEffect(!1),d.getComponent(_).setSpine("1",!1)}}this._lineIndex++,this._lineIndex>this._lines.length&&(this._lineIndex=0)},r.showEndContent=function(e){void 0===e&&(e=!0);for(var n=0;n<this.endContent.children.length;n++)for(var t=0;t<te[n];t++){var i=this.endContent.children[n].children[t];i.getComponent(_).setSpine("",!1),i.active=e}},r.resetPrizeElement=function(){for(var e=0;e<this.prizeContent.children.length;e++)for(var n=0;n<te[e];n++){var t=this.prizeContent.children[e].children[n];t.position=new a(0,ie[e]+oe[e]+oe[e]*n),t.active=!1}},r.closeAllLine=function(){for(var e=0;e<this.lineNode.children.length;e++)this.lineNode.children[e].active=!1;for(var n=0;n<this.letfLightNode.children.length;n++){var t=this.letfLightNode.children[n].getComponent(u),i=this.rightLightNode.children[n].getComponent(u);t.font=this.lineFont[1],i.font=this.lineFont[1],t.spacingX=-15,i.spacingX=-15}},r.hideEndContet=function(){this.resetPrizeElement(),this.closeAllLine(),this.lineScoreNode.active=!1,this.endContent.active=!1,this.prizeContent.active=!1,this.maskNode.active=!1,this.unscheduleAllCallbacks()},l(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(m))._instance=null,q=n((X=$).prototype,"maskNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(X.prototype,"letfLightNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(X.prototype,"rightLightNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(X.prototype,"letfEffectNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(X.prototype,"rightEffectNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(X.prototype,"lineNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(X.prototype,"endContent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(X.prototype,"prizeContent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(X.prototype,"elementItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(X.prototype,"lineScoreNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(X.prototype,"lineScoreText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(X.prototype,"prizeTextContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(X.prototype,"lineFont",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=X))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/KylinSceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinGameManager.ts","./KylinPoolManager.ts"],(function(e){var n,t,i,o,l,a,r,c,s,u,h,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,r=e._decorator,c=e.Prefab,s=e.UITransform,u=e.Component},function(e){h=e.KylinGameManager},function(e){f=e.KylinPoolManager}],execute:function(){var m,g,p,P,b,y,d,W,S,N,z,M,w,x,E,C;a._RF.push({},"47283ICX4pNgZmAidz7lOXA","KylinSceneManager",void 0);var _=r.ccclass,v=r.property;e("KylinSceneManager",(m=_("KylinSceneManager"),g=v(c),p=v(c),P=v(c),b=v(c),y=v(c),d=v({type:s,tooltip:"游戏的主节点"}),m(((C=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,i(n,"prizeTextPre",N,o(n)),i(n,"gameElementPre",z,o(n)),i(n,"scoreEffectPre",M,o(n)),i(n,"cloudPrefab",w,o(n)),i(n,"liuxing",x,o(n)),i(n,"gameMainTran",E,o(n)),n.betScore=[],n.elementOdd=[],n.lineCount=0,n.fakeMiniRate=0,n.pointScores=[],n.wheel=[],n.wheelData=[],n.miniWheelData=[],n.isOpenVideo=!0,n.isFirstEnty=!0,n._isFirst=!0,n}t(n,e);var a=n.prototype;return a.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,this.gameSetup())},a.reconnect=function(){h.instance.reconnect()},a.onDisable=function(){f.instance=null,n._instance=null},a.gameSetup=function(){f.instance.createPool({name:f.PoolsName.prizeText,prefab:this.prizeTextPre,initCount:12}).then((function(){console.log("创建对象池"+f.PoolsName.prizeText+"完成")})).catch((function(e){console.log("创建对象池"+f.PoolsName.prizeText+"失败")})),f.instance.createPool({name:f.PoolsName.gameElement,prefab:this.gameElementPre,initCount:12}).then((function(){console.log("创建对象池"+f.PoolsName.gameElement+"完成")})).catch((function(e){console.log("创建对象池"+f.PoolsName.gameElement+"失败")})),f.instance.createPool({name:f.PoolsName.scoreEffect,prefab:this.scoreEffectPre,initCount:12}).then((function(){console.log("创建对象池"+f.PoolsName.scoreEffect+"完成")})).catch((function(e){console.log("创建对象池"+f.PoolsName.scoreEffect+"失败")})),f.instance.createPool({name:f.PoolsName.cloud,prefab:this.cloudPrefab,initCount:10}).then((function(){console.log("创建对象池"+f.PoolsName.cloud+"完成")})).catch((function(e){console.log("创建对象池"+f.PoolsName.cloud+"失败")})),f.instance.createPool({name:f.PoolsName.liuxing,prefab:this.liuxing,initCount:10}).then((function(){console.log("创建对象池"+f.PoolsName.liuxing+"完成")})).catch((function(e){console.log("创建对象池"+f.PoolsName.liuxing+"失败")}))},a.startGame=function(){this.initGameScene({betScore:[100,200,300,400,500,600,700,800,900],elementOdd:{101:100,102:50,103:10,104:5,105:3,106:2,301:2,201:200},lineCount:10,fakeMiniRate:10,pointScores:[100,300,500,700,900,1100],mainWheel:[{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]}],miniWheel:[{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]}]})},a.initGameScene=function(e){console.log("---麒麟--",e),this.betScore=e.betScore,this.elementOdd=e.elementOdd,this.lineCount=e.lineCount,this.fakeMiniRate=e.fakeMiniRate,this.pointScores=e.pointScores,this.wheel=e.mainWheel,this.setWheelData(e.miniWheel),this._isFirst&&(this._isFirst=!1,h.instance.initUI())},a.setWheelData=function(e){for(var n=0;n<this.wheel.length;n++)this.wheelData[n]=this.wheel[n].lineWheel;for(var t=0;t<e.length;t++){this.miniWheelData[t]=[];for(var i=0;i<e[t].lineWheel.length;i++){var o=e[t].lineWheel[i]?e[t].lineWheel[i]:302;this.miniWheelData[t].push(o)}}},l(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(u))._instance=null,N=n((S=C).prototype,"prizeTextPre",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(S.prototype,"gameElementPre",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(S.prototype,"scoreEffectPre",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(S.prototype,"cloudPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(S.prototype,"liuxing",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"gameMainTran",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=S))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/KylinUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Num.ts"],(function(e){var n,t,r,a,o,s,i,c,u,l,m,h,p;return{setters:[function(e){n=e.inheritsLoose,t=e.regeneratorRuntime,r=e.createClass,a=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,i=e.Vec3,c=e.ParticleSystem,u=e.easing,l=e.tween,m=e.randomRangeInt,h=e.Component},function(e){p=e.Num}],execute:function(){var d,f;o._RF.push({},"915058nZCdNwaUNIYAM3A6M","KylinUtils",void 0);var y=s.ccclass,g=(s.property,{kylin:201,seal:101,boat:102,frog:103,jar:104,crown:105,token:106}),b={1:[0,0,0],2:[0,1,0],3:[0,1,1],4:[1,1,0],5:[1,1,1],6:[1,2,1],7:[1,2,2],8:[2,2,1],9:[2,2,2],10:[2,3,2]};e("KylinUtils",y("KylinUtils")(((f=function(e){function o(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).numberTween=null,n.delayTime=.2,n}n(o,e);var s=o.prototype;return s.conver=function(e,n){var t={betScore:0,code:200,main:{colums:[],hitType:0,lines:[],winScore:0},mini:{list:[],winScore:0},winScore:0};if(e.isSucc)if(t.code=200,t.betScore=n,t.winScore=p.toThousandsBack(e.res.payout),e.res.results&&e.res.results.length<8){t.mini=null,t.main.winScore=p.toThousandsBack(e.res.payout);for(var r=0;r<3;r++){t.main.colums.push({elements:[]});var a=3;1===r&&(a=4);for(var o=0;o<a;o++)t.main.colums[r].elements.push({elementId:302,cardScore:0})}var s=e.res.results[0];t.main.winScore=p.toThousandsBack(s.payout);for(var i=0,c=s.symbols.length-1;c>=0;c--)if("null"!==s.symbols[c].id){var u=s.symbols[c].coordinate.reel-1,l=0;if(l=1===u?4-s.symbols[c].coordinate.row:3-s.symbols[c].coordinate.row,g[s.symbols[c].id])t.main.colums[u].elements[l]={elementId:g[s.symbols[c].id],cardScore:0};else{var m=s.symbols[c].id.replace("倍",""),h=s.symbols[c].payout?p.toThousandsBack(s.symbols[c].payout):p.toThousandsBack(m)*n;t.main.colums[u].elements[l]={elementId:301,cardScore:h},i++}}if(s.paylines.length>0){t.main.hitType=1;for(var d=0;d<s.paylines.length;d++){var f=s.paylines[d],y=parseInt(f.id),v=p.toThousandsBack(f.payout);t.main.lines.push({lineNo:y,lineScore:v,line:b[y]})}}else t.main.hitType=0;i>=5&&(t.main.hitType=2)}else{t.main=null;for(var w=0;w<e.res.results.length;w++){for(var x=e.res.results[w],T=[],k=0;k<3;k++){T.push({elements:[]});var S=3;1===k&&(S=4);for(var M=0;M<S;M++)T[k].elements.push({elementId:302,cardScore:0})}for(var N=x.payout?p.toThousandsBack(x.payout):0,B=x.symbols.length-1;B>=0;B--)if("null"!==x.symbols[B].id&&"empty"!==x.symbols[B].id){var I=x.symbols[B].coordinate.reel-1,_=0;_=1===I?4-x.symbols[B].coordinate.row:3-x.symbols[B].coordinate.row;var z=x.symbols[B].id.replace("倍",""),P=x.symbols[B].payout?p.toThousandsBack(x.symbols[B].payout):p.toThousandsBack(z)*n;T[I].elements[_]={elementId:301,cardScore:P}}var F={colums:T,hitType:2,lines:[],winScore:N};t.mini.list.push(F),t.mini.winScore=p.toThousandsBack(e.res.payout)}}else t.code=500;return t},s.setNodesByComponent=function(e,n,t){var r=this;void 0===n&&(n=90),void 0===t&&(t=new i(.75,.75,.75));var a=e.getComponent(c);a&&(a.node.scale=t.clone().multiply(a.node.scale.clone())),e.children.forEach((function(e){return r.setNodesByComponent(e,n,t)}))},s.IncreaseNumber=function(e,n,t,r){r||(r={prefix:"",timer:3,place:2,easing:{easing:u.quintOut},tag:1});var a=r.place?r.place:2,o=r.timer?r.timer:3,s=r.prefix?r.prefix:"",i=r.tag?r.tag:1,c=(r.easing?r.easing:u.quintOut,t-n);if(c<0)return this.ReceduNumber(e,n,t,r);var m=c*Math.pow(10,a);return e.string=s+p.exchangeToThousands(1,n),this.numberTween=l({number:0}).to(o,{number:Math.round(m)},{progress:function(t,r,o,i){return e.string=s+p.exchangeToThousands(1,(n*Math.pow(10,a)+Math.ceil(t+(r-t)*i))/Math.pow(10,a)),(n*Math.pow(10,a)+t+(r-t)*i)/Math.pow(10,a)},easing:u.linear}).call((function(){e.string=s+p.exchangeToThousands(1,t),r.callback&&r.callback()})).tag(i),this.numberTween},s.ReceduNumber=function(e,n,t,r){var a=this;this.numberTween&&this.numberTween.stop(),r||(r={prefix:"",timer:2,place:2});var o=r.place?r.place:2,s=r.timer?r.timer:2,i=r.prefix?r.prefix:"",c=r.tag?r.tag:2,m=Math.abs(t-n)*Math.pow(10,o);return e.string=i+this.changeString(n.toFixed(2)),this.numberTween=l({number:0}).to(s,{number:m},{progress:function(t,r,s,c){return e.string=i+a.changeString(((n*Math.pow(10,o)-Math.ceil(t+(r-t)*c))/Math.pow(10,o)).toFixed(2)),(n*Math.pow(10,o)-t+(r-t)*c)/Math.pow(10,o)},easing:u.quintOut}).call((function(){e.string=i+a.changeString(t.toFixed(2)),r.callback&&r.callback()})).tag(c),this.numberTween},s.getRandomNumberNotInArray=function(e,n,t){for(var r=[],a=e;a<=n;a++)t.includes(a)||r.push(a);return r.length<=0?-1:r[m(0,r.length)]},s.changeString=function(e,n){void 0===n&&(n="en");var t="";switch(n){case"pt":case"PT":t=e.toString().replace(".",",");break;case"en":t=e.toString();case"EN":t=e.toString()}return t},s.toNumber=function(e,n){void 0===n&&(n="en");var t="";switch(n){case"pt":t=e.toString().replace(",",".");break;case"en":t=e.toString()}return Number(t)},s.bezierTo=function(e,n,t,r,a,o,s){s=s||Object.create(null);return s.onUpdate=function(n,t){e.worldPosition=function(e,n,t,r){var a=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,o=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,s=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new i(a,o,s)}(t,r,a,o)},l(e).delay(t).to(n,{},s)},s.bezierPostionTo=function(e,n,t,r,a,o,s){s=s||Object.create(null);return s.onUpdate=function(n,t){e.position=function(e,n,t,r){var a=(1-e)*(1-e)*n.x+2*e*(1-e)*t.x+e*e*r.x,o=(1-e)*(1-e)*n.y+2*e*(1-e)*t.y+e*e*r.y,s=(1-e)*(1-e)*n.z+2*e*(1-e)*t.z+e*e*r.z;return new i(a,o,s)}(t,r,a,o)},l(e).delay(t).to(n,{},s)},s.startLoad=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];this.framingLoad(e,n,r)},s._getItemGenerator=t().mark((function e(n,r,a){var o,s,i,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=21;break}if("boolean"!=typeof(o=a[a.length-1])||!o){e.next=12;break}s=r-1;case 4:if(!(s>=0)){e.next=10;break}return e.next=7,n(s,a);case 7:s--,e.next=4;break;case 10:e.next=19;break;case 12:i=0;case 13:if(!(i<r)){e.next=19;break}return e.next=16,n(i,a);case 16:i++,e.next=13;break;case 19:e.next=28;break;case 21:c=0;case 22:if(!(c<r)){e.next=28;break}return e.next=25,n(c,a);case 25:c++,e.next=22;break;case 28:case"end":return e.stop()}}),e)})),s.framingLoad=function(){var e=a(t().mark((function e(n,r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executePreFrame(this._getItemGenerator(n,r,a),1);case 2:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),s.executePreFrame=function(e,n){var t=this;return new Promise((function(r,a){var o=e;!function e(){var a=(new Date).getTime();t.scheduleOnce((function(){for(var s=o.next();;s=o.next()){if(null==s||s.done)return void r(!0);if((new Date).getTime()-a>n)return void t.scheduleOnce((function(){e()}))}}),t.delayTime)}()}))},r(o,null,[{key:"instance",get:function(){return this._instance||(this._instance=new o),this._instance}}]),o}(h))._instance=null,d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/KylinVideoManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,o,t,r;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,r=n.Component}],execute:function(){var i;o._RF.push({},"3b149qItwdAioQioVvVqohj","KylinVideoManager",void 0);var a=t.ccclass;t.property,n("KylinVideoManager",a("KylinVideoManager")(i=function(n){function o(){return n.apply(this,arguments)||this}return e(o,n),o.prototype.start=function(){},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_kylin",["./Slot2.ts","./SlotItem2.ts","./SlotLayer%20copy.ts","./SlotLayer2.ts","./TweenFun2.ts","./KylinBaseScroll.ts","./KylinPoolManager.ts","./KylinUtils.ts","./PubButton.ts","./KylinGameData.ts","./KylinGameVariable.ts","./KylinAnimationManager.ts","./KylinElementDetailsManager.ts","./KylinGameElement.ts","./KylinGameManager.ts","./KylinNoticeManager.ts","./KylinPrizeManager.ts","./KylinSceneManager.ts","./KylinVideoManager.ts","./SlotKylinGameMgr.ts","./SlotsKylinGameHUD.ts","./SlotsKylinLobbyScene.ts","./UIKylinAuto.ts","./UIKylinEntryMini.ts","./UIKylinResult.ts","./UIKylinResultItem.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PubButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a,o,s,c,l,u,p,b,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.ccenum,l=t.CCInteger,u=t.Sprite,p=t.Button,b=t.tween,f=t.v3,h=t.color}],execute:function(){var y,d,g,_,v,m,R,A;o._RF.push({},"8972fm54S9PrLMg5mB/IMUv","PubButton",void 0);var B=s.ccclass,C=s.property,D=(s.menu,function(t){return t[t.DARK=0]="DARK",t[t.GRAY=1]="GRAY",t}(D||{}));c(D);t("PubButton",(y=B("PubButton"),d=C({type:D,displayName:"禁用类型"}),g=C(l),y((m=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"isScale",m,r(e)),i(e,"interactableType",R,r(e)),i(e,"dark",A,r(e)),e._st=void 0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this._st=this.node.getComponent(u),this.node.on(p.EventType.CLICK,(function(){t.interactable&&0==t.transition&&t.isScale&&b(t.node).to(.1,{scale:f(1.05,1.05,1.05)}).to(.1,{scale:f(1,1,1)}).start()}))},a(e,[{key:"interactable",get:function(){return this._interactable},set:function(t){if(this._st||(this._st=this.node.getComponent(u)),this._st){if(this.interactableType==D.DARK){var e=t?255:this.dark;this._st.color=h(e,e,e,255)}this.interactableType==D.GRAY&&(this._st.grayscale=!t)}this._interactable=t}}]),e}(p)).prototype,"isScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=e(v.prototype,"interactableType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.DARK}}),A=e(v.prototype,"dark",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 125}}),_=v))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Slot2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotLayer2.ts","./KylinUtils.ts"],(function(e){var t,n,i,r,o,a,s,l,u,p,c,f,y,h,g,b,m,d,v,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,a=e.createForOfIteratorHelperLoose,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,p=e._decorator,c=e.Enum,f=e.SpriteAtlas,y=e.Font,h=e.SpriteFrame,g=e.Material,b=e.randomRangeInt,m=e.Component,d=e.Vec3},function(e){v=e.SlotLayer},function(e){_=e.KylinUtils}],execute:function(){var w,O,z,k,S,I,B,E,T,N,F,C,L,x,D,P,U,V,H,Q,R,j,A,M,W,K,G,q,J,X,Y,Z,$,ee;u._RF.push({},"c0467T7W0lM442eB/v8lsdP","Slot",void 0);var te=p.ccclass,ne=p.property,ie=e("StopType",function(e){return e[e["立即停止"]=0]="立即停止",e[e["陆续停止"]=1]="陆续停止",e[e["立即陆续"]=2]="立即陆续",e}({})),re=e("RankType",function(e){return e[e["竖排"]=0]="竖排",e[e["横排"]=1]="横排",e}({})),oe=e("EaseType",function(e){return e[e.Linear=0]="Linear",e[e.Back=1]="Back",e[e.Bounce=2]="Bounce",e[e.Circ=3]="Circ",e[e.Cubic=4]="Cubic",e[e.Elastic=5]="Elastic",e[e.Expo=6]="Expo",e[e.Quad=7]="Quad",e[e.Quart=8]="Quart",e[e.Quint=9]="Quint",e[e.Sine=10]="Sine",e}({}));c(ie),c(oe),c(re);e("Slot",(w=te("Slot"),O=ne({type:[f],displayName:"图片库"}),z=ne({displayName:"自动高度"}),k=ne({type:ie,displayName:"停止类型"}),S=ne({displayName:"间隔时间",visible:function(){return this.stopType==ie.陆续停止||this.stopType==ie.立即陆续}}),I=ne({displayName:"速度"}),B=ne({type:oe,displayName:"缓入类型"}),E=ne({type:oe,displayName:"缓出类型"}),T=ne({displayName:"文本位置"}),N=ne({type:y,displayName:"字体"}),F=ne({displayName:"字体大小"}),C=ne({displayName:"运动模糊"}),L=ne({tooltip:"是否使用背景"}),x=ne({type:h,displayName:"背景图片",visible:function(){return this.isUseBg}}),D=ne({type:re}),P=ne({type:g,visible:function(){return this.isBlur}}),U=ne({displayName:"运行",group:{id:"1",name:"渲染面板"}}),w((Q=t((H=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"libs",Q,r(t)),i(t,"autoHeight",R,r(t)),i(t,"stopType",j,r(t)),i(t,"interval",A,r(t)),i(t,"_speed",M,r(t)),i(t,"_easingIn",W,r(t)),i(t,"_easingOut",K,r(t)),i(t,"fontVec",G,r(t)),i(t,"font",q,r(t)),i(t,"size",J,r(t)),i(t,"isBlur",X,r(t)),i(t,"isUseBg",Y,r(t)),i(t,"bgFrame",Z,r(t)),i(t,"rank",$,r(t)),i(t,"material",ee,r(t)),t._layers=[],t._elementIds=[],t}n(t,e);var u=t.prototype;return u.roll=function(e,t,n){var i=this,r=0;this._layers.forEach((function(o,a){var s=a*(i.stopType==ie.立即停止||i.stopType==ie.立即陆续?0:i.interval);i.scheduleOnce((function(){o.roll(e[a],(function(){r++,n&&n(a),r==i._layers.length&&t&&t()}))}),s)}))},u.showAllLayer=function(){for(var e=0;e<this.columnFlat.length;e++)this.columnFlat[e].active=!0},u.rollVirtually=function(e,t){var n=this;this._layers.forEach((function(i,r){var o=r*(n.stopType==ie.立即停止?0:n.interval);n.scheduleOnce((function(){i.rollVirtually(e),t&&t(r)}),o)}))},u.stop=function(){this.stopType==ie.立即停止?this._layers.forEach((function(e,t){e.stop()})):this.stepStop(0)},u.stopSlow=function(){},u.toggle=function(e,t){this._layers.forEach((function(n){n.txtSkins=t,n.libCount=e}))},u.stepStop=function(e){var t=this;this.scheduleOnce((function(){t._layers[e].stop((function(){e+1!=t._layers.length&&t.scheduleOnce((function(){t.stepStop(e+1)}),t.interval)}))}),this.interval)},u.setWheels=function(e,t){this._layers.forEach((function(n,i){n.setWheel(e[i],t)}))},u.getRandomElementIds=function(e){var t=[];e=e||[4,4,4];for(var n=[].concat(this._elementIds),i=0;i<3;i++){t.push([]);for(var r=[],o=0;o<2;o++){var a=b(0,n.length);r.push(n[a]),n.splice(a,1)}for(var s=0;s<e[i];s++){var l=r[b(0,2)];t[i].push({name:l.toString(),text:_.instance.changeString(0)})}}return t},u.setup=function(){var e=s(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this._elementIds=t,n=0;n<this.node.children.length;n++)i=this.node.children[n],(r=i.getComponent(v)).index=n,r.rank=this.rank,r.easingIn=oe[this.easingIn],r.easingOut=oe[this.easingOut],r.isUseBg=this.isUseBg,r.bgFrame=this.bgFrame,r.material=this.material,r.font=this.font,r.size=this.size,r.fontVec=this.fontVec,r.lib=this.libs,r.speed=this.speed,this._layers.push(r),r.autoHeight=this.autoHeight,r.setup(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o(t,[{key:"speed",get:function(){return this._speed},set:function(e){for(var t,n=a(this.layers);!(t=n()).done;){t.value.speed=e}this._speed=e}},{key:"easingIn",get:function(){return this._easingIn},set:function(e){this._easingIn=e;for(var t,n=a(this.layers);!(t=n()).done;){t.value.easingIn=oe[this.easingIn]}}},{key:"easingOut",get:function(){return this._easingOut},set:function(e){this._easingOut=e;for(var t,n=a(this.layers);!(t=n()).done;){t.value.easingOut=oe[this.easingOut]}}},{key:"go",get:function(){return!1},set:function(e){this.setup(["101","102","103"])}},{key:"layers",get:function(){return this._layers}},{key:"column",get:function(){var e=[];return this._layers.forEach((function(t){e.push(t.column)})),e}},{key:"columnFlat",get:function(){var e=[];return this._layers.forEach((function(t){e.push.apply(e,t.column)})),e}}]),t}(m)).prototype,"libs",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(H.prototype,"autoHeight",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=t(H.prototype,"stopType",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.立即停止}}),A=t(H.prototype,"interval",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),M=t(H.prototype,"_speed",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),t(H.prototype,"speed",[I],Object.getOwnPropertyDescriptor(H.prototype,"speed"),H.prototype),W=t(H.prototype,"_easingIn",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe.Back}}),t(H.prototype,"easingIn",[B],Object.getOwnPropertyDescriptor(H.prototype,"easingIn"),H.prototype),K=t(H.prototype,"_easingOut",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe.Back}}),t(H.prototype,"easingOut",[E],Object.getOwnPropertyDescriptor(H.prototype,"easingOut"),H.prototype),G=t(H.prototype,"fontVec",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(0,0,0)}}),q=t(H.prototype,"font",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(H.prototype,"size",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),X=t(H.prototype,"isBlur",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=t(H.prototype,"isUseBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=t(H.prototype,"bgFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(H.prototype,"rank",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.竖排}}),ee=t(H.prototype,"material",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(H.prototype,"go",[U],Object.getOwnPropertyDescriptor(H.prototype,"go"),H.prototype),V=H))||V));u._RF.pop()}}}));

System.register("chunks:///_virtual/SlotItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,s,o,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy,n=t._decorator,s=t.NodeEventType,o=t.Sprite,a=t.Component}],execute:function(){var c;r._RF.push({},"3bd2d8pPHpCwoEm0pmtjiKC","SlotItem",void 0);var l=n.ccclass;n.property,t("SlotItem",l("SlotItem")(c=function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._st=void 0,e._bg=void 0,e.column=void 0,e.layer=void 0,e}e(r,t);var n=r.prototype;return n.setSharedMaterial=function(t,e){this._st.setSharedMaterial(t,e)},n.start=function(){var t=this;this.node.on(s.TOUCH_END,(function(){var e={layer:t.layer,column:t.column,sprite:t._st};t.node.emit("click",e),console.log(e)}))},i(r,[{key:"spriteFrame",get:function(){return this._st.spriteFrame},set:function(t){this._st||(this._st=this.node.addComponent(o)),this._st.spriteFrame=t}},{key:"bgSpriteFrame",get:function(){return this._bg.spriteFrame},set:function(t){this._bg||(this._bg=this.node.addComponent(o),this._bg.name="bg",this._bg.node.setSiblingIndex(0)),this._bg.spriteFrame=t}},{key:"sharedMaterial",get:function(){return this._st.sharedMaterial}},{key:"material",get:function(){return this._st.material},set:function(t){this._st.material=t}}]),r}(a))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/SlotKylinGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./RoomMgr.ts","./SubGameDef.ts","./SubGameMgr.ts","./ModuleDef.ts"],(function(e){var n,t,r,s,i,o,a,u,c,l,g,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator,a=e.assetManager},function(e){u=e.GameMgr},function(e){c=e.RoomMgr},function(e){l=e.SubGameDef},function(e){g=e.SubGameMgr},function(e){f=e.ModuleDef}],execute:function(){var p,m;i._RF.push({},"f51a1W0QkpD86SKxlpPVfro","SlotKylinGameMgr",void 0);var d=o.ccclass,_=(o.property,e("SlotKylinGameMgr",d("SlotKylinGameMgr")(((m=function(e){function i(){var n;return(n=e.call(this)||this)._porcessFun=void 0,n._gameType=l.SLOTS_KYLIN,n._loadingScene={name:"subgame_loading",bundle:f.BASIC},n._gameScene={name:"game_slots_kylin",bundle:f.SLOTS_KYLIN},n.initNetMsgHandlers(),n}n(i,e);var o=i.prototype;return o.initNetMsgHandlers=function(){},o.initSoloMode=function(){c.inst.reset(),this.reset(),g.gameMgr=this},o.preLoadRes=function(){var e=r(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._porcessFun=n,n&&n(0),e.next=4,this.preLoadMain();case 4:return e.next=6,this.preLoadLanguage();case 6:return n&&n(1),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r=a.getBundle(e._gameScene.bundle);r?r.preloadScene(e._gameScene.name,(function(n,t){e._porcessFun&&e._porcessFun(n/t)}),(function(){e._porcessFun(1),n()})):n()}))},o.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},t(i,null,[{key:"inst",get:function(){return this._inst||(this._inst=new i),this._inst}}]),i}(u))._inst=void 0,p=m))||p));g.inst.registerGameMgr(_.inst),i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotLayer%20copy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenFun2.ts","./Slot2.ts","./SlotItem2.ts"],(function(t){var i,e,s,n,o,h,r,l,a,_,u,c,d,p,f,g,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){h=t.cclegacy,r=t._decorator,l=t.SpriteAtlas,a=t.Node,_=t.v3,u=t.Mask,c=t.UITransform,d=t.Label,p=t.tween,f=t.Component},function(t){g=t.TweenFun},function(t){v=t.RankType},function(t){y=t.SlotItem}],execute:function(){var m,b,S,w,C,k,x,M,F,I,L,z,O,N;h._RF.push({},"b264al1dwlNtqymz19sInBZ","SlotLayer%20copy",void 0);var T=r.ccclass,R=r.property;t("SlotLayerCopy",(m=T("SlotLayer"),b=R({displayName:"宽度"}),S=R({displayName:"高度"}),w=R({displayName:"间隔"}),C=R({displayName:"显示数量"}),k=R({type:[l],displayName:"图片库",visible:!1}),x=R({displayName:"运行",group:{id:"1",name:"渲染面板"}}),m((I=i((F=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),h=0;h<e;h++)o[h]=arguments[h];return i=t.call.apply(t,[this].concat(o))||this,s(i,"width",I,n(i)),s(i,"height",L,n(i)),s(i,"space",z,n(i)),s(i,"count",O,n(i)),s(i,"lib",N,n(i)),i.rank=v.竖排,i._wheels=[],i._wheelCopy=[],i.isUseBg=!1,i.bgFrame=null,i.material=void 0,i.font=void 0,i.size=void 0,i.fontVec=void 0,i.libCount=0,i.autoHeight=!0,i.speed=20,i._txtSkins=void 0,i._normalMaterial=void 0,i._isMove=!1,i._isStop=!1,i._isSlow=!1,i._isVirtually=!1,i._childs=[],i._tolHeight=0,i._tolY=0,i._minY=0,i._time=0,i._h=void 0,i._moves=[],i._resets=[],i._blurs=[],i._points=[],i._txts=[],i._juli=0,i._over=0,i._rolls=void 0,i._callback=void 0,i._stopCall=void 0,i._lin=void 0,i._infos={pos:0},i._inStr=void 0,i._outStr=void 0,i._easingIn=g.Quad.easeIn,i._easingOut="backOut",i.index=void 0,i}e(i,t);var h=i.prototype;return h.setWheel=function(t,i){this._wheels[i]=t,this.copyWheel()},h.copyWheel=function(){this._wheelCopy=JSON.parse(JSON.stringify(this._wheels))},h.setup=function(t){if(t){if(this._lin=t,this.node.removeAllChildren(),this._childs=[],null!=this.lib){var i=this.count+1,e=0,s=this.rank==v.竖排,n=s?this.height:this.width;this._h=n/2+this.space;for(var o=0;o<i;o++){var h=this.getRndSftByArr(t),r=new a;r.layer=this.node.layer,r.name="item";var l=r.addComponent(y);l.column=o,l.layer=this.index,l.spriteFrame=h,this.node.addChild(r),this.isUseBg&&(l.bgSpriteFrame=this.bgFrame);var d=s?-o*this._h+n/2:o*this._h+n/2;e+=this._h;var p=s?_(0,d,0):_(d,-this.height/2,0);r.setPosition(p),this._childs.push(l),this._points[o]=p,this._moves[o]=!0,this._normalMaterial=l.sharedMaterial;var f=this.getTxt();f.useSystemFont=!1,f.font=this.font,f.fontSize=this.size,f.node.layer=r.layer,f.node.active=!1,r.addChild(f.node),this._txts[o]=f,0==o&&(this._minY=d)}this.getComponent(u)||this.addComponent(u);var g=this.getComponent(c);g.anchorX=s?.5:0,this.autoHeight&&(s?(g.width=this.width,g.height=e-this._h):(g.width=e-this._h,g.height=this.height)),g.anchorY=1,this._tolHeight=s?g.height:g.width,this._tolY=s?-(this._tolHeight+n/2):this._tolHeight+n/2}}else console.error("没有传入初始数组")},h.getTxt=function(){var t=new a,i=t.addComponent(d);return i.string="0",t.position=this.fontVec,i},h.roll=function(t,i){var e=this;this._isMove&&!this._isVirtually||(this._rolls=t,this._isVirtually||this.init(),this._isVirtually=!1,this._callback=i,p(this._infos).to(1,{pos:this._infos.pos+2*this._childs.length},{easing:g.Elastic.easeOut}).call((function(){e._isMove=!1,e._callback()})).start())},h.rollVirtually=function(t){this._isMove||(this._isVirtually=!0,this._txtSkins=t,this.init())},h.stop=function(t){this._isStop=!0,this._isSlow=!1,this._stopCall=t},h.stopSlow=function(t){this._time=0,this._juli=this.speed,this._isSlow=!0,this._stopCall=t},h.init=function(){this._juli=0,this._over=0,this._isMove=!0,this._isStop=!1,this._isSlow=!1,this._time=0,this.childInit()},h.childInit=function(){for(var t=this.rank==v.竖排,i=t?this.height:this.width,e=0;e<this._moves.length;e++){this._moves[e]=!0,this._resets[e]=!1,this._blurs[e]=!1;var s=t?-e*this._h+i/2:e*this._h+i/2,n=_(t?0:s,t?s:0,0);this._childs[e].node.active=!0,this._childs[e].node.setPosition(n)}},h.update=function(){if(this._isMove){this._time+=1;for(var t=0;t<this._childs.length;t++){var i=this._childs[t],e=this.rank==v.竖排,s=this._h,n=i.node.position.y,o=-(this._infos.pos+t)%this._childs.length*s+this.height/2;if(i.node.setPosition(_(0,o,0)),(e?Math.abs(n-this._tolY)<=5:i.node.position.x>=this._tolY)&&i.node.position.y>=0)if(t>0){var h=this._rolls[t-1];i.spriteFrame=this.lib[this.libCount].getSpriteFrame(h?h.name.toString():"1102")}else i.spriteFrame=this.getRndSft()}}},h.rollOver=function(){this._over++,this._over==this.count+1&&(this._isMove=!1,this._childs[this._childs.length-1].node.active=!1,this._callback())},h.getRndTxt=function(){var t=this._txtSkins;return t?t[Math.floor(Math.random()*t.length)].text:""},h.setTxt=function(t,i){var e,s=this,n=null==(e=this._txtSkins)?void 0:e.findIndex((function(i){return i.name==s._childs[t].spriteFrame.name}));this._txts[t].node.active=n>-1,n>-1&&(this._txts[t].string=i)},h.getRndSft=function(){if(this._wheelCopy[this.libCount])return 0==this._wheelCopy[this.libCount].length&&this.copyWheel(),this.lib[this.libCount].getSpriteFrame(this._wheelCopy[this.libCount].shift().toString());var t=this.lib[this.libCount].getSpriteFrames();return t[Math.floor(Math.random()*t.length)]},h.getRndSftByArr=function(t){var i=t[Math.floor(Math.random()*t.length)];return this.lib[this.libCount].getSpriteFrame(i)},o(i,[{key:"go",get:function(){return!1},set:function(t){this.setup(this._lin)}},{key:"txtSkins",set:function(t){this._txtSkins=t}},{key:"easingOut",set:function(t){this._outStr=t,this._easingOut="Linear"==t?"linear":t.toLocaleLowerCase()+"Out"}},{key:"easingIn",set:function(t){this._inStr=t,this._easingIn="Linear"==t?g.Linear:g[t].easeIn}},{key:"column",get:function(){for(var t=[],i=0;i<this._childs.length-1;i++)t.push(this._childs[i].node);return t}}]),i}(f)).prototype,"width",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),L=i(F.prototype,"height",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),z=i(F.prototype,"space",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),O=i(F.prototype,"count",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),N=i(F.prototype,"lib",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(F.prototype,"go",[x],Object.getOwnPropertyDescriptor(F.prototype,"go"),F.prototype),M=F))||M));h._RF.pop()}}}));

System.register("chunks:///_virtual/SlotLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenFun2.ts","./Slot2.ts","./SlotItem2.ts"],(function(t){var i,s,e,o,n,h,r,l,a,_,u,c,d,p,f,g,v,m,y,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,s=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){h=t.cclegacy,r=t._decorator,l=t.SpriteAtlas,a=t.Node,_=t.v3,u=t.Mask,c=t.UITransform,d=t.Label,p=t.tween,f=t.easing,g=t.Vec3,v=t.Component},function(t){m=t.TweenFun},function(t){y=t.RankType},function(t){S=t.SlotItem}],execute:function(){var b,w,C,k,x,M,F,I,L,j,O,R,T,z;h._RF.push({},"4bc2fGoCLBM86NtKna4SEKc","SlotLayer",void 0);var N=r.ccclass,V=r.property;t("SlotLayer",(b=N("SlotLayer"),w=V({displayName:"宽度"}),C=V({displayName:"高度"}),k=V({displayName:"间隔"}),x=V({displayName:"显示数量"}),M=V({type:[l],displayName:"图片库",visible:!1}),F=V({displayName:"运行",group:{id:"1",name:"渲染面板"}}),b((j=i((L=function(t){function i(){for(var i,s=arguments.length,n=new Array(s),h=0;h<s;h++)n[h]=arguments[h];return i=t.call.apply(t,[this].concat(n))||this,e(i,"width",j,o(i)),e(i,"height",O,o(i)),e(i,"space",R,o(i)),e(i,"count",T,o(i)),e(i,"lib",z,o(i)),i.rank=y.竖排,i._wheels=[],i._wheelCopy=[],i.isUseBg=!1,i.bgFrame=null,i.material=void 0,i.font=void 0,i.size=void 0,i.fontVec=void 0,i.libCount=0,i.autoHeight=!0,i.speed=20,i._txtSkins=void 0,i._normalMaterial=void 0,i._isMove=!1,i._isStop=!1,i._isSlow=!1,i._slowInfo={pos:0},i._isReset=!1,i._isVirtually=!1,i._childs=[],i._tolHeight=0,i._tolY=0,i._time=0,i._h=void 0,i._moves=[],i._resets=[],i._blurs=[],i._points=[],i._txts=[],i._juli=0,i._over=0,i._rolls=void 0,i._callback=void 0,i._stopCall=void 0,i._lin=void 0,i._inStr=void 0,i._outStr=void 0,i._easingIn=m.Quad.easeIn,i._easingOut="backOut",i.index=void 0,i}s(i,t);var h=i.prototype;return h.setWheel=function(t,i){this._wheels[i]=t,this.copyWheel()},h.copyWheel=function(){this._wheelCopy=JSON.parse(JSON.stringify(this._wheels))},h.setup=function(t){if(t){if(this._lin=t,this.node.removeAllChildren(),this._childs=[],null!=this.lib){var i=this.count+1,s=0,e=this.rank==y.竖排,o=e?this.height:this.width;this._h=o/2+this.space;for(var n=0;n<i;n++){var h=this.getRndSftByArr(t),r=new a;r.layer=this.node.layer,r.name="item";var l=r.addComponent(S);l.column=n,l.layer=this.index,l.spriteFrame=h,this.node.addChild(r),this.isUseBg&&(l.bgSpriteFrame=this.bgFrame);var d=e?-(n*this._h+o/2):n*this._h+o/2;s+=this._h;var p=e?_(0,d,0):_(d,-this.height/2,0);r.setPosition(p),this._childs.push(l),this._points[n]=p,this._moves[n]=!0,this._normalMaterial=l.sharedMaterial;var f=this.getTxt();f.useSystemFont=!1,f.font=this.font,f.fontSize=this.size,f.node.layer=r.layer,f.node.active=!1,r.addChild(f.node),this._txts[n]=f}this.getComponent(u)||this.addComponent(u);var g=this.getComponent(c);g.anchorX=e?.5:0,this.autoHeight&&(e?(g.width=this.width,g.height=s-this._h):(g.width=s-this._h,g.height=this.height)),g.anchorY=1,this._tolHeight=e?g.height:g.width,this._tolY=e?-(this._tolHeight+o/2):this._tolHeight+o/2}}else console.error("没有传入初始数组")},h.getTxt=function(){var t=new a,i=t.addComponent(d);return i.string="0",t.position=this.fontVec,i},h.roll=function(t,i){this._isMove&&!this._isVirtually||(this._rolls=t,this._isVirtually||this.init(),this._isVirtually=!1,this._callback=i)},h.rollVirtually=function(t){this._txtSkins=t,this._isMove||(this._isVirtually=!0,this.init())},h.stop=function(t){this._isStop=!0,this._stopCall=t},h.stopSlow=function(t){var i=this;this._time=0,this._juli=this.speed,this._isSlow=!0,this._stopCall=t,this._isMove=!0,this._slowInfo.pos=0,p(this._slowInfo).to(2,{pos:2*this._childs.length},{easing:f.circOut}).call((function(){i._isSlow=!1,i._isMove=!1,i._callback()})).start()},h.init=function(){this._juli=0,this._over=0,this._isMove=!0,this._isStop=!1,this._isSlow=!1,this._isReset=!1,this._time=0,this.childInit()},h.childInit=function(){for(var t=this.rank==y.竖排,i=t?this.height:this.width,s=0;s<this._moves.length;s++){this._moves[s]=!0,this._resets[s]=!1,this._blurs[s]=!1;var e=t?-(s*this._h+i/2):s*this._h+i/2,o=_(t?0:e,t?e:0,0);this._childs[s].node.active=!0,this._childs[s].node.setPosition(o)}},h.update=function(){if(this._isMove){this._time+=1;for(var t=0;t<this._childs.length;t++){var i=this.rank==y.竖排,s=this._childs[t];if(this._isSlow){var e=-(((this._slowInfo.pos+t)%this._childs.length-1)*this._h+this.height/2);s.node.setPosition(_(0,e,0))}else this.updateFast(s,t);if(i?s.node.position.y<=this._tolY:s.node.position.x>=this._tolY){var o=Math.abs(this._tolY-(i?s.node.position.y:s.node.position.x)),n=i?this.space-o:-this.space,h=_(i?0:n,i?n:0,0);s.node.setPosition(h),this._isStop&&t==this.count-1&&(this._isReset=!0,this._resets[this._resets.length-1]=!0,this._stopCall&&this._stopCall()),this._isReset&&(this._resets[t]=!0,s.node.position.add(_(0,-this._juli,0)));var r=this._isReset&&t<this.count;r?s.spriteFrame=this.lib[this.libCount].getSpriteFrame(this._rolls[t]?this._rolls[t].name.toString():"1102"):this._isStop||(s.spriteFrame=this.getRndSft());var l=r?this._rolls[t].text:this.getRndTxt();this.setTxt(t,l)}}}},h.updateFast=function(t,i){var s=this,e=this.rank==y.竖排;("Linear"==this._inStr?this._juli=this.speed:this._juli=.2*this._easingIn(this._time,0,this.speed,1,1.2),this._juli>=this.speed&&(this._juli=this.speed),this._moves[i])&&(this.material&&this._juli>20&&!this._blurs[i]&&(this._blurs[i]=!0,t.setSharedMaterial(this.material,0)),t.node.setPosition(_(e?0:t.node.position.x+this._juli,e?t.node.position.y-this._juli:-this.height/2,0)),this._resets[i]&&g.distance(this._points[i],t.node.position)<=2*this._juli&&this._moves[i]&&(t.setSharedMaterial(this._normalMaterial,0),this._moves[i]=!1,p(t.node).to("Linear"==this._outStr?.01:this.speed/130,{position:this._points[i]},{easing:"Back"==this._outStr?m.Back.easeOut:this._easingOut}).call((function(){s.rollOver()})).start()))},h.rollOver=function(){this._over++,this._over==this.count+1&&(this._isMove=!1,this._childs[this._childs.length-1].node.active=!1,this._callback())},h.getRndTxt=function(){var t=this._txtSkins;return t?t[Math.floor(Math.random()*t.length)].text:""},h.setTxt=function(t,i){var s,e=this,o=null==(s=this._txtSkins)?void 0:s.findIndex((function(i){return i.name==e._childs[t].spriteFrame.name}));this._txts[t].node.active=o>-1,o>-1&&(this._txts[t].string=i)},h.getRndSft=function(){if(this._wheelCopy[this.libCount])return 0==this._wheelCopy[this.libCount].length&&this.copyWheel(),this.lib[this.libCount].getSpriteFrame(this._wheelCopy[this.libCount].shift().toString());var t=this.lib[this.libCount].getSpriteFrames();return t[Math.floor(Math.random()*t.length)]},h.getRndSftByArr=function(t){var i=t[Math.floor(Math.random()*t.length)];return this.lib[this.libCount].getSpriteFrame(i)},n(i,[{key:"go",get:function(){return!1},set:function(t){this.setup(this._lin)}},{key:"txtSkins",set:function(t){this._txtSkins=t}},{key:"easingOut",set:function(t){this._outStr=t,this._easingOut="Linear"==t?"linear":t.toLocaleLowerCase()+"Out"}},{key:"easingIn",set:function(t){this._inStr=t,this._easingIn="Linear"==t?m.Linear:m[t].easeIn}},{key:"column",get:function(){for(var t=[],i=0;i<this._childs.length-1;i++)t.push(this._childs[i].node);return t}}]),i}(v)).prototype,"width",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),O=i(L.prototype,"height",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),R=i(L.prototype,"space",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),T=i(L.prototype,"count",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),z=i(L.prototype,"lib",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(L.prototype,"go",[F],Object.getOwnPropertyDescriptor(L.prototype,"go"),L.prototype),I=L))||I));h._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsKylinGameHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./RoomMgr.ts","./UserMgr.ts","./SceneDef.ts"],(function(t){var n,e,r,o,c,i,s,a,u,l;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,i=t.Component},function(t){s=t.LanguageData},function(t){a=t.RoomMgr},function(t){u=t.UserMgr},function(t){l=t.SceneDef}],execute:function(){var f;o._RF.push({},"2df6bscAK1Jx6BcqqL+Rky3","SlotsKylinGameHUD",void 0);var p=c.ccclass;c.property,t("SlotsKylinGameHUD",p("SlotsKylinGameHUD")(f=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var c=o.prototype;return c.start=function(){u.inst.uid?tgx.UIMgr.inst.closeAll():tgx.SceneUtil.loadScene(l.START)},c.update=function(t){},c.onBtnExitClicked=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tgx.UIAlert.show(s.getLangByID("exit_game"),!0).onClick(e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,a.inst.exitRoom();case 3:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o}(i))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsKylinLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./SubGameMgr.ts","./UserMgr.ts","./UIAnnouncement.ts","./SceneDef.ts","./SlotKylinGameMgr.ts"],(function(n){var e,t,r,o,i,c,a,s,u,l,f,p,y,S,m,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized,i=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,u=n.Node,l=n.Component},function(n){f=n.SubGameDef},function(n){p=n.SubGameMgr},function(n){y=n.UserMgr},function(n){S=n.UIAnnouncement},function(n){m=n.SceneDef},function(n){b=n.SlotKylinGameMgr}],execute:function(){var g,d,h,v,M;a._RF.push({},"5af6dgAy85APps1GmXAAhJR","SlotsKylinLobbyScene",void 0);var A=s.ccclass,x=s.property;n("SlotsKylinLobbyScene",(g=A("SlotsKylinLobbyScene"),d=x(u),g((M=e((v=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i))||this,r(e,"announcementPlacer",M,o(e)),e}t(e,n);var a=e.prototype;return a.start=function(){var n=i(c().mark((function n(){var e=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y.inst.uid){n.next=3;break}return tgx.SceneUtil.loadScene(m.START),n.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(S,(function(n){n.setPosition(e.announcementPlacer.position.x,e.announcementPlacer.position.y)}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.update=function(n){},a.onBtnSoloModeClicked=function(){var n=i(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.inst.initSoloMode(),p.inst.CreateRoom(f.SLOTS_KYLIN,!0);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e}(l)).prototype,"announcementPlacer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/TweenFun2.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"e3683He3GVPIqAsRprw3CfW","TweenFun",void 0);var e=n("TweenFun",{Linear:function(n,t,e,u){return e*n/u+t},Quad:{easeIn:function(n,t,e,u){return e*(n/=u)*n+t},easeOut:function(n,t,e,u){return-e*(n/=u)*(n-2)+t},easeInOut:function(n,t,e,u){return(n/=u/2)<1?e/2*n*n+t:-e/2*(--n*(n-2)-1)+t}},Cubic:{easeIn:function(n,t,e,u){return e*(n/=u)*n*n+t},easeOut:function(n,t,e,u){return e*((n=n/u-1)*n*n+1)+t},easeInOut:function(n,t,e,u){return(n/=u/2)<1?e/2*n*n*n+t:e/2*((n-=2)*n*n+2)+t}},Quart:{easeIn:function(n,t,e,u){return e*(n/=u)*n*n*n+t},easeOut:function(n,t,e,u){return-e*((n=n/u-1)*n*n*n-1)+t},easeInOut:function(n,t,e,u){return(n/=u/2)<1?e/2*n*n*n*n+t:-e/2*((n-=2)*n*n*n-2)+t}},Quint:{easeIn:function(n,t,e,u){return e*(n/=u)*n*n*n*n+t},easeOut:function(n,t,e,u){return e*((n=n/u-1)*n*n*n*n+1)+t},easeInOut:function(n,t,e,u){return(n/=u/2)<1?e/2*n*n*n*n*n+t:e/2*((n-=2)*n*n*n*n+2)+t}},Sine:{easeIn:function(n,t,e,u){return-e*Math.cos(n/u*(Math.PI/2))+e+t},easeOut:function(n,t,e,u){return e*Math.sin(n/u*(Math.PI/2))+t},easeInOut:function(n,t,e,u){return-e/2*(Math.cos(Math.PI*n/u)-1)+t}},Expo:{easeIn:function(n,t,e,u){return 0==n?t:e*Math.pow(2,10*(n/u-1))+t},easeOut:function(n,t,e,u){return n==u?t+e:e*(1-Math.pow(2,-10*n/u))+t},easeInOut:function(n,t,e,u){return 0==n?t:n==u?t+e:(n/=u/2)<1?e/2*Math.pow(2,10*(n-1))+t:e/2*(2-Math.pow(2,-10*--n))+t}},Circ:{easeIn:function(n,t,e,u){return-e*(Math.sqrt(1-(n/=u)*n)-1)+t},easeOut:function(n,t,e,u){return e*Math.sqrt(1-(n=n/u-1)*n)+t},easeInOut:function(n,t,e,u){return(n/=u/2)<1?-e/2*(Math.sqrt(1-n*n)-1)+t:e/2*(Math.sqrt(1-(n-=2)*n)+1)+t}},Elastic:{easeIn:function(n,t,e,u,a,r){var o;return 0==n?t:1==(n/=u)?t+e:(void 0===r&&(r=.3*u),!a||a<Math.abs(e)?(o=r/4,a=e):o=r/(2*Math.PI)*Math.asin(e/a),-a*Math.pow(2,10*(n-=1))*Math.sin((n*u-o)*(2*Math.PI)/r)+t)},easeOut:function(n){var t=2*Math.PI/3;return 0==n?0:1==n?1:Math.pow(3,-10*n)*Math.sin((10*n-.75)*t)+1},easeOut2:function(n,t,e,u,a,r){var o;return 0==n?t:1==(n/=u)?t+e:(void 0===r&&(r=.3*u),!a||a<Math.abs(e)?(a=e,o=r/4):o=r/(2*Math.PI)*Math.asin(e/a),a*Math.pow(2,-10*n)*Math.sin((n*u-o)*(2*Math.PI)/r)+e+t)},easeInOut:function(n,t,e,u,a,r){var o;return 0==n?t:2==(n/=u/2)?t+e:(void 0===r&&(r=u*(.3*1.5)),!a||a<Math.abs(e)?(a=e,o=r/4):o=r/(2*Math.PI)*Math.asin(e/a),n<1?a*Math.pow(2,10*(n-=1))*Math.sin((n*u-o)*(2*Math.PI)/r)*-.5+t:a*Math.pow(2,-10*(n-=1))*Math.sin((n*u-o)*(2*Math.PI)/r)*.5+e+t)}},Back:{easeIn:function(n,t,e,u,a){return void 0===a&&(a=1.70158),e*(n/=u)*n*((a+1)*n-a)+t},easeOut2:function(n,t,e,u,a){return void 0===a&&(a=1.70158),e*((n=n/u-1)*n*((a+1)*n+a)+1)+t},easeOut:function(n){var t=1.00158;return(n-=1)*n*((t+1)*n+t)+1},easeInOut:function(n,t,e,u,a){return void 0===a&&(a=1.70158),(n/=u/2)<1?e/2*(n*n*((1+(a*=1.525))*n-a))+t:e/2*((n-=2)*n*((1+(a*=1.525))*n+a)+2)+t}},Backcopy:{easeIn:function(n,t,e,u,a){return void 0===a&&(a=1.70158),e*(n/=u)*n*((a+1)*n-a)+t},easeOut:function(n,t,e,u,a){return void 0===a&&(a=1.70158),e*((n=n/u-1)*n*((a+1)*n+a)+1)+t},easeInOut:function(n,t,e,u,a){return void 0===a&&(a=1.70158),(n/=u/2)<1?e/2*(n*n*((1+(a*=1.525))*n-a))+t:e/2*((n-=2)*n*((1+(a*=1.525))*n+a)+2)+t}},Bounce:{easeIn:function(n,t,u,a){return u-e.Bounce.easeOut(a-n,0,u,a)+t},easeOut:function(n,t,e,u){return(n/=u)<1/2.75?e*(7.5625*n*n)+t:n<2/2.75?e*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?e*(7.5625*(n-=2.25/2.75)*n+.9375)+t:e*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOut:function(n,t,u,a){return n<a/2?.5*e.Bounce.easeIn(2*n,0,u,a)+t:.5*e.Bounce.easeOut(2*n-a,0,u,a)+.5*u+t}},Strong:{easeOut:function(n,t,e,u){return e*((n=n/u-1)*n*n*n*n+1)+t}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/UIKylinAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinGameData.ts","./KylinGameManager.ts","./KylinUtils.ts"],(function(e){var t,n,i,r,o,a,l,u,s,d,c,p,b,g,h,f,m,w,y,S,v,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,s=e.ToggleContainer,d=e.Slider,c=e.Label,p=e.Widget,b=e.Vec3,g=e.UITransform,h=e.UIOpacity,f=e.tween,m=e.Toggle,w=e.find,y=e.Component},function(e){S=e.KylinGameData},function(e){v=e.KylinGameManager},function(e){L=e.KylinUtils}],execute:function(){var C,B,_,z,A,I,x,R,K,N,E,F,U,k,D,M,O,G,T,Z,j,P,W,H,J,V;a._RF.push({},"560c3Xg969EwZjE5j3IsnJu","UIKylinAuto",void 0);var X=l.ccclass,q=l.property;e("UIKylinAuto",(C=X("UIKylinAuto"),B=q(u),_=q(s),z=q(d),A=q(u),I=q(c),x=q(d),R=q(u),K=q(c),N=q(d),E=q(u),F=q(c),C(((V=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"content",D,r(t)),i(t,"toggleRound",M,r(t)),i(t,"reduceSlider",O,r(t)),i(t,"reduceproBar",G,r(t)),i(t,"reduceLabel",T,r(t)),i(t,"addSlider",Z,r(t)),i(t,"addproBar",j,r(t)),i(t,"addLabel",P,r(t)),i(t,"winSlider",W,r(t)),i(t,"winproBar",H,r(t)),i(t,"winLabel",J,r(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){if(t._instance)this.node.destroy();else{t._instance=this;var e=this.node.getComponent(p);e.left=0,e.right=0,this.node.position=b.ZERO,this.node.active=!1}},a.onDestroy=function(){t._instance=null},a.showPanel=function(){this.node.active=!0,this.reduceSlider.progress=0,this.addSlider.progress=0,this.winSlider.progress=0,this.reduceproBar.getComponent(g).width=0,this.addproBar.getComponent(g).width=0,this.winproBar.getComponent(g).width=0,S.reduceLabel=0,S.addLabel=0,S.winLabel=0,this.node.scale=b.ZERO,this.node.getComponent(h).opacity=0,f(this.node).removeSelf(),f(this.node).to(.25,{scale:b.ONE}).start(),f(this.node.getComponent(h)).to(.25,{opacity:255}).start(),this.AutoEnable()},a.AutoEnable=function(){for(var e=0;e<this.toggleRound.node.children.length;e++){var t=this.toggleRound.node.children[e];0===e&&(t.getComponent(m).isChecked=!0),t.name=e.toString(),S.autoCountIndex=0,w("Background/Label",t).getComponent(c).string=S.Auto.AutoIndex[e].toString(),w("Checkmark/Label",t).getComponent(c).string=S.Auto.AutoIndex[e].toString()}},a.onSelectRound=function(e){S.autoCountIndex=L.instance.toNumber(e.node.name)},a.onBtnConfirm=function(){this.onBtnClose(),v.instance.startAuto()},a.reduce_Label=function(e){var t=this.reduceSlider.progress,n=(Math.floor(5*t)+5).toFixed(0);this.reduceLabel.string="0"==n?"5":n,S.reduceLabel=L.instance.toNumber(this.reduceLabel.string)},a.add_labbel=function(e){var t=this.addSlider.progress,n=(Math.floor(4900*t)+100).toFixed(0);this.addLabel.string="0"==n?"100":n,S.addLabel=L.instance.toNumber(this.addLabel.string)},a.win_label=function(e){var t=this.winSlider.progress,n=(Math.floor(490*t)+10).toFixed(0);this.winLabel.string="0"==n?"10":n,S.winLabel=L.instance.toNumber(this.winLabel.string)},a.onReduceSlider=function(){var e=this.reduceSlider.progress;this.reduceproBar.getComponent(g).width=1e3*e;var t=L.instance.toNumber((10*e).toFixed(0));this.reduce_Label(t)},a.onAddSlider=function(){var e=this.addSlider.progress;this.addproBar.getComponent(g).width=1e3*e;var t=L.instance.toNumber((5e3*e).toFixed(0));this.add_labbel(t)},a.onWinSlider=function(){var e=this.winSlider.progress;this.winproBar.getComponent(g).width=1e3*e;var t=L.instance.toNumber((500*e).toFixed(0));this.win_label(t)},a.onBtnClose=function(){var e=this;f(this.node).removeSelf(),f(this.node).to(.25,{scale:b.ZERO}).call((function(){e.node.active=!1})).start(),f(this.node.getComponent(h)).removeSelf(),f(this.node.getComponent(h)).to(.25,{opacity:0}).start()},o(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(y))._instance=null,D=t((k=V).prototype,"content",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"toggleRound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"reduceSlider",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"reduceproBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(k.prototype,"reduceLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(k.prototype,"addSlider",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"addproBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"addLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(k.prototype,"winSlider",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"winproBar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(k.prototype,"winLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIKylinEntryMini.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinPoolManager.ts","./KylinUtils.ts","./KylinGameElement.ts","./KylinAnimationManager.ts","./KylinGameManager.ts"],(function(e){var i,n,t,o,a,r,l,c,s,u,d,h,p,y,f,v,g,b,m,w,N,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,s=e.Label,u=e.sp,d=e.Widget,h=e.Vec3,p=e.find,y=e.UIOpacity,f=e.randomRangeInt,v=e.tween,g=e.Component},function(e){b=e.KylinPoolManager},function(e){m=e.KylinUtils},function(e){w=e.KylinGameElement},function(e){N=e.KylinAnimationManager},function(e){S=e.KylinGameManager}],execute:function(){var k,M,K,T,E,O,z,C,I,L,P,_,F,R,U,j,A,G,x,D,H,Q;r._RF.push({},"e7dfejsrQJCWak+lvKQ7sj3","UIKylinEntryMini",void 0);var W=l.ccclass,Z=l.property;e("UIKylinEntryMini",(k=W("UIKylinEntryMini"),M=Z(c),K=Z(c),T=Z(s),E=Z(c),O=Z(c),z=Z(u.Skeleton),C=Z(c),I=Z(u.Skeleton),L=Z(c),k(((Q=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,t(i,"fakeNode",F,o(i)),t(i,"roundTip",R,o(i)),t(i,"roundText",U,o(i)),t(i,"flyScoreNode",j,o(i)),t(i,"flyContentNode",A,o(i)),t(i,"kylinSp",G,o(i)),t(i,"lightNode",x,o(i)),t(i,"dice",D,o(i)),t(i,"highLightNode",H,o(i)),i}n(i,e);var r=i.prototype;return r.onLoad=function(){var e=this;if(i._instance)this.node.destroy();else{i._instance=this;var n=this.node.getComponent(d);n.left=n.right=n.top=n.bottom=0,this.node.position=h.ZERO,this.kylinSp.setCompleteListener((function(){e.showRound()})),this.kylinSp.node.active=!1,this.dice.node.active=!1,this.node.active=!1}},r.showFakeMiniGame=function(){this.node.active=!0,this.lightNode.active=!0,this.fakeNode.active=!0},r.entryMiniGame=function(){var e=this;N.instance.closeAllAni(),this.kylinSp.node.active=!0,this.scheduleOnce((function(){e.dice.node.active=!0,e.dice.setAnimation(0,"animation",!1),S.instance.variable.dice.node.active=!1,S.instance.variable.diceSpeedUp.node.active=!1}),.5),this.kylinSp.node.parent=this.node,this.kylinSp.node.setSiblingIndex(10),this.kylinSp.node.position=new h(223,543),this.kylinSp.setAnimation(0,"animation",!1)},r.onDestroy=function(){i._instance=null},r.showRound=function(){var e=this;this.node.active=!0,S.instance.variable.miniTip.active=!0,this.fakeNode.active=!1,this.roundTip.active=!0;var i=p("bg",this.roundTip);i.scale=h.ONE,i.getComponent(y).opacity=255,this.kylinSp.node.parent=this.roundTip,this.kylinSp.node.position=new h(223,563),this.kylinSp.node.setSiblingIndex(1),this.scheduleOnce((function(){e.showFlyScore()}),2)},r.showFlyScore=function(){var e=this;this.flyScoreNode.active=!0;var i=.3+.2*Math.random();this.schedule(this.createFlyObj,i,10,.1),this.scheduleOnce((function(){e.hide()}),10*i+1)},r.createFlyObj=function(){var e=f(0,4),i=b.instance.getPoolObj(b.PoolsName.gameElement);i.parent=this.flyContentNode.children[0===e?0:1],i.getComponent(w).setScoreFace();var n=new h;if(0===e)i.position=new h(0,-253),n=new h(0,-1025);else{i.position=new h(0,-157);var t=f(1,3);n=new h(318*Math.pow(-1,t),-870)}i.scale=h.ZERO;var o=i.getComponent(y);o.opacity=0;var a=1+.3*Math.random();v(o).to(.3,{opacity:255}).start(),v(i).to(.3,{scale:new h(a,a)}).call((function(){v(i).to(.3,{scale:h.ONE}).start(),m.instance.bezierPostionTo(i,.3,0,i.position.clone(),new h(n.x,i.position.y),n).call((function(){b.instance.putPoolObj(b.PoolsName.gameElement,i)})).start()})).start()},r.hideRound=function(){var e=this;this.kylinSp.node.active=!1,this.dice.node.active=!1,this.fakeNode.active=!1,this.lightNode.active=!1,S.instance.variable.entryMiniGameEffect.active=!1;var i=p("bg",this.roundTip);this.roundTip.activeInHierarchy&&(this.highLightNode.active=!0),v(i).to(1,{scale:new h(.8,.8)}).call((function(){v(i.getComponent(y)).to(1,{opacity:0}).call((function(){e.scheduleOnce((function(){e.highLightNode.active=!1,e.roundTip.active=!1}),2)})).start()})).start()},r.hide=function(){this.roundTip.active=!1,this.fakeNode.active=!1,this.flyScoreNode.active=!1,this.node.active=!1},a(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(g))._instance=null,F=i((_=Q).prototype,"fakeNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(_.prototype,"roundTip",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(_.prototype,"roundText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(_.prototype,"flyScoreNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(_.prototype,"flyContentNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(_.prototype,"kylinSp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(_.prototype,"lightNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(_.prototype,"dice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(_.prototype,"highLightNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIKylinResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KylinUtils.ts","./UIKylinResultItem.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(t){var i,e,n,s,l,o,c,h,u,r,a,_,d,b,p,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,l=t.createClass},function(t){o=t.cclegacy,c=t._decorator,h=t.Label,u=t.Widget,r=t.Vec3,a=t.Node,_=t.Component},function(t){d=t.KylinUtils},function(t){b=t.UIKylinResultItem},function(t){p=t.AudioMgr},function(t){f=t.ModuleDef}],execute:function(){var m,S,W,y,g,I,w,v,L,N,C,k;o._RF.push({},"e9815RcRjhNTa/ToADCZZ6T","UIKylinResult",void 0);var A=c.ccclass,K=c.property;t("UIKylinResult",(m=A("UIKylinResult"),S=K(b),W=K(b),y=K(b),g=K(h),m(((k=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,n(i,"bitWin",v,s(i)),n(i,"mageWin",L,s(i)),n(i,"superWin",N,s(i)),n(i,"winLab",C,s(i)),i._winScore=0,i._level=20,i._betScore=0,i.isNext=!1,i.isBest=!1,i._callback=null,i._mult=0,i._collectId=-1,i}e(i,t);var o=i.prototype;return o.onLoad=function(){if(i._instance)this.node.destroy();else{i._instance=this;var t=this.node.getComponent(u);t.left=0,t.right=0,this.node.position=r.ZERO,this.node.on(a.EventType.TOUCH_END,this.onBtnNext,this),this.hide()}},o.onDestroy=function(){i._instance=null},o.showResult=function(t,i,e){var n=this;if(this._mult=t/i,this._callback=e,this._level=20,this.isNext=!1,this.isBest=!1,this._winScore=t||0,this._betScore=i,!this._mult||this._mult<10)return this._callback&&(this._callback(),this._callback=null);this.node.active=!0,p.inst.play("audio/AC_sound_8001_music_slotqilin_interface_003",1,f.SLOTS_KYLIN),p.inst.playOneShot("audio/AC_sound_8001_slotqilin_number_collect",1,f.SLOTS_KYLIN).then((function(t){return n._collectId=t})),this._mult>=10&&(this.winLab.string=d.instance.changeString("0.00"),this.bitWin.show(i,t,0))},o.showNext=function(t,i,e){this.isNext=!1,20===t?(this._level=100,this.bitWin.hide(),this.mageWin.show2(i,e,20*i)):100===t&&(this._level=-1,this.mageWin.hide(),this.superWin.show2(i,e,100*i))},o.onBtnNext=function(){var t=this;this.isBest?this.hide():(-1!=this._collectId&&(p.inst.stopOneShot(this._collectId,"audio/AC_sound_8001_slotqilin_number_collect",f.SLOTS_KYLIN),this._collectId=-1),this.bitWin.unAllCallbacks(),this.mageWin.unAllCallbacks(),this.superWin.unAllCallbacks(),this.bitWin.hide(),this.mageWin.hide(),this.superWin.hide(),this._mult>=10&&this._mult<=20?this.bitWin.setWinScore(this._winScore):this._mult>20&&this._mult<=100?this.mageWin.setWinScore(this._winScore):this.superWin.setWinScore(this._winScore),this.isBest=!0,this.scheduleOnce((function(){t.hide()}),2))},o.toNext=function(){this.showNext(this._level,this._betScore,this._winScore)},o.onDisable=function(){this.hide()},o.hide=function(){-1!=this._collectId&&(p.inst.stopOneShot(this._collectId,"audio/AC_sound_8001_slotqilin_number_collect",f.SLOTS_KYLIN),this._collectId=-1),this.unscheduleAllCallbacks(),this.onBtnClose(),this.isNext=!1,this.isBest=!1,this.bitWin.hide(),this.mageWin.hide(),this.superWin.hide(),this._callback&&(this._callback(),this._callback=null)},o.stopOneShot=function(){-1!=this._collectId&&(p.inst.stopOneShot(this._collectId,"audio/AC_sound_8001_slotqilin_number_collect",f.SLOTS_KYLIN),this._collectId=-1)},o.onBtnClose=function(){this.node.active=!1},l(i,null,[{key:"instance",get:function(){return this._instance}}]),i}(_))._instance=null,v=i((w=k).prototype,"bitWin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(w.prototype,"mageWin",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(w.prototype,"superWin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(w.prototype,"winLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=w))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIKylinResultItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIKylinResult.ts","./KylinUtils.ts","./ModuleDef.ts","./AudioMgr.ts"],(function(e){var t,n,i,s,l,o,a,c,r,h,u,p,_,d,f,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.sp,c=e.Label,r=e.Node,h=e.UIOpacity,u=e.Vec3,p=e.tween,_=e.Component},function(e){d=e.UIKylinResult},function(e){f=e.KylinUtils},function(e){b=e.ModuleDef},function(e){v=e.AudioMgr}],execute:function(){var L,w,S,y,g,m,N,I,O,x;l._RF.push({},"66e24mecUpOXJ0lWPrHcKWm","UIKylinResultItem",void 0);var A=o.ccclass,K=o.property;e("UIKylinResultItem",(L=A("UIKylinResultItem"),w=K(a.Skeleton),S=K(c),y=K(r),L((N=t((m=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"boxSp",N,s(t)),i(t,"winLab",I,s(t)),i(t,"effectNode",O,s(t)),i(t,"panelLevel",x,s(t)),t._tw=null,t._betScore=0,t._winScore=0,t}n(t,e);var l=t.prototype;return l.show=function(e,t,n){var i=this;v.inst.playOneShot("audio/AC_sound_8001_slotqilin_score_treasure_001",1,b.SLOTS_KYLIN),this.boxSp.setAnimation(0,"animation",!0),this._betScore=e,this._winScore=t,this.node.active=!0;var s=0;20===this.panelLevel||100===this.panelLevel?(s=e*this.panelLevel,s=t>=s?s:t):-1===this.panelLevel&&(s=t),this.winLab.string=f.instance.changeString(n.toFixed(2)),20===this.panelLevel?(n=0,s=e*this.panelLevel,s=t>=s?s:t):100===this.panelLevel?(n=20*e,s=e*this.panelLevel,s=t>=s?s:t):(n=100*e,s=t);var l=function(){t>s?d.instance.showNext(i.panelLevel,e,t):(i.scheduleOnce((function(){d.instance.hide()}),2),d.instance.stopOneShot(),d.instance.isNext=!0,d.instance.isBest=!0)};this.node.getComponent(h).opacity=0,this.node.scale=new u(1,0,1),p(this.node.getComponent(h)).to(.3,{opacity:255}).call((function(){i._tw=f.instance.IncreaseNumber(i.winLab,n,s,{timer:2.6,callback:l.bind(i)}),i._tw.start()})).start(),p(this.node).to(.3,{scale:u.ONE}).start()},l.show2=function(e,t,n){var i=this;this.boxSp.setAnimation(0,"animation",!0),this._betScore=e,this._winScore=t,this.node.active=!0;var s=0;20===this.panelLevel?(s=e*this.panelLevel,s=t>=s?s:t):100===this.panelLevel?(v.inst.playOneShot("audio/AC_sound_8001_slotqilin_score_treasure_002",1,b.SLOTS_KYLIN),s=e*this.panelLevel,s=t>=s?s:t):-1===this.panelLevel&&(v.inst.playOneShot("audio/AC_sound_8001_slotqilin_score_treasure_003",1,b.SLOTS_KYLIN),s=t),this.winLab.string=f.instance.changeString(n.toFixed(2)),20===this.panelLevel||100===this.panelLevel?(s=e*this.panelLevel,s=t>=s?s:t):s=t;this.effectNode.getComponent(h).opacity=0,this.effectNode.scale=new u(1,0,1),p(this.effectNode.getComponent(h)).to(.3,{opacity:255}).start(),p(this.effectNode).to(.3,{scale:u.ONE}).start(),this._tw=f.instance.IncreaseNumber(this.winLab,n,s,{timer:2.1,callback:function(){t>s?d.instance.showNext(i.panelLevel,e,t):(i.scheduleOnce((function(){d.instance.hide()}),2),d.instance.stopOneShot(),d.instance.isNext=!0,d.instance.isBest=!0)}.bind(this)}),this._tw.start()},l.setWinScore=function(e){this.boxSp.setAnimation(0,"animation",!0),this.node.active=!0,this.winLab.string=f.instance.changeString(e.toFixed(2))},l.unAllCallbacks=function(){this.unscheduleAllCallbacks();var e=this._betScore*this.panelLevel;e=this._winScore>=e?e:this._winScore,-1===this.panelLevel&&(e=this._winScore),this.winLab.string=f.instance.changeString(e.toFixed(2)),this._winScore<=e&&this.scheduleOnce((function(){d.instance.hide()}),2),this._tw&&(this._tw.stop(),this._tw=null)},l.hide=function(){this.unscheduleAllCallbacks(),this._tw&&(this._tw.stop(),this._tw=null),this.node.active=!1},t}(_)).prototype,"boxSp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(m.prototype,"winLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(m.prototype,"effectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(m.prototype,"panelLevel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=m))||g));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_kylin', 'chunks:///_virtual/module_slots_kylin'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});