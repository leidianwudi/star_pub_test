System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,c=t.AudioSource}],execute:function(){var i;e._RF.push({},"e52d2ysY1BEbpcT2Cz0Wwss","AudioEffect",void 0);var r=n.ccclass;t("AudioEffect",r("AudioEffect")(i=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(o=t.call.apply(t,[this].concat(n))||this).onComplete=null,o}o(e,t);var n=e.prototype;return n.start=function(){this.node.on(c.EventType.ENDED,this.onAudioEnded,this)},n.onAudioEnded=function(){this.onComplete&&this.onComplete()},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./AudioEffect.ts"],(function(e){var t,n,o,i,s,c,r,u,f;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e.AudioClip,c=e.NodePool,r=e.Node},function(e){u=e.resLoader},function(e){f=e.AudioEffect}],execute:function(){i._RF.push({},"01278BDjrtCr4CBpmO5DZlN","AudioEffectPool",void 0);e("AudioEffectPool",function(){function e(){this._switch=!0,this._volume=1,this.pool=new c,this.effects=new Map,this.res=new Map,this._aeId=0}var i=e.prototype;return i.getAeId=function(){return 3e4==this._aeId&&(this._aeId=1),this._aeId++,this._aeId},i.load=function(){var e=n(o().mark((function e(t,i,c){var a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=u.defaultBundleName),e.abrupt("return",new Promise(n(o().mark((function e(n,l){var h,p,d,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.switch){e.next=2;break}return e.abrupt("return",n(-1));case 2:if(h=a.getAeId(),p=t instanceof s?t.uuid:i+"_"+t,p+="_"+h,!(t instanceof s)){e.next=9;break}d=t,e.next=15;break;case 9:if(d=u.get(t,s,i)){e.next=15;break}return a.res.set(i,t),e.next=14,u.loadAsync(i,t,s);case 14:d=e.sent;case 15:m=null,0==a.pool.size()?((m=new r).name="AudioEffect",m.parent=tgx.AudioMgr.inst.audioMgr,v=m.addComponent(f)):(m=a.pool.get(),v=m.getComponent(f)),v.onComplete=function(){a.put(h,t,i),c&&c()},a.effects.set(p,v),v.volume=a.volume,v.clip=d,v.play(),n(h);case 23:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),i.put=function(e,t,n){var o;void 0===n&&(n=u.defaultBundleName),o=t instanceof s?t.uuid:n+"_"+t,o+="_"+e;var i=this.effects.get(o);i&&i.clip&&(this.effects.delete(o),i.stop(),this.pool.put(i.node))},i.get=function(e,t,n){var o;void 0===n&&(n=u.defaultBundleName),o=t instanceof s?t.uuid:n+"_"+t,o+="_"+e;var i=this.effects.get(o);if(i&&i.clip)return i},i.release=function(){this.effects.forEach((function(e){e.node.destroy()})),this.effects.clear(),this.res.forEach((function(e,t){u.release(t,e)})),this.pool.clear()},i.stop=function(){this.effects.forEach((function(e){e.stop()}))},i.play=function(){this.switch&&this.effects.forEach((function(e){e.play()}))},i.pause=function(){this.switch&&this.effects.forEach((function(e){e.pause()}))},t(e,[{key:"switch",get:function(){return this._switch},set:function(e){this._switch=e,e&&this.stop()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.effects.forEach((function(t){t.volume=e}))}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioEffectPool.ts","./AudioMusic.ts"],(function(t){var s,i,e,c,u,o;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,c=t.Component},function(t){u=t.AudioEffectPool},function(t){o=t.AudioMusic}],execute:function(){e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","AudioManager",void 0);var f="game_audio";t("AudioManager",function(t){function e(){for(var s,i=arguments.length,e=new Array(i),c=0;c<i;c++)e[c]=arguments[c];return(s=t.call.apply(t,[this].concat(e))||this).music=null,s.effect=new u,s.local_data={},s}s(e,t);var c=e.prototype;return c.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},c.playMusic=function(t,s,i){this.music.switch&&(this.music.loop=!1,this.music.load(t,s,i).then())},c.playMusicLoop=function(t,s){this.music.switch&&(this.music.loop=!0,this.music.load(t,null,s).then())},c.stopMusic=function(){this.music.switch&&this.music.playing&&this.music.stop()},c.playEffect=function(t,s,i){return this.effect.load(t,s,i)},c.stopEffect=function(t,s,i){var e=this.effect.get(t,s,i);e&&e.stop()},c.putEffect=function(t,s,i){this.effect.put(t,s,i)},c.resumeAll=function(){!this.music.playing&&this.music.progress>0&&this.music.play(),this.effect.play()},c.pauseAll=function(){this.music.playing&&this.music.pause(),this.effect.pause()},c.stopAll=function(){this.music.stop(),this.effect.stop()},c.clearAll=function(){this.music.stop(),this.effect.stop(),this.music.release(),this.effect.release()},c.save=function(){this.local_data.volume_music=this.music.volume+"",this.local_data.volume_effect=this.effect.volume+"",this.local_data.switch_music=this.music.switch?"true":"false",this.local_data.switch_effect=this.effect.switch?"true":"false",localStorage.setItem(f,JSON.stringify(this.local_data))},c.load=function(){if(this.music=this.getComponent(o)||this.addComponent(o),this.local_data=JSON.parse(localStorage.getItem(f)),this.local_data)try{this.setState()}catch(t){this.setStateDefault()}else this.setStateDefault()},c.setState=function(){this.music.volume=Number(this.local_data.volume_music),this.effect.volume=Number(this.local_data.volume_effect),this.music.switch="true"==this.local_data.switch_music,this.effect.switch="true"==this.local_data.switch_effect},c.setStateDefault=function(){this.local_data={},this.music.volume=1,this.effect.volume=1,this.music.switch=!0,this.effect.switch=!0},i(e,[{key:"progressMusic",get:function(){return this.music.progress},set:function(t){this.music.progress=t}},{key:"volumeMusic",get:function(){return this.music.volume},set:function(t){this.music.volume=t}},{key:"switchMusic",get:function(){return this.music.switch},set:function(t){this.music.switch=t}},{key:"volumeEffect",get:function(){return this.effect.volume},set:function(t){this.effect.volume=t}},{key:"switchEffect",get:function(){return this.effect.switch},set:function(t){this.effect.switch=t}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(i){var t,s,u,e,o,c,n;return{setters:[function(i){t=i.createClass,s=i.asyncToGenerator,u=i.regeneratorRuntime},function(i){e=i.cclegacy,o=i.Node,c=i.director},function(i){n=i.AudioManager}],execute:function(){e._RF.push({},"d506fCKEkdMY7qkdZWU6ieq","AudioMgr",void 0),i("AudioMgr",function(){function i(){this._musicSource=void 0,this._soundSource=void 0,this._musicVolume=1,this._soundVolume=1,this.audioMgr=void 0,this.audio=void 0,this._switchMusic=!0,this._switchEffect=!0,this._switch=!0,this._volumeMusic=1,this._volumeEffect=1,this._volume=1,this.audioMgr=new o,this.audioMgr.name="__audioMgr__",c.getScene().addChild(this.audioMgr),c.addPersistRootNode(this.audioMgr),this.audio=this.audioMgr.addComponent(n),this.audio.load()}var e=i.prototype;return e.changVolume=function(i,t){this.audio.music.volume=i,this.audio.effect.volume=t,this.audio.save()},e.playOneShot=function(){var i=s(u().mark((function i(t,s,e){var o;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return void 0===e&&(e="resources"),i.next=4,this.audio.playEffect(t,e);case 4:return o=i.sent,i.abrupt("return",o);case 6:case"end":return i.stop()}}),i,this)})));return function(t,s,u){return i.apply(this,arguments)}}(),e.play=function(i,t,s){void 0===s&&(s="resources"),this.audio.playMusicLoop(i,s)},e.stop=function(){this.audio.music.stop(),this.audio.effect.stop()},e.pause=function(){this.audio.music.pause(),this.audio.effect.pause()},e.resume=function(){this.audio.music.play(),this.audio.effect.play()},e.stopOneShot=function(i,t,s){void 0===s&&(s="resources"),this.audio.putEffect(i,t,s)},t(i,[{key:"switchMusic",get:function(){return this._switchMusic},set:function(i){this._switchMusic!=i&&(1==i?this.audio.music.play():this.audio.music.pause()),this._switchMusic=i,this.audio.switchMusic=i,this.audio.save()}},{key:"switchEffect",get:function(){return this._switchEffect},set:function(i){this._switchEffect!=i&&(1==i?this.audio.effect.play():this.audio.effect.pause()),this._switchEffect=i,this.audio.switchEffect=i,this.audio.save()}},{key:"switch",get:function(){return this._switch},set:function(i){this._switch!=i&&(1==i?this.resume():this.pause()),this._switch=i,this.audio.switchMusic=i,this.audio.switchEffect=i,this.audio.save()}},{key:"volumeMusic",get:function(){return this._volumeMusic},set:function(i){this._volumeMusic=i,this.audio.music.volume=i,this.audio.save()}},{key:"volumeEffect",get:function(){return this._volumeEffect},set:function(i){this._volumeEffect=i,this.audio.effect.volume=i,this.audio.save()}},{key:"volume",get:function(){return this._volume},set:function(i){this._volume=i,this.audio.music.volume=i,this.audio.effect.volume=i,this.audio.save()}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new i),this._inst}}]),i}())._inst=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(t){var e,n,i,s,r,o,u,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator,u=t.AudioSource,a=t.AudioClip},function(t){c=t.resLoader}],execute:function(){var l;r._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);var h=o.ccclass;o.menu,t("AudioMusic",h("AudioMusic")(l=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).switch=!0,e.onComplete=null,e._progress=0,e._isLoading=!1,e._nextBundleName=null,e._nextUrl=null,e}e(r,t);var o=r.prototype;return o.start=function(){this.node.on(u.EventType.ENDED,this.onAudioEnded,this)},o.onAudioEnded=function(){this.onComplete&&this.onComplete()},o.load=function(){var t=i(s().mark((function t(e,n,i){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=c.defaultBundleName),!this._isLoading){t.next=5;break}return this._nextBundleName=i,this._nextUrl=e,t.abrupt("return");case 5:return this._isLoading=!0,t.next=8,c.loadAsync(i,e,a);case 8:(r=t.sent)&&(this._isLoading=!1,null!=this._nextUrl?(this.load(this._nextUrl,n,this._nextBundleName),this._nextBundleName=this._nextUrl=null):(n&&n(),this.playing&&this.stop(),this.release(),this.clip=r,this.play()));case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}(),o.release=function(){this.clip&&(this.stop(),this.clip.decRef(),this.clip=null)},n(r,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),r}(u))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(i){var t,e,n,o,s,r,l,a,m,h,p,u,c,d,_,y,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,l=i.v3,a=i.Camera,m=i.AnimationClip,h=i.find,p=i.RigidBody,u=i.Animation,c=i.Collider,d=i.Vec3,_=i.Component},function(i){y=i.EasyController,C=i.EasyControllerEvent}],execute:function(){var v,g,f,A,b,M,T,V,B,j,L,E,S,z,J,w,O,F;s._RF.push({},"d197aTs7v1GkpwypdJ1ezJ8","CharacterMovement",void 0);var P=r.ccclass,R=r.property,I=l();i("CharacterMovement",(v=P("tgxCharacterMovement"),g=R(a),f=R(m),A=R(m),b=R(m),M=R(m),T=R(m),v((j=t((B=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"mainCamera",j,o(t)),n(t,"velocity",L,o(t)),n(t,"jumpVelocity",E,o(t)),n(t,"maxJumpTimes",S,o(t)),t._curJumpTimes=0,n(t,"idleAnimClip",z,o(t)),n(t,"moveAnimClip",J,o(t)),n(t,"jumpBeginAnimClip",w,o(t)),n(t,"jumpLoopAnimClip",O,o(t)),n(t,"jumpLandAnimClip",F,o(t)),t._rigidBody=void 0,t._isMoving=!1,t._velocityScale=1,t._isInTheAir=!1,t._currentVerticalVelocity=0,t._anim=void 0,t._tmp=l(),t}e(t,i);var s=t.prototype;return s.start=function(){var i,t=this;this.mainCamera||(this.mainCamera=null==(i=h("Main Camera"))?void 0:i.getComponent(a));if(this._rigidBody=this.node.getComponent(p),this._anim=this.node.getComponent(u),this._anim){for(var e=[this.idleAnimClip,this.moveAnimClip,this.jumpBeginAnimClip,this.jumpLoopAnimClip,this.jumpLandAnimClip],n=0;n<e.length;++n){var o=e[n];o&&(this._anim.getState(o.name)||this._anim.addClip(o))}this.idleAnimClip&&this._anim.play(this.idleAnimClip.name)}y.on(C.MOVEMENT,this.onMovement,this),y.on(C.MOVEMENT_STOP,this.onMovementRelease,this),y.on(C.BUTTON,this.onJump,this);var s=this.getComponent(c);null==s||s.on("onCollisionEnter",(function(i){i.otherCollider!=i.selfCollider&&t.onLand()}))},s.onDestroy=function(){y.off(C.MOVEMENT,this.onMovement,this),y.off(C.MOVEMENT_STOP,this.onMovementRelease,this),y.off(C.MOVEMENT_STOP,this.onJump,this)},s.update=function(i){if(this._isMoving&&(this._tmp.set(this.node.forward),this._tmp.multiplyScalar(-1),this._tmp.multiplyScalar(this.velocity*this._velocityScale),this._rigidBody?(this._rigidBody.getLinearVelocity(I),this._tmp.y=I.y,this._rigidBody.setLinearVelocity(this._tmp)):(this._tmp.multiplyScalar(i),this._tmp.add(this.node.position),this.node.setPosition(this._tmp))),this._isInTheAir){if(this.jumpBeginAnimClip&&this._anim){var t=this._anim.getState(this.jumpBeginAnimClip.name);t.isPlaying&&t.current>=t.duration&&this.jumpLoopAnimClip&&this._anim.crossFade(this.jumpLoopAnimClip.name)}if(!this._rigidBody){this._currentVerticalVelocity-=9.8*i;var e=this.node.position,n=e.y+this._currentVerticalVelocity*i;n<=0&&(this.onLand(),n=0),this.node.setPosition(e.x,n,e.z)}}},s.onLand=function(){this._isInTheAir=!1,this._currentVerticalVelocity=0,this._curJumpTimes=0,this.moveAnimClip&&(this._isMoving?this._anim.crossFade(this.moveAnimClip.name,.5):this._anim.crossFade(this.idleAnimClip.name,.5))},s.onMovement=function(i,t){var e=0;this.mainCamera&&(e=this.mainCamera.node.eulerAngles.y),this._velocityScale=t,this._tmp.set(0,e+i-90+180,0),this.node.setRotationFromEuler(this._tmp),this._anim&&(this._isMoving||this._isInTheAir||this.moveAnimClip&&this._anim.crossFade(this.moveAnimClip.name,.1),this.moveAnimClip&&(this._anim.getState(this.moveAnimClip.name).speed=this._velocityScale)),this._isMoving=!0},s.onMovementRelease=function(){var i;!this._isInTheAir&&this.idleAnimClip&&(null==(i=this._anim)||i.crossFade(this.idleAnimClip.name,.5));this._isMoving=!1,this._rigidBody&&this._rigidBody.setLinearVelocity(d.ZERO)},s.onJump=function(i){var t;(console.log(i),"btn_slot_0"==i)&&(this._curJumpTimes>=this.maxJumpTimes||(this._curJumpTimes,this.jumpBeginAnimClip&&(null==(t=this._anim)||t.crossFade(this.jumpBeginAnimClip.name)),this._curJumpTimes++,this._rigidBody?(this._rigidBody.getLinearVelocity(I),I.y=this.jumpVelocity,this._rigidBody.setLinearVelocity(I)):this._currentVerticalVelocity=this.jumpVelocity,this._isInTheAir=!0))},t}(_)).prototype,"mainCamera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"velocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(B.prototype,"jumpVelocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(B.prototype,"maxJumpTimes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(B.prototype,"idleAnimClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(B.prototype,"moveAnimClip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(B.prototype,"jumpBeginAnimClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(B.prototype,"jumpLoopAnimClip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"jumpLandAnimClip",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=B))||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMovement2D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(e){var t,o,r,i,n,s,a,c,h,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.v2,h=e.Vec2,l=e.Component},function(e){u=e.EasyController,p=e.EasyControllerEvent}],execute:function(){var v,_,f,m;s._RF.push({},"6bdfa3YMw1PwobXdjV+aWTX","CharacterMovement2D",void 0);var D=a.ccclass,g=a.property,M=c();e("CharacterMovement2D",D("tgxCharacterMovement2D")((f=t((_=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"moveSpeed",f,i(t)),r(t,"needRotation",m,i(t)),t._moveFactor=0,t._moveDir=c(1,0),t._rotDegree=0,t._realDegree=0,t._precision=1,t}o(t,e);var s=t.prototype;return s.start=function(){u.on(p.MOVEMENT,this.onMovement,this),u.on(p.MOVEMENT_STOP,this.onMovementStop,this)},s._setDegree=function(e){this._realDegree=e,this._rotDegree=Math.floor(this._realDegree/this._precision)*this._precision},s.getRealSpeed=function(){return this.moveSpeed*this._moveFactor},s.setPrecision=function(e){if(e<1)throw Error("precision must be greater than 1");this._precision=e,this._rotDegree=Math.floor(this._realDegree/this._precision)*this._precision},s.onMovement=function(e,t){this._setDegree(e),this.needRotation&&this.node.setRotationFromEuler(0,0,this._realDegree);var o=this._rotDegree/180*Math.PI;this._moveDir.set(Math.cos(o),Math.sin(o)),this._moveDir.normalize(),this._moveFactor=t},s.onMovementStop=function(){this._moveFactor=0},s.onDestroy=function(){u.off(p.MOVEMENT,this.onMovement,this),u.off(p.MOVEMENT_STOP,this.onMovementStop,this)},s.update=function(e){if(this._moveFactor){h.multiplyScalar(M,this._moveDir,this.getRealSpeed()*e);var t=this.node.position;this.node.setPosition(t.x+M.x,t.y+M.y,t.z)}},n(t,[{key:"moveDir",get:function(){return this._moveDir}},{key:"rotDegree",get:function(){return this._rotDegree}},{key:"realDegree",get:function(){return this._realDegree}}]),t}(l)).prototype,"moveSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),m=t(_.prototype,"needRotation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=_))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/DoubleList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"63d59pJTUFM04UKvbFs7rgg","DoubleList",void 0);var n=t("DoubleList",function(){function t(){this.head=null,this.tail=null}var e=t.prototype;return e.addToTail=function(t){var i=o.getFromPool(t,"dont_call_this_function_by_your_self");return this.addItemToTail(i),i},e.insertToHead=function(t){var i=o.getFromPool(t,"dont_call_this_function_by_your_self");return this.insertItemToHead(i),i},e.addItemToTail=function(t){if(t){if(t.isLinked)throw Error("item must be unlinked.");if(null==this.head)return this.head=this.tail=t,t.owner=this,t.pre=null,void(t.next=null);if(!this.tail)throw Error("tail can not be nil");this.tail.next=t,t.pre=this.tail,this.tail=t,t.owner=this}},e.insertItemToHead=function(t){if(t){if(t.isLinked)throw Error("item must be unlinked.");if(null==this.head)return this.head=this.tail=t,t.owner=this,t.pre=null,void(t.next=null);this.head.pre=t,t.next=this.head,t.owner=this,this.head=t}},e.forEach=function(t){if(t)for(var i=this.head;i;){var e=i.next;if(t(i))return;i=e}},e.clear=function(){this.forEach((function(t){t.dispose()}))},i(t,[{key:"isEmpty",get:function(){return null==this.head}}]),t}()),o=t("DoubleListItem",function(){function t(t,i){this.owner=null,this.pre=null,this.next=null,this.data=null,this.data=t}t.getFromPool=function(i,e){var n=this._itemPool.tail;return n?(n.removeSelf(),n.data=i,n):new t(i,"dont_call_this_function_by_your_self")},t.putBackToPool=function(t,i){t.removeSelf(),this._itemPool.addItemToTail(t)};var e=t.prototype;return e.dispose=function(){t.putBackToPool(this,"dont_call_this_function_by_your_self")},e.removeSelf=function(){this.owner&&(this.owner.head==this&&(this.owner.head=this.next),this.owner.tail==this&&(this.owner.tail=this.pre),this.pre&&(this.pre.next=this.next),this.next&&(this.next.pre=this.pre),this.owner=null,this.pre=null,this.next=null)},i(t,[{key:"isLinked",get:function(){return null!=this.owner}}]),t}());o._itemPool=new n,e._RF.pop()}}}));

System.register("chunks:///_virtual/EasyController.ts",["cc"],(function(E){var n,o;return{setters:[function(E){n=E.cclegacy,o=E.director}],execute:function(){n._RF.push({},"cc933ijiadBG47GZ61xXA52","EasyController",void 0);var t=E("EasyControllerEvent",(function(){}));t.CAMERA_ROTATE="EasyControllerEvent.CAMERA_ROTATE",t.CAMERA_ZOOM="EasyControllerEvent.CAMERA_ZOOM",t.MOVEMENT="EasyControllerEvent.MOVEMENT",t.MOVEMENT_STOP="EasyControllerEvent.MOVEMENT_STOP",t.BUTTON="EasyControllerEvent.BUTTON",t.SCREEN_TOUCH_START="EasyControllerEvent.SCREEN_TOUCH_START",t.SCREEN_TOUCH_END="EasyControllerEvent.SCREEN_TOUCH_END";E("EasyController",function(){function E(){}return E.on=function(E,n,t){o.on(E,n,t)},E.off=function(E,n,t){o.off(E,n,t)},E}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EnvMgr.ts",["cc"],(function(c){var r,t;return{setters:[function(c){r=c.cclegacy,t=c._decorator}],execute:function(){r._RF.push({},"1f41a0D38xLAZpvcmj8plp6","EnvMgr",void 0);t.ccclass,t.property,c("EnvMgr",(function(){}));r._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./DoubleList.ts"],(function(t){var n,a;return{setters:[function(t){n=t.cclegacy},function(t){a=t.DoubleList}],execute:function(){n._RF.push({},"67acc++wNVNULP/OUgeuOW4","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._handlersMap={}}var n=t.prototype;return n.on=function(t,n,e,r,i){if(t&&n){var s=this._handlersMap[t];s||(s=this._handlersMap[t]=new a),s.addToTail({event:t,cb:n,thisArg:e,once:i,args:r})}},n.once=function(t,n,a,e){this.on(t,n,a,e,!0)},n.off=function(t,n,a,e){var r=this._handlersMap[t];r&&r.forEach((function(t){var r=t.data;if(r.cb==n&&r.thisArg==a&&r.once==e)return t.dispose(),!0}))},n.clearAll=function(t){if(t){var n=this._handlersMap[t];null==n||n.clear(),delete this._handlersMap[t]}else{for(var a in this._handlersMap){var e=this._handlersMap[a];null==e||e.clear()}this._handlersMap={}}},n.emit=function(t,n,a,e,r,i){var s=this._handlersMap[t];if(s&&!s.isEmpty){var c=[n,a,e,r,i];s.forEach((function(n){var a=n.data;a.event==t&&a.cb.apply(a.thisArg,c)}))}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ExtendButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,s,a,l,c,u,p,g,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,l=e.ccenum,c=e.SpriteFrame,u=e.Sprite,p=e.Button,g=e.tween,h=e.Vec3,f=e.color}],execute:function(){var d,b,y,m,C,_,k,F,S,v,T,w,R,z,A,N,D;s._RF.push({},"8bf85JA/4RGOanuG9bnW0pi","ExtendButton",void 0);var B=a.ccclass,E=a.property,x=a.menu,G=function(e){return e[e.DARK=0]="DARK",e[e.GRAY=1]="GRAY",e}(G||{});l(G);e("ExtendButton",(d=B("ExtendButton"),b=x("扩展类/UI/扩展按钮"),y=E({type:G,displayName:"禁用类型"}),m=E({displayName:"是否用作复选按钮",tooltip:"选中状态图片放0  未选中图片放1"}),C=E({displayName:"是否选中",tooltip:"复选按钮的选中状态",visible:function(){return this.isToggle}}),_=E({type:[c],tooltip:"复选按钮要切换的图片",visible:function(){return this.isToggle}}),k=E({tooltip:"是否用此节点更换图",visible:function(){return this.isToggle}}),F=E({type:u,tooltip:"要换图的节点",visible:function(){return!this.isSelfNode}}),d(S=b((T=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"isScale",T,n(t)),r(t,"interactableType",w,n(t)),r(t,"dark",R,n(t)),r(t,"isToggle",z,n(t)),t._isChecked=!0,r(t,"toggleFrames",A,n(t)),r(t,"isSelfNode",N,n(t)),r(t,"selfSprite",D,n(t)),t._st=void 0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this._st=this.node.getComponent(u),this.node.on(p.EventType.CLICK,(function(){e.interactable&&(e.isToggle&&(e.isChecked=!e.isChecked,e._st||(e._st=e.node.getComponent(u)),e.isSelfNode?e._st.spriteFrame=e.isChecked?e.toggleFrames[0]:e.toggleFrames[1]:e.selfSprite.spriteFrame=e.isChecked?e.toggleFrames[0]:e.toggleFrames[1]),0==e.transition&&e.isScale&&g(e.node).to(.1,{scale:new h(1.05,1.05,1.05)}).to(.1,{scale:h.ONE}).start())}))},o(t,[{key:"isChecked",get:function(){return this._isChecked},set:function(e){this._isChecked=e,this.isSelfNode?this.node.getComponent(u).spriteFrame=this.isChecked?this.toggleFrames[0]:this.toggleFrames[1]:this.selfSprite.spriteFrame=this.isChecked?this.toggleFrames[0]:this.toggleFrames[1]}},{key:"interactable",get:function(){return this._interactable},set:function(e){if(this._st||(this._st=this.node.getComponent(u)),this._st){if(this.interactableType==G.DARK){var t=e?255:this.dark;this._st.color=f(t,t,t,255)}this.interactableType==G.GRAY&&(this._st.grayscale=!e)}this._interactable=e}}]),t}(p)).prototype,"isScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(v.prototype,"interactableType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.DARK}}),R=t(v.prototype,"dark",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 125}}),z=t(v.prototype,"isToggle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(v.prototype,"isChecked",[C],Object.getOwnPropertyDescriptor(v.prototype,"isChecked"),v.prototype),A=t(v.prototype,"toggleFrames",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(v.prototype,"isSelfNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=t(v.prototype,"selfSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S)||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/FollowCamera2D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,a,n,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.v3,c=e.Node,s=e.Camera,u=e.Component}],execute:function(){var p,f,d,g,h,m;a._RF.push({},"901c88RzPNC+KzYY4c1byNp","FollowCamera2D",void 0);var y=n.ccclass,v=n.property,b=l();e("FollowCamera2D",(p=y("tgxFollowCamera2D"),f=v(c),p((h=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"target",h,i(t)),o(t,"offset",m,i(t)),t._camera=void 0,t}r(t,e);var a=t.prototype;return a.start=function(){this._camera=this.node.getComponent(s)},a.lateUpdate=function(e){this.target.getWorldPosition(b),b.add(this.offset),this.node.worldPosition=b},t}(u)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/FPSCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var a;r._RF.push({},"35e79Dy4FRKopwoxbqfPUBI","FPSCamera",void 0);var c=n.ccclass;n.property,t("FPSCamera",c("tgxFPSCamera")(a=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,s,n,r,h,a,p,d,_,c,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,h=e.Vec2,a=e.Vec3,p=e.Quat,d=e.input,_=e.Input,c=e.game,l=e.KeyCode,u=e.v2,y=e.Component}],execute:function(){var E,v,K,Y,f,S,m,k;n._RF.push({},"9cfdbEnosdDcIV51/qKNoBS","FreeCamera",void 0);var D=r.ccclass,M=r.property,T=new h,P=new h,A=new a,g=new p,w=new a,W=new a;e("FreeCamera",(E=D("tgxFreeCamera"),v=M({slide:!0,range:[.05,.5,.01]}),E((f=t((Y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"moveSpeed",f,s(t)),o(t,"moveSpeedShiftScale",S,s(t)),o(t,"damp",m,s(t)),o(t,"rotateSpeed",k,s(t)),t._euler=new a,t._velocity=new a,t._position=new a,t._speedScale=1,t._eulerP=new a,t.keys=[],t.moveDir=new a,t.key2dirMap=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){d.on(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.on(_.EventType.TOUCH_START,this.onTouchStart,this),d.on(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.on(_.EventType.TOUCH_END,this.onTouchEnd,this),a.copy(this._euler,this.node.eulerAngles),a.copy(this._position,this.node.getPosition()),a.copy(this._eulerP,this.node.eulerAngles),d.on(_.EventType.KEY_DOWN,this.onKeyDown,this),d.on(_.EventType.KEY_UP,this.onKeyUp,this)},n.onDestroy=function(){d.off(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.off(_.EventType.TOUCH_START,this.onTouchStart,this),d.off(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.off(_.EventType.TOUCH_END,this.onTouchEnd,this),d.off(_.EventType.KEY_DOWN,this.onKeyDown,this),d.off(_.EventType.KEY_UP,this.onKeyUp,this)},n.update=function(e){var t=Math.min(e/this.damp,1);a.transformQuat(A,this._velocity,this.node.rotation),a.scaleAndAdd(this._position,this._position,A,this.moveSpeed*this._speedScale),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),this.moveDir.lengthSqr()&&(a.transformQuat(w,a.FORWARD,this.node.rotation),w.normalize(),a.cross(W,w,a.UP),W.normalize(),a.scaleAndAdd(this._position,this._position,w,this.moveSpeed*this._speedScale*this.moveDir.z),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),a.scaleAndAdd(this._position,this._position,W,this.moveSpeed*this._speedScale*this.moveDir.x),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A),a.scaleAndAdd(this._position,this._position,a.UP,this.moveSpeed*this._speedScale*this.moveDir.y),a.lerp(A,this.node.getPosition(),this._position,t),this.node.setPosition(A)),p.fromEuler(g,this._eulerP.x,this._eulerP.y,this._eulerP.z),p.slerp(g,this.node.rotation,g,t),this.node.setWorldRotationFromEuler(this._eulerP.x,this._eulerP.y,this._eulerP.z)},n.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;a.transformQuat(A,a.UNIT_Z,this.node.rotation),a.scaleAndAdd(this._position,this.node.position,A,t)},n.onTouchStart=function(e){c.canvas.requestPointerLock&&c.canvas.requestPointerLock()},n.onTouchMove=function(e){e.getStartLocation(T),T.x,c.canvas.width,e.getDelta(P),this._eulerP.y-=P.x*this.rotateSpeed*.1,this._eulerP.x+=P.y*this.rotateSpeed*.1},n.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(T),T.x<.4*c.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},n.onKeyDown=function(e){var t=e.keyCode;t!=l.KEY_A&&t!=l.KEY_S&&t!=l.KEY_D&&t!=l.KEY_W||-1==this.keys.indexOf(t)&&(this.keys.push(t),this.updateDirection()),t==l.KEY_Q?this.moveDir.y=-1:t==l.KEY_E&&(this.moveDir.y=1)},n.onKeyUp=function(e){var t=e.keyCode;if(t==l.KEY_A||t==l.KEY_S||t==l.KEY_D||t==l.KEY_W){var i=this.keys.indexOf(t);-1!=i&&(this.keys.splice(i,1),this.updateDirection())}t!=l.KEY_Q&&t!=l.KEY_E||(this.moveDir.y=0)},n.updateDirection=function(){null==this.key2dirMap&&(this.key2dirMap={},this.key2dirMap[0]=u(0,0),this.key2dirMap[l.KEY_A]=u(-1,0),this.key2dirMap[l.KEY_D]=u(1,0),this.key2dirMap[l.KEY_W]=u(0,1),this.key2dirMap[l.KEY_S]=u(0,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_A]=u(-1,1),this.key2dirMap[1e3*l.KEY_D+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_D]=u(1,1),this.key2dirMap[1e3*l.KEY_A+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_A]=u(-1,-1),this.key2dirMap[1e3*l.KEY_D+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_D]=u(1,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_D]=this.key2dirMap[l.KEY_D],this.key2dirMap[1e3*l.KEY_D+l.KEY_A]=this.key2dirMap[l.KEY_A],this.key2dirMap[1e3*l.KEY_W+l.KEY_S]=this.key2dirMap[l.KEY_S],this.key2dirMap[1e3*l.KEY_S+l.KEY_W]=this.key2dirMap[l.KEY_W]);var e=this.keys[this.keys.length-1]||0,t=this.keys[this.keys.length-2]||0,i=this.key2dirMap[1e3*t+e];this.moveDir.x=i.x,this.moveDir.z=i.y},t}(y)).prototype,"moveSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(Y.prototype,"moveSpeedShiftScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=t(Y.prototype,"damp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(Y.prototype,"rotateSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=Y))||K));n._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenBgAutoFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,r,s,n,o,a,h,l,u,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){n=i.cclegacy,o=i._decorator,a=i.Canvas,h=i.size,l=i.UITransform,u=i.Sprite,c=i.Component}],execute:function(){var p,f,d,g,_,m,S;n._RF.push({},"319759POytNIqL7hZiZjOI8","FullScreenBgAutoFit",void 0);var T=o.ccclass,v=o.property;i("FullScreenBgAutoFit",(p=T("FullScreenBgAutoFit"),f=v(a),d=v({tooltip:"是否选择缩放，而不是改宽高"}),p((m=t((_=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=i.call.apply(i,[this].concat(n))||this,r(t,"canvasUITrans",m,s(t)),r(t,"setNodeScale",S,s(t)),t._oldSize=h(),t._originalSize=void 0,t._uiTransform=void 0,t._sprite=void 0,t.lastCheckTime=0,t}e(t,i);var n=t.prototype;return n.start=function(){if(this._uiTransform=this.getComponent(l),this._sprite=this.getComponent(u),this._uiTransform){if(this.setNodeScale)this._originalSize=h(this._uiTransform.width,this._uiTransform.height);else{if(!this._sprite)return;this._originalSize=this._sprite.spriteFrame.originalSize,this._sprite.sizeMode=u.SizeMode.CUSTOM}if(!this.canvasUITrans)for(var i=this.node.parent;i;){var t=i.getComponent(a);if(t){this.canvasUITrans=t.getComponent(l);break}i=i.parent}this.adjustResolutionPolicy()}},n.lateUpdate=function(i){this.lastCheckTime+=i,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())},n.adjustResolutionPolicy=function(){var i=this.canvasUITrans.contentSize;if(!this._oldSize.equals(i)){var t=i.width/i.height,e=this._originalSize.width/this._originalSize.height;t>e?(this._uiTransform.width=i.width,this._uiTransform.height=i.width/e):(this._uiTransform.width=i.height*e,this._uiTransform.height=i.height),this.setNodeScale&&this.node.setScale(this._uiTransform.width/this._originalSize.width,this._uiTransform.height/this._originalSize.height),this._oldSize.set(i)}},t}(c)).prototype,"canvasUITrans",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(_.prototype,"setNodeScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=_))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/Fun.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){var e;i("Fun",void 0),t._RF.push({},"7973bXyg7RDmoaZw1X1OoiI","Fun",void 0),(e||(e=i("Fun",{}))).TypeCell=function(){this.type=void 0,this.index=void 0,this.item=void 0},t._RF.pop()}}}));

System.register("chunks:///_virtual/GameConst.ts",["cc"],(function(t){var e,s;return{setters:[function(t){e=t.cclegacy,s=t.sys}],execute:function(){e._RF.push({},"e1cc9x2Jv9O6IbrJTBbH63m","GameConst",void 0);var a=t("GameConst",(function(){}));a.hotUpdate_packageUrl="http://8.216.89.33:8000/assets/",a.hotUpdate_manifestUrl="http://8.216.89.33:8000/assets/assets/bundle/{0}/project.manifest",a.hotUpdate_versionUrl="http://8.216.89.33:8000/assets/assets/bundle/{0}/version.manifest",a.hotUpdate_Open=!1,a.isShowWebPortrait=!1,a.openNetworkLog=!1,a.defaultLanguage=s.Language.CHINESE,a.curArea="china",window.GameConst=a,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUILayers.ts",["cc"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy,t=e.Label}],execute:function(){r._RF.push({},"a77a1B4SKRKLLPJCc2S/oq0","GameUILayers",void 0);var a=e("GameUILayers",function(e){return e[e.GAME=0]="GAME",e[e.JOY_STICK=1]="JOY_STICK",e[e.HUD=2]="HUD",e[e.POPUP=3]="POPUP",e[e.POPUP1=4]="POPUP1",e[e.POPUP2=5]="POPUP2",e[e.ALERT=6]="ALERT",e[e.NOTICE=7]="NOTICE",e[e.LOADING=8]="LOADING",e[e.OVERLAY=9]="OVERLAY",e[e.NUM=10]="NUM",e}(a||{})),o=(e("GameUILayerNames",["game","joy_stick","hud","popup","popup1","popup2","alert","notice","loading","overlay"]),t.prototype.updateRenderer);t.prototype.updateRenderer=function(){try{o.call(this)}catch(e){throw console.error("Error in Label:",this.node.name,e),e}},r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc"],(function(t){var r,e;return{setters:[function(t){r=t.cclegacy,e=t._decorator}],execute:function(){var n;r._RF.push({},"394ed3stzlNuaqSJ3dRf1Nj","GameUtil",void 0);var a=e.ccclass,c=(e.property,[.03,.1,.3,.9]),u=[1,2,3,4,5,6,7,8,9,10];t("GameUtil",a("GameUtil")(n=function(){function t(){}return t.GetBetRange=function(t,r,e){t=t||c,r=r||u,e=e||10;for(var n=[],a=0;a<t.length;a++)for(var o=0;o<r.length;o++)n.push(Math.round(t[a]*r[o]*e*100)/100);var i=Array.from(new Set(n));return i.sort((function(t,r){return t-r})),i},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpateData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3c341pnEe1OzYLc4gBK/buZ","HotUpateData",void 0);t("HotUpateData",(function(){this.name=void 0,this.packageurl=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HotUpdateEvent.ts","./HotUpdateCtrl.ts","./GameConst.ts"],(function(t){var e,o,n,i,a,r,s,l,c,u,h,p,d,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,c=t.Label,u=t.Node,h=t.game,p=t.director,d=t.Component},function(t){f=t.HotUpdateEvent},function(t){g=t.HotUpdateCtrl},null],execute:function(){var H,U,C,y,R,m,v;s._RF.push({},"b71dbyt8j5IKJW3G5BJLgMY","HotUpdate",void 0);var b=l.ccclass,k=l.property;t("Start",(H=b("HotUpdate"),U=k(c),C=k(u),H((m=e((R=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"txtLoading",m,i(e)),n(e,"loadingBar",v,i(e)),e.hotupdateCtrl=null,e}o(e,t);var s=e.prototype;return s.start=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._enterHall(),t.abrupt("return");case 3:return this.loadingBar.setScale(0,1,1),p.on(f.HotUpdateRate,this.onHotUpdateRate,this),p.on(f.HotUpdateFinish,this.onHotUpdateFinish,this),p.on(f.CheckVersionResult,this.onCheckVersionResult,this),this.hotupdateCtrl=new g,t.next=10,this.hotupdateCtrl.init("main");case 10:this.hotupdateCtrl.checkUpdate();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onCheckVersionResult=function(t,e){console.log("CheckVersionResult: "+t+", "+e),e?this.hotupdateCtrl&&this.hotupdateCtrl.hotUpdate():this._enterHall()},s.onHotUpdateRate=function(t,e){this.txtLoading.string=Math.floor(100*e)+"%",this.loadingBar.setScale(e,1,1)},s.onHotUpdateFinish=function(t,e){e?(console.log("========onHotUpdateSuccess======",t),setTimeout((function(){h.restart()}),200)):console.log("========onHotUpdateFail======")},s.update=function(t){},s._enterHall=function(){if(console.log("enterGame"),this.hotupdateCtrl){var t=this.hotupdateCtrl.getLocalManifestVersion();console.log("mainVersion:",t),g.mainVersion=t}p.loadScene("start")},s.onDestroy=function(){p.targetOff(this),this.hotupdateCtrl&&this.hotupdateCtrl.destory(),p.on(f.HotUpdateRate,this.onHotUpdateRate,this),p.on(f.HotUpdateFinish,this.onHotUpdateFinish,this),p.on(f.CheckVersionResult,this.onCheckVersionResult,this)},e}(d)).prototype,"txtLoading",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(R.prototype,"loadingBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=R))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdateCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HotUpdateEvent.ts","./HotUpateData.ts","./GameConst.ts","./Str.ts"],(function(t){var e,a,s,n,i,r,o,h,c,l;return{setters:[function(t){e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,n=t.native,i=t.director,r=t.sys},function(t){o=t.HotUpdateEvent},function(t){h=t.HotUpateData},function(t){c=t.GameConst},function(t){l=t.Str}],execute:function(){s._RF.push({},"ca103Gc+WNFJrPZO8nq8pzb","HotUpdateCtrl",void 0),t("HotUpdateCtrl",function(){function t(){this._name="",this._updating=!1,this._canRetry=!1,this._storagePath="",this._am=null,this._failCount=0,this.inited=!1}var s=t.prototype;return s.log=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a]},s.isSettSearchPaths=function(){var t=e(a().mark((function t(){var e,s,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 2:for(e=n.fileUtils.getSearchPaths(),s=this._am.getLocalManifest().getSearchPaths(),i=0;i<s.length;i++)-1==e.indexOf(s[i])&&Array.prototype.unshift.apply(e,[s[i]]);return r.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(e)),n.fileUtils.setSearchPaths(e),this.log("-----------set search path-----------",JSON.stringify(e)),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.init=function(){var t=e(a().mark((function t(e){var s,i,r,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 2:if(!this.inited){t.next=4;break}return t.abrupt("return");case 4:return this._name=e,this._storagePath=n.fileUtils.getWritablePath()+"game-remote-asset/"+this._name,this.log("init name:",e),this.log("init storagePath:",this._storagePath),s="assets/bundle/"+this._name+"/project.manifest",t.next=11,this.loadLocalManifest(s);case 11:i=t.sent,s=i.packageurl,r=function(t,e){o.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var a=t.split("."),s=e.split("."),n=0;n<a.length;++n){var i=parseInt(a[n]),r=parseInt(s[n]||"0");if(i!==r)return i-r}return s.length>a.length?-1:0},this.log("localmanifest "+s),this.log("this._storagePath: "+this._storagePath),this._am=new n.AssetsManager(s,this._storagePath,r),this._am.setVerifyCallback((function(t,e){var a=e.compressed,s=e.md5,n=e.path;return a?(o.log("hotupdate verify "+n),!0):(o.log("hotupdate verify "+n+" "+s),!0)})),this._am.setMaxConcurrentTask(2),this.log("-----------current version-----------",this._name,this._am.getLocalManifest().getVersion()),this.inited=!0;case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getReteManifestVersion=function(){if(!this._am)return 0;var t=this._am.getRemoteManifest();return t?parseInt(t.getVersion()):0},s.getLocalManifestVersion=function(){if(!this._am)return 0;var t=this._am.getLocalManifest();return t?parseInt(t.getVersion()):0},s.loadLocalManifest=function(){var t=e(a().mark((function t(e){var s=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){if(n.fileUtils.isFileExist(e)){var i=new h;i.name=s._name,i.packageurl=n.fileUtils.fullPathForFilename(e),t(i)}else{!n.fileUtils.isDirectoryExist(s._storagePath)&&n.fileUtils.createDirectory(s._storagePath);var r={},o=s._storagePath+"/project.manifest";if(n.fileUtils.isFileExist(o)){var u=new h;return u.name=s._name,u.packageurl=o,void t(u)}(r={packageUrl:"",remoteManifestUrl:"",remoteVersionUrl:"",version:"0",assets:{},searchPaths:new Array}).packageUrl=c.hotUpdate_packageUrl;var g=l.format(c.hotUpdate_manifestUrl,s._name),d=l.format(c.hotUpdate_versionUrl,s._name);s.log("localmanifestUrl is not exist"),s.log("create manifestUrl:"+g),s.log("create versionUrl:"+d),r.remoteManifestUrl=g,r.remoteVersionUrl=d,n.fileUtils.writeStringToFile(JSON.stringify(r),o),console.log("=========resource=========",o);var p=new h;p.name=s._name,p.packageurl=o,t(p)}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.checkUpdate=function(){this._updating?console.log("already check updating"):(this.log("checkUpdate:"+this._name),this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._updating=!0,this._am.setEventCallback(this.checkCallback.bind(this)),this._am.checkUpdate()):this.emit(o.CheckVersionResult,!1))},s.hotUpdate=function(){this.log("hotupdate:"+this._name),this.log("hotupdate:"+this._updating),this._am&&!this._updating&&(this.log("hotupdate:"+this._name),this._am.setEventCallback(this.updateCallback.bind(this)),this._failCount=0,this._updating=!0,this._am.update())},s.checkCallback=function(t){var e=null;switch(t.getEventCode()){case n.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.log("checkout hotupdate code: "+t.getEventCode()+" no local Manifest"),e=!1;break;case n.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this.log("checkout hotupdate code: "+t.getEventCode()+" download Manifest failed"),e=!1;break;case n.EventAssetsManager.ERROR_PARSE_MANIFEST:this.log("checkout hotupdate code: "+t.getEventCode()+" parse remote Manifest failed"),e=!1;break;case n.EventAssetsManager.ALREADY_UP_TO_DATE:this.log("checkout hotupdate code: "+t.getEventCode()+" already up to date"),e=!1;break;case n.EventAssetsManager.ERROR_DECOMPRESS:this.log("checkout hotupdate code: "+t.getEventCode()+" decompress failed"),e=!1;break;case n.EventAssetsManager.NEW_VERSION_FOUND:this.log("checkout hotupdate code: "+t.getEventCode()+" new version found"),e=!0;break;case n.EventAssetsManager.UPDATE_PROGRESSION:this.log("checkout hotupdate code: "+t.getEventCode()+" update progression");break;case n.EventAssetsManager.ASSET_UPDATED:this.log("checkout hotupdate code: "+t.getEventCode()+" asset updated");break;case n.EventAssetsManager.ERROR_UPDATING:this.log("checkout hotupdate code: "+t.getEventCode()+" error updating");break;case n.EventAssetsManager.UPDATE_FAILED:this.log("checkout hotupdate code: "+t.getEventCode()+" update failed");break;case n.EventAssetsManager.UPDATE_FINISHED:this.log("checkout hotupdate code: "+t.getEventCode()+" update finish"),e=!1;break;default:this.log("checkout hotupdate code: "+t.getEventCode()+" unkown error code")}null!=e&&(this._am&&this._am.setEventCallback(null),this._updating=!1,this.emit(o.CheckVersionResult,e))},s.updateCallback=function(t){var e,a=!1,s=!1;switch(console.log("updateCallback EventCode:",t.getEventCode()),t.getEventCode()){case n.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.log("hotupdate code: "+t.getEventCode()+" no local Manifest"),s=!0;break;case n.EventAssetsManager.UPDATE_PROGRESSION:if(e=t.getPercent(),isNaN(e))return;this.log("hotupdate procession: "+e),this.disPatchRateEvent(e);break;case n.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case n.EventAssetsManager.ERROR_PARSE_MANIFEST:this.log("download manifest failed! skip to hotupdate"),s=!1;break;case n.EventAssetsManager.ALREADY_UP_TO_DATE:this.log("already update to date!"),a=!0;break;case n.EventAssetsManager.UPDATE_FINISHED:this.disPatchRateEvent(1),a=!0;break;case n.EventAssetsManager.UPDATE_FAILED:this.log("hotupdate code: "+t.getEventCode()+" assert id: "+t.getAssetId()+" msg: "+t.getMessage()),this._failCount++,this._updating=!1,this._canRetry=!0,this.retry()||(s=!0);break;case n.EventAssetsManager.ERROR_UPDATING:this.log("hotupdate code: "+t.getEventCode()+" assert id: "+t.getAssetId()+" msg: "+t.getMessage());break;case n.EventAssetsManager.ERROR_DECOMPRESS:this.log("hotupdate code: "+t.getEventCode()+" ERROR_DECOMPRESS")}s&&(this._am.setEventCallback(null),this._updating=!1,this.hotUpdateFinish(!1)),a&&(this.isSettSearchPaths(),this.hotUpdateFinish(!0))},s.hotUpdateFinish=function(t){this.destory(),this.emit(o.HotUpdateFinish,t)},s.destory=function(){this._am&&this._am.setEventCallback(null),this._am=null},s.retry=function(){return!(this._failCount>3)&&(!(this._updating||!this._canRetry)&&(this._canRetry=!1,this._am.downloadFailedAssets(),!0))},s.unit8ArrayToString=function(t){var e,a,s,n,i,r;for(e="",s=t.length,a=0;a<s;)switch((n=t[a++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:i=t[a++],e+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t[a++],r=t[a++],e+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&r)<<0)}return e},s.disPatchRateEvent=function(t){this.emit(o.HotUpdateRate,t)},s.emit=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];i.emit.apply(i,[t,this._name].concat(a))},s.getStorePath=function(){return this._storagePath},t}()).mainVersion=0,s._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdateEvent.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"98df1F8r/JJ5qYRqXFJJjlw","HotUpdateEvent",void 0);t("HotUpdateEvent",function(t){return t.CheckVersionResult="CheckVersionResult",t.HotUpdateRate="HotUpdateRate",t.HotUpdateFinish="HotUpdateFinish",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/InputMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var s,n;return{setters:[function(t){s=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8fac4mBG8lPo5xB3wRNGThs","InputMgr",void 0),t("InputMgr",function(){function t(){this.STATE_NORMAL=1,this.STATE_KEEP=2,this._flags={},this._flagsMeta={}}var n=t.prototype;return n.setFlag=function(t,s,n){this._flags[t]=s?this.STATE_KEEP:this.STATE_NORMAL,null!=n&&(this._flagsMeta[t]=n)},n.removeFlag=function(t){delete this._flags[t]},n.hasFlag=function(t){return!!this._flags[t]},n.getMetaByFlag=function(t){return this._flagsMeta[t]},n.update=function(){for(var t in this._flags)this._flags[t]!=this.STATE_KEEP&&(this._flags[t]=0)},s(t,null,[{key:"inst",get:function(){return this._inst||(this._inst=new t),this._inst}}]),t}())._inst=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./ResLoader.ts"],(function(n){var e,o,s;return{setters:[function(n){e=n.cclegacy,o=n.JsonAsset},function(n){s=n.resLoader}],execute:function(){e._RF.push({},"ab0f1sf3oxJBpGmIylfUxhe","JsonUtil",void 0);var t="config/game/",r=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(r.has(n))return r.get(n)},n.load=function(n,e){if(r.has(n))e(r.get(n));else{var a=t+n;s.load(a,o,(function(o,t){o?(console.warn(o.message),e(null)):(r.set(n,t.json),s.release(a),e(t.json))}))}},n.loadAsync=function(n){return new Promise((function(e,a){if(r.has(n))e(r.get(n));else{var c=t+n;s.load(c,o,(function(o,t){o?(console.warn(o.message),e(null)):(r.set(n,t.json),s.release(c),e(t.json))}))}}))},n.loadDirAsync=function(){return new Promise((function(n,e){s.loadDir(t,(function(e,o){e?(console.warn(e.message),n(!1)):(o.forEach((function(n){r.set(n.name,n.json)})),s.releaseDir(t),n(!0))}))}))},n.release=function(n){r.delete(n)},n.clear=function(){r.clear()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Layout_UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,r,o,a,l,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,l=i.Node,c=i.Label,u=i.Component}],execute:function(){var p,s,g,y,f,d,b;o._RF.push({},"cf096mKKypBc5BOy11i+5NG","Layout_UIWaiting",void 0);var _=a.ccclass,h=a.property;i("Layout_UIWaiting",(p=_("tgxLayout_UIWaiting"),s=h(l),g=h(c),p((d=t((f=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,n(t,"loadingIcon",d,r(t)),n(t,"loadingTxt",b,r(t)),t}return e(t,i),t}(u)).prototype,"loadingIcon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"loadingTxt",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy,i=t.log}],execute:function(){n._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0);var e=t("LogType",function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t}({})),o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},s=t("Logger",function(){function t(){}return t.init=function(){this.tags=e.Net|e.Model|e.Business|e.View|e.Config|e.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t,n){this.isOpen(e.Trace)&&console.table(t)},t.trace=function(t,n){(void 0===n&&(n="color:#000000;"),this.isOpen(e.Trace))&&(console.log||i).call(null,"%c%s%s",n,this.getDateString(),t)},t.error=function(t,n){(void 0===n&&(n="color:#ff0000;"),this.isOpen(e.Trace))&&(console.log||i).call(null,"%c%s%s",n,this.getDateString(),t)},t.logNet=function(t,n){this.orange(e.Net,t,n)},t.logModel=function(t,n){this.violet(e.Model,t,n)},t.logBusiness=function(t,n){this.blue(e.Business,t,n)},t.logView=function(t,n){this.green(e.View,t,n)},t.logConfig=function(t,n){this.gray(e.Config,t,n)},t.orange=function(t,n,i){this.print(t,n,"color:#ee7700;",i)},t.violet=function(t,n,i){this.print(t,n,"color:Violet;",i)},t.blue=function(t,n,i){this.print(t,n,"color:#3a5fcd;",i)},t.green=function(t,n,i){this.print(t,n,"color:green;",i)},t.gray=function(t,n,i){this.print(t,n,"color:gray;",i)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,e,s){if(this.isOpen(t)){var r=console.log||i,c=o[t];s?r.call(null,"%c%s%s%s:%s%o",e,this.getDateString(),"["+c+"]",this.stack(5),s,n):r.call(null,"%c%s%s%s:%o",e,this.getDateString(),"["+c+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),i=[];n.forEach((function(t){var n,e=(t=t.substring(7)).split(" ");e.length<2?i.push(e[0]):i.push(((n={})[e[0]]=e[1],n))}));var e,o=[],s=[];if(t<i.length-1)for(var r in i[t])if(2==(s=r.split(".")).length)o=s.concat();else{var c=(e=i[t][r]).lastIndexOf("/"),l=e.lastIndexOf(".");if(c>-1&&l>-1){var g=e.substring(c+1,l);o.push(g)}else o.push(e)}return 1==o.length?"["+o[0]+".ts]":2==o.length?"["+o[0]+".ts->"+o[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),i="";return i+=(1==n.length?"0"+n:n)+":",i+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",i+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),i="["+(i+=n)+"]"},t}());s.tags=0,s.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./DoubleList.ts","./EnvMgr.ts","./ExtendButton.ts","./InputMgr.ts","./ModuleContext.ts","./PortraitMgr.ts","./ResolutionAutoFit.ts","./ResourceMgr.ts","./SafeJSON.ts","./SceneUtils.ts","./URLUtils.ts","./AudioEffect.ts","./AudioEffectPool.ts","./AudioManager.ts","./AudioMusic.ts","./ResLoader.ts","./Logger.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UIJoystick.ts","./UI_Joystick.ts","./EventDispatcher.ts","./NodeExt.ts","./UIController.ts","./UILayers.ts","./UIMgr.ts","./UIOrientation.ts","./UIAlert.ts","./UITip.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./ToolCsv.ts","./ToolPos.ts","./ToolUI.ts","./Fun.ts","./GameUtil.ts","./JsonUtil.ts","./Num.ts","./Singleton.ts","./Str.ts","./tgx.ts","./FullScreenBgAutoFit.ts","./GameConst.ts","./GameUILayers.ts","./ModuleDef.ts","./SceneDef.ts","./HotUpateData.ts","./HotUpdateCtrl.ts","./HotUpdateEvent.ts","./HotUpdate.ts","./Start.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ModuleContext.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5575a3VV2RD746hi1OU1Xsj","ModuleContext",void 0);var n="__module__name__",u="resources";t("ModuleContext",function(){function t(){}return t.setDefaultModule=function(t){u=t},t.getDefaultModule=function(){return u},t.attachClassModule=function(t,e){t[n]=e},t.getClassModule=function(t){return t[n]||u},t.attachImplClass=function(t,e){t.__impl__class__=e},t.attachModuleAndImplClass=function(t,e,u){t[n]=e,t.__impl__class__=u},t.getImplClass=function(t){return t.__impl__class__||t},t.createFromModule=function(t){return new(this.getImplClass(t)||t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleDef.ts",["cc"],(function(_){var o;return{setters:[function(_){o=_.cclegacy}],execute:function(){o._RF.push({},"6cdc84XjYpIJZs1++qgwn4Z","ModuleDef",void 0);var l=_("ModuleDef",(function(){}));l.BASIC="module_basic",l.BILLIARDS="module_billiards",l.GOMOKU="module_gomoku",l.TANK="module_tank",l.SLOTS1="module_slots1",l.SLOTS2="module_slots2",l.SLOTS3="module_slots3",l.SLOTS4="module_slots4",l.SLOTS5="module_slots5",l.SLOTS_SEA="module_slots_sea",l.TYT="module_tyt",l.SLOTS_WATER_MARGIN="module_slots_water_margin",l.TASK="module_task",l.TEST="module_test",l.FISH="module_fish",l.FISH_SHARK="module_fish_shark",l.FISH_WHALE="module_fish_whale",l.SLOTS_MOUSE="module_slots_mouse",l.SLOTS_OX="module_slots_ox",l.SLOTS_TIGER="module_slots_tiger",l.SLOTS_RABBIT="module_slots_rabbit",l.SLOTS_DRAGON="module_slots_dragon",l.SLOTS_SONGKRAN="module_slots_songkran",l.SLOTS_DRAGONHATCH="module_slots_dragonhatch",l.SLOTS_WILDBANDITO="module_slots_wildBandito",l.SLOTS_ICEANDFIRE="module_slots_iceandfire",l.SLOTS_GANESHAGOLD="module_slots_ganeshagold",l.SLOTS_MJWAYS="module_slots_mjways",l.SLOTS_MJWAYS2="module_slots_mjways2",l.SLOTS_KYLIN="module_slots_kylin",l.SLOTS_UNICORN="module_slots_unicorn",l.SLOTS_PANDA="module_slots_panda",l.SLOTS_LOONG="module_slots_loong",l.POKER_NIUNIU="module_poker_niuniu",l.STAR_BASIC="star_basic",l.POKER_PDK_YUENAN="module_poker_pdk_yuenan",l.POKER_DEZHOU="module_poker_dezhou",l.BINGO_FROG="module_bingo_frog",l.SLOTS_DOUBLE_HAPPY="module_slots_double_happy",o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeExt.ts",["cc"],(function(){var t,e,n,o,i,r,p,c,s,u,f,g,y,h,l,a,d,m,C,P,b,O,j;return{setters:[function(v){t=v.cclegacy,e=v.Node,n=v.Graphics,o=v.Label,i=v.RichText,r=v.Sprite,p=v.Button,c=v.Canvas,s=v.EditBox,u=v.Layout,f=v.PageView,g=v.ProgressBar,y=v.ScrollView,h=v.Slider,l=v.Toggle,a=v.Widget,d=v.UIOpacity,m=v.UITransform,C=v.Mask,P=v.Size,b=v.UIRenderer,O=v.Color,j=v.v3}],execute:function(){t._RF.push({},"4e875pWk4RKQpg2QApkPXi4","NodeExt",void 0),Object.defineProperty(e.prototype,"uiGraphics",{get:function(){return this.getComponent(n)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLabel",{get:function(){return this.getComponent(o)},set:function(t){}}),Object.defineProperty(e.prototype,"uiRichText",{get:function(){return this.getComponent(i)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSprite",{get:function(){return this.getComponent(r)},set:function(t){}}),Object.defineProperty(e.prototype,"uiButton",{get:function(){return this.getComponent(p)},set:function(t){}}),Object.defineProperty(e.prototype,"uiCanvas",{get:function(){return this.getComponent(c)},set:function(t){}}),Object.defineProperty(e.prototype,"uiEditBox",{get:function(){return this.getComponent(s)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLayout",{get:function(){return this.getComponent(u)},set:function(t){}}),Object.defineProperty(e.prototype,"uiPageView",{get:function(){return this.getComponent(f)},set:function(t){}}),Object.defineProperty(e.prototype,"uiProgressBar",{get:function(){return this.getComponent(g)},set:function(t){}}),Object.defineProperty(e.prototype,"uiScrollView",{get:function(){return this.getComponent(y)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSlider",{get:function(){return this.getComponent(h)},set:function(t){}}),Object.defineProperty(e.prototype,"uiToggle",{get:function(){return this.getComponent(l)},set:function(t){}}),Object.defineProperty(e.prototype,"uiWidget",{get:function(){return this.getComponent(a)},set:function(t){}}),Object.defineProperty(e.prototype,"uiOpacity",{get:function(){return this.getComponent(d)},set:function(t){}}),Object.defineProperty(e.prototype,"uiTransform",{get:function(){return this.getComponent(m)},set:function(t){}}),Object.defineProperty(e.prototype,"uiMask",{get:function(){return this.getComponent(C)},set:function(t){}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.setPosition(t,this.position.y)}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.setPosition(this.position.x,t)}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){var e=this;e.setPosition(e.position.x,e.position.y,t)}}),Object.defineProperty(e.prototype,"w",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.width)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).width=t}}),Object.defineProperty(e.prototype,"h",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.height)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).height=t}}),Object.defineProperty(e.prototype,"size",{get:function(){var t=this.getComponent(m);return new P(t.width,t.height)},set:function(t){var e=this.getComponent(m)||this.addComponent(m);e.width=t.width,e.height=t.height}}),Object.defineProperty(e.prototype,"opacity",{get:function(){var t=this.getComponent(d);if(null!=t)return t.opacity;var e=this.getComponent(b);return e?e.color.a:255},set:function(t){var e=this,n=e.getComponent(d);if(null==n){var o=e.getComponent(b);o?(this.$__color__?this.$__color__.a=t:this.$__color__=new O(o.color.r,o.color.g,o.color.b,t),o.color=this.$__color__):e.addComponent(d).opacity=t}else n.opacity=t}}),Object.defineProperty(e.prototype,"color",{get:function(){var t;return null==(t=this.getComponent(b))?void 0:t.color},set:function(t){var e=this.getComponent(b);e&&(e.color=t)}}),Object.defineProperty(e.prototype,"scale_x",{get:function(){return this.scale.x},set:function(t){var e=this;e.scale=j(t,e.scale.y,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_y",{get:function(){return this.scale.y},set:function(t){var e=this;e.scale=j(e.scale.x,t,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_z",{get:function(){return this.scale.z},set:function(t){var e=this;e.scale=j(e.scale.x,e.scale.y,t)}}),Object.defineProperty(e.prototype,"anchor_x",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorX)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorX=t}}),Object.defineProperty(e.prototype,"anchor_y",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorY)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorY=t}}),Object.defineProperty(e.prototype,"angle_x",{get:function(){return this.eulerAngles.x},set:function(t){var e=this;e.setRotationFromEuler(t,e.eulerAngles.y,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_y",{get:function(){return this.eulerAngles.y},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,t,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_z",{get:function(){return this.eulerAngles.y},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,e.eulerAngles.y,t)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Num.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.Vec3}],execute:function(){n._RF.push({},"6790csM9pdH2qM7SsOXuuSu","Num",void 0);t("Num",function(){function t(){}return t.parse=function(t){return"string"==typeof t?Number(t).valueOf():Math.floor(Number(t))},t.max=function(t,n){return Math.max(t,n)},t.exchangeToThousands=function(t,n){if(n/=t,isNaN(n))return"";var e=n.toFixed(2).split(".");return e[0]=e[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1."),e[0].split(".").join(",")+"."+e[1]},t.exchangeToThousands2=function(t,n){if(n/=t,isNaN(n))return"";var e=(n+"").split(".");e[0]=e[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1.");var r=e[0].split(".");return e.length>1?r.join(",")+"."+e[1]:r.join(",")},t.toThousandsBack=function(t){var n=t.split(",");return Number(n.join(""))},t.fixNum=function(t,n){return(n/t).toFixed(2)},t.twoBezier=function(t,n,r,o){var u=Math.pow(1-o,2)*t.x+2*o*(1-o)*n.x+Math.pow(o,2)*r.x,a=Math.pow(1-o,2)*t.y+2*o*(1-o)*n.y+Math.pow(o,2)*r.y;return new e(u,a)},t.threeBezier=function(t,n,r,o,u){var a=Math.pow(1-u,3)*t.x+3*u*Math.pow(1-u,2)*n.x+3*Math.pow(u,2)*(1-u)*r.x+Math.pow(u,3)*o.x,i=Math.pow(1-u,3)*t.y+3*u*Math.pow(1-u,2)*n.y+3*Math.pow(u,2)*(1-u)*r.y+Math.pow(u,3)*o.y;return new e(a,i)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PortraitMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst.ts"],(function(e){var i,t,n,o,s,r,a,l,c,u,g,h,p,f,d,S,O;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.sys,u=e.view,g=e.ResolutionPolicy,h=e.native,p=e.macro,f=e.director,d=e.Widget,S=e.Component},function(e){O=e.GameConst}],execute:function(){var v,R,m,y,A;a._RF.push({},"f2efaXwiSZLP71lzlBquI8j","PortraitMgr",void 0);var w=l.ccclass,z=l.property;e("default",(v=w("PortraitMgr"),R=z({tooltip:"是否只是给UI用的，不改变整个布局，比如solo上的帮助界面这种"}),v((A=i((y=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return i=e.call.apply(e,[this].concat(s))||this,n(i,"isOnlyUI",A,o(i)),i}t(i,e);var a=i.prototype;return a.onLoad=function(){if(!c.isBrowser||c.isMobile||O.isShowWebPortrait)if(this.isOnlyUI)this.onWindowResizePC();else{var e;c.os==c.OS.ANDROID?h.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(Ljava/lang/String;)V","V"):(c.os,c.OS.IOS),u.setOrientation(p.ORIENTATION_PORTRAIT);t=u.getDesignResolutionSize();u.setDesignResolutionSize(t.height,t.width,g.SHOW_ALL),this.onWindowResizePC();var i=(null==(e=f.getScene())?void 0:e.getChildByName("Canvas")).getComponent(d);i&&i.updateAlignment()}else if(this.isOnlyUI)this.onWindowResizePC();else{var t=u.getDesignResolutionSize();u.setDesignResolutionSize(t.height,t.width,g.SHOW_ALL),this.onWindowResizePC(),u.emit("canvas-resize")}},a.start=function(){var e=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.onDisable=function(){if(!c.isBrowser||c.isMobile||O.isShowWebPortrait){if(!this.isOnlyUI){c.os==c.OS.ANDROID?h.reflection.callStaticMethod("com/cocos/game/AppActivity","setOrientation","(Ljava/lang/String;)V","H"):(c.os,c.OS.IOS),u.setOrientation(p.ORIENTATION_LANDSCAPE);e=u.getDesignResolutionSize();u.setDesignResolutionSize(e.height,e.width,g.SHOW_ALL)}}else if(!this.isOnlyUI){var e=u.getDesignResolutionSize();u.setDesignResolutionSize(e.height,e.width,g.SHOW_ALL),u.emit("canvas-resize")}},a.onWindowResizePC=function(){var e=this.node.getComponent(d);e||(e=this.node.addComponent(d)),e.isAlignTop=!0,e.isAlignBottom=!0,e.isAlignLeft=!0,e.isAlignRight=!0,e.top=0,e.bottom=0,e.left=0,e.right=0,e.updateAlignment()},i}(S)).prototype,"isOnlyUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=y))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,s,o,a,l,u,d,i;return{setters:[function(e){n=e.createClass,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.assetManager,a=e.error,l=e.warn,u=e.Asset,d=e.js,i=e.resources}],execute:function(){s._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);var c=e("ResLoader",function(){function e(){this.defaultBundleName="resources",this.cdn=!1,this.bundles=new Map}var s=e.prototype;return s.init=function(e){for(var n in this.cdn=e.enable,e.packages)this.bundles.set(n,e.packages[n])},s.loadRemote=function(e){var n=null,r=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):r=arguments.length<=1?void 0:arguments[1],o.loadRemote(e,n,r)},s.loadBundle=function(e,n){return new Promise((function(r,t){o.loadBundle(e,{version:n},(function(e,n){if(e)return a(e);r(n)}))}))},s.removeBundle=function(e){var n=o.bundles.get(e);n&&(n.releaseAll(),o.removeBundle(n))},s.preload=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.preload=!0,this.loadByArgs(o)},s.preloadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.preload(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.preloadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,o.preload=!0,this.loadByArgs(o)},s.load=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,this.loadByArgs(o)},s.loadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.load(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.loadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,this.loadByArgs(o)},s.release=function(e,n){void 0===n&&(n=this.defaultBundleName);var r=o.getBundle(n);if(r){var t=r.get(e);t&&this.releasePrefabtDepsRecursively(t)}},s.releaseDir=function(e,n){var r=this;void 0===n&&(n=this.defaultBundleName);var t=o.getBundle(n);if(t){var s=t.getDirWithPath(e);s&&s.map((function(e){r.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&o.removeBundle(t)}},s.releasePrefabtDepsRecursively=function(e){if(e instanceof u)e.decRef();else{var n=o.assets.get(e);n&&n.decRef()}},s.get=function(e,n,r){return void 0===r&&(r=this.defaultBundleName),o.getBundle(r).get(e,n)},s.parseLoadResArgs=function(e,n,r,t){var s=e,o=n,a=r,l=t;if(void 0===t){var i=d.isChildClassOf(n,u);r?(l=r,i&&(a=null)):void 0!==r||i||(l=n,a=null,o=null),void 0===r||i||(a=n,o=null)}return{paths:s,type:o,onProgress:a,onComplete:l}},s.loadByBundleAndArgs=function(e,n){n.dir?n.preload?e.preloadDir(n.paths,n.type,n.onProgress,n.onComplete):e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):n.preload?e.preload(n.paths,n.type,n.onProgress,n.onComplete):e.load(n.paths,n.type,n.onProgress,n.onComplete)},s.loadByArgs=function(){var e=r(t().mark((function e(n){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.bundle){e.next=13;break}if(!(r=o.bundles.get(n.bundle))){e.next=6;break}this.loadByBundleAndArgs(r,n),e.next=11;break;case 6:return s=this.cdn?this.bundles.get(n.bundle):"",e.next=9,this.loadBundle(n.bundle,s);case 9:(r=e.sent)&&this.loadByBundleAndArgs(r,n);case 11:e.next=14;break;case 13:this.loadByBundleAndArgs(i,n);case 14:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.dump=function(){o.assets.forEach((function(e,n){console.log(o.assets.get(n))})),console.log("当前资源总数:"+o.assets.count)},n(e,[{key:"maxConcurrency",get:function(){return o.downloader.maxConcurrency},set:function(e){o.downloader.maxConcurrency=e}},{key:"maxRequestsPerFrame",get:function(){return o.downloader.maxRequestsPerFrame},set:function(e){o.downloader.maxRequestsPerFrame=e}},{key:"maxRetryCount",get:function(){return o.downloader.maxRetryCount},set:function(e){o.downloader.maxRetryCount=e}},{key:"retryInterval",get:function(){return o.downloader.retryInterval},set:function(e){o.downloader.retryInterval=e}}]),e}());e("resLoader",new c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResolutionAutoFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,s,n,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.view,n=t.ResolutionPolicy,l=t.size,u=t.Component}],execute:function(){var c;e._RF.push({},"e5d8aIjX9NO3ox3KMWTDbsA","ResolutionAutoFit",void 0);var r=o.ccclass;o.property,t("ResolutionAutoFit",r("tgxResolutionAutoFit")(c=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._oldSize=l(),i.lastCheckTime=0,i}i(e,t);var o=e.prototype;return o.start=function(){this.adjustResolutionPolicy()},o.update=function(t){this.lastCheckTime+=t,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())},o.adjustResolutionPolicy=function(){var t=s.getVisibleSize();if(!this._oldSize.equals(t)){var i=t.width/t.height,e=s.getDesignResolutionSize();i>e.width/e.height?s.setResolutionPolicy(n.FIXED_HEIGHT):s.setResolutionPolicy(n.FIXED_WIDTH),this._oldSize.set(t)}},e}(u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst.ts"],(function(e){var n,t,u,o,r;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,u=e.resources,o=e.assetManager},function(e){r=e.GameConst}],execute:function(){t._RF.push({},"b666cLPxptFbq3Cc9VNNPIW","ResourceMgr",void 0);var l=function(){this.url=void 0,this.isLoading=!1,this.callbackArr=[]};e("ResourceMgr",function(){function e(){this.loadingQueue=[]}var t=e.prototype;return t.loadRes=function(e,n,t){var o=this,r=u.get(e,n);if(r)t&&setTimeout((function(){t(null,r)}),10);else{var i=this.loadingQueue[e];i||((i=this.loadingQueue[e]=new l).url=e),i.callbackArr.push(t),i.isLoading||(i.isLoading=!0,u.load(e,n,(function(n,t){for(var u in delete o.loadingQueue[e],i.callbackArr){var r=i.callbackArr[u];r&&r(n,t)}})))}},t.loadResByModuleBundle=function(e,n,t,u){var r=o.getBundle(e);r?r.load(n,t,u):u&&u(new Error("bundle not find:"+e),null)},t.preloadResByModuleBundle=function(e,n,t,u){var r=o.getBundle(e);r?r.preload(n,t,u):u&&u(new Error("bundle not find:"+e),null)},t.loadAreaConfigByModuleBundle=function(n,t,u,o){t="area_config/"+r.curArea+"/"+t,e.inst.loadResByModuleBundle(n,t,u,o)},n(e,null,[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SafeJSON.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2aad8l/WzBPTIhr1W6SB9Pt","SafeJSON",void 0);t("SafeJSON",function(){function t(){}return t.parse=function(t,n){try{return JSON.parse(t,n)}catch(t){return console.log(t),null}},t.stringify=function(t,n,r){try{return JSON.stringify(t,n,r)}catch(t){return""}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneDef.ts",["cc","./ModuleDef.ts"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.ModuleDef}],execute:function(){n._RF.push({},"402c86/nTlCBZjjfWHP0t76","SceneDef",void 0);var c=e("SceneDef",(function(){}));c.START={name:"start",bundle:"main"},c.LOGIN={name:"login",bundle:t.BASIC},c.LOBBY={name:"lobby",bundle:t.BASIC},c.CREATE_ROLE={name:"create_role",bundle:t.BASIC},n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,r,t,u,c;return{setters:[function(n){e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){t=n.cclegacy,u=n.assetManager,c=n.director}],execute:function(){t._RF.push({},"a97b9Z9/ixN3o1FLVqGpfE9","SceneUtils",void 0);n("ISceneInfo",(function(){this.name=void 0,this.bundle=void 0})),n("SceneUtil",function(){function n(){}return n.loadBundleSync=function(){var n=e(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){u.loadBundle(e,(function(e,r){return n(!e)}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n.unloadBundle=function(){var n=e(r().mark((function n(e){var t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:(t=u.getBundle(e))&&(t.releaseAll(),u.removeBundle(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n.reloadScene=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,e){c.loadScene(c.getScene().name,(function(){n(!0)}))})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.loadScene=function(){var n=e(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){tgx.AudioMgr.inst.audio.clearAll(),u.getBundle(e.bundle)?c.loadScene(e.name,(function(){n(!0)})):u.loadBundle(e.bundle,(function(r,t){t&&c.loadScene(e.name,(function(){n(!0)}))}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"90d2f0O319J+ZE51avxrXJS","Singleton",void 0),n("Singleton",function(){function n(){}return n.inst=function(t){return n.instance||(n.instance=new t),n.instance},n}()).instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUILayers.ts","./ModuleDef.ts","./SceneDef.ts","./GameConst.ts"],(function(e){var n,t,r,a,o,i,l,u,s,d,c,p,f,g,b,h,m,y,v,C,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,i=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,d=e.Label,c=e.Prefab,p=e.Node,f=e.game,g=e.assetManager,b=e.Component,h=e.director},function(e){m=e.GameUILayers,y=e.GameUILayerNames},function(e){v=e.ModuleDef},function(e){C=e.SceneDef},function(e){L=e.GameConst}],execute:function(){var I,S,B,_,R,A,P,w,x,U;u._RF.push({},"66e163GxmdDp7kaguqDvTVl","Start",void 0);var D=s.ccclass,G=s.property,M=C.LOGIN,z=[v.BASIC],N=[],k=[{bundle:v.BASIC,url:"ui_alert/UI_Alert",type:"prefab"},{bundle:v.BASIC,url:"ui_waiting/UI_Waiting",type:"prefab"},{bundle:v.BASIC,url:"ui_login/ui_login",type:"prefab"},{bundle:v.BASIC,url:"",type:"language"},{bundle:v.BASIC,url:"config/ruleconfig",type:"config"},{bundle:v.BASIC,url:"config/headconfig",type:"config"},{bundle:v.BASIC,url:"roomconfig",type:"areaConfig"},{bundle:v.BASIC,url:"shopconfig",type:"areaConfig"}];-1==N.indexOf(M)&&N.push(M);for(var O=0;O<N.length;++O){var T=N[O];-1==z.indexOf(T.bundle)&&z.push(T.bundle),k.push({bundle:T.bundle,url:T.name,type:"scene"})}var F=["Loading.","Loading..","Loading..."],H=z.length+k.length;e("Start",(I=D("Start"),S=G(d),B=G(c),_=G(p),I(((U=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"txtLoading",P,a(n)),r(n,"uiCanvasPrefab",w,a(n)),r(n,"loadingBar",x,a(n)),n._percent="",n._numCurrentLoaded=0,n}t(n,e);var u=n.prototype;return u.start=function(){var e=this.getUrlParams().netlog;void 0!==e&&(L.openNetworkLog=["true","1","yes"].includes(e.toLowerCase())),f.frameRate=61,tgx.UIMgr.inst.setup(this.uiCanvasPrefab,m.NUM,y),this.preloadBundle(0)},u.getUrlParams=function(){for(var e,n={},t=window.location.search.substring(1).split("&"),r=o(t);!(e=r()).done;){var a=e.value.split("="),i=a[0],l=a[1];i&&(n[i]=decodeURIComponent(l||""))}return n},u.onResLoaded=function(){this._numCurrentLoaded++,this._percent=~~(this._numCurrentLoaded/H*100)+"%"},u.preloadBundle=function(e){var n=this;g.loadBundle(z[e],null,(function(t,r){console.log("module:<"+z[e]+">loaded."),e++,n.onResLoaded(),e<z.length?n.preloadBundle(e):n.preloadRes(0)}))},u.preloadRes=function(e){var t=this,r=k[e],a=function(){e++,t.onResLoaded(),e<k.length?t.preloadRes(e):t.onPreloadingComplete()};if(r.bundle!=v.BASIC){var o=g.getBundle(r.bundle);o&&("prefab"==r.type?o.preload(r.url,c,a.bind(this)):"scene"==r.type&&o.preloadScene(r.url,a.bind(this)))}else n.basicPreloadRes(r,a.bind(this))},u.onPreloadingComplete=function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.loadScene(M.name,(function(){}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u.update=function(e){if(this._percent)this.txtLoading.string="Loading..."+this._percent;else{var n=Math.floor(f.totalTime/1e3)%3;this.txtLoading.string=F[n]}this.loadingBar.setScale(this._numCurrentLoaded/H,1,1)},n}(b)).basicPreloadRes=void 0,P=n((A=U).prototype,"txtLoading",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(A.prototype,"uiCanvasPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(A.prototype,"loadingBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=A))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/Str.ts",["cc","./Num.ts"],(function(r){var t,n;return{setters:[function(r){t=r.cclegacy},function(r){n=r.Num}],execute:function(){t._RF.push({},"6138eiAosJOSpKK1yOCcEt8","Str",void 0);r("Str",function(){function r(){}return r.format=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),u=1;u<n;u++)e[u-1]=arguments[u];for(var c=0;c<e.length;++c){var i=r.getFormatReg(c);t=t.replace(i,e[c].toString())}return t},r.getFormatReg=function(r){switch(r){case 0:return/\{0\}/g;case 1:return/\{1\}/g;case 2:return/\{2\}/g;case 3:return/\{3\}/g;case 4:return/\{4\}/g;case 5:return/\{5\}/g;case 6:return/\{6\}/g;case 7:return/\{7\}/g;case 8:return/\{8\}/g;case 9:return/\{9\}/g;case 10:return/\{10\}/g;case 11:return/\{11\}/g;case 12:return/\{12\}/g}return null},r.split=function(r,t){return r.split(t)},r.getRandStr=function(r){r=r||32;for(var t="ABCDEFGHIJKLMNOPQRSTUCWXYZabcdefghijklmnopqrstuvwxyz12345678p",n=t.length,e="",u=0;u<r;u++)e+=t.charAt(Math.floor(Math.random()*n));return e},r.isEmpty=function(t){return void 0===t||null==t||""==(t=r.delSpace(t))},r.isUrl=function(r){return!this.isEmpty(r)&&this.isContain(r,"http")},r.delSpace=function(r){return r.replace(/\s+/g,"")},r.delSpaceLr=function(r){return r.replace(/^\s+|\s+$/g,"")},r.delRn=function(r){return r.replace(/[\r\n]/g,"")},r.decimal=function(r,t){return void 0===t&&(t=2),("string"==typeof r?parseFloat(r):r).toFixed(t)},r.add2=function(t,n,e){void 0===e&&(e=2);var u=function(r){var t=r.replace(/,/g,"");return parseFloat(t)},c=u(t),i=u(n);return r.decimal(c+i,e)},r.parse=function(r){return r.toString()},r.encodeURI=function(r){function t(t){return r.apply(this,arguments)}return t.toString=function(){return r.toString()},t}((function(r){return encodeURI(r)})),r.minus=function(r){var t=n.parse(r);return(t=-t).toString()},r.getASCIINum=function(r){for(var t=0,n=r.length,e=0;e<n;++e){t+=r.charCodeAt(0)}return t},r.isContain=function(r,t){return-1!=r.indexOf(t)},r.isBeg=function(r,t){return r.startsWith(t)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/tgx.ts",["cc","./SceneUtils.ts","./AudioMgr.ts","./InputMgr.ts","./ResourceMgr.ts","./SafeJSON.ts","./ResolutionAutoFit.ts","./ModuleContext.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UIJoystick.ts","./UIAlert.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./EventDispatcher.ts","./UIController.ts","./UILayers.ts","./UIMgr.ts","./URLUtils.ts","./UITip.ts"],(function(){var t,e,n,r,o,a,i,s,u,c,l,U,f,I,C,g,m,y,M,h,v,S,d,F,L,p,R,A,E,T;return{setters:[function(e){t=e.cclegacy},function(t){e=t.ISceneInfo,n=t.SceneUtil},function(t){r=t.AudioMgr},function(t){o=t.InputMgr},function(t){a=t.ResourceMgr},function(t){i=t.SafeJSON},function(t){s=t.ResolutionAutoFit},function(t){u=t.ModuleContext},function(t){c=t.FPSCamera},function(t){l=t.FollowCamera2D},function(t){U=t.FreeCamera},function(t){f=t.ThirdPersonCamera},function(t){I=t.CharacterMovement},function(t){C=t.CharacterMovement2D},function(t){g=t.EasyController,m=t.EasyControllerEvent},function(t){y=t.ThirdPersonCameraCtrl},function(t){M=t.UIJoystick},function(t){h=t.Layout_UIAlert,v=t.UIAlert},function(t){S=t.Layout_UIWaiting},function(t){d=t.UIWaiting},function(t){F=t.EventDispatcher},function(t){L=t.UIController},function(t){p=t.UILayers,R=t.UILayerNames},function(t){A=t.UIMgr},function(t){E=t.URLUtils},function(t){T=t.UITip}],execute:function(){t._RF.push({},"f6affkIabhNnqd5KRuhkVzy","tgx",void 0);var D={ISceneInfo:e,SceneUtil:n,AudioMgr:r,InputMgr:o,ResourceMgr:a,SafeJSON:i,ResolutionAutoFit:s,ModuleContext:u,FPSCamera:c,FollowCamera2D:l,FreeCamera:U,ThirdPersonCamera:f,CharacterMovement:I,CharacterMovement2D:C,EasyController:g,EasyControllerEvent:m,ThirdPersonCameraCtrl:y,UIJoystick:M,Layout_UIAlert:h,UIAlert:v,Layout_UIWaiting:S,UIWaiting:d,EventDispatcher:F,UIController:L,UILayers:p,UILayerNames:R,UIMgr:A,URLUtils:E,UITip:T};globalThis.tgx=D,t._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,l,s,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.v3,s=e.Node,u=e.Vec3,h=e.Component}],execute:function(){var c,g,p,f,b,m,y,d,_,M,w,v;a._RF.push({},"0e5acyZ1V5MwY4MXWYmJeO2","ThirdPersonCamera",void 0);var z=o.ccclass,A=o.property,L=l(),T=l();e("ThirdPersonCamera",(c=z("tgxThirdPersonCamera"),g=A(s),c((b=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"target",b,r(t)),n(t,"lookAtOffset",m,r(t)),n(t,"zoomSensitivity",y,r(t)),n(t,"lenMin",d,r(t)),n(t,"lenMax",_,r(t)),n(t,"len",M,r(t)),n(t,"rotateVHSeparately",w,r(t)),n(t,"tweenTime",v,r(t)),t._targetLen=0,t._targetAngles=l(),t}i(t,e);var a=t.prototype;return a.start=function(){this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},a.setLenFactor=function(e){var t=(this.lenMax-this.lenMin)*e+this.lenMin;this._targetLen=t},a.setTargetAngles=function(e,t,i){this._targetAngles.set(e,t,i)},a.lateUpdate=function(e){if(this.target){var t=Math.min(e/this.tweenTime,1);L.set(this.node.eulerAngles),u.lerp(L,L,this._targetAngles,t),this.node.setRotationFromEuler(L),L.set(this.target.worldPosition),L.add(this.lookAtOffset),this.len=this.len*(1-t)+this._targetLen*t,T.set(this.node.forward),T.multiplyScalar(this.len),L.subtract(T),this.node.setPosition(L)}},a.onCameraRotate=function(e,t){var i=this.node.eulerAngles;this.rotateVHSeparately&&(Math.abs(e)>Math.abs(t)?t=0:e=0),this._targetAngles.set(i.x+20*e,i.y+20*t,i.z)},a.onCameraZoom=function(e){this._targetLen+=e*this.zoomSensitivity,this._targetLen<this.lenMin&&(this._targetLen=this.lenMin),this._targetLen>this.lenMax&&(this._targetLen=this.lenMax)},t}(h)).prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"lookAtOffset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l()}}),y=t(f.prototype,"zoomSensitivity",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=t(f.prototype,"lenMin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=t(f.prototype,"lenMax",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=t(f.prototype,"len",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=t(f.prototype,"rotateVHSeparately",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=t(f.prototype,"tweenTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThirdPersonCamera.ts","./EasyController.ts"],(function(t){var r,e,o,n,s,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.ThirdPersonCamera},function(t){s=t.EasyController,a=t.EasyControllerEvent}],execute:function(){var i;e._RF.push({},"6ea3cEV3klIAZnz+Ay66ut+","ThirdPersonCameraCtrl",void 0);var l=o.ccclass;o.property,t("ThirdPersonCameraCtrl",l("tgxThirdPersonCameraCtrl")(i=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){s.on(a.CAMERA_ROTATE,this.onCameraRotate,this),s.on(a.CAMERA_ZOOM,this.onCameraZoom,this),this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},o.onDestroy=function(){s.off(a.CAMERA_ROTATE,this.onCameraRotate,this),s.off(a.CAMERA_ZOOM,this.onCameraZoom,this)},e}(n))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/ToolCsv.ts",["cc"],(function(t){var o,r;return{setters:[function(t){o=t.cclegacy,r=t._decorator}],execute:function(){o._RF.push({},"8904biaRSNHqKx1HXFvcpZY","ToolCsv",void 0);r.ccclass,r.property,t("ToolCsv",function(){function t(){}return t.parseCSVData=function(t){for(var o=t.split("\n"),r=[],c=0;c<o.length;c++){var n=o[c].trim();if(""!==n){var e=n.split(",");r.push(e)}}return console.log(r),r},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ToolPos.ts",["cc"],(function(o){var n,t,r;return{setters:[function(o){n=o.cclegacy,t=o._decorator,r=o.v2}],execute:function(){n._RF.push({},"d9a42DwE1BEbYjSOdK05f3D","ToolPos",void 0);t.ccclass,t.property,o("ToolPos",function(){function o(){}return o.localConvertWorldPointAR=function(o){return o?o.convertToWorldSpaceAR(r(0,0)):null},o.localConvertWorldPoint=function(o){return o?o.convertToWorldSpace(r(0,0)):null},o.worldConvertLocalPointAR=function(o,n){return o?o.convertToNodeSpaceAR(n):null},o.worldConvertLocalPoint=function(o,n){return o?o.convertToNodeSpace(n):null},o.convertOtherNodeSpaceAR=function(o,n){if(!o||!n)return null;var t=this.localConvertWorldPointAR(o);return this.worldConvertLocalPointAR(n,t)},o.convertOtherNodeSpace=function(o,n){if(!o||!n)return null;var t=this.localConvertWorldPoint(o);return this.worldConvertLocalPoint(n,t)},o}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ToolUI.ts",["cc"],(function(r){var e,t;return{setters:[function(r){e=r.cclegacy,t=r._decorator}],execute:function(){e._RF.push({},"58718JsbuVNXoalFRYw+/WF","ToolUI",void 0);t.ccclass,t.property,r("toolUI",function(){function r(){}return r.traverseAllChildren=function(e,t){t(e);for(var n=e.children,o=0;o<n.length;o++){var c=n[o];r.traverseAllChildren(c,t)}},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,i,o,n,s,h,_,a,r,c,u,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.KeyCode,h=t.UITransform,_=t.Input,a=t.input,r=t.director,c=t.isValid,u=t.Component},function(t){l=t.EasyControllerEvent}],execute:function(){var T,E;o._RF.push({},"0d836Ks7otIP4Uli0aFzr2O","UI_Joystick",void 0);var v=n.ccclass;n.property,t("UI_Joystick",v("tgxUI_Joystick")(((E=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._ctrlRoot=null,e._ctrlPointer=null,e._buttons=null,e._cameraSensitivity=.1,e._distanceOfTwoTouchPoint=0,e._movementTouch=null,e._cameraTouchA=null,e._cameraTouchB=null,e._fullscreen=null,e._scene=null,e._key2buttonMap={},e._keys=[],e._degree=0,e._key2dirMap=null,e}e(o,t);var n=o.prototype;return n.onLoad=function(){o._inst=this,this._key2buttonMap[s.KEY_J]="btn_slot_0",this._key2buttonMap[s.KEY_K]="btn_slot_1",this._key2buttonMap[s.KEY_L]="btn_slot_2",this._key2buttonMap[s.KEY_U]="btn_slot_3",this._key2buttonMap[s.KEY_I]="btn_slot_4";var t=this.node.getChildByName("checker_camera").getComponent(h);t.node.on(_.EventType.TOUCH_START,this.onTouchStart_CameraCtrl,this),t.node.on(_.EventType.TOUCH_MOVE,this.onTouchMove_CameraCtrl,this),t.node.on(_.EventType.TOUCH_END,this.onTouchUp_CameraCtrl,this),t.node.on(_.EventType.TOUCH_CANCEL,this.onTouchUp_CameraCtrl,this);var e=this.node.getChildByName("checker_movement").getComponent(h);e.node.on(_.EventType.TOUCH_START,this.onTouchStart_Movement,this),e.node.on(_.EventType.TOUCH_MOVE,this.onTouchMove_Movement,this),e.node.on(_.EventType.TOUCH_END,this.onTouchUp_Movement,this),e.node.on(_.EventType.TOUCH_CANCEL,this.onTouchUp_Movement,this),this._fullscreen=this.node.getComponent(h),this._ctrlRoot=this.node.getChildByName("ctrl").getComponent(h),this._ctrlRoot.node.active=!1,this._ctrlPointer=this._ctrlRoot.node.getChildByName("pointer"),this._buttons=this.node.getChildByName("buttons"),a.on(_.EventType.KEY_DOWN,this.onKeyDown,this),a.on(_.EventType.KEY_UP,this.onKeyUp,this),a.on(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=r.getScene()},n.onDestroy=function(){a.off(_.EventType.KEY_DOWN,this.onKeyDown,this),a.off(_.EventType.KEY_UP,this.onKeyUp,this),a.off(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=null,o._inst=null},n.cleanKeyMap=function(){this._key2buttonMap={}},n.bindKeyToButton=function(t,e){this._key2buttonMap[t]=e},n.setButtonVisible=function(t,e){var i,o=null==(i=this._buttons)?void 0:i.getChildByName(t);o&&(o.active=e)},n.getButtonByName=function(t){return this._buttons.getChildByName(t)},n.onTouchStart_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getUILocationX(),s=o.getUILocationY();if(!this._movementTouch){var h=this._fullscreen.width/2,_=this._fullscreen.height/2;this._ctrlRoot.node.active=!0,this._ctrlRoot.node.setPosition(n-h,s-_,0),this._ctrlPointer.setPosition(0,0,0),this._movementTouch=o}}},n.onTouchMove_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){var n=this._fullscreen.width/2,s=this._fullscreen.height/2,h=o.getUILocationX(),_=o.getUILocationY(),a=this._ctrlRoot.node.position,r=h-n-a.x,c=_-s-a.y,u=Math.sqrt(r*r+c*c);if(u<=0)return;var T=r/u,E=c/u,v=this._ctrlRoot.width/2;u>v&&(u=v,r=T*v,c=E*v),this._ctrlPointer.setPosition(r,c,0);var m=Math.atan(E/T)/Math.PI*180;m+=T<0?180:360,this.emitEvent(l.MOVEMENT,m,u/v)}}},n.onTouchUp_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(this.emitEvent(l.MOVEMENT_STOP),this._movementTouch=null,this._ctrlRoot.node.active=!1)}},n.getDistOfTwoTouchPoints=function(){var t=this._cameraTouchA,e=this._cameraTouchB;if(!t||!e)return 0;var i=t.getLocationX()-e.getLocationX(),o=e.getLocationY()-e.getLocationY();return Math.sqrt(i*i+o*o)},n.onTouchStart_CameraCtrl=function(t){this.emitEvent(l.SCREEN_TOUCH_START,t);var e=t.getAllTouches();this._cameraTouchA=null,this._cameraTouchB=null;for(var i=e.length-1;i>=0;i--){var o=e[i];if(!this._movementTouch||o.getID()!=this._movementTouch.getID())if(null==this._cameraTouchA)this._cameraTouchA=e[i];else if(null==this._cameraTouchB){this._cameraTouchB=e[i];break}}this._distanceOfTwoTouchPoint=this.getDistOfTwoTouchPoints()},n.onTouchMove_CameraCtrl=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getID();if(this._cameraTouchA&&this._cameraTouchB){console.log(n,this._cameraTouchA.getID(),this._cameraTouchB.getID());var s=!1;if(n==this._cameraTouchA.getID()&&(this._cameraTouchA=o,s=!0),n==this._cameraTouchB.getID()&&(this._cameraTouchB=o,s=!0),s){var h=this.getDistOfTwoTouchPoints(),_=this._distanceOfTwoTouchPoint-h;this.emitEvent(l.CAMERA_ZOOM,_),this._distanceOfTwoTouchPoint=h}}else if(this._cameraTouchA&&n==this._cameraTouchA.getID()){var a=o.getDelta(),r=a.y*this._cameraSensitivity,c=-a.x*this._cameraSensitivity;this.emitEvent(l.CAMERA_ROTATE,r,c)}}},n.onTouchUp_CameraCtrl=function(t){this.emitEvent(l.SCREEN_TOUCH_END,t);for(var e=t.getAllTouches(),i=!1,o=!1,n=0;n<e.length;++n){var s=e[n].getID();this._cameraTouchA&&s==this._cameraTouchA.getID()?i=!0:this._cameraTouchB&&s==this._cameraTouchB.getID()&&(o=!0)}i||(this._cameraTouchA=null),o||(this._cameraTouchB=null)},n.onKeyDown=function(t){var e=t.keyCode;if(e==s.KEY_A||e==s.KEY_S||e==s.KEY_D||e==s.KEY_W)-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection());else{var i=this._key2buttonMap[e];i&&this.emitEvent(l.BUTTON,i)}},n.onKeyUp=function(t){var e=t.keyCode;if(e==s.KEY_A||e==s.KEY_S||e==s.KEY_D||e==s.KEY_W){var i=this._keys.indexOf(e);-1!=i&&(this._keys.splice(i,1),this.updateDirection())}},n.onMouseWheel=function(t){var e=.1*t.getScrollY();this.emitEvent(l.CAMERA_ZOOM,e)},n.onButtonSlot=function(t){var e=t.target.name;this.emitEvent(l.BUTTON,e)},n.updateDirection=function(){null==this._key2dirMap&&(this._key2dirMap={},this._key2dirMap[0]=-1,this._key2dirMap[s.KEY_A]=180,this._key2dirMap[s.KEY_D]=0,this._key2dirMap[s.KEY_W]=90,this._key2dirMap[s.KEY_S]=270,this._key2dirMap[1e3*s.KEY_A+s.KEY_W]=this._key2dirMap[1e3*s.KEY_W+s.KEY_A]=135,this._key2dirMap[1e3*s.KEY_D+s.KEY_W]=this._key2dirMap[1e3*s.KEY_W+s.KEY_D]=45,this._key2dirMap[1e3*s.KEY_A+s.KEY_S]=this._key2dirMap[1e3*s.KEY_S+s.KEY_A]=225,this._key2dirMap[1e3*s.KEY_D+s.KEY_S]=this._key2dirMap[1e3*s.KEY_S+s.KEY_D]=315,this._key2dirMap[1e3*s.KEY_A+s.KEY_D]=this._key2dirMap[s.KEY_D],this._key2dirMap[1e3*s.KEY_D+s.KEY_A]=this._key2dirMap[s.KEY_A],this._key2dirMap[1e3*s.KEY_W+s.KEY_S]=this._key2dirMap[s.KEY_S],this._key2dirMap[1e3*s.KEY_S+s.KEY_W]=this._key2dirMap[s.KEY_W]);var t=this._keys[this._keys.length-1]||0,e=this._keys[this._keys.length-2]||0;this._degree=this._key2dirMap[1e3*e+t],null==this._degree||this._degree<0?this.emitEvent(l.MOVEMENT_STOP):this.emitEvent(l.MOVEMENT,this._degree,1)},n.emitEvent=function(t,e,i,o,n,s){c(this._scene)?this._scene.emit(t,e,i,o,n,s):console.log("oops!")},i(o,null,[{key:"inst",get:function(){return this._inst}}]),o}(u))._inst=null,T=E))||T);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./UIMgr.ts"],(function(t){var n,e,o,i,l,r,c,a,u,s,b,p,h,f,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.createClass,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Label,u=t.RichText,s=t.Button,b=t.Sprite,p=t.Component,h=t.Color},function(t){f=t.UIController},function(t){C=t.UIMgr}],execute:function(){var _,y,g,v,w,d,m,k,A,z,B,I,U,E,D,O,T,F,K,L,R;r._RF.push({},"7e91f8G1GtMQ4+Lvts9iEeD","UIAlert",void 0);var H=c.ccclass,M=c.property,P=(t("Layout_UIAlert",(_=H("tgxLayout_UIAlert"),y=M(a),g=M(a),v=M(u),w=M(s),d=M(s),m=M(s),k=M({type:b,tooltip:"背景"}),A=M({type:b,tooltip:"标题背景"}),z=M({type:b,tooltip:"内容背景"}),_((U=n((I=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"title",U,l(n)),i(n,"content",E,l(n)),i(n,"contentRich",D,l(n)),i(n,"btnOK",O,l(n)),i(n,"btnClose",T,l(n)),i(n,"btnCancel",F,l(n)),i(n,"bg",K,l(n)),i(n,"titleBg",L,l(n)),i(n,"contentBg",R,l(n)),n}return e(n,t),n}(p)).prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(I.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(I.prototype,"contentRich",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(I.prototype,"btnOK",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(I.prototype,"btnClose",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(I.prototype,"btnCancel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(I.prototype,"bg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(I.prototype,"titleBg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(I.prototype,"contentBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=I))||B)),t("UIAlertOptions",function(){function t(){this._title=void 0,this._content=void 0,this._showCancel=void 0,this._cbClick=void 0,this._cbClickThisArg=void 0}var n=t.prototype;return n.setTitle=function(t){return this._title=t,this},n.onClick=function(t,n){return this._cbClick=t,this._cbClickThisArg=n,this},t}()));t("UIAlert",function(t){function n(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._options=void 0,n}e(n,t),n.show=function(t,e,o,i,l,r){void 0===o&&(o="E4D3FF"),void 0===i&&(i="#6043D7"),void 0===l&&(l="D3CCEB"),void 0===r&&(r="DF54DF");var c=new P;c._content=t,c._showCancel=e;var a=(new h).fromHEX("#"+o.replace("#","")),u=(new h).fromHEX("#"+i.replace("#","")),s=(new h).fromHEX("#"+l.replace("#","")),p=(new h).fromHEX("#"+r.replace("#",""));return C.inst.showUI(n,(function(t){t.layout.bg.color=a,t.layout.titleBg.color=u,t.layout.btnOK.node.getComponent(b).color=u,t.layout.btnClose.node.getComponent(b).color=p,t.layout.btnCancel.node.getComponent(b).color=p,t.layout.contentBg.color=s,t.init(c)})),c};var i=n.prototype;return i.init=function(t){this._options=t;var n=this._options,e=this._layout;if(n.hasOwnProperty("title")&&(e.title.string=n._title||""),e.contentRich.string=n._content||"",e.btnClose.node.active=n._showCancel,e.btnCancel.node.active=n._showCancel,!n._showCancel){var o=e.btnOK.node.position;e.btnOK.node.setPosition(0,o.y,o.z)}},i.onCreated=function(){var t=this,n=this._layout;this.onButtonEvent(n.btnOK,(function(){t.close();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!0)})),this.onButtonEvent(n.btnCancel,(function(){t.close();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!1)})),this.onButtonEvent(n.btnClose,(function(){t.close();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!1)}))},o(n,[{key:"layout",get:function(){return this._layout}}]),n}(f));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DoubleList.ts"],(function(t){var n,e,o,i,s,r,a,l,c,d,u,v,f,h;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t._decorator,s=t.Button,r=t.Node,a=t.find,l=t.EventHandler,c=t.Toggle,d=t.ToggleContainer,u=t.Slider,v=t.Component,f=t.isValid},function(t){h=t.DoubleList}],execute:function(){var g;o._RF.push({},"de702l/FU1GyIzhfLW2eNqP","UIController",void 0);var p=i.ccclass,$=(i.property,t("__NodeEventAgent__",p("tgxNodeEventAgent")(g=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onButtonClicked=function(t,n){for(var e=t.target.getComponent(s),o=e.clickEvents,i=0;i<o.length;++i){var r=o[i];if(r.customEventData==n){var a=r.$cb$,l=r.$target$,c=r.$args$;a.apply(l,[e,c])}}},o.onToggleEvent=function(t,n){var e=t.checkEvents;t._toggleContainer&&(e=t._toggleContainer.checkEvents);for(var o=0;o<e.length;++o){var i=e[o];if(i.customEventData==n){var s=i.$cb$,r=i.$target$,a=i.$args$;s.apply(r,[t,a])}}},o.onSlideEvent=function(t,n){for(var e=t.slideEvents,o=0;o<e.length;++o){var i=e[o];if(i.customEventData==n){var s=i.$cb$,r=i.$target$,a=i.$args$;s.apply(r,[t,a])}}},e}(v))||g)),_=t("UIController",function(){function t(n,e,o){this._listItem=null,this._instId=0,this._prefab=void 0,this._layer=void 0,this._layout=void 0,this.node=void 0,this._destroyed=!1,this._ingoreCloseAll=!1,this._prefab=n,this._layer=e,this._layout=o,this._instId=t._idBase++,this._listItem=t._controllers.addToTail(this)}var n=t.prototype;return n.getLayout=function(){return this._layout},t.closeAll=function(){this._controllers.forEach((function(t){var n=t.data;n._ingoreCloseAll||n.close()}))},t.updateAll=function(t){this._controllers.forEach((function(n){var e=n.data;e.node&&f(e.node)&&e.onUpdate(t)}))},n.setup=function(t,n){this.node=t,this._layout&&(this._layout=this.node.getComponent(this._layout)),this.onCreated(n),this._destroyed&&this.close()},n.close=function(){var t;this._destroyed=!0,null==(t=this._listItem)||t.dispose(),this._listItem=null,this.node&&(this.node.removeFromParent(),this.onDispose(),this.node.destroy(),this.node=null)},n.onButtonEvent=function(n,e,o,i){var c=null;if(!(c=n instanceof r?n:n instanceof s?n.node:a(n,this.node)))return null;var d=this.node.getComponent($);d||(d=this.node.addComponent($));var u=c.getComponent(s),v=u.clickEvents,f=new l;f.target=this.node,f.component="tgxNodeEventAgent",f.handler="onButtonClicked",f.customEventData=""+t._idBase++,f.$cb$=e,f.$target$=o,f.$args$=i,v.push(f),u.clickEvents=v},n.offButtonEvent=function(t,n,e){var o=null;if((o=t instanceof r?t:t instanceof s?t.node:a(t,this.node))&&this.node.getComponent($)){var i=o.getComponent(s);if(i)for(var l=i.clickEvents,c=0;c<l.length;++c){var d=l[c];if(d.$cb$==n&&d.$target$==e){l.splice(c,1),i.clickEvents=l;break}}}},n.onToggleEvent=function(n,e,o,i){var s=null;if(!(s=n instanceof r?n:n instanceof c||n instanceof d?n.node:a(n,this.node)))return null;var u=this.node.getComponent($);u||(u=this.node.addComponent($));var v=s.getComponent(c);v||(v=s.getComponent(d));var f=v.checkEvents,h=new l;h.target=this.node,h.component="tgxNodeEventAgent",h.handler="onToggleEvent",h.customEventData=""+t._idBase++,h.$cb$=e,h.$target$=o,h.$args$=i,f.push(h),v.checkEvents=f},n.offToggleEvent=function(t,n,e){var o=null;if(!(o=t instanceof r?t:t instanceof c||t instanceof d?t.node:a(t,this.node)))return null;if(this.node.getComponent($)){var i=o.getComponent(c);i||(i=o.getComponent(d));for(var s=i.checkEvents,l=0;l<s.length;++l){var u=s[l];if(u.$cb$==n&&u.$target$==e){s.splice(l,1),i.checkEvents=s;break}}}},n.onSlideEvent=function(n,e,o,i){var s=null;if(!(s=n instanceof r?n:n instanceof u?n.node:a(n,this.node)))return null;var c=this.node.getComponent($);c||(c=this.node.addComponent($));var d=s.getComponent(u),v=d.slideEvents,f=new l;f.target=this.node,f.component="tgxNodeEventAgent",f.handler="onSlideEvent",f.customEventData=""+t._idBase++,f.$cb$=e,f.$target$=o,f.$args$=i,v.push(f),d.slideEvents=v},n.offSlideEvent=function(t,n,e){var o=null;if(!(o=t instanceof r?t:t instanceof u?t.node:a(t,this.node)))return null;if(this.node.getComponent($))for(var i=o.getComponent(u),s=i.slideEvents,l=0;l<s.length;++l){var c=s[l];if(c.$cb$==n&&c.$target$==e){s.splice(l,1),i.slideEvents=s;break}}},n.getRes=function(){return[]},n.onCreated=function(t){},n.onDispose=function(){},n.onUpdate=function(t){},e(t,[{key:"instId",get:function(){return this._instId}},{key:"prefab",get:function(){return this._prefab}},{key:"layer",get:function(){return this._layer}}]),t}());_._idBase=1e3,_._controllers=new h,o._RF.pop()}}}));

System.register("chunks:///_virtual/UIJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,i,o,n,h,s,_,a,r,c,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator,h=t.KeyCode,s=t.UITransform,_=t.Input,a=t.input,r=t.director,c=t.Component},function(t){u=t.EasyControllerEvent}],execute:function(){var l,T;o._RF.push({},"0d3fdUMUH1Fq4G13IWj7Lf2","UIJoystick",void 0);var E=n.ccclass;n.property,t("UIJoystick",E("tgxUIJoystick")(((T=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._ctrlRoot=null,e._ctrlPointer=null,e._buttons=null,e._cameraSensitivity=.1,e._distanceOfTwoTouchPoint=0,e._movementTouch=null,e._cameraTouchA=null,e._cameraTouchB=null,e._fullscreen=null,e._key2buttonMap={},e._keys=[],e._degree=0,e._key2dirMap=null,e}e(o,t);var n=o.prototype;return n.onLoad=function(){o._inst=this,this._key2buttonMap[h.KEY_J]="btn_slot_0",this._key2buttonMap[h.KEY_K]="btn_slot_1",this._key2buttonMap[h.KEY_L]="btn_slot_2",this._key2buttonMap[h.KEY_U]="btn_slot_3",this._key2buttonMap[h.KEY_I]="btn_slot_4";var t=this.node.getChildByName("checker_camera").getComponent(s);t.node.on(_.EventType.TOUCH_START,this.onTouchStart_CameraCtrl,this),t.node.on(_.EventType.TOUCH_MOVE,this.onTouchMove_CameraCtrl,this),t.node.on(_.EventType.TOUCH_END,this.onTouchUp_CameraCtrl,this),t.node.on(_.EventType.TOUCH_CANCEL,this.onTouchUp_CameraCtrl,this);var e=this.node.getChildByName("checker_movement").getComponent(s);e.node.on(_.EventType.TOUCH_START,this.onTouchStart_Movement,this),e.node.on(_.EventType.TOUCH_MOVE,this.onTouchMove_Movement,this),e.node.on(_.EventType.TOUCH_END,this.onTouchUp_Movement,this),e.node.on(_.EventType.TOUCH_CANCEL,this.onTouchUp_Movement,this),this._fullscreen=this.node.getComponent(s),this._ctrlRoot=this.node.getChildByName("ctrl").getComponent(s),this._ctrlRoot.node.active=!1,this._ctrlPointer=this._ctrlRoot.node.getChildByName("pointer"),this._buttons=this.node.getChildByName("buttons"),a.on(_.EventType.KEY_DOWN,this.onKeyDown,this),a.on(_.EventType.KEY_UP,this.onKeyUp,this),a.on(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},n.onDestroy=function(){a.off(_.EventType.KEY_DOWN,this.onKeyDown,this),a.off(_.EventType.KEY_UP,this.onKeyUp,this),a.off(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),o._inst=null},n.cleanKeyMap=function(){this._key2buttonMap={}},n.bindKeyToButton=function(t,e){this._key2buttonMap[t]=e},n.setButtonVisible=function(t,e){var i,o=null==(i=this._buttons)?void 0:i.getChildByName(t);o&&(o.active=e)},n.getButtonByName=function(t){return this._buttons.getChildByName(t)},n.onTouchStart_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getUILocationX(),h=o.getUILocationY();if(!this._movementTouch){var s=this._fullscreen.width/2,_=this._fullscreen.height/2;this._ctrlRoot.node.active=!0,this._ctrlRoot.node.setPosition(n-s,h-_,0),this._ctrlPointer.setPosition(0,0,0),this._movementTouch=o}}},n.onTouchMove_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){var n=this._fullscreen.width/2,h=this._fullscreen.height/2,s=o.getUILocationX(),_=o.getUILocationY(),a=this._ctrlRoot.node.position,r=s-n-a.x,c=_-h-a.y,l=Math.sqrt(r*r+c*c);if(l<=0)return;var T=r/l,E=c/l,v=this._ctrlRoot.width/2;l>v&&(l=v,r=T*v,c=E*v),this._ctrlPointer.setPosition(r,c,0);var m=Math.atan(E/T)/Math.PI*180;m+=T<0?180:360,this.emitEvent(u.MOVEMENT,m,l/v)}}},n.onTouchUp_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(this.emitEvent(u.MOVEMENT_STOP),this._movementTouch=null,this._ctrlRoot.node.active=!1)}},n.getDistOfTwoTouchPoints=function(){var t=this._cameraTouchA,e=this._cameraTouchB;if(!t||!e)return 0;var i=t.getLocationX()-e.getLocationX(),o=e.getLocationY()-e.getLocationY();return Math.sqrt(i*i+o*o)},n.onTouchStart_CameraCtrl=function(t){this.emitEvent(u.SCREEN_TOUCH_START,t);var e=t.getAllTouches();this._cameraTouchA=null,this._cameraTouchB=null;for(var i=e.length-1;i>=0;i--){var o=e[i];if(!this._movementTouch||o.getID()!=this._movementTouch.getID())if(null==this._cameraTouchA)this._cameraTouchA=e[i];else if(null==this._cameraTouchB){this._cameraTouchB=e[i];break}}this._distanceOfTwoTouchPoint=this.getDistOfTwoTouchPoints()},n.onTouchMove_CameraCtrl=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getID();if(this._cameraTouchA&&this._cameraTouchB){console.log(n,this._cameraTouchA.getID(),this._cameraTouchB.getID());var h=!1;if(n==this._cameraTouchA.getID()&&(this._cameraTouchA=o,h=!0),n==this._cameraTouchB.getID()&&(this._cameraTouchB=o,h=!0),h){var s=this.getDistOfTwoTouchPoints(),_=this._distanceOfTwoTouchPoint-s;this.emitEvent(u.CAMERA_ZOOM,_),this._distanceOfTwoTouchPoint=s}}else if(this._cameraTouchA&&n==this._cameraTouchA.getID()){var a=o.getDelta(),r=a.y*this._cameraSensitivity,c=-a.x*this._cameraSensitivity;this.emitEvent(u.CAMERA_ROTATE,r,c)}}},n.onTouchUp_CameraCtrl=function(t){this.emitEvent(u.SCREEN_TOUCH_END,t);for(var e=t.getAllTouches(),i=!1,o=!1,n=0;n<e.length;++n){var h=e[n].getID();this._cameraTouchA&&h==this._cameraTouchA.getID()?i=!0:this._cameraTouchB&&h==this._cameraTouchB.getID()&&(o=!0)}i||(this._cameraTouchA=null),o||(this._cameraTouchB=null)},n.onKeyDown=function(t){var e=t.keyCode;if(e==h.KEY_A||e==h.KEY_S||e==h.KEY_D||e==h.KEY_W)-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection());else{var i=this._key2buttonMap[e];i&&this.emitEvent(u.BUTTON,i)}},n.onKeyUp=function(t){var e=t.keyCode;if(e==h.KEY_A||e==h.KEY_S||e==h.KEY_D||e==h.KEY_W){var i=this._keys.indexOf(e);-1!=i&&(this._keys.splice(i,1),this.updateDirection())}},n.onMouseWheel=function(t){var e=.1*t.getScrollY();this.emitEvent(u.CAMERA_ZOOM,e)},n.onButtonSlot=function(t){var e=t.target.name;this.emitEvent(u.BUTTON,e)},n.updateDirection=function(){null==this._key2dirMap&&(this._key2dirMap={},this._key2dirMap[0]=-1,this._key2dirMap[h.KEY_A]=180,this._key2dirMap[h.KEY_D]=0,this._key2dirMap[h.KEY_W]=90,this._key2dirMap[h.KEY_S]=270,this._key2dirMap[1e3*h.KEY_A+h.KEY_W]=this._key2dirMap[1e3*h.KEY_W+h.KEY_A]=135,this._key2dirMap[1e3*h.KEY_D+h.KEY_W]=this._key2dirMap[1e3*h.KEY_W+h.KEY_D]=45,this._key2dirMap[1e3*h.KEY_A+h.KEY_S]=this._key2dirMap[1e3*h.KEY_S+h.KEY_A]=225,this._key2dirMap[1e3*h.KEY_D+h.KEY_S]=this._key2dirMap[1e3*h.KEY_S+h.KEY_D]=315,this._key2dirMap[1e3*h.KEY_A+h.KEY_D]=this._key2dirMap[h.KEY_D],this._key2dirMap[1e3*h.KEY_D+h.KEY_A]=this._key2dirMap[h.KEY_A],this._key2dirMap[1e3*h.KEY_W+h.KEY_S]=this._key2dirMap[h.KEY_S],this._key2dirMap[1e3*h.KEY_S+h.KEY_W]=this._key2dirMap[h.KEY_W]);var t=this._keys[this._keys.length-1]||0,e=this._keys[this._keys.length-2]||0;this._degree=this._key2dirMap[1e3*e+t],null==this._degree||this._degree<0?this.emitEvent(u.MOVEMENT_STOP):this.emitEvent(u.MOVEMENT,this._degree,1)},n.emitEvent=function(t,e,i,o,n,h){r.emit(t,e,i,o,n,h)},i(o,null,[{key:"inst",get:function(){return this._inst}}]),o}(c))._inst=null,l=T))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/UILayers.ts",["cc"],(function(e){var P;return{setters:[function(e){P=e.cclegacy}],execute:function(){P._RF.push({},"c15e5F/JCxBY7zW+STv7O08","UILayers",void 0);var r=e("UILayers",function(e){return e[e.GAME=0]="GAME",e[e.JOY_STICK=1]="JOY_STICK",e[e.HUD=2]="HUD",e[e.POPUP=3]="POPUP",e[e.POPUP1=4]="POPUP1",e[e.POPUP2=5]="POPUP2",e[e.ALERT=6]="ALERT",e[e.NOTICE=7]="NOTICE",e[e.LOADING=8]="LOADING",e[e.OVERLAY=9]="OVERLAY",e[e.NUM=10]="NUM",e}(r||{}));e("UILayerNames",["game","joy_stick","hud","popup","popup1","popup2","alert","notice","loading","overlay"]);P._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./ModuleContext.ts","./ResolutionAutoFit.ts","./UIOrientation.ts"],(function(t){var n,e,o,i,r,a,s,u,l,c,d,h,f,p,g,v,C;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t._decorator,r=t.UITransform,a=t.Node,s=t.Widget,u=t.error,l=t.instantiate,c=t.director,d=t.assetManager,h=t.find,f=t.Component},function(t){p=t.UIController},function(t){g=t.ModuleContext},function(t){v=t.ResolutionAutoFit},function(t){C=t.UIOrientation}],execute:function(){var _;o._RF.push({},"82a59QFSGVIYrBkrgAX1U2r","UIMgr",void 0);var m=i.ccclass,R=(i.property,m("tgxUIMgr.UIUpdater")(_=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){p.updateAll(t)},e}(f))||_);t("UIMgr",function(){function t(){this._uiCanvas=void 0,this._uiRoot=void 0}var n=t.prototype;return n.createFullScreenNode=function(){var t=this._uiCanvas.getComponent(r),n=new a;n.layer=this._uiCanvas.layer;var e=n.addComponent(r);e.width=t.width,e.height=t.height;var o=n.addComponent(s);return o.isAlignBottom=!0,o.isAlignTop=!0,o.isAlignLeft=!0,o.isAlignRight=!0,o.left=0,o.right=0,o.top=0,o.bottom=0,n},n.setup=function(t,n,e){if(!this._uiCanvas){if(!t)throw u("uiCanvas must be a Node or Prefab");t instanceof a?this._uiCanvas=t:(this._uiCanvas=l(t),c.getScene().addChild(this._uiCanvas)),this._uiCanvas.name="$tgxUICanvas$",c.addPersistRootNode(this._uiCanvas),this._uiCanvas.getComponent(R)||this._uiCanvas.addComponent(R);var o=this._uiCanvas.getComponent(r);this._uiCanvas.addComponent(v),e||(e=[]),this._uiRoot=this.createFullScreenNode(),this._uiRoot.name="ui_root",o.node.addChild(this._uiRoot);for(var i=0;i<n;++i){var s=this.createFullScreenNode();s.name="ui_layer_"+(e[i]?e[i]:i),this._uiRoot.addChild(s)}}},n.getLayerNode=function(t){return this._uiRoot.children[t]||this._uiRoot},n.closeAll=function(){p.closeAll()},n.isShowing=function(t){var n=p._controllers,e=!1;return n.forEach((function(n){if(n.data instanceof t)return e=!0,!0})),e},n.showUI=function(n,e,o,i){var r=this,a=g.getClassModule(n);if(a&&!d.getBundle(a))return void d.loadBundle(a,null,(function(t,a){t?console.log(t):r.showUI(n,e,o,i)}));var s=g.createFromModule(n),u=s.getRes()||[];"string"==typeof s.prefab&&u.push(s.prefab);return a=a||"resources",function(n){return n.load(u,(function(a,u){a&&console.log(a);var c=null,d=s.prefab;"string"==typeof s.prefab&&(d=n.get(s.prefab)),c=d?l(d):r.createFullScreenNode(),t.inst.getLayerNode(s.layer).addChild(c),s.setup(c,i),e&&e.apply(o,[s])})),s}(d.getBundle(a))},n.setUiOrientation=function(){var t=h("Canvas");if(t){var n=t.getComponent(C);if(n)if(n.is_Portrait)this._uiCanvas.getChildByPath("Camera").setRotationFromEuler(0,0,90)}},n.setUiPortrait=function(){this._uiRoot.setRotationFromEuler(0,0,90)},n.setUiLandscape=function(){this._uiRoot.setRotationFromEuler(0,0,0)},e(t,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new t),this._inst}}]),t}())._inst=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/UIOrientation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,i,n,o,a,c,s;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,c=r.CCBoolean,s=r.Component}],execute:function(){var l,u,p,f,y;o._RF.push({},"85847FurKNP8KrvJfQIQ+7i","UIOrientation",void 0);var h=a.ccclass,v=a.property;r("UIOrientation",(l=h("UIOrientation"),u=v(c),l((y=t((f=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o))||this,i(t,"is_Portrait",y,n(t)),t}return e(t,r),t}(s)).prototype,"is_Portrait",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/UITip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceMgr.ts","./ModuleDef.ts","./UIMgr.ts"],(function(e){var t,n,i,o,s,u,r,c;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e._decorator,o=e.Prefab,s=e.instantiate},function(e){u=e.ResourceMgr},function(e){r=e.ModuleDef},function(e){c=e.UIMgr}],execute:function(){var a,p;n._RF.push({},"020f3RVnf9N6oOWd0Rch1G8","UITip",void 0);var f=i.ccclass;i.property,e("UITip",f("UITip")(((p=function(){function e(){this._tips=[]}var n=e.prototype;return n.show=function(e){var t=this;u.inst.loadResByModuleBundle(r.BASIC,"ui_tip/Tip",o,(function(n,i){var o=s(i);o.parent=c.inst.getLayerNode(-1),t.createrTip(o,e)}))},n.createrTip=function(e,t){var n=this,i=e.getComponent("UITipPanel");i.tipStr=t,this._tips.push(i),i.node.once("over",(function(){i.node.removeFromParent(),i.node.destroy(),n._tips.shift(),n.queue()})),i.node.once("queue",(function(){n.queue()})),this.queue()},n.queue=function(e){if(void 0===e&&(e=0),0!=this._tips.length){var t=this._tips[e];t&&(null!=t&&t.isMove?t.isQueue&&this.queue(e+1):(t.node.parent=c.inst.getLayerNode(-1),t.init(),t.tip(t.tipStr,1)))}},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,a=p))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./UIMgr.ts"],(function(n){var t,o,i,r;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){i=n.UIController},function(n){r=n.UIMgr}],execute:function(){o._RF.push({},"0dda6mQNCdCo5GQ959qF/Db","UIWaiting",void 0);var e=[".","..","..."],a=null;n("UIWaiting",function(n){function o(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))||this)._contentStr="Loading",t}t(o,n);var i=o.prototype;return i.onCreated=function(){},o.show=function(n){return a||(a=r.inst.showUI(o)),a._contentStr=n||"Loading",a},o.hide=function(){a&&(a.close(),a=null)},i.onUpdate=function(){var n=this._layout;if(n.loadingIcon){var t=n.loadingIcon.eulerAngles,o=Date.now()/1e3*90;n.loadingIcon.setRotationFromEuler(t.x,t.y,o)}if(n.loadingTxt){var i=Math.floor(Date.now()/500)%3;n.loadingTxt.string=this._contentStr+e[i]}},i.onDispose=function(){a=null},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/URLUtils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"bac65L5Qr9DOp7zav7JnYaI","URLUtils",void 0);t("URLUtils",function(){function t(){}return t.urlParse=function(t){var n,r,i={};if(!t)return i;for(var s=t,u=s.indexOf("?"),e=(s=s.substring(u+1)).split("&"),c=0;c<e.length;c++)(u=e[c].indexOf("="))>0&&(n=e[c].substring(0,u),r=e[c].substr(u+1),i[n]=r);return i},t}());n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});