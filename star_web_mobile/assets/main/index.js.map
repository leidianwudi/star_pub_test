{"version":3,"sources":["../file:/D:/work/github/star_client/assets/core_tgx/base/audio/file:/D:/work/github/star_client/assets/core_tgx/base/audio/AudioEffect.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/audio/file:/D:/work/github/star_client/assets/core_tgx/base/audio/AudioEffectPool.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/audio/file:/D:/work/github/star_client/assets/core_tgx/base/audio/AudioManager.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/AudioMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/audio/file:/D:/work/github/star_client/assets/core_tgx/base/audio/AudioMusic.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/CharacterMovement.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/CharacterMovement2D.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/DoubleList.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/EasyController.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/EnvMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/EventDispatcher.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/ExtendButton.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_camera/file:/D:/work/github/star_client/assets/core_tgx/easy_camera/FollowCamera2D.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_camera/file:/D:/work/github/star_client/assets/core_tgx/easy_camera/FPSCamera.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_camera/file:/D:/work/github/star_client/assets/core_tgx/easy_camera/FreeCamera.ts","../file:/D:/work/github/star_client/assets/scripts/file:/D:/work/github/star_client/assets/scripts/FullScreenBgAutoFit.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/Fun.ts","../file:/D:/work/github/star_client/assets/scripts/file:/D:/work/github/star_client/assets/scripts/GameConst.ts","../file:/D:/work/github/star_client/assets/scripts/file:/D:/work/github/star_client/assets/scripts/GameUILayers.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/GameUtil.ts","../file:/D:/work/github/star_client/assets/scripts/hotupdate/file:/D:/work/github/star_client/assets/scripts/hotupdate/HotUpateData.ts","../file:/D:/work/github/star_client/assets/start/file:/D:/work/github/star_client/assets/start/HotUpdate.ts","../file:/D:/work/github/star_client/assets/scripts/hotupdate/file:/D:/work/github/star_client/assets/scripts/hotupdate/HotUpdateCtrl.ts","../file:/D:/work/github/star_client/assets/scripts/hotupdate/file:/D:/work/github/star_client/assets/scripts/hotupdate/HotUpdateEvent.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/InputMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/JsonUtil.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/waiting/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/waiting/Layout_UIWaiting.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/log/file:/D:/work/github/star_client/assets/core_tgx/base/log/Logger.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/ModuleContext.ts","../file:/D:/work/github/star_client/assets/scripts/file:/D:/work/github/star_client/assets/scripts/ModuleDef.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/NodeExt.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/Num.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/PortraitMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/loader/file:/D:/work/github/star_client/assets/core_tgx/base/loader/ResLoader.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/ResolutionAutoFit.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/ResourceMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/SafeJSON.ts","../file:/D:/work/github/star_client/assets/scripts/file:/D:/work/github/star_client/assets/scripts/SceneDef.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/SceneUtils.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/Singleton.ts","../file:/D:/work/github/star_client/assets/start/file:/D:/work/github/star_client/assets/start/Start.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/util/file:/D:/work/github/star_client/assets/core_tgx/framework/util/Str.ts","../file:/D:/work/github/star_client/assets/core_tgx/file:/D:/work/github/star_client/assets/core_tgx/tgx.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_camera/file:/D:/work/github/star_client/assets/core_tgx/easy_camera/ThirdPersonCamera.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/ThirdPersonCameraCtrl.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/file/file:/D:/work/github/star_client/assets/core_tgx/framework/file/ToolCsv.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/ui/file:/D:/work/github/star_client/assets/core_tgx/framework/ui/ToolPos.ts","../file:/D:/work/github/star_client/assets/core_tgx/framework/ui/file:/D:/work/github/star_client/assets/core_tgx/framework/ui/ToolUI.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/UI_Joystick.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/alert/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/alert/UIAlert.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/UIController.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_controller/file:/D:/work/github/star_client/assets/core_tgx/easy_controller/UIJoystick.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/UILayers.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/UIMgr.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/UIOrientation.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/tip/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/tip/UITip.ts","../file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/waiting/file:/D:/work/github/star_client/assets/core_tgx/easy_ui_framework/waiting/UIWaiting.ts","../file:/D:/work/github/star_client/assets/core_tgx/base/file:/D:/work/github/star_client/assets/core_tgx/base/URLUtils.ts"],"names":["ccclass","_decorator","AudioEffect","_dec","_class","_AudioSource","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","onComplete","_proto","prototype","start","node","on","AudioSource","EventType","ENDED","onAudioEnded","_RF","pop","AE_ID_MAX","AudioEffectPool","_switch","_volume","pool","NodePool","effects","Map","res","_aeId","getAeId","load","_load","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","url","bundleName","onPlayComplete","wrap","_callee2$","_context2","prev","next","resLoader","defaultBundleName","abrupt","Promise","_callee","resolve","reject","aeid","key","clip","ae","_callee$","_context","AudioClip","uuid","get","set","loadAsync","sent","size","Node","name","parent","tgx","AudioMgr","inst","audioMgr","addComponent","getComponent","put","volume","play","stop","_x","_x2","_x3","release","forEach","destroy","clear","pause","_createClass","value","LOCAL_STORE_KEY","AudioManager","_Component","music","effect","local_data","setMusicComplete","callback","playMusic","loop","then","playMusicLoop","stopMusic","playing","playEffect","stopEffect","au","putEffect","resumeAll","progress","pauseAll","stopAll","clearAll","save","volume_music","volume_effect","switch_music","switch_effect","localStorage","setItem","JSON","stringify","AudioMusic","parse","getItem","setState","_unused","setStateDefault","Number","Component","_musicSource","_soundSource","_musicVolume","_soundVolume","audio","_switchMusic","_switchEffect","_volumeMusic","_volumeEffect","director","getScene","addChild","addPersistRootNode","changVolume","volumeMusic","volumeEffect","playOneShot","_playOneShot","sound","resume","stopOneShot","v","switchMusic","switchEffect","_inst","menu","_progress","_isLoading","_nextBundleName","_nextUrl","data","decRef","duration","currentTime","property","v3_1","v3","CharacterMovement","_dec2","Camera","_dec3","AnimationClip","_dec4","_dec5","_dec6","_dec7","_class2","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_curJumpTimes","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_rigidBody","_isMoving","_velocityScale","_isInTheAir","_currentVerticalVelocity","_anim","_tmp","_this2","mainCamera","_find","find","RigidBody","Animation","clipArr","idleAnimClip","moveAnimClip","jumpBeginAnimClip","jumpLoopAnimClip","jumpLandAnimClip","i","getState","addClip","EasyController","EasyControllerEvent","MOVEMENT","onMovement","MOVEMENT_STOP","onMovementRelease","BUTTON","onJump","myCollider","Collider","target","otherCollider","selfCollider","onLand","onDestroy","off","update","deltaTime","forward","multiplyScalar","velocity","getLinearVelocity","y","setLinearVelocity","add","position","setPosition","state","isPlaying","current","crossFade","oldPos","nextY","x","z","degree","offset","cameraRotationY","eulerAngles","setRotationFromEuler","speed","_this$_anim","Vec3","ZERO","btnName","console","log","maxJumpTimes","_this$_anim2","jumpVelocity","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","tempV2","v2","CharacterMovement2D","_moveFactor","_moveDir","_rotDegree","_realDegree","_precision","onMovementStop","_setDegree","Math","floor","getRealSpeed","moveSpeed","setPrecision","p","Error","strengthen","needRotation","angle","PI","cos","sin","normalize","Vec2","pos","DoubleList","head","tail","addToTail","item","DoubleListItem","getFromPool","addItemToTail","insertToHead","insertItemToHead","isLinked","owner","pre","cb","cur","needBreak","dispose","_itemPool","removeSelf","putBackToPool","_proto2","CAMERA_ROTATE","CAMERA_ZOOM","SCREEN_TOUCH_START","SCREEN_TOUCH_END","type","EnvMgr","EventDispatcher","_handlersMap","event","thisArg","once","handlers","h","k","emit","arg0","arg1","arg2","arg3","arg4","isEmpty","EButtonType","ccenum","ExtendButton","displayName","tooltip","visible","isToggle","SpriteFrame","_dec8","Sprite","isSelfNode","_Button","_isChecked","_st","onLoad","Button","CLICK","interactable","isChecked","selfSprite","spriteFrame","toggleFrames","transition","isScale","tween","to","scale","ONE","_interactable","interactableType","DARK","c","dark","color","GRAY","grayscale","Object","getOwnPropertyDescriptor","tmpV3","FollowCamera2D","_camera","lateUpdate","getWorldPosition","worldPosition","FPSCamera","v2_1","v2_2","qt_1","Quat","right","FreeCamera","slide","range","_euler","_velocity","_position","_speedScale","_eulerP","keys","moveDir","key2dirMap","input","Input","MOUSE_WHEEL","onMouseWheel","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","copy","getPosition","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","dt","t","min","damp","transformQuat","rotation","scaleAndAdd","lerp","lengthSqr","FORWARD","cross","UP","fromEuler","slerp","setWorldRotationFromEuler","e","delta","getScrollY","UNIT_Z","game","canvas","requestPointerLock","getStartLocation","width","getDelta","rotateSpeed","document","exitPointerLock","keyCode","KeyCode","KEY_A","KEY_S","KEY_D","KEY_W","indexOf","push","updateDirection","KEY_Q","KEY_E","index","splice","keyCode0","keyCode1","dir","CHECK_INTERVAL","FullScreenBgAutoFit","Canvas","_oldSize","_originalSize","_uiTransform","_sprite","lastCheckTime","UITransform","setNodeScale","height","originalSize","sizeMode","SizeMode","CUSTOM","canvasUITrans","adjustResolutionPolicy","winSize","contentSize","equals","ratio","imgW2H","setScale","Fun","_Fun","TypeCell","GameConst","hotUpdate_packageUrl","hotUpdate_manifestUrl","hotUpdate_versionUrl","hotUpdate_Open","isShowWebPortrait","openNetworkLog","defaultLanguage","sys","Language","CHINESE","curArea","window","GameUILayers","GameUILayerNames","originalUpdateRenderer","Label","updateRenderer","error","BETNUM","LINES","BET","GameUtil","GetBetRange","numList","betList","line","list","j","round","sumList","from","Set","sort","a","b","HotUpateData","packageurl","Start","hotupdateCtrl","_start","_enterHall","loadingBar","HotUpdateEvent","HotUpdateRate","onHotUpdateRate","HotUpdateFinish","onHotUpdateFinish","CheckVersionResult","onCheckVersionResult","HotUpdateCtrl","init","checkUpdate","newVersionFoud","hotUpdate","rate","txtLoading","string","success","setTimeout","restart","version","getLocalManifestVersion","mainVersion","loadScene","targetOff","destory","_name","_updating","_canRetry","_storagePath","_am","_failCount","inited","_console","arg","isSettSearchPaths","_isSettSearchPaths","searchPaths","newPaths","native","fileUtils","getSearchPaths","getLocalManifest","unshift","setSearchPaths","_init","manifestUrl","localmanifest","versionCompareHandle","getWritablePath","loadLocalManifest","localVersionName","remoteVersionName","vA","split","vB","parseInt","AssetsManager","setVerifyCallback","path","asset","compressed","expectedMD5","md5","relativePath","setMaxConcurrentTask","getVersion","getReteManifestVersion","remoteManifest","getRemoteManifest","localManifest","_loadLocalManifest","_callee3","localmanifestUrl","_callee3$","_context3","rej","isFileExist","localAsset","fullPathForFilename","isDirectoryExist","createDirectory","manifestData","localManifestPath","packageUrl","remoteManifestUrl","remoteVersionUrl","assets","Str","format","versionUrl","writeStringToFile","isLoaded","setEventCallback","checkCallback","bind","updateCallback","getEventCode","EventAssetsManager","ERROR_NO_LOCAL_MANIFEST","ERROR_DOWNLOAD_MANIFEST","ERROR_PARSE_MANIFEST","ALREADY_UP_TO_DATE","ERROR_DECOMPRESS","NEW_VERSION_FOUND","UPDATE_PROGRESSION","ASSET_UPDATED","ERROR_UPDATING","UPDATE_FAILED","UPDATE_FINISHED","updateOver","failed","percent","getPercent","isNaN","disPatchRateEvent","getAssetId","getMessage","retryResult","retry","hotUpdateFinish","result","downloadFailedAssets","unit8ArrayToString","array","out","len","char2","char3","String","fromCharCode","_len2","_key2","getStorePath","InputMgr","STATE_NORMAL","STATE_KEEP","_flags","_flagsMeta","setFlag","flag","keep","meta","removeFlag","hasFlag","getMetaByFlag","JsonUtil","has","JsonAsset","err","content","warn","message","json","loadDirAsync","loadDir","releaseDir","Layout_UIWaiting","LogType","names","Logger","tags","Net","Model","Business","View","Config","Trace","setTags","tag","describe","time","end","timeEnd","table","msg","isOpen","trace","backLog","getDateString","logNet","orange","logModel","violet","logBusiness","blue","logView","green","logConfig","gray","print","stack","lines","substring","lineBreak","_result$push","splitList","lastIndexOf","r","d","Date","str","getHours","toString","timeStr","getMinutes","getSeconds","getMilliseconds","PROP_MODULE","PROP_IMPL_CLASS","defaultModule","ModuleContext","setDefaultModule","moduleName","getDefaultModule","attachClassModule","cls","getClassModule","attachImplClass","implCls","attachModuleAndImplClass","getImplClass","createFromModule","ModuleDef","BASIC","BILLIARDS","GOMOKU","TANK","SLOTS1","SLOTS2","SLOTS3","SLOTS4","SLOTS5","SLOTS_SEA","TYT","SLOTS_WATER_MARGIN","TASK","TEST","FISH","FISH_SHARK","FISH_WHALE","SLOTS_MOUSE","SLOTS_OX","SLOTS_TIGER","SLOTS_RABBIT","SLOTS_DRAGON","SLOTS_SONGKRAN","SLOTS_DRAGONHATCH","SLOTS_WILDBANDITO","SLOTS_ICEANDFIRE","SLOTS_GANESHAGOLD","SLOTS_MJWAYS","SLOTS_MJWAYS2","SLOTS_KYLIN","SLOTS_UNICORN","SLOTS_PANDA","SLOTS_LOONG","POKER_NIUNIU","STAR_BASIC","POKER_PDK_YUENAN","POKER_DEZHOU","BINGO_FROG","SLOTS_DOUBLE_HAPPY","defineProperty","Graphics","RichText","EditBox","Layout","PageView","ProgressBar","ScrollView","Slider","Toggle","Widget","UIOpacity","Mask","self","_self$getComponent$wi","_self$getComponent","_self$getComponent$he","_self$getComponent2","uiTransform","Size","op","opacity","render","UIRenderer","$__color__","Color","g","_self$getComponent3","_self$getComponent$an","_self$getComponent4","anchorX","_self$getComponent$an2","_self$getComponent5","anchorY","Num","strNum","valueOf","max","num1","num2","exchangeToThousands","exchangeRate","val","source","toFixed","replace","RegExp","strArr","join","exchangeToThousands2","toThousandsBack","tempArr","num","fixNum","n","twoBezier","p0","p1","p2","pow","threeBezier","p3","PortraitMgr","isBrowser","isMobile","isOnlyUI","designSize","view","getDesignResolutionSize","setDesignResolutionSize","ResolutionPolicy","SHOW_ALL","onWindowResizePC","_director$getScene","os","OS","ANDROID","reflection","callStaticMethod","IOS","setOrientation","macro","ORIENTATION_PORTRAIT","getChildByName","widget","updateAlignment","onDisable","ORIENTATION_LANDSCAPE","isAlignTop","isAlignBottom","isAlignLeft","isAlignRight","top","bottom","left","ResLoader","cdn","bundles","config","enable","packages","loadRemote","options","undefined","assetManager","loadBundle","bundle","removeBundle","releaseAll","preload","paths","onProgress","parseLoadResArgs","loadByArgs","preloadAsync","preloadDir","getBundle","releasePrefabtDepsRecursively","_this3","infos","getDirWithPath","map","info","Asset","pathsOut","typeOut","onProgressOut","onCompleteOut","isValidType","js","isChildClassOf","loadByBundleAndArgs","_loadByArgs","resources","dump","count","downloader","maxConcurrency","maxRequestsPerFrame","maxRetryCount","retryInterval","ResolutionAutoFit","getVisibleSize","drs","drsRatio","setResolutionPolicy","FIXED_HEIGHT","FIXED_WIDTH","ResItem","isLoading","callbackArr","ResourceMgr","loadingQueue","loadRes","cache","loadingItem","loadResByModuleBundle","resPath","resType","releaseByModuleBundle","preloadResByModuleBundle","loadAreaConfigByModuleBundle","SafeJSON","text","reciver","replacer","space","SceneDef","START","LOGIN","LOBBY","CREATE_ROLE","ISceneInfo","SceneUtil","loadBundleSync","_loadBundleSync","unloadBundle","_unloadBundle","reloadScene","_reloadScene","_loadScene","_callee4","scene","_callee4$","_context4","Singleton","instance","_FPS","_firstScene","_preloadBundles","_preloadScenes","_preloadRes","sceneInfo","idx","_loadingText","_totalNum","Prefab","_class3","_percent","_numCurrentLoaded","urlParams","getUrlParams","netLogParam","includes","toLowerCase","frameRate","UIMgr","setup","uiCanvasPrefab","NUM","preloadBundle","params","queryString","location","search","paramPairs","_iterator","_createForOfIteratorHelperLoose","_step","done","pair","_pair$split","decodeURIComponent","onResLoaded","preloadRes","onPreloadingComplete","basicPreloadRes","preloadScene","_onPreloadingComplete","totalTime","paramArr","reg","getFormatReg","sep","getRandStr","$chars","maxPos","pwd","charAt","random","param","delSpace","isUrl","isContain","delSpaceLr","delRn","decimal","money","parseFloat","add2","str1","str2","parseNumber","cleanStr","f1","f2","encodeURI","_encodeURI","minus","getASCIINum","charCodeAt","subStr","isBeg","startsWith","__tgx__","ThirdPersonCamera","ThirdPersonCameraCtrl","UIJoystick","Layout_UIAlert","UIAlert","UIWaiting","UIController","UILayers","UILayerNames","URLUtils","UITip","globalThis","v3_2","ROTATION_STRENGTH","_targetLen","_targetAngles","setLenFactor","factor","lenMax","lenMin","setTargetAngles","tweenTime","lookAtOffset","subtract","onCameraRotate","deltaX","deltaY","rotateVHSeparately","abs","onCameraZoom","zoomSensitivity","_ThirdPersonCamera","ToolCsv","parseCSVData","csvData","tableData","trim","cells","ToolPos","localConvertWorldPointAR","convertToWorldSpaceAR","localConvertWorldPoint","convertToWorldSpace","worldConvertLocalPointAR","worldPoint","convertToNodeSpaceAR","worldConvertLocalPoint","convertToNodeSpace","convertOtherNodeSpaceAR","targetNode","convertOtherNodeSpace","toolUI","traverseAllChildren","children","child","UI_Joystick","_ctrlRoot","_ctrlPointer","_buttons","_cameraSensitivity","_distanceOfTwoTouchPoint","_movementTouch","_cameraTouchA","_cameraTouchB","_fullscreen","_scene","_key2buttonMap","_keys","_degree","_key2dirMap","KEY_J","KEY_K","KEY_L","KEY_U","KEY_I","checkerCamera","onTouchStart_CameraCtrl","onTouchMove_CameraCtrl","onTouchUp_CameraCtrl","TOUCH_CANCEL","checkerMovement","onTouchStart_Movement","onTouchMove_Movement","onTouchUp_Movement","active","cleanKeyMap","bindKeyToButton","setButtonVisible","_this$_buttons","getButtonByName","touches","getTouches","touch","getUILocationX","getUILocationY","halfWidth","halfHeight","getID","ox","oy","sqrt","dirX","dirY","radius","atan","emitEvent","getDistOfTwoTouchPoints","touchA","touchB","dx","getLocationX","dy","getLocationY","getAllTouches","touchID","needZoom","newDist","rx","ry","hasTouchA","hasTouchB","onButtonSlot","isValid","_dec9","_dec10","UIAlertOptions","_title","_content","_showCancel","_cbClick","_cbClickThisArg","setTitle","title","onClick","_UIController","_options","show","showCancel","bgColorHEX","titleBgColorHEX","contentColorHEX","closeColorHEX","opts","bgColor","fromHEX","titleBgColor","contentColor","closeColor","showUI","alert","layout","bg","titleBg","btnOK","btnClose","btnCancel","contentBg","_layout","hasOwnProperty","contentRich","onCreated","onButtonEvent","close","__NodeEventAgent__","onButtonClicked","evt","customEventData","btn","clickEvents","onToggleEvent","toggle","checkEvents","onSlideEvent","slider","slideEvents","prefab","layer","layoutCls","isAutoReleaseAssets","_listItem","_instId","_prefab","_layer","_destroyed","_ingoreCloseAll","_isAutoReleaseAssets","_uiPrefab","_idBase","_controllers","getLayout","getIsAutoReleaseAssets","closeAll","updateAll","onUpdate","_this$_listItem","removeFromParent","onDispose","setPrefab","uiprefab","addRef","relativeNodePath","buttonNode","agent","handler","EventHandler","component","offButtonEvent","ToggleContainer","offToggleEvent","sliderNode","offSlideEvent","getRes","UIUpdater","_uiCanvas","_uiRoot","createFullScreenNode","uiCanvas","maxLayers","layerNames","instantiate","layerNode","getLayerNode","layerIndex","isShowing","uiCls","allControllers","ret","loadedBundle","ui","resArr","fnLoadAndCreateFromBundle","setUiOrientation","gameCanvas","uiOrientation","UIOrientation","is_Portrait","camera","getChildByPath","setUiPortrait","setUiLandscape","CCBoolean","_tips","panel","createrTip","tipNode","tip","tipStr","shift","queue","isMove","isQueue","_instance","loadingTxtArr","_contentStr","contentStr","hide","loadingIcon","euler","rot","now","loadingTxt","urlParse","arr","substr"],"mappings":"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","file":"all.js","sourcesContent":["/*\r\n * @Author: dgflash\r\n * @Date: 2022-09-01 18:00:28\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2022-09-02 10:22:36\r\n */\r\nimport { AudioSource, _decorator } from 'cc';\r\nconst { ccclass } = _decorator;\r\n\r\n/** 游戏音效 */\r\n@ccclass('AudioEffect')\r\nexport class AudioEffect extends AudioSource {\r\n    /** 背景音乐播放完成回调 */\r\n    onComplete: Function | null = null;\r\n\r\n    start() {\r\n        this.node.on(AudioSource.EventType.ENDED, this.onAudioEnded, this);\r\n    }\r\n\r\n    private onAudioEnded() {\r\n        this.onComplete && this.onComplete();\r\n    }\r\n}","import { AudioClip, Node, NodePool } from \"cc\";\r\nimport { resLoader } from \"../loader/ResLoader\";\r\nimport { AudioEffect } from \"./AudioEffect\";\r\n\r\nconst AE_ID_MAX = 30000;\r\n\r\n/** 音效池 */\r\nexport class AudioEffectPool {\r\n    private _switch: boolean = true;\r\n    /** 音效开关 */\r\n    public get switch(): boolean {\r\n        return this._switch;\r\n    }\r\n    public set switch(value: boolean) {\r\n        this._switch = value;\r\n        if (value) this.stop();\r\n    }\r\n\r\n    private _volume: number = 1;\r\n    /** 所有音效音量 */\r\n    get volume(): number {\r\n        return this._volume;\r\n    }\r\n    set volume(value: number) {\r\n        this._volume = value;\r\n\r\n        this.effects.forEach(ae => {\r\n            ae.volume = value;\r\n        });\r\n    }\r\n\r\n    /** 音效播放器对象池 */\r\n    private pool: NodePool = new NodePool();\r\n    /** 对象池集合 */\r\n    private effects: Map<string, AudioEffect> = new Map();\r\n    /** 用过的音效资源记录 */\r\n    private res: Map<string, string> = new Map();\r\n\r\n    private _aeId: number = 0;\r\n    /** 获取请求唯一编号 */\r\n    private getAeId() {\r\n        if (this._aeId == AE_ID_MAX) this._aeId = 1;\r\n        this._aeId++;\r\n        return this._aeId;\r\n    }\r\n\r\n    /**\r\n     * 加载与播放音效\r\n     * @param url                  音效资源地址与音效资源\r\n     * @param bundleName           资源包名\r\n     * @param onPlayComplete       播放完成回调\r\n     * @returns \r\n     */\r\n    async load(url: string | AudioClip, bundleName: string = resLoader.defaultBundleName, onPlayComplete?: Function): Promise<number> {\r\n        return new Promise(async (resolve, reject) => {\r\n            if (!this.switch) return resolve(-1);\r\n\r\n            let aeid = this.getAeId();\r\n            let key: string;\r\n            if (url instanceof AudioClip) {\r\n                key = url.uuid;\r\n            }\r\n            else {\r\n                key = `${bundleName}_${url}`;\r\n            }\r\n            key += \"_\" + aeid;\r\n\r\n            // 创建音效资源\r\n            let clip: AudioClip;\r\n            if (url instanceof AudioClip) {\r\n                clip = url;\r\n            }\r\n            else {\r\n                clip = resLoader.get(url, AudioClip, bundleName)!;\r\n                if (!clip) {\r\n                    this.res.set(bundleName, url);\r\n                    clip = await resLoader.loadAsync(bundleName, url, AudioClip);\r\n                }\r\n            }\r\n\r\n            // 获取音效果播放器播放音乐\r\n            let ae: AudioEffect;\r\n            let node: Node = null!;\r\n            if (this.pool.size() == 0) {\r\n                node = new Node();\r\n                node.name = \"AudioEffect\";\r\n                node.parent = tgx.AudioMgr.inst.audioMgr;\r\n                ae = node.addComponent(AudioEffect)!;\r\n            }\r\n            else {\r\n                node = this.pool.get()!;\r\n                ae = node.getComponent(AudioEffect)!;\r\n            }\r\n            ae.onComplete = () => {\r\n                this.put(aeid, url, bundleName);       // 播放完回收对象\r\n                onPlayComplete && onPlayComplete();\r\n                // console.log(`【音效】回收，池中剩余音效播放器【${this.pool.size()}】`);\r\n            };\r\n\r\n            // 记录正在播放的音效播放器\r\n            this.effects.set(key, ae);\r\n\r\n            ae.volume = this.volume;\r\n            ae.clip = clip;\r\n            ae.play();\r\n\r\n            resolve(aeid);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 回收音效播放器\r\n     * @param aeid          播放器编号\r\n     * @param url           音效路径\r\n     * @param bundleName    资源包名\r\n     */\r\n    put(aeid: number, url: string | AudioClip, bundleName: string = resLoader.defaultBundleName) {\r\n        let key: string;\r\n        if (url instanceof AudioClip) {\r\n            key = url.uuid;\r\n        }\r\n        else {\r\n            key = `${bundleName}_${url}`;\r\n        }\r\n        key += \"_\" + aeid;\r\n\r\n        let ae = this.effects.get(key);\r\n        if (ae && ae.clip) {\r\n            this.effects.delete(key);\r\n            ae.stop();\r\n            this.pool.put(ae.node);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取音效播放器\r\n     * @param aeid          播放器编号\r\n     * @param url           音效路径\r\n     * @param bundleName    资源包名\r\n     */\r\n    get(aeid: number, url: string | AudioClip, bundleName: string = resLoader.defaultBundleName): AudioEffect {\r\n        let key: string;\r\n        if (url instanceof AudioClip) {\r\n            key = url.uuid;\r\n        }\r\n        else {\r\n            key = `${bundleName}_${url}`;\r\n        }\r\n        key += \"_\" + aeid;\r\n\r\n        let ae = this.effects.get(key);\r\n        if (ae && ae.clip) {\r\n            return ae;\r\n        }\r\n    }\r\n\r\n    /** 释放所有音效资源与对象池中播放器 */\r\n    release() {\r\n        // 释放正在播放的音效\r\n        this.effects.forEach(ae => {\r\n            ae.node.destroy();\r\n        });\r\n        this.effects.clear();\r\n\r\n        // 释放音效资源\r\n        this.res.forEach((url: string, bundleName: string) => {\r\n            resLoader.release(bundleName, url);\r\n        });\r\n\r\n        // 释放池中播放器\r\n        this.pool.clear();\r\n    }\r\n\r\n    /** 停止播放所有音效 */\r\n    stop() {\r\n        this.effects.forEach(ae => {\r\n            ae.stop();\r\n        });\r\n    }\r\n\r\n    /** 恢复所有音效 */\r\n    play() {\r\n        if (!this.switch) return;\r\n\r\n        this.effects.forEach(ae => {\r\n            ae.play();\r\n        });\r\n    }\r\n\r\n    /** 暂停所有音效 */\r\n    pause() {\r\n        if (!this.switch) return;\r\n\r\n        this.effects.forEach(ae => {\r\n            ae.pause();\r\n        });\r\n    }\r\n}","import { AudioClip, Component } from \"cc\";\r\nimport { AudioEffectPool } from \"./AudioEffectPool\";\r\nimport { AudioMusic } from \"./AudioMusic\";\r\n\r\nconst LOCAL_STORE_KEY = \"game_audio\";\r\n\r\n/**\r\n * 音频管理\r\n * @help    https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037893&doc_id=2873565\r\n * @example\r\n // 模块功能通过 oops.audio 调用\r\n oops.audio.playMusic(\"audios/nocturne\");\r\n */\r\nexport class AudioManager extends Component {\r\n    /** 背景音乐管理对象 */\r\n    music: AudioMusic = null!;\r\n    /** 音效管理对象 */\r\n    effect: AudioEffectPool = new AudioEffectPool();\r\n\r\n    /** 音乐管理状态数据 */\r\n    private local_data: LOCALDATAAUDIO = {} as LOCALDATAAUDIO;\r\n\r\n    /**\r\n     * 设置背景音乐播放完成回调\r\n     * @param callback 背景音乐播放完成回调\r\n     */\r\n    setMusicComplete(callback: Function | null = null) {\r\n        this.music.onComplete = callback;\r\n    }\r\n\r\n    /**\r\n     * 播放背景音乐\r\n     * @param url        资源地址\r\n     * @param callback   音乐播放完成事件\r\n     * @param bundleName 资源包名\r\n     */\r\n    playMusic(url: string, callback?: Function, bundleName?: string) {\r\n        if (this.music.switch) {\r\n            this.music.loop = false;\r\n            this.music.load(url, callback, bundleName).then();\r\n        }\r\n    }\r\n\r\n    /** 循环播放背景音乐 */\r\n    playMusicLoop(url: string, bundleName?: string) {\r\n        if (this.music.switch) {\r\n            this.music.loop = true;\r\n            this.music.load(url, null!, bundleName).then();\r\n        }\r\n    }\r\n\r\n    /** 停止背景音乐播放 */\r\n    stopMusic() {\r\n        if (this.music.switch && this.music.playing) {\r\n            this.music.stop();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取背景音乐播放进度\r\n     */\r\n    get progressMusic(): number {\r\n        return this.music.progress;\r\n    }\r\n\r\n    /**\r\n     * 设置背景乐播放进度\r\n     * @param value     播放进度值\r\n     */\r\n    set progressMusic(value: number) {\r\n        this.music.progress = value;\r\n    }\r\n\r\n    /**\r\n     * 获取背景音乐音量\r\n     */\r\n    get volumeMusic(): number {\r\n        return this.music.volume;\r\n    }\r\n\r\n    /**\r\n     * 设置背景音乐音量\r\n     * @param value     音乐音量值\r\n     */\r\n    set volumeMusic(value: number) {\r\n        this.music.volume = value;\r\n    }\r\n\r\n    /**\r\n     * 获取背景音乐开关值\r\n     */\r\n    get switchMusic(): boolean {\r\n        return this.music.switch;\r\n    }\r\n\r\n    /**\r\n     * 设置背景音乐开关值\r\n     * @param value     开关值\r\n     */\r\n    set switchMusic(value: boolean) {\r\n        this.music.switch = value;\r\n    }\r\n\r\n    /**\r\n     * 播放音效\r\n     * @param url        资源地址\r\n     * @param bundleName 资源包名\r\n     * @param onPlayComplete 播放完成回调\r\n     */\r\n    playEffect(url: string | AudioClip, bundleName?: string, onPlayComplete?: Function): Promise<number> {\r\n        return this.effect.load(url, bundleName, onPlayComplete);\r\n    }\r\n\r\n    stopEffect(aeid: number, url: string | AudioClip, bundleName?: string) {\r\n        const au = this.effect.get(aeid, url, bundleName);\r\n        if (au) au.stop();\r\n    }\r\n\r\n    /** 回收音效播放器 */\r\n    putEffect(aeid: number, url: string | AudioClip, bundleName?: string) {\r\n        this.effect.put(aeid, url, bundleName);\r\n    }\r\n\r\n    /** 获取音效音量 */\r\n    get volumeEffect(): number {\r\n        return this.effect.volume;\r\n    }\r\n\r\n    /**\r\n     * 设置获取音效音量\r\n     * @param value     音效音量值\r\n     */\r\n    set volumeEffect(value: number) {\r\n        this.effect.volume = value;\r\n    }\r\n\r\n    /** 获取音效开关值 */\r\n    get switchEffect(): boolean {\r\n        return this.effect.switch;\r\n    }\r\n\r\n    /**\r\n     * 设置音效开关值\r\n     * @param value     音效开关值\r\n     */\r\n    set switchEffect(value: boolean) {\r\n        this.effect.switch = value;\r\n    }\r\n\r\n    /** 恢复当前暂停的音乐与音效播放 */\r\n    resumeAll() {\r\n        if (!this.music.playing && this.music.progress > 0) this.music.play();\r\n        this.effect.play();\r\n    }\r\n\r\n    /** 暂停当前音乐与音效的播放 */\r\n    pauseAll() {\r\n        if (this.music.playing) this.music.pause();\r\n        this.effect.pause();\r\n    }\r\n\r\n    /** 停止当前音乐与音效的播放 */\r\n    stopAll() {\r\n        this.music.stop();\r\n        this.effect.stop();\r\n    }\r\n\r\n    /**清理音效 */\r\n    clearAll() {\r\n        this.music.stop();\r\n        this.effect.stop();\r\n        this.music.release();\r\n        this.effect.release();\r\n    }\r\n\r\n    /** 保存音乐音效的音量、开关配置数据到本地 */\r\n    save() {\r\n        this.local_data.volume_music = this.music.volume + \"\";\r\n        this.local_data.volume_effect = this.effect.volume + \"\";\r\n        this.local_data.switch_music = this.music.switch ? \"true\" : \"false\";\r\n        this.local_data.switch_effect = this.effect.switch ? \"true\" : \"false\";\r\n        localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(this.local_data));\r\n    }\r\n\r\n    /** 本地加载音乐音效的音量、开关配置数据并设置到游戏中 */\r\n    load() {\r\n        this.music = this.getComponent(AudioMusic) || this.addComponent(AudioMusic)!;\r\n        this.local_data = JSON.parse(localStorage.getItem(LOCAL_STORE_KEY));\r\n        if (this.local_data) {\r\n            try {\r\n                this.setState();\r\n            }\r\n            catch {\r\n                this.setStateDefault();\r\n            }\r\n        }\r\n        else {\r\n            this.setStateDefault();\r\n        }\r\n    }\r\n\r\n    private setState() {\r\n        this.music.volume = Number(this.local_data.volume_music);\r\n        this.effect.volume = Number(this.local_data.volume_effect);\r\n        this.music.switch = this.local_data.switch_music == \"true\";\r\n        this.effect.switch = this.local_data.switch_effect == \"true\";\r\n    }\r\n\r\n    private setStateDefault() {\r\n        this.local_data = {} as LOCALDATAAUDIO;\r\n        this.music.volume = 1;\r\n        this.effect.volume = 1;\r\n        this.music.switch = true;\r\n        this.effect.switch = true;\r\n    }\r\n}\r\n\r\nexport interface LOCALDATAAUDIO {\r\n    volume_music: string,\r\n    volume_effect: string,\r\n    switch_music: string,\r\n    switch_effect: string,\r\n}","//AudioMgr.ts\r\nimport { Node, AudioSource, AudioClip, resources, director, assetManager } from 'cc';\r\nimport { ResourceMgr } from './ResourceMgr';\r\nimport { AudioManager } from './audio/AudioManager';\r\n/**\r\n * @en\r\n * this is a sington class for audio play, can be easily called from anywhere in you project.\r\n * @zh\r\n * 这是一个用于播放音频的单件类，可以很方便地在项目的任何地方调用。\r\n */\r\nexport class AudioMgr {\r\n\r\n    private static _inst: AudioMgr;\r\n    public static get inst(): AudioMgr {\r\n        if (this._inst == null) {\r\n            this._inst = new AudioMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n\r\n    private _musicSource: AudioSource;\r\n    private _soundSource: AudioSource;\r\n    private _musicVolume = 1.0;\r\n    private _soundVolume = 1.0;\r\n\r\n    public audioMgr: Node;\r\n    public audio: AudioManager;\r\n    constructor() {\r\n        //@en create a node as audioMgr\r\n        //@zh 创建一个节点作为 audioMgr\r\n        this.audioMgr = new Node();\r\n        this.audioMgr.name = '__audioMgr__';\r\n\r\n        //@en add to the scene.\r\n        //@zh 添加节点到场景\r\n        director.getScene().addChild(this.audioMgr);\r\n\r\n        //@en make it as a persistent node, so it won't be destroied when scene change.\r\n        //@zh 标记为常驻节点，这样场景切换的时候就不会被销毁了\r\n        director.addPersistRootNode(this.audioMgr);\r\n\r\n        // //@en use to play background music.\r\n        // //@zh 用于播放背景音乐。\r\n        // let music = new Node();\r\n        // this.audioMgr.addChild(music);\r\n        // this._musicSource = music.addComponent(AudioSource);\r\n\r\n        // //@en use to play sound.\r\n        // //@zh 用于播放音效\r\n        // let sound = new Node();\r\n        // this.audioMgr.addChild(sound);\r\n        // this._soundSource = sound.addComponent(AudioSource);\r\n        this.audio = this.audioMgr.addComponent(AudioManager);\r\n        this.audio.load();\r\n    }\r\n\r\n    // public get audioSource() {\r\n    //     return this._musicSource;\r\n    // }\r\n\r\n    // public set musicVolume(v: number) {\r\n    //     this._musicVolume = v;\r\n    //     this._musicSource.volume = this._musicVolume;\r\n    // }\r\n\r\n    // public set soundVolume(v: number) {\r\n    //     this._soundVolume = v;\r\n    //     this._soundSource.volume = this.soundVolume;\r\n    // }\r\n    /**背景音开关 */\r\n    private _switchMusic: boolean = true;\r\n    public get switchMusic(): boolean {\r\n        return this._switchMusic;\r\n    }\r\n    public set switchMusic(v: boolean) {\r\n        if (this._switchMusic != v) {\r\n            if (v == true) {\r\n                this.audio.music.play();\r\n            } else {\r\n                this.audio.music.pause();\r\n            }\r\n        }\r\n        this._switchMusic = v;\r\n        this.audio.switchMusic = v;\r\n        this.audio.save();\r\n    }\r\n    /**音效开关 */\r\n    private _switchEffect: boolean = true;\r\n    public get switchEffect(): boolean {\r\n        return this._switchEffect;\r\n    }\r\n    public set switchEffect(v: boolean) {\r\n        if (this._switchEffect != v) {\r\n            if (v == true) {\r\n                this.audio.effect.play();\r\n            } else {\r\n                this.audio.effect.pause();\r\n            }\r\n        }\r\n        this._switchEffect = v;\r\n        this.audio.switchEffect = v;\r\n        this.audio.save();\r\n    }\r\n    /**总开关 */\r\n    private _switch: boolean = true;\r\n    public get switch(): boolean {\r\n        return this._switch;\r\n    }\r\n    public set switch(v: boolean) {\r\n        if (this._switch != v) {\r\n            if (v == true) {\r\n                this.resume();\r\n            } else {\r\n                this.pause();\r\n            }\r\n        }\r\n        this._switch = v;\r\n        this.audio.switchMusic = v;\r\n        this.audio.switchEffect = v;\r\n\r\n        this.audio.save();\r\n    }\r\n    /**背景音量 */\r\n    private _volumeMusic: number = 1;\r\n    public get volumeMusic(): number {\r\n        return this._volumeMusic;\r\n    }\r\n    public set volumeMusic(v: number) {\r\n        this._volumeMusic = v;\r\n        this.audio.music.volume = v;\r\n        this.audio.save();\r\n    }\r\n    /**音效音量 */\r\n    private _volumeEffect: number = 1;\r\n    public get volumeEffect(): number {\r\n        return this._volumeEffect;\r\n    }\r\n    public set volumeEffect(v: number) {\r\n        this._volumeEffect = v;\r\n        this.audio.effect.volume = v;\r\n        this.audio.save();\r\n    }\r\n    /**总音量 */\r\n    private _volume: number = 1;\r\n    public get volume(): number {\r\n        return this._volume;\r\n    }\r\n    public set volume(v: number) {\r\n        this._volume = v;\r\n        this.audio.music.volume = v;\r\n        this.audio.effect.volume = v;\r\n        this.audio.save();\r\n    }\r\n    /**同时改变两个音量 */\r\n    changVolume(volumeMusic: number, volumeEffect: number) {\r\n        this.audio.music.volume = volumeMusic;\r\n        this.audio.effect.volume = volumeEffect;\r\n        this.audio.save();\r\n    }\r\n    /**\r\n     * @en\r\n     * play short audio, such as strikes,explosions\r\n     * @zh\r\n     * 播放短音频,比如 打击音效，爆炸音效等\r\n     * @param sound clip or url for the audio\r\n     * @param volume \r\n     */\r\n    async playOneShot(sound: AudioClip | string, volume: number = 1.0, bundleName: string = 'resources') {\r\n        // if (sound instanceof AudioClip) {\r\n        //     this._soundSource.volume = 1.0;\r\n        //     this._soundSource.playOneShot(sound, volume * this._soundVolume);\r\n        // }\r\n        // else {\r\n\r\n        //     let bundle = assetManager.getBundle(bundleName);\r\n        //     bundle.load(sound, (err, clip: AudioClip) => {\r\n        //         if (err) {\r\n        //             console.log(err);\r\n        //         }\r\n        //         else {\r\n        //             this._soundSource.volume = 1.0;\r\n        //             this._soundSource.playOneShot(clip, volume * this._soundVolume);\r\n        //         }\r\n        //     });\r\n        // }\r\n        const aeid = await this.audio.playEffect(sound, bundleName);\r\n        return aeid;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * play long audio, such as the bg music\r\n     * @zh\r\n     * 播放长音频，比如 背景音乐\r\n     * @param music AudioClip or url for the music\r\n     * @param volume \r\n     */\r\n    play(music: string, volume: number = 1.0, bundleName: string = 'resources') {\r\n        // if (music instanceof AudioClip) {\r\n        //     this._musicSource.stop();\r\n        //     this._musicSource.clip = music;\r\n        //     this._musicSource.play();\r\n        //     this._musicSource.volume = this._musicVolume * volume;\r\n        // }\r\n        // else {\r\n        //     let bundle = assetManager.getBundle(bundleName);\r\n        //     bundle.load(music, (err, clip: AudioClip) => {\r\n        //         if (err) {\r\n        //             console.log(err);\r\n        //         }\r\n        //         else {\r\n        //             this._musicSource.stop();\r\n        //             this._musicSource.clip = clip;\r\n        //             this._musicSource.play();\r\n        //             this._musicSource.volume = this._musicVolume * volume;\r\n        //         }\r\n        //     });\r\n        // }\r\n        this.audio.playMusicLoop(music, bundleName)\r\n    }\r\n\r\n    /**\r\n     * stop the audio play\r\n     */\r\n    stop() {\r\n        // this._musicSource.stop();\r\n        // this._soundSource.stop();\r\n        this.audio.music.stop();\r\n        this.audio.effect.stop();\r\n    }\r\n\r\n    /**\r\n     * pause the audio play\r\n     */\r\n    pause() {\r\n        // this._musicSource.pause();\r\n        // this._soundSource.pause();\r\n        this.audio.music.pause();\r\n        this.audio.effect.pause();\r\n    }\r\n\r\n    /**\r\n     * resume the audio play\r\n     */\r\n    resume() {\r\n        // this._musicSource.play();\r\n        // this._soundSource.play();\r\n        this.audio.music.play();\r\n        this.audio.effect.play();\r\n    }\r\n\r\n    /**\r\n     * 停止指定音效\r\n     */\r\n    stopOneShot(aeid: number, sound: AudioClip | string, bundleName: string = 'resources') {\r\n        // this.audio.stopEffect(aeid, sound, bundleName);\r\n        this.audio.putEffect(aeid, sound, bundleName);\r\n    }\r\n}\r\n","/*\r\n * @Author: dgflash\r\n * @Date: 2022-06-21 12:05:13\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2023-05-16 09:11:30\r\n */\r\nimport { AudioClip, AudioSource, _decorator } from 'cc';\r\nimport { resLoader } from '../loader/ResLoader';\r\n\r\nconst { ccclass, menu } = _decorator;\r\n\r\n/** \r\n * 背景音乐 \r\n * 1、播放一个新背景音乐时，先加载音乐资源，然后停止正在播放的背景资源同时施放当前背景音乐资源，最后播放新的背景音乐\r\n */\r\n@ccclass('AudioMusic')\r\nexport class AudioMusic extends AudioSource {\r\n    /** 背景音乐开关 */\r\n    switch: boolean = true;\r\n    /** 背景音乐播放完成回调 */\r\n    onComplete: Function | null = null;\r\n\r\n    private _progress: number = 0;\r\n    private _isLoading: boolean = false;\r\n    private _nextBundleName: string = null!;   // 下一个音乐资源包\r\n    private _nextUrl: string = null!;          // 下一个播放音乐\r\n\r\n    start() {\r\n        // this.node.on(AudioSource.EventType.STARTED, this.onAudioStarted, this);\r\n        this.node.on(AudioSource.EventType.ENDED, this.onAudioEnded, this);\r\n    }\r\n\r\n    // private onAudioStarted() { }\r\n\r\n    private onAudioEnded() {\r\n        this.onComplete && this.onComplete();\r\n    }\r\n\r\n    /** 获取音乐播放进度 */\r\n    get progress(): number {\r\n        if (this.duration > 0)\r\n            this._progress = this.currentTime / this.duration;\r\n        return this._progress;\r\n    }\r\n    /**\r\n     * 设置音乐当前播放进度\r\n     * @param value     进度百分比0到1之间\r\n     */\r\n    set progress(value: number) {\r\n        this._progress = value;\r\n        this.currentTime = value * this.duration;\r\n    }\r\n\r\n    /**\r\n     * 加载音乐并播放\r\n     * @param url          音乐资源地址\r\n     * @param callback     加载完成回调\r\n     * @param bundleName   资源包名\r\n     */\r\n    async load(url: string, callback?: Function, bundleName: string = resLoader.defaultBundleName) {\r\n        // 下一个加载的背景音乐资源\r\n        if (this._isLoading) {\r\n            this._nextBundleName = bundleName;\r\n            this._nextUrl = url;\r\n            return;\r\n        }\r\n\r\n        this._isLoading = true;\r\n        var data: AudioClip = await resLoader.loadAsync(bundleName, url, AudioClip);\r\n        if (data) {\r\n            this._isLoading = false;\r\n\r\n            // 处理等待加载的背景音乐\r\n            if (this._nextUrl != null) {\r\n                // 加载等待播放的背景音乐\r\n                this.load(this._nextUrl, callback, this._nextBundleName);\r\n                this._nextBundleName = this._nextUrl = null!;\r\n            }\r\n            else {\r\n                callback && callback();\r\n\r\n                // 正在播放的时候先关闭\r\n                if (this.playing) {\r\n                    this.stop();\r\n                }\r\n\r\n                // 删除当前正在播放的音乐\r\n                this.release();\r\n\r\n                // 播放背景音乐\r\n                this.clip = data;\r\n                this.play();\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 释放当前背景音乐资源 */\r\n    release() {\r\n        if (this.clip) {\r\n            this.stop();\r\n            this.clip.decRef();\r\n            this.clip = null;\r\n        }\r\n    }\r\n}","import { _decorator, Component, Node, v3, RigidBody, Vec3, find, Camera, SkeletalAnimation,Animation, AnimationClip, Collider, ICollisionEvent } from 'cc';\nimport { EasyController, EasyControllerEvent } from './EasyController';\n\nconst { ccclass, property } = _decorator;\n\nconst v3_1 = v3();\n\n@ccclass('tgxCharacterMovement')\nexport class CharacterMovement extends Component {\n\n    @property(Camera)\n    mainCamera: Camera;\n\n    @property\n    velocity = 1.0;\n\n    @property\n    jumpVelocity = 1.0;\n\n    @property\n    maxJumpTimes: number = 0;\n    private _curJumpTimes: number = 0;\n\n    @property(AnimationClip)\n    idleAnimClip: AnimationClip;\n\n    @property(AnimationClip)\n    moveAnimClip: AnimationClip;\n\n    @property(AnimationClip)\n    jumpBeginAnimClip: AnimationClip;\n\n    @property(AnimationClip)\n    jumpLoopAnimClip: AnimationClip;\n\n    @property(AnimationClip)\n    jumpLandAnimClip: AnimationClip;\n\n    _rigidBody: RigidBody;\n    _isMoving: boolean = false;\n    _velocityScale: number = 1.0;\n\n    _isInTheAir: boolean = false;\n    _currentVerticalVelocity: number = 0.0;\n\n    private _anim: Animation;\n\n    start() {\n        if (!this.mainCamera) {\n            this.mainCamera = find('Main Camera')?.getComponent(Camera);\n        }\n        this._rigidBody = this.node.getComponent(RigidBody);\n        this._anim = this.node.getComponent(Animation);\n        if (this._anim) {\n            let clipArr = [\n                this.idleAnimClip,\n                this.moveAnimClip,\n                this.jumpBeginAnimClip,\n                this.jumpLoopAnimClip,\n                this.jumpLandAnimClip\n            ];\n            for (let i = 0; i < clipArr.length; ++i) {\n                let clip = clipArr[i];\n                if (clip) {\n                    if (!this._anim.getState(clip.name)) {\n                        this._anim.addClip(clip);\n                    }\n                }\n            }\n            if (this.idleAnimClip) {\n                this._anim.play(this.idleAnimClip.name);\n            }\n        }\n\n        EasyController.on(EasyControllerEvent.MOVEMENT, this.onMovement, this);\n        EasyController.on(EasyControllerEvent.MOVEMENT_STOP, this.onMovementRelease, this);\n        EasyController.on(EasyControllerEvent.BUTTON, this.onJump, this);\n\n        let myCollider = this.getComponent(Collider);\n        myCollider?.on('onCollisionEnter',(target:ICollisionEvent)=>{\n            if(target.otherCollider != target.selfCollider){\n                this.onLand();\n            }\n        });\n    }\n\n    onDestroy() {\n        EasyController.off(EasyControllerEvent.MOVEMENT, this.onMovement, this);\n        EasyController.off(EasyControllerEvent.MOVEMENT_STOP, this.onMovementRelease, this);\n        EasyController.off(EasyControllerEvent.MOVEMENT_STOP, this.onJump, this);\n    }\n\n    update(deltaTime: number) {\n        if (this._isMoving) {\n            this._tmp.set(this.node.forward);\n            this._tmp.multiplyScalar(-1.0);\n            this._tmp.multiplyScalar(this.velocity * this._velocityScale);\n            if (this._rigidBody) {\n                this._rigidBody.getLinearVelocity(v3_1);\n                this._tmp.y = v3_1.y;\n                this._rigidBody.setLinearVelocity(this._tmp);\n            }\n            else {\n                this._tmp.multiplyScalar(deltaTime);\n                this._tmp.add(this.node.position);\n                this.node.setPosition(this._tmp);\n            }\n        }\n\n        if (this._isInTheAir) {\n            if(this.jumpBeginAnimClip && this._anim){\n                let state = this._anim.getState(this.jumpBeginAnimClip.name);\n                if(state.isPlaying && state.current >= state.duration){\n                    if(this.jumpLoopAnimClip){\n                        this._anim.crossFade(this.jumpLoopAnimClip.name);\n                    }\n                }\n            }\n\n            if(!this._rigidBody){\n                this._currentVerticalVelocity -= 9.8 * deltaTime;\n            \n                let oldPos = this.node.position;\n                let nextY = oldPos.y + this._currentVerticalVelocity * deltaTime;\n                if (nextY <= 0) {\n                    this.onLand();\n                    nextY = 0.0;\n                }\n                this.node.setPosition(oldPos.x, nextY, oldPos.z);\n            }\n        }\n    }\n\n    onLand(){\n        this._isInTheAir = false;\n        this._currentVerticalVelocity = 0.0;\n        this._curJumpTimes = 0;\n        if (this.moveAnimClip) {\n            if(this._isMoving){\n                this._anim.crossFade(this.moveAnimClip.name, 0.5);\n            }\n            else{\n                this._anim.crossFade(this.idleAnimClip.name, 0.5);\n            }\n        }\n    }\n\n    private _tmp = v3();\n    onMovement(degree: number, offset: number) {\n        let cameraRotationY = 0;\n        if (this.mainCamera) {\n            cameraRotationY = this.mainCamera.node.eulerAngles.y;\n        }\n        this._velocityScale = offset;\n        //2D界面是 正X 为 0， 3D场景是 正前方为0，所以需要 - 90 度。（顺时针转90度）\n        this._tmp.set(0, cameraRotationY + degree - 90 + 180, 0);\n        this.node.setRotationFromEuler(this._tmp);\n        if (this._anim) {\n            if (!this._isMoving && !this._isInTheAir) {\n                if (this.moveAnimClip) {\n                    this._anim.crossFade(this.moveAnimClip.name, 0.1);\n                }\n            }\n            if (this.moveAnimClip) {\n                this._anim.getState(this.moveAnimClip.name).speed = this._velocityScale;\n            }\n        }\n        this._isMoving = true;\n\n    }\n    onMovementRelease() {\n        if (!this._isInTheAir && this.idleAnimClip) {\n            this._anim?.crossFade(this.idleAnimClip.name, 0.5);\n        }\n        this._isMoving = false;\n        if (this._rigidBody) {\n            this._rigidBody.setLinearVelocity(Vec3.ZERO);\n        }\n    }\n\n    onJump(btnName:string) {\n        console.log(btnName);\n        if(btnName != 'btn_slot_0'){\n            return;\n        }\n        if (this._curJumpTimes >= this.maxJumpTimes) {\n            return;\n        }\n        if(this._curJumpTimes == 0 || true){\n            if(this.jumpBeginAnimClip){\n                this._anim?.crossFade(this.jumpBeginAnimClip.name);\n            }\n        }\n        this._curJumpTimes++;\n        if(this._rigidBody){\n            this._rigidBody.getLinearVelocity(v3_1);\n            v3_1.y = this.jumpVelocity;\n            this._rigidBody.setLinearVelocity(v3_1);\n        }\n        else{\n            this._currentVerticalVelocity = this.jumpVelocity;\n        }\n        \n        this._isInTheAir = true;\n    }\n}\n\n","import { _decorator, Component, Node, Vec2, v2, Prefab, Vec3 } from 'cc';\nimport { EasyController, EasyControllerEvent } from './EasyController';\nconst { ccclass, property } = _decorator;\n\nconst tempV2 = v2();\n\n@ccclass('tgxCharacterMovement2D')\nexport class CharacterMovement2D extends Component {\n    @property\n    moveSpeed: number = 100;\n\n    @property\n    needRotation: boolean = false;\n\n    start() {\n        EasyController.on(EasyControllerEvent.MOVEMENT, this.onMovement, this);\n        EasyController.on(EasyControllerEvent.MOVEMENT_STOP, this.onMovementStop, this);\n    }\n\n    private _moveFactor: number = 0;\n    private _moveDir: Vec2 = v2(1, 0);\n    private _rotDegree:number = 0;\n    private _realDegree:number = 0;\n    private _precision:number = 1.0;\n\n    public get moveDir(): Vec2 {\n        return this._moveDir;\n    }\n\n    private _setDegree(degree:number){\n        this._realDegree = degree;\n        this._rotDegree = Math.floor(this._realDegree / this._precision) * this._precision;\n    }\n\n    public getRealSpeed(): number {\n        return this.moveSpeed * this._moveFactor;\n    }\n\n    /**\n     * @en \n     * @zh 用于计算真实的移动方向精度。默认为 1.0，网络游戏建议设置为 5.0 到 10.0 之间\n    */\n    public setPrecision(p:number){\n        if(p < 1){\n            throw Error('precision must be greater than 1');\n        }\n        this._precision = p;\n        this._rotDegree = Math.floor(this._realDegree / this._precision) * this._precision;\n    }\n\n    /**\n     * @en current moving direction, used for calculating character movement\n     * @zh 当前移动方向，用于计算角色移动\n    */\n    public get rotDegree():number{\n        return this._rotDegree;\n    }\n\n    /**\n     * @en current joystick direction, usually not used for calculating movement, used for setting character appearance\n     * @zh 真实的摇杆方向，通常不用于逻辑，用于设置角色表现效果\n    */\n    public get realDegree():number{\n        return this._realDegree;\n    }\n\n\n    onMovement(degree: number, strengthen: number) {\n        this._setDegree(degree);\n        if (this.needRotation) {\n            this.node.setRotationFromEuler(0, 0, this._realDegree);\n        }\n        let angle = this._rotDegree / 180 * Math.PI;\n        this._moveDir.set(Math.cos(angle), Math.sin(angle));\n        this._moveDir.normalize();\n        this._moveFactor = strengthen;\n    }\n\n    onMovementStop() {\n        this._moveFactor = 0;\n    }\n\n    onDestroy() {\n        EasyController.off(EasyControllerEvent.MOVEMENT, this.onMovement, this);\n        EasyController.off(EasyControllerEvent.MOVEMENT_STOP, this.onMovementStop, this);\n    }\n\n\n    update(deltaTime: number) {\n        if (this._moveFactor) {\n            Vec2.multiplyScalar(tempV2, this._moveDir, this.getRealSpeed() * deltaTime);\n            let pos = this.node.position;\n            this.node.setPosition(pos.x + tempV2.x, pos.y + tempV2.y, pos.z);\n        }\n    }\n}","export class DoubleList {\n    head: DoubleListItem | null = null;\n    tail: DoubleListItem | null = null;\n\n    public get isEmpty() {\n        return this.head == null;\n    }\n\n    public addToTail(data?: any): DoubleListItem {\n        let item = DoubleListItem.getFromPool(data, 'dont_call_this_function_by_your_self');\n        this.addItemToTail(item);\n        return item;\n    }\n\n    public insertToHead(data?: any): DoubleListItem {\n        let item = DoubleListItem.getFromPool(data, 'dont_call_this_function_by_your_self');\n        this.insertItemToHead(item);\n        return item;\n    }\n\n    private addItemToTail(item: DoubleListItem) {\n        if (!item) {\n            return;\n        }\n\n        if (item.isLinked) {\n            throw Error('item must be unlinked.');\n        }\n\n        if (this.head == null) {\n            this.head = this.tail = item;\n            item.owner = this;\n            item.pre = null;\n            item.next = null;\n            return;\n        }\n\n        if (!this.tail) {\n            throw Error('tail can not be nil');\n        }\n\n        this.tail.next = item;\n        item.pre = this.tail;\n        this.tail = item;\n        item.owner = this;\n    }\n\n    private insertItemToHead(item: DoubleListItem) {\n        if (!item) {\n            return;\n        }\n\n        if (item.isLinked) {\n            throw Error('item must be unlinked.');\n        }\n\n        if (this.head == null) {\n            this.head = this.tail = item;\n            item.owner = this;\n            item.pre = null;\n            item.next = null;\n            return;\n        }\n\n        this.head.pre = item;\n        item.next = this.head;\n        item.owner = this;\n\n        this.head = item;\n    }\n\n    public forEach(cb: (v: DoubleListItem) => any) {\n        if (!cb) {\n            return;\n        }\n        let cur = this.head;\n        while (cur) {\n            let next = cur.next;\n            let needBreak = cb(cur);\n            if (needBreak) {\n                return;\n            }\n            cur = next;\n        }\n    }\n\n    clear() {\n        this.forEach(v => {\n            v.dispose();\n        });\n    }\n}\n\nexport class DoubleListItem {\n    public owner: DoubleList | null = null;\n    public pre: DoubleListItem | null = null;\n    public next: DoubleListItem | null = null;\n    public data: any | null = null;\n\n    private static _itemPool: DoubleList = new DoubleList();\n    public static getFromPool(data: any | undefined, args: 'dont_call_this_function_by_your_self'): DoubleListItem {\n        let item = this._itemPool.tail;\n        if (item) {\n            item.removeSelf();\n            item.data = data;\n            return item;\n        }\n        return new DoubleListItem(data, 'dont_call_this_function_by_your_self');\n    }\n\n    public static putBackToPool(item: DoubleListItem, args: 'dont_call_this_function_by_your_self') {\n        item.removeSelf();\n        (this._itemPool as any).addItemToTail(item);\n    }\n\n    constructor(data: any | undefined, args: 'dont_call_this_function_by_your_self') {\n        this.data = data;\n    }\n\n    get isLinked() {\n        return this.owner != null;\n    }\n\n    public dispose() {\n        DoubleListItem.putBackToPool(this, 'dont_call_this_function_by_your_self');\n    }\n\n    private removeSelf() {\n        if (!this.owner) {\n            return;\n        }\n\n        if (this.owner.head == this) {\n            this.owner.head = this.next;\n        }\n\n        if (this.owner.tail == this) {\n            this.owner.tail = this.pre;\n        }\n\n        if (this.pre) {\n            this.pre.next = this.next;\n        }\n\n        if (this.next) {\n            this.next.pre = this.pre;\n        }\n\n        this.owner = null;\n        this.pre = null;\n        this.next = null;\n    }\n}","import { EventHandler, _decorator, director } from 'cc';\n\nexport class EasyControllerEvent{\n    /**\n    * Dispatched when camera rotating\n    * @params rx: horizontal rotation\n    * @params ry: vertical rotation.\n    */\n    public static CAMERA_ROTATE:string = 'EasyControllerEvent.CAMERA_ROTATE';\n    \n    /**\n     * Dispatched when camera zooming\n     * @params delta: amount of camera zoom\n    */\n    public static CAMERA_ZOOM:string = 'EasyControllerEvent.CAMERA_ZOOM';\n    /**\n     * Dispatched when the movement controller is moving\n     * @param degree: direction in degrees, with positive X-axis as 0, increasing in a counter-clockwise direction.\n     * @param strength: movement strength, [0.0, 1.0], can be used for fine-tuning the movement speed.\n     */\n    public static MOVEMENT:string = 'EasyControllerEvent.MOVEMENT';\n    /**\n     * Dispatched when the movement controller stops moving\n     */\n    public static MOVEMENT_STOP:string = 'EasyControllerEvent.MOVEMENT_STOP';\n    \n    /**\n     * Dispatched when one of the buttons is pressed.\n     * @param buttonName: string, indicates which button is pressed. \n     */\n    public static BUTTON:string = 'EasyControllerEvent.BUTTON';\n\n    /**\n     * Dispatched when screen is touched.\n     */\n    public static SCREEN_TOUCH_START:string = 'EasyControllerEvent.SCREEN_TOUCH_START';\n\n    /**\n     * Dispatched when screen is touched end.\n     */\n    public static SCREEN_TOUCH_END:string = 'EasyControllerEvent.SCREEN_TOUCH_END';\n}\n\nexport class EasyController{\n\n    public static on(type:string,callback:any,target?:any){\n        director.on(type,callback,target);\n    }\n\n    public static off(type:string,callback?:any,target?:any){\n        director.off(type,callback,target);\n    }\n}","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//环境定义模块\r\nexport class EnvMgr {\r\n    //是否开启web的竖屏展示，web版查看竖屏效果使用\r\n    //已经搬到 GameConst.ts中\r\n    //public static isShowWebPortrait: boolean = false;\r\n}\r\n\r\n\r\n","import { DoubleList, DoubleListItem } from \"../base/DoubleList\";\n\n/**\n * @en the classes inherit from class:EventDispatcher will have the ability to dispatch events.\n * @zh 事件派发器，继承自EventDispatcher的类将拥有事件派发能力\n * \n *  */\nexport class EventDispatcher {\n    private _handlersMap:{[key:string]:DoubleList} = {};\n    public on(event: string, cb: Function, thisArg?: any, args?: [], once?: boolean) {\n        if(!event || !cb){\n            return;\n        }\n        \n        let handlers = this._handlersMap[event];\n        if (!handlers) {\n            handlers = this._handlersMap[event] = new DoubleList();\n        }\n\n        handlers.addToTail({\n            event: event,\n            cb: cb,\n            thisArg: thisArg,\n            once: once,\n            args: args\n        });\n    }\n\n    public once(event: string, cb: Function, thisArg: any, args: []) {\n        this.on(event, cb, thisArg, args, true);\n    }\n\n    public off(event: string, cb: Function, thisArg?: any, once?: boolean) {\n        let handlers = this._handlersMap[event];\n        if (!handlers) {\n            return;\n        }\n\n        handlers.forEach(v=>{\n            let h = v.data;\n            if (h.cb == cb && h.thisArg == thisArg && h.once == once) {\n                v.dispose();\n                return true;\n            }\n        });\n    }\n\n    public clearAll(event?: string) {\n        if (event) {\n            let handlers = this._handlersMap[event];\n            handlers?.clear();\n            delete this._handlersMap[event];\n        }\n        else {\n            for(let k in this._handlersMap){\n                let handlers = this._handlersMap[k];\n                handlers?.clear();\n            }\n            this._handlersMap = {};\n        }\n    }\n\n    public emit(event: string, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any) {\n\n        let handlers = this._handlersMap[event];\n        if (!handlers || handlers.isEmpty) {\n            return;\n        }\n        let args = [arg0, arg1, arg2, arg3, arg4];\n        handlers.forEach(v=>{\n            let h = v.data;\n            if (h.event == event) {\n                h.cb.apply(h.thisArg, args);\n            }\n        });\n    }\n}","import { ccenum } from 'cc';\r\nimport { SpriteFrame } from 'cc';\r\nimport { Vec3 } from 'cc';\r\nimport { color } from 'cc';\r\nimport { tween } from 'cc';\r\nimport { Sprite } from 'cc';\r\nimport { Button } from 'cc';\r\nimport { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property, menu } = _decorator;\r\n\r\nenum EButtonType {\r\n    DARK,\r\n    GRAY\r\n}\r\nccenum(EButtonType);\r\n\r\n/**\r\n * 扩展按钮\r\n */\r\n@ccclass('ExtendButton')\r\n@menu('扩展类/UI/扩展按钮')\r\nexport class ExtendButton extends Button {\r\n    @property\r\n    isScale: boolean = true;\r\n    @property({ type: EButtonType, displayName: \"禁用类型\" })\r\n    interactableType = EButtonType.DARK;\r\n    @property\r\n    dark = 125;\r\n    @property({ displayName: '是否用作复选按钮', tooltip: '选中状态图片放0  未选中图片放1' })\r\n    isToggle: boolean = false;\r\n\r\n    private _isChecked: boolean = true;\r\n    @property({ displayName: '是否选中', tooltip: '复选按钮的选中状态', visible: function () { return this.isToggle; } })\r\n    get isChecked() { return this._isChecked }\r\n    set isChecked(v: boolean) {\r\n        this._isChecked = v\r\n        if (!this.isSelfNode) this.selfSprite.spriteFrame = this.isChecked ? this.toggleFrames[0] : this.toggleFrames[1];\r\n        else this.node.getComponent(Sprite).spriteFrame = this.isChecked ? this.toggleFrames[0] : this.toggleFrames[1];\r\n    }\r\n    @property({ type: [SpriteFrame], tooltip: '复选按钮要切换的图片', visible: function () { return this.isToggle; } })\r\n    toggleFrames: SpriteFrame[] = [];\r\n\r\n    @property({ tooltip: '是否用此节点更换图', visible: function () { return this.isToggle; } })\r\n    isSelfNode: boolean = true;\r\n    \r\n    @property({ type: Sprite, tooltip: '要换图的节点', visible: function () { return !this.isSelfNode; } })\r\n    selfSprite: Sprite = null;\r\n\r\n    private _st: Sprite;\r\n    protected onLoad(): void {\r\n        this._st = this.node.getComponent(Sprite);\r\n        this.node.on(Button.EventType.CLICK, () => {\r\n            if (!this.interactable) return;\r\n            // root.audio.play('Click');\r\n            if (this.isToggle) {\r\n                this.isChecked = !this.isChecked;\r\n                if (!this._st) {\r\n                    this._st = this.node.getComponent(Sprite);\r\n                }\r\n\r\n                if (!this.isSelfNode) this.selfSprite.spriteFrame = this.isChecked ? this.toggleFrames[0] : this.toggleFrames[1];\r\n                else this._st.spriteFrame = this.isChecked ? this.toggleFrames[0] : this.toggleFrames[1];\r\n            }\r\n            if (this.transition == 0 && this.isScale) {\r\n                tween(this.node).to(.1, { scale: new Vec3(1.05, 1.05, 1.05) }).to(.1, { scale: Vec3.ONE }).start();\r\n            }\r\n        });\r\n    }\r\n\r\n    public get interactable() {\r\n        return this._interactable;\r\n    }\r\n    public set interactable(v: boolean) {\r\n        if (!this._st) this._st = this.node.getComponent(Sprite);\r\n        if (this._st) {\r\n            if (this.interactableType == EButtonType.DARK) {\r\n                const c = v ? 255 : this.dark;\r\n                this._st.color = color(c, c, c, 255);\r\n            }\r\n            if (this.interactableType == EButtonType.GRAY) {\r\n                this._st.grayscale = !v;\r\n            }\r\n        }\r\n        this._interactable = v;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Vec3, v3, Camera } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst tmpV3 = v3();\n\n@ccclass('tgxFollowCamera2D')\nexport class FollowCamera2D extends Component {\n    @property(Node)\n    target:Node;\n\n    @property\n    offset:Vec3 = v3();\n\n    protected _camera:Camera;\n\n    start() {\n        this._camera = this.node.getComponent(Camera);\n    }\n\n    lateUpdate(deltaTime: number) {\n        this.target.getWorldPosition(tmpV3);\n        tmpV3.add(this.offset);\n        this.node.worldPosition = tmpV3;   \n    }\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('tgxFPSCamera')\nexport class FPSCamera extends Component {\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n}\n\n","import { _decorator, Component, Quat, Vec2, Vec3, Input, game, EventTouch, EventMouse, input, EventKeyboard, KeyCode, v2 } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst v2_1 = new Vec2();\nconst v2_2 = new Vec2();\nconst v3_1 = new Vec3();\nconst qt_1 = new Quat();\nconst forward = new Vec3();\nconst right = new Vec3();\n\n@ccclass('tgxFreeCamera')\nexport class FreeCamera extends Component {\n\n    @property\n    public moveSpeed = 1;\n\n    @property\n    public moveSpeedShiftScale = 5;\n\n    @property({ slide: true, range: [0.05, 0.5, 0.01] })\n    public damp = 0.2;\n\n    @property\n    public rotateSpeed = 1;\n\n    private _euler = new Vec3();\n    private _velocity = new Vec3();\n    private _position = new Vec3();\n    private _speedScale = 1;\n    private _eulerP = new Vec3();\n\n    public onLoad () {\n        input.on(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\n        input.on(Input.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\n        Vec3.copy(this._euler, this.node.eulerAngles);\n        Vec3.copy(this._position, this.node.getPosition());\n        Vec3.copy(this._eulerP, this.node.eulerAngles);\n\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.on(Input.EventType.KEY_UP, this.onKeyUp, this);\n    }\n\n    public onDestroy () {\n        input.off(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n        input.off(Input.EventType.TOUCH_START, this.onTouchStart, this);\n        input.off(Input.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        input.off(Input.EventType.TOUCH_END, this.onTouchEnd, this);\n\n        input.off(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.off(Input.EventType.KEY_UP, this.onKeyUp, this);\n    }\n\n\n    public update (dt: number) {\n        const t = Math.min(dt / this.damp, 1);\n        // position\n        Vec3.transformQuat(v3_1, this._velocity, this.node.rotation);\n        Vec3.scaleAndAdd(this._position, this._position, v3_1, this.moveSpeed * this._speedScale);\n        Vec3.lerp(v3_1, this.node.getPosition(), this._position, t);\n        this.node.setPosition(v3_1);\n\n        if(this.moveDir.lengthSqr()){\n            Vec3.transformQuat(forward, Vec3.FORWARD, this.node.rotation);\n            forward.normalize();\n            Vec3.cross(right, forward, Vec3.UP);\n            right.normalize();\n\n            Vec3.scaleAndAdd(this._position, this._position, forward, this.moveSpeed * this._speedScale * this.moveDir.z);\n            Vec3.lerp(v3_1, this.node.getPosition(), this._position, t);\n            this.node.setPosition(v3_1);\n\n            Vec3.scaleAndAdd(this._position, this._position, right, this.moveSpeed * this._speedScale * this.moveDir.x);\n            Vec3.lerp(v3_1, this.node.getPosition(), this._position, t);\n            this.node.setPosition(v3_1);\n\n            Vec3.scaleAndAdd(this._position, this._position, Vec3.UP, this.moveSpeed * this._speedScale * this.moveDir.y);\n            Vec3.lerp(v3_1, this.node.getPosition(), this._position, t);\n            this.node.setPosition(v3_1);\n        }\n\n        // rotation\n        Quat.fromEuler(qt_1, this._eulerP.x, this._eulerP.y, this._eulerP.z);\n        Quat.slerp(qt_1, this.node.rotation, qt_1, t);\n        this.node.setWorldRotationFromEuler(this._eulerP.x, this._eulerP.y, this._eulerP.z);\n    }\n\n    public onMouseWheel (e: EventMouse) {\n        const delta = -e.getScrollY() * this.moveSpeed * 0.1; // delta is positive when scroll down\n        Vec3.transformQuat(v3_1, Vec3.UNIT_Z, this.node.rotation);\n        Vec3.scaleAndAdd(this._position, this.node.position, v3_1, delta);\n    }\n    \n    public onTouchStart (e: EventTouch) {\n        if (game.canvas.requestPointerLock) { game.canvas.requestPointerLock(); }\n    }\n\n    public onTouchMove (e: EventTouch) {\n        e.getStartLocation(v2_1);\n        if (v2_1.x > game.canvas.width * 0.4) { // rotation\n            e.getDelta(v2_2);\n            this._eulerP.y -= v2_2.x * this.rotateSpeed * 0.1;\n            this._eulerP.x += v2_2.y * this.rotateSpeed * 0.1;\n        } else { // position\n            e.getDelta(v2_2);\n            this._eulerP.y -= v2_2.x * this.rotateSpeed * 0.1;\n            this._eulerP.x += v2_2.y * this.rotateSpeed * 0.1;\n        }\n    }\n\n    public onTouchEnd (e: EventTouch) {\n        if (document.exitPointerLock) { document.exitPointerLock(); }\n        e.getStartLocation(v2_1);\n        if (v2_1.x < game.canvas.width * 0.4) { // position\n            this._velocity.x = 0;\n            this._velocity.z = 0;\n        }\n    }\n\n    private keys = [];\n    // x  -1 left, +1 right   y -1 backword, +1 forward\n    private moveDir:Vec3 = new Vec3();\n    onKeyDown(event:EventKeyboard){\n        let keyCode = event.keyCode;\n        if(keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W){\n            if(this.keys.indexOf(keyCode) == -1){\n                this.keys.push(keyCode);\n                this.updateDirection();\n            }\n        }\n        if(keyCode == KeyCode.KEY_Q){\n            this.moveDir.y = -1;\n        }\n        else if(keyCode == KeyCode.KEY_E){\n            this.moveDir.y = 1;\n        }\n    }\n\n    onKeyUp(event:EventKeyboard){\n        let keyCode = event.keyCode;\n        if(keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W){\n            let index = this.keys.indexOf(keyCode);\n            if(index != -1){\n                this.keys.splice(index,1);\n                this.updateDirection();\n            }\n        }\n\n        if(keyCode == KeyCode.KEY_Q || keyCode == KeyCode.KEY_E){\n            this.moveDir.y = 0;\n        }\n    }\n\n    private key2dirMap = null;\n\n    updateDirection(){\n        if(this.key2dirMap == null){\n            this.key2dirMap = {};\n            this.key2dirMap[0] = v2(0,0);\n            this.key2dirMap[KeyCode.KEY_A] = v2(-1,0);\n            this.key2dirMap[KeyCode.KEY_D] = v2(1,0);\n            this.key2dirMap[KeyCode.KEY_W] = v2(0,1);\n            this.key2dirMap[KeyCode.KEY_S] = v2(0,-1);\n\n            this.key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_W] = this.key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_A] = v2(-1,1);\n            this.key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_W] = this.key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_D] = v2(1,1);\n            this.key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_S] = this.key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_A] = v2(-1,-1);\n            this.key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_S] = this.key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_D] = v2(1,-1);\n\n            this.key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_D] = this.key2dirMap[KeyCode.KEY_D];\n            this.key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_A] = this.key2dirMap[KeyCode.KEY_A];\n            this.key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_S] = this.key2dirMap[KeyCode.KEY_S];\n            this.key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_W] = this.key2dirMap[KeyCode.KEY_W];\n        }\n        let keyCode0 = this.keys[this.keys.length - 1] || 0;\n        let keyCode1 = this.keys[this.keys.length - 2] || 0;\n        let dir = this.key2dirMap[keyCode1 * 1000 + keyCode0];\n        this.moveDir.x = dir.x;\n        this.moveDir.z = dir.y;\n    }\n}\n","import { CCBoolean } from 'cc';\r\nimport { _decorator, Component, screen, ResolutionPolicy, Size, size, view, UITransform, Sprite, Canvas } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst CHECK_INTERVAL = 0.1;\r\n\r\n@ccclass('FullScreenBgAutoFit')\r\nexport class FullScreenBgAutoFit extends Component {\r\n    \r\n    @property(Canvas) canvasUITrans:UITransform;\r\n\r\n\r\n    @property({ tooltip: '是否选择缩放，而不是改宽高' })\r\n    setNodeScale: boolean = false;\r\n    private _oldSize:Size = size();\r\n    private _originalSize:Size;\r\n    private _uiTransform:UITransform;\r\n    private _sprite:Sprite;\r\n\r\n    start() {\r\n        this._uiTransform = this.getComponent(UITransform);\r\n        this._sprite = this.getComponent(Sprite);\r\n        if(!this._uiTransform){\r\n            return;\r\n        }\r\n        if(this.setNodeScale)\r\n        {\r\n            this._originalSize = size(this._uiTransform.width, this._uiTransform.height);\r\n        }\r\n        else\r\n        {\r\n            if(!this._sprite)\r\n            {\r\n                return;\r\n            }\r\n            this._originalSize =  this._sprite.spriteFrame.originalSize;\r\n            this._sprite.sizeMode = Sprite.SizeMode.CUSTOM;\r\n        }\r\n        \r\n\r\n        if(!this.canvasUITrans){\r\n            let parent = this.node.parent;\r\n            while(parent){\r\n                let canvas = parent.getComponent(Canvas);\r\n                if(canvas){\r\n                    this.canvasUITrans = canvas.getComponent(UITransform);\r\n                    break;\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n        }\r\n\r\n        this.adjustResolutionPolicy();\r\n    }\r\n\r\n    private lastCheckTime = 0;\r\n    lateUpdate(deltaTime: number) {\r\n        this.lastCheckTime+=deltaTime;\r\n        if(this.lastCheckTime < CHECK_INTERVAL){\r\n            return;\r\n        }\r\n        this.lastCheckTime = 0;\r\n\r\n        this.adjustResolutionPolicy();\r\n    }\r\n\r\n    adjustResolutionPolicy(){\r\n        let winSize = this.canvasUITrans.contentSize;\r\n        if(!this._oldSize.equals(winSize)){\r\n            let ratio = winSize.width / winSize.height;\r\n            let imgW2H = this._originalSize.width / this._originalSize.height;\r\n\r\n            if(ratio > imgW2H){\r\n                //wider than desgin.\r\n                this._uiTransform.width = winSize.width;\r\n                this._uiTransform.height = winSize.width / imgW2H;\r\n            }\r\n            else{\r\n                //higher than desgin.\r\n                this._uiTransform.width = winSize.height * imgW2H;\r\n                this._uiTransform.height = winSize.height;\r\n            }\r\n            if(this.setNodeScale){\r\n                this.node.setScale(this._uiTransform.width / this._originalSize.width, this._uiTransform.height / this._originalSize.height);\r\n            }\r\n            this._oldSize.set(winSize);\r\n        }\r\n    }\r\n}\r\n\r\n","\r\n//函数类型定义\r\nexport namespace Fun\r\n{\r\n\r\n\r\n//没有参数和返回值的回调函数\r\nexport interface Fun0 { (): void; }\r\n\r\n//有1个参数没有返回值的回调函数\r\nexport interface Fun1 { (param: any): void; }\r\n\r\n//有2个参数没有返回值的回调函数\r\nexport interface Fun2 { (param1: any, param2: any): void; }\r\n\r\n//有一个参数，且参数是number类型\r\nexport interface Fun_n { (i: number): void; }\r\n\r\n//有2个参数，第1个是number类型，第2个是Prefab类型。没有返回值\r\nexport interface Fun_n_node { (i: number, prefab: Node): void; }\r\n\r\n//有1个node参数，没有返回值的回调\r\nexport interface Fun_node { (param: Node): void; }\r\n\r\n//有1个number参数，number返回值的函数\r\nexport interface Fun_n_ret_n { (i: number): number; }\r\n\r\n//有1个number参数，cc.Node返回值的函数\r\nexport interface Fun_n_ret_node { (i: number): Node; }\r\n\r\n//有2个number参数,1个any参数,没有返回值的函数\r\nexport interface Fun_n_n_any { (i: number, j: number, an: any): void; }\r\n\r\n//格子\r\nexport class TypeCell\r\n{\r\n    type:   number;         //格子类型\r\n    index:  number;         //第几个格子，从0开始\r\n    item:   Node;        //格子\r\n}\r\n\r\n//有1个number参数，TypeCell返回值的函数\r\nexport interface Fun_n_ret_cell { (i: number): TypeCell; }\r\n}\r\n\r\n","import { sys } from \"cc\";\r\n\r\nexport class GameConst {\r\n    //内网测试地址\r\n    /*\r\n    public static hotUpdate_packageUrl: string = \"http://192.168.5.103/game/assets/\";//\r\n    public static hotUpdate_manifestUrl: string = \"http://192.168.5.103/game/assets/assets/bundle/{0}/project.manifest\";\r\n    public static hotUpdate_versionUrl: string = \"http://192.168.5.103/game/assets/assets/bundle/{0}/version.manifest\";\r\n    */\r\n    //外网地址\r\n    public static hotUpdate_packageUrl: string = \"http://8.216.89.33:8000/assets/\";//\r\n    public static hotUpdate_manifestUrl: string = \"http://8.216.89.33:8000/assets/assets/bundle/{0}/project.manifest\";\r\n    public static hotUpdate_versionUrl: string = \"http://8.216.89.33:8000/assets/assets/bundle/{0}/version.manifest\";\r\n    public static hotUpdate_Open: boolean = false; //热更新是否开启\r\n\r\n    //是否开启web的竖屏展示，web版查看竖屏效果使用\r\n    public static isShowWebPortrait: boolean = false;\r\n    /**是否开启网络请求log */\r\n    public static openNetworkLog:boolean = false;\r\n\r\n    public static defaultLanguage: string = sys.Language.CHINESE;\r\n    /**\r\n     * 当前地区包\r\n     */\r\n    public static curArea: string = \"china\";\r\n}\r\n//为了方便在控制台输入\r\nwindow[\"GameConst\"] = GameConst;","import { Label } from \"cc\";\n\nenum GameUILayers {\n    GAME,\n    JOY_STICK,\n    HUD,\n    POPUP,\n    POPUP1,\n    POPUP2,\n    ALERT,\n    NOTICE,\n    LOADING,\n    OVERLAY,\n    NUM\n}\n\nconst GameUILayerNames = [\n    'game',\n    'joy_stick',\n    'hud',\n    'popup',\n    'popup1',\n    'popup2',\n    'alert',\n    'notice',\n    'loading',\n    'overlay'\n];\n\nexport { GameUILayers, GameUILayerNames };\n\n// 重写 Label 的 updateRenderer 方法输出详细错误\nconst originalUpdateRenderer = Label.prototype.updateRenderer;\nLabel.prototype.updateRenderer = function () {\n    try {\n        // 打印当前 Label 的关键信息\n        // console.log(\n        //     'Updating Label:',\n        //     this.node.name,               // 节点名称\n        //     this.string,                   // 文本内容\n        //     this.font?.name || 'No Font',  // 字体名称\n        //     this.node.getPathInHierarchy() // 节点在场景树中的路径\n        // );\n        originalUpdateRenderer.call(this);\n    } catch (e) {\n        console.error('Error in Label:', this.node.name, e);\n        throw e;\n    }\n};","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet BETNUM: number[] = [0.03, 0.1, 0.3, 0.9]; //单注值\r\nlet LINES: number = 10; //线数\r\nlet BET: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];//下注倍数\r\n/**\r\n * 游戏公用方法\r\n */\r\n@ccclass('GameUtil')\r\nexport class GameUtil {\r\n    /**\r\n     * 获取下注区间\r\n     * @param numList 单注值 \r\n     * @param betList 下注倍数\r\n     * @param line 线数\r\n     */\r\n    public static GetBetRange(numList?: number[], betList?: number[], line?: number) {\r\n        numList = numList ? numList : BETNUM;\r\n        betList = betList ? betList : BET;\r\n        line = line ? line : LINES;\r\n        //动态计算第三列的值\r\n        let list = [];\r\n        for (let i = 0; i < numList.length; i++) {\r\n            for (let j = 0; j < betList.length; j++) {\r\n                list.push(Math.round(numList[i] * betList[j] * line * 100) / 100);\r\n            }\r\n        }\r\n        let sumList = Array.from(new Set(list));\r\n        sumList.sort((a, b) => {\r\n            return a - b;\r\n        });\r\n        return sumList;\r\n    }\r\n}\r\n\r\n\r\n","\r\nexport class HotUpateData {\r\n    name: string;\r\n    packageurl: string;\r\n}\r\n","import { _decorator,Component, director,Node} from 'cc';\r\nimport { GameUILayers, GameUILayerNames } from '../scripts/GameUILayers';\r\nimport { HotUpdateEvent } from '../scripts/hotupdate/HotUpdateEvent';\r\nimport { HotUpdateCtrl } from '../scripts/hotupdate/HotUpdateCtrl';\r\nimport { GameConst } from '../scripts/GameConst';\r\nimport { game } from 'cc';\r\nimport { JSB, NATIVE } from 'cc/env';\r\nimport { EasyControllerEvent } from '../core_tgx/easy_controller/EasyController';\r\nimport { Label } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('HotUpdate')\r\nexport class Start extends Component {\r\n\r\n    @property(Label)\r\n    txtLoading: Label;\r\n\r\n    @property(Node)\r\n    loadingBar: Node;\r\n\r\n    hotupdateCtrl: HotUpdateCtrl = null\r\n    async start() {\r\n        if (!NATIVE || !JSB || !GameConst.hotUpdate_Open) {\r\n            this._enterHall()\r\n            return\r\n        }\r\n        this.loadingBar.setScale(0, 1, 1);\r\n        director.on(HotUpdateEvent.HotUpdateRate, this.onHotUpdateRate, this);\r\n        director.on(HotUpdateEvent.HotUpdateFinish, this.onHotUpdateFinish, this);\r\n        director.on(HotUpdateEvent.CheckVersionResult, this.onCheckVersionResult, this);\r\n\r\n        this.hotupdateCtrl = new HotUpdateCtrl()\r\n        await this.hotupdateCtrl.init(\"main\")\r\n        this.hotupdateCtrl.checkUpdate()\r\n    }\r\n    /**\r\n     * 热更新版本检查结果\r\n     */\r\n    onCheckVersionResult(name: string, newVersionFoud: boolean) {\r\n        console.log(`CheckVersionResult: ${name}, ${newVersionFoud}`)\r\n        if (newVersionFoud) {\r\n            this.hotupdateCtrl && this.hotupdateCtrl.hotUpdate();\r\n        } else {\r\n            this._enterHall();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 热更进度回调\r\n     */\r\n    onHotUpdateRate(name:string,rate: number) {\r\n        this.txtLoading.string = Math.floor(rate*100)+\"%\";\r\n        this.loadingBar.setScale(rate, 1, 1);\r\n    }\r\n\r\n    /**\r\n     * 更新完成\r\n     */\r\n    onHotUpdateFinish(name: string, success: boolean) {\r\n        if (success) {\r\n            console.log(\"========onHotUpdateSuccess======\", name)\r\n            setTimeout(() => {\r\n                game.restart();\r\n            }, 200)\r\n        } else {  // 热更失败\r\n            // this._enterHall()\r\n            console.log(\"========onHotUpdateFail======\")\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n    }\r\n\r\n    private _enterHall() {\r\n        console.log(\"enterGame\")\r\n        if(this.hotupdateCtrl)\r\n        {\r\n            //存储主包的版本号\r\n            let version = this.hotupdateCtrl.getLocalManifestVersion();\r\n            console.log(\"mainVersion:\",version);\r\n            HotUpdateCtrl.mainVersion = version;\r\n        }\r\n        director.loadScene(\"start\");\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        director.targetOff(this)\r\n        this.hotupdateCtrl && this.hotupdateCtrl.destory();\r\n        director.on(HotUpdateEvent.HotUpdateRate, this.onHotUpdateRate, this);\r\n        director.on(HotUpdateEvent.HotUpdateFinish, this.onHotUpdateFinish, this);\r\n        director.on(HotUpdateEvent.CheckVersionResult, this.onCheckVersionResult, this);\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { Asset, director, native, resources, sys } from 'cc';\r\nimport { DEBUG, JSB, NATIVE } from 'cc/env';\r\nimport { HotUpdateEvent } from './HotUpdateEvent';\r\nimport { game } from 'cc';\r\nimport { HotUpateData } from './HotUpateData';\r\nimport { GameConst } from '../GameConst';\r\nimport { Str } from '../../core_tgx/framework/util/Str';\r\n\r\nexport class HotUpdateCtrl {\r\n    _name: string = \"\";\r\n    /**\r\n     * 更新中\r\n     */\r\n    _updating: boolean = false;\r\n\r\n    /** \r\n     * 是否可以重试\r\n     */\r\n    _canRetry: boolean = false;\r\n\r\n    /** \r\n     * 热更新存储路径\r\n     */\r\n    _storagePath: string = \"\";\r\n\r\n    /**\r\n     * 热更资源管理器\r\n     */\r\n    _am: native.AssetsManager = null;\r\n\r\n    /**\r\n     * 更新失败数量\r\n     */\r\n    _failCount: number = 0;\r\n    /**\r\n     * 主包版本号--用于更新子游戏的时候 判断如果版本小于主包版本，则不更新\r\n     */\r\n    public static mainVersion:number = 0;\r\n    log(...arg: string[]) {\r\n        DEBUG && console.log(\"[HotUpdate]\", ...arg);\r\n    }\r\n\r\n    inited: boolean = false;\r\n    \r\n    async isSettSearchPaths() {\r\n        if (!NATIVE) {\r\n            return false;\r\n        }\r\n        let searchPaths = native.fileUtils.getSearchPaths();\r\n        let newPaths = this._am.getLocalManifest().getSearchPaths();\r\n        for (let i = 0; i < newPaths.length; i++) {\r\n            if (searchPaths.indexOf(newPaths[i]) == -1) {\r\n                Array.prototype.unshift.apply(searchPaths, [newPaths[i]]);\r\n            }\r\n        }\r\n        sys.localStorage.setItem('HotUpdateSearchPaths', JSON.stringify(searchPaths));\r\n        native.fileUtils.setSearchPaths(searchPaths);\r\n        this.log(\"-----------set search path-----------\", JSON.stringify(searchPaths));\r\n        return true;\r\n    }\r\n    /**\r\n     * 初始化\r\n     */\r\n    async init(name: string) {\r\n        if (!NATIVE || !JSB) {\r\n            return;\r\n        }\r\n\r\n        if (this.inited) {\r\n            return;\r\n        }\r\n        this._name = name;\r\n        this._storagePath = native.fileUtils.getWritablePath() + \"game-remote-asset/\" + this._name;\r\n        \r\n        this.log(\"init name:\",name);\r\n        this.log(\"init storagePath:\",this._storagePath);\r\n\r\n        var manifestUrl:string = 'assets/bundle/'+this._name+'/project.manifest'\r\n        let localmanifest = await this.loadLocalManifest(manifestUrl);\r\n        manifestUrl = localmanifest.packageurl;\r\n\r\n        let versionCompareHandle = (localVersionName: string, remoteVersionName: string) => {\r\n            this.log(\"JS Custom Version Compare: version A is \" + localVersionName + ', version B is ' + remoteVersionName);\r\n            let vA = localVersionName.split(\".\");\r\n            let vB = remoteVersionName.split(\".\");\r\n            for (let i = 0; i < vA.length; ++i) {\r\n                let a = parseInt(vA[i]);\r\n                let b = parseInt(vB[i] || \"0\");\r\n                if (a === b) {\r\n                    continue;\r\n                } else {\r\n                    return a - b;\r\n                }\r\n            }\r\n            if (vB.length > vA.length) {\r\n                return -1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        };\r\n        this.log(\"localmanifest \" + manifestUrl);\r\n        this.log(\"this._storagePath: \" + this._storagePath);\r\n        this._am = new native.AssetsManager(manifestUrl, this._storagePath, versionCompareHandle);\r\n        this._am.setVerifyCallback((path: string, asset: native.ManifestAsset) => {\r\n            let compressed = asset.compressed;\r\n            // 检索正确的md5值。\r\n            let expectedMD5 = asset.md5;\r\n            // asset.path 为相对路径，path为绝对路径。\r\n            let relativePath = asset.path;\r\n            // 资源文件的大小，但这个值可能不存在。\r\n            if (compressed) {\r\n                this.log(`hotupdate verify ${relativePath}`);\r\n                return true;\r\n             } else {\r\n                this.log(`hotupdate verify ${relativePath} ${expectedMD5}`);\r\n                return true;\r\n             }\r\n        });\r\n\r\n        this._am.setMaxConcurrentTask(2);\r\n        this.log(\"-----------current version-----------\", this._name, this._am.getLocalManifest().getVersion());\r\n        this.inited = true;\r\n    }\r\n    /**获取远端版本号 */\r\n    public getReteManifestVersion():number\r\n    {\r\n        if(!this._am)\r\n        {\r\n            return 0;\r\n        }\r\n        let remoteManifest:native.Manifest = this._am.getRemoteManifest();\r\n        if(!remoteManifest)\r\n        {\r\n            return 0;\r\n        }\r\n        return parseInt(remoteManifest.getVersion());\r\n    }\r\n    /**获取本地版本号 */\r\n    public getLocalManifestVersion():number\r\n    {\r\n        if(!this._am)\r\n        {\r\n            return 0;\r\n        }\r\n        let localManifest:native.Manifest = this._am.getLocalManifest();\r\n        if(!localManifest)\r\n        {\r\n            return 0;\r\n        }\r\n        return parseInt(localManifest.getVersion());\r\n    }\r\n\r\n    /**\r\n     * 加载Manifest\r\n     */\r\n    async loadLocalManifest(localmanifestUrl:string) {\r\n\r\n        return new Promise<HotUpateData>((res, rej) => {\r\n            \r\n            if (native.fileUtils.isFileExist(localmanifestUrl))\r\n            {\r\n                let localAsset = new HotUpateData();\r\n                localAsset.name = this._name;\r\n                localAsset.packageurl = native.fileUtils.fullPathForFilename(localmanifestUrl);\r\n                res(localAsset);\r\n            }\r\n            else\r\n            {\r\n\r\n                // 本地不存在 manifest 文件\r\n                !native.fileUtils.isDirectoryExist(this._storagePath) && native.fileUtils.createDirectory(this._storagePath);\r\n                let manifestData: { [key: string]: any } = {};\r\n                let localManifestPath = `${this._storagePath}/project.manifest`;\r\n                if(native.fileUtils.isFileExist(localManifestPath))\r\n                {\r\n                    let localAsset = new HotUpateData();\r\n                    localAsset.name = this._name;\r\n                    localAsset.packageurl = localManifestPath;\r\n                    res(localAsset);\r\n                    return;\r\n                }\r\n\r\n                manifestData = {\r\n                    packageUrl: \"\",\r\n                    remoteManifestUrl: \"\",\r\n                    remoteVersionUrl: \"\",\r\n                    version: \"0\",\r\n                    assets: {},\r\n                    searchPaths: new Array(),\r\n                }\r\n                manifestData[\"packageUrl\"] = GameConst.hotUpdate_packageUrl;\r\n                let manifestUrl:string = Str.format(GameConst.hotUpdate_manifestUrl,this._name);\r\n                let versionUrl:string = Str.format(GameConst.hotUpdate_versionUrl,this._name);\r\n                this.log(\"localmanifestUrl is not exist\");\r\n                this.log(\"create manifestUrl:\"+manifestUrl);\r\n                this.log(\"create versionUrl:\"+versionUrl);\r\n                manifestData[\"remoteManifestUrl\"] = manifestUrl;\r\n                manifestData[\"remoteVersionUrl\"] = versionUrl;\r\n                native.fileUtils.writeStringToFile(JSON.stringify(manifestData), localManifestPath);\r\n                        \r\n                console.log(\"=========resource=========\", localManifestPath)\r\n                let localAsset = new HotUpateData();\r\n                localAsset.name = this._name;\r\n                localAsset.packageurl = localManifestPath;\r\n                res(localAsset);\r\n            }\r\n            \r\n        })\r\n    }\r\n    /**\r\n     * 检查更新\r\n     */\r\n    checkUpdate() {\r\n        if (this._updating) {\r\n            console.log(\"already check updating\")\r\n            return;\r\n        }\r\n        this.log(\"checkUpdate:\"+this._name);\r\n        if (!this._am.getLocalManifest() || !this._am.getLocalManifest().isLoaded()) {\r\n            this.emit(HotUpdateEvent.CheckVersionResult, false);\r\n            return;\r\n        }\r\n\r\n        this._updating = true;\r\n        this._am.setEventCallback(this.checkCallback.bind(this));\r\n        this._am.checkUpdate();\r\n    }\r\n\r\n    /**\r\n     * 发现新版本后，调用此方法进行热更新\r\n     */\r\n    hotUpdate() {\r\n        this.log(\"hotupdate:\"+this._name);\r\n        this.log(\"hotupdate:\"+this._updating);\r\n\r\n        if (this._am && !this._updating) {\r\n            this.log(\"hotupdate:\"+this._name)\r\n            this._am.setEventCallback(this.updateCallback.bind(this));\r\n            this._failCount = 0;\r\n            this._updating = true;\r\n            this._am.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 版本检查回调\r\n     */\r\n    checkCallback(event: native.EventAssetsManager) {\r\n        let newVersionFoud = null;\r\n        switch (event.getEventCode()) {\r\n            case native.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} no local Manifest`);\r\n                newVersionFoud = false;\r\n                break;\r\n            case native.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} download Manifest failed`);\r\n                newVersionFoud = false;\r\n                break;\r\n            case native.EventAssetsManager.ERROR_PARSE_MANIFEST:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} parse remote Manifest failed`);\r\n                newVersionFoud = false;\r\n                break;\r\n            case native.EventAssetsManager.ALREADY_UP_TO_DATE:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} already up to date`);\r\n                newVersionFoud = false;\r\n                break;\r\n            case native.EventAssetsManager.ERROR_DECOMPRESS:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} decompress failed`);\r\n                newVersionFoud = false;\r\n                break;\r\n            case native.EventAssetsManager.NEW_VERSION_FOUND:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} new version found`);\r\n                newVersionFoud = true;\r\n                break;\r\n            case native.EventAssetsManager.UPDATE_PROGRESSION:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} update progression`);\r\n                break;\r\n            case native.EventAssetsManager.ASSET_UPDATED:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} asset updated`);\r\n                break;\r\n            case native.EventAssetsManager.ERROR_UPDATING:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} error updating`);\r\n                break;\r\n            case native.EventAssetsManager.UPDATE_FAILED:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} update failed`);\r\n                break;\r\n            case native.EventAssetsManager.UPDATE_FINISHED:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} update finish`);\r\n                //引擎有bug AssetsManagerEx.app 有bug 版本号不一样 内容一样高 会先抛出一个finish 再跑一个 newversion ,这里特殊处理\r\n                newVersionFoud = false;\r\n                break;\r\n            default:\r\n                this.log(`checkout hotupdate code: ${event.getEventCode()} unkown error code`);\r\n                break;\r\n        }\r\n\r\n        if (newVersionFoud != null) {\r\n            this._am && this._am.setEventCallback(null);\r\n            this._updating = false;\r\n            this.emit(HotUpdateEvent.CheckVersionResult, newVersionFoud);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 热更回调地址\r\n     */\r\n    updateCallback(event: native.EventAssetsManager) {\r\n        let updateOver = false;\r\n        let failed = false;\r\n        let percent: any;\r\n        console.log(\"updateCallback EventCode:\", event.getEventCode());\r\n        switch (event.getEventCode()) {\r\n            case native.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\r\n                this.log(`hotupdate code: ${event.getEventCode()} no local Manifest`);\r\n                failed = true;\r\n                break;\r\n            case native.EventAssetsManager.UPDATE_PROGRESSION:\r\n                percent = event.getPercent();\r\n                if (isNaN(percent)) return;\r\n                this.log(`hotupdate procession: ${percent}`);\r\n                this.disPatchRateEvent(percent);\r\n                break;\r\n            // 下载失败， 跳过热更新\r\n            case native.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\r\n            case native.EventAssetsManager.ERROR_PARSE_MANIFEST:\r\n                this.log(\"download manifest failed! skip to hotupdate\");\r\n                failed = false;\r\n                break;\r\n            // 已经是最新的\r\n            case native.EventAssetsManager.ALREADY_UP_TO_DATE:\r\n                this.log(\"already update to date!\");\r\n                updateOver = true;\r\n                break;\r\n            // 更新完成\r\n            case native.EventAssetsManager.UPDATE_FINISHED:\r\n                this.disPatchRateEvent(1);\r\n                updateOver = true;\r\n                break;\r\n            // 更新错误\r\n            case native.EventAssetsManager.UPDATE_FAILED:\r\n                this.log(`hotupdate code: ${event.getEventCode()} assert id: ${event.getAssetId()} msg: ${event.getMessage()}`);\r\n                this._failCount++;\r\n                this._updating = false;\r\n                this._canRetry = true;\r\n                let retryResult = this.retry();\r\n                if(!retryResult)\r\n                {\r\n                    failed = true;\r\n                }\r\n                break;\r\n            // 更新过程出错\r\n            case native.EventAssetsManager.ERROR_UPDATING:\r\n                this.log(`hotupdate code: ${event.getEventCode()} assert id: ${event.getAssetId()} msg: ${event.getMessage()}`);\r\n                break;\r\n            // 解压错误\r\n            case native.EventAssetsManager.ERROR_DECOMPRESS:\r\n                this.log(`hotupdate code: ${event.getEventCode()} ERROR_DECOMPRESS`);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (failed) {\r\n            this._am.setEventCallback(null);\r\n            this._updating = false;\r\n            this.hotUpdateFinish(false);\r\n            \r\n        }\r\n\r\n        if (updateOver) {\r\n            this.isSettSearchPaths();\r\n            this.hotUpdateFinish(true);\r\n            \r\n        }\r\n    }\r\n\r\n    /**\r\n     * 热更完成\r\n     */\r\n    hotUpdateFinish(result: boolean) {\r\n        this.destory();\r\n        this.emit(HotUpdateEvent.HotUpdateFinish, result);\r\n    }\r\n\r\n    destory() {\r\n        this._am && this._am.setEventCallback(null);\r\n        this._am = null;\r\n    }\r\n\r\n    /**\r\n     * 重新下载失败\r\n     */\r\n    retry() {\r\n        if (this._failCount > 3) {\r\n            \r\n            return false;\r\n        }\r\n        if (!this._updating && this._canRetry) {\r\n            this._canRetry = false;\r\n            this._am.downloadFailedAssets();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    \r\n\r\n    unit8ArrayToString(array: Uint8Array): string {\r\n        let out: string;\r\n        let i: number;\r\n        let len: number;\r\n        let c: number;\r\n        let char2: number;\r\n        let char3: number;\r\n\r\n        out = \"\";\r\n        len = array.length;\r\n        i = 0;\r\n        while (i < len) {\r\n            c = array[i++];\r\n            switch (c >> 4) {\r\n                case 0:\r\n                case 1:\r\n                case 2:\r\n                case 3:\r\n                case 4:\r\n                case 5:\r\n                case 6:\r\n                case 7:\r\n                    // 0xxxxxxx\r\n                    out += String.fromCharCode(c);\r\n                    break;\r\n                case 12:\r\n                case 13:\r\n                    // 110x xxxx   10xx xxxx\r\n                    char2 = array[i++];\r\n                    out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f));\r\n                    break;\r\n                case 14:\r\n                    // 1110 xxxx  10xx xxxx  10xx xxxx\r\n                    char2 = array[i++];\r\n                    char3 = array[i++];\r\n                    out += String.fromCharCode(((c & 0x0f) << 12) | ((char2 & 0x3f) << 6) | ((char3 & 0x3f) << 0));\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * 更新热更进度\r\n     */\r\n    disPatchRateEvent(percent: number) {\r\n       this.emit(HotUpdateEvent.HotUpdateRate, percent);\r\n    }\r\n\r\n    emit(key: string, ...arg: any[]) {\r\n        director.emit(key, this._name, ...arg)\r\n    }\r\n\r\n    getStorePath() {\r\n        return this._storagePath\r\n    }\r\n}\r\n","/**\r\n * 热更事件\r\n */\r\nexport enum HotUpdateEvent {\r\n    // 版本检查\r\n    CheckVersionResult = \"CheckVersionResult\",\r\n    // 更新进度\r\n    HotUpdateRate = \"HotUpdateRate\",\r\n    // 更新完成\r\n    HotUpdateFinish = \"HotUpdateFinish\"\r\n}\r\n","export class InputMgr{\n    private STATE_NORMAL = 1;\n    private STATE_KEEP = 2;\n\n    private static _inst:InputMgr = null;\n    private _flags = {};\n    private _flagsMeta = {};\n    public static get inst():InputMgr{\n        if(!this._inst){\n            this._inst = new InputMgr();\n        }\n        return this._inst;\n    }\n\n    public setFlag(flag:string,keep?:boolean,meta?:any){\n        this._flags[flag] = keep? this.STATE_KEEP:this.STATE_NORMAL;\n        if(meta != null){\n            this._flagsMeta[flag] = meta;\n        }\n    }\n\n    public removeFlag(flag:string){\n        delete this._flags[flag];\n    }\n\n    public hasFlag(flag:string):boolean{\n        return !!this._flags[flag];\n    }\n\n    public getMetaByFlag(flag:string):any{\n        return this._flagsMeta[flag];\n    }\n\n    public update(){\n        for(let k in this._flags){\n            if(this._flags[k] != this.STATE_KEEP){\n                this._flags[k] = 0;\n            }\n        }\n    }\n}","/*\r\n * @Author: dgflash\r\n * @Date: 2021-08-18 17:00:59\r\n * @LastEditors: dgflash\r\n * @LastEditTime: 2023-08-22 15:48:02\r\n */\r\n\r\nimport { JsonAsset } from \"cc\";\r\nimport { resLoader } from \"../../base/loader/ResLoader\";\r\n\r\n\r\n/** 资源路径 */\r\nconst path: string = \"config/game/\";\r\n\r\n/** 数据缓存 */\r\nconst data: Map<string, any> = new Map();\r\n\r\n/** JSON数据表工具 */\r\nexport class JsonUtil {\r\n    /**\r\n     * 通知资源名从缓存中获取一个Json数据表\r\n     * @param name  资源名\r\n     */\r\n    static get(name: string): any {\r\n        if (data.has(name))\r\n            return data.get(name);\r\n    }\r\n\r\n    /**\r\n     * 通知资源名加载Json数据表\r\n     * @param name      资源名\r\n     * @param callback  资源加载完成回调\r\n     */\r\n    static load(name: string, callback: Function): void {\r\n        if (data.has(name))\r\n            callback(data.get(name));\r\n        else {\r\n            const url = path + name;\r\n            resLoader.load(url, JsonAsset, (err: Error | null, content: JsonAsset) => {\r\n                if (err) {\r\n                    console.warn(err.message);\r\n                    callback(null);\r\n                }\r\n                else {\r\n                    data.set(name, content.json);\r\n                    resLoader.release(url);\r\n                    callback(content.json);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 异步加载Json数据表\r\n     * @param name 资源名\r\n     */\r\n    static loadAsync(name: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            if (data.has(name)) {\r\n                resolve(data.get(name))\r\n            }\r\n            else {\r\n                const url = path + name;\r\n                resLoader.load(url, JsonAsset, (err: Error | null, content: JsonAsset) => {\r\n                    if (err) {\r\n                        console.warn(err.message);\r\n                        resolve(null);\r\n                    }\r\n                    else {\r\n                        data.set(name, content.json);\r\n                        resLoader.release(url);\r\n                        resolve(content.json);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /** 加载所有配置表数据到缓存中 */\r\n    static loadDirAsync(): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            resLoader.loadDir(path, (err: Error | null, assets: JsonAsset[]) => {\r\n                if (err) {\r\n                    console.warn(err.message);\r\n                    resolve(false);\r\n                }\r\n                else {\r\n                    assets.forEach(asset => {\r\n                        data.set(asset.name, asset.json);\r\n                    });\r\n                    resLoader.releaseDir(path);\r\n                    resolve(true);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 通过指定资源名释放资源内存\r\n     * @param name 资源名\r\n     */\r\n    static release(name: string) {\r\n        data.delete(name);\r\n    }\r\n\r\n    /** 清理所有数据 */\r\n    static clear() {\r\n        data.clear();\r\n    }\r\n}","import { _decorator, Component, Label, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('tgxLayout_UIWaiting')\nexport class Layout_UIWaiting extends Component {\n    @property(Node)\n    loadingIcon:Node;\n\n    @property(Label)\n    loadingTxt:Label;\n}\n\n","import { error } from \"cc\";\r\nimport { log } from \"cc\";\r\n\r\n/** 日志类型 */\r\nexport enum LogType {\r\n    /** 网络层日志 */\r\n    Net = 1,\r\n    /** 数据结构层日志 */\r\n    Model = 2,\r\n    /** 业务逻辑层日志 */\r\n    Business = 4,\r\n    /** 视图层日志 */\r\n    View = 8,\r\n    /** 配置日志 */\r\n    Config = 16,\r\n    /** 标准日志 */\r\n    Trace = 32,\r\n}\r\n\r\nvar names = {\r\n    \"1\": \"网络日志\",\r\n    \"2\": \"数据日志\",\r\n    \"4\": \"业务日志\",\r\n    \"8\": \"视图日志\",\r\n    \"16\": \"配置日志\",\r\n    \"32\": \"标准日志\",\r\n}\r\n\r\n/** \r\n * 日志管理 \r\n * @help    https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037904&doc_id=2873565\r\n * @example\r\noops.log.trace(\"默认标准日志\");\r\noops.log.logConfig(\"灰色配置日志\");\r\noops.log.logNet(\"橙色网络日志\");\r\noops.log.logModel(\"紫色数据日志\");\r\noops.log.logBusiness(\"蓝色业务日志\");\r\noops.log.logView(\"绿色视图日志\");\r\n */\r\nexport class Logger {\r\n    private static tags: number = 0;\r\n\r\n    private static init(): void {\r\n        this.tags =\r\n            LogType.Net |\r\n            LogType.Model |\r\n            LogType.Business |\r\n            LogType.View |\r\n            LogType.Config |\r\n            LogType.Trace;\r\n    }\r\n\r\n    /** \r\n     * 设置显示的日志类型，默认值为不显示任何类型日志\r\n     * @example\r\noops.log.setTags(LogType.View|LogType.Business)\r\n     */\r\n    static setTags(tag: LogType = null!) {\r\n        if (tag) {\r\n            this.tags = tag;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 记录开始计时\r\n     * @param describe  标题描述\r\n     * @example\r\noops.log.start();\r\n...\r\n省略N行代码\r\n...\r\noops.log.end();\r\n     */\r\n    static start(describe: string = \"Time\"): void {\r\n        console.time(describe);\r\n    }\r\n\r\n    /**\r\n     * 打印范围内时间消耗\r\n     * @param describe  标题描述\r\n     * @example\r\noops.log.start();\r\n...\r\n省略N行代码\r\n...\r\noops.log.end();\r\n     */\r\n    static end(describe: string = \"Time\"): void {\r\n        console.timeEnd(describe);\r\n    }\r\n\r\n    /**\r\n     * 打印表格\r\n     * @param msg       日志消息\r\n     * @param describe  标题描述\r\n     * @example\r\nvar object:any = {uid:1000, name:\"oops\"};\r\noops.log.table(object);\r\n     */\r\n    static table(msg: any, describe?: string) {\r\n        if (!this.isOpen(LogType.Trace)) {\r\n            return;\r\n        }\r\n        console.table(msg);\r\n    }\r\n\r\n    /**\r\n     * 打印标准日志\r\n     * @param msg       日志消息\r\n     */\r\n    static trace(msg: any, color: string = \"color:#000000;\") {\r\n        // 标记没有打开，不打印该日志\r\n        if (!this.isOpen(LogType.Trace)) {\r\n            return;\r\n\r\n        }\r\n        var backLog = console.log || log;\r\n        backLog.call(null, \"%c%s%s\", color, this.getDateString(), msg);\r\n    }\r\n\r\n    /**\r\n     * 打印错误日志\r\n     * @param msg       日志消息\r\n     */\r\n    static error(msg: any, color: string = \"color:#ff0000;\") {\r\n        // 标记没有打开，不打印该日志\r\n        if (!this.isOpen(LogType.Trace)) {\r\n            return;\r\n\r\n        }\r\n        var backLog = console.log || log;\r\n        backLog.call(null, \"%c%s%s\", color, this.getDateString(), msg);\r\n    }\r\n\r\n\r\n    /**\r\n     * 打印网络层日志\r\n     * @param msg       日志消息\r\n     * @param describe  标题描述\r\n     */\r\n    static logNet(msg: any, describe?: string) {\r\n        this.orange(LogType.Net, msg, describe);\r\n    }\r\n\r\n    /**\r\n     * 打印数据层日志\r\n     * @param msg       日志消息\r\n     * @param describe  标题描述\r\n     */\r\n    static logModel(msg: any, describe?: string) {\r\n        this.violet(LogType.Model, msg, describe);\r\n    }\r\n\r\n    /**\r\n     * 打印业务层日志\r\n     * @param msg       日志消息\r\n     * @param describe  标题描述\r\n     */\r\n    static logBusiness(msg: any, describe?: string) {\r\n        this.blue(LogType.Business, msg, describe);\r\n    }\r\n\r\n    /**\r\n     * 打印视图日志\r\n     * @param msg       日志消息\r\n     * @param describe  标题描述\r\n     */\r\n    static logView(msg: any, describe?: string) {\r\n        this.green(LogType.View, msg, describe);\r\n    }\r\n\r\n    /** 打印配置日志 */\r\n    static logConfig(msg: any, describe?: string) {\r\n        this.gray(LogType.Config, msg, describe);\r\n    }\r\n\r\n    // 橙色\r\n    private static orange(tag: LogType, msg: any, describe?: string) {\r\n        this.print(tag, msg, \"color:#ee7700;\", describe)\r\n    }\r\n\r\n    // 紫色\r\n    private static violet(tag: LogType, msg: any, describe?: string) {\r\n        this.print(tag, msg, \"color:Violet;\", describe)\r\n    }\r\n\r\n    // 蓝色\r\n    private static blue(tag: LogType, msg: any, describe?: string) {\r\n        this.print(tag, msg, \"color:#3a5fcd;\", describe)\r\n    }\r\n\r\n    // 绿色\r\n    private static green(tag: LogType, msg: any, describe?: string) {\r\n        this.print(tag, msg, \"color:green;\", describe)\r\n    }\r\n\r\n    // 灰色\r\n    private static gray(tag: LogType, msg: any, describe?: string) {\r\n        this.print(tag, msg, \"color:gray;\", describe)\r\n    }\r\n\r\n    private static isOpen(tag: LogType): boolean {\r\n        return (this.tags & tag) != 0;\r\n    }\r\n\r\n    /**\r\n     * 输出日志\r\n     * @param tag       日志类型\r\n     * @param msg       日志内容\r\n     * @param color     日志文本颜色\r\n     * @param describe  日志标题描述\r\n     */\r\n    private static print(tag: LogType, msg: any, color?: string, describe?: string) {\r\n        // 标记没有打开，不打印该日志\r\n        if (!this.isOpen(tag)) {\r\n            return;\r\n\r\n        }\r\n        const backLog = console.log || log;\r\n        const type = names[tag];\r\n        if (describe) {\r\n            backLog.call(null, \"%c%s%s%s:%s%o\", color, this.getDateString(), '[' + type + ']', this.stack(5), describe, msg);\r\n        }\r\n        else {\r\n            backLog.call(null, \"%c%s%s%s:%o\", color, this.getDateString(), '[' + type + ']', this.stack(5), msg);\r\n        }\r\n    }\r\n\r\n    private static stack(index: number): string {\r\n        const e = new Error();\r\n        const lines = e.stack!.split(\"\\n\");\r\n        const result: Array<any> = [];\r\n        lines.forEach((line) => {\r\n            line = line.substring(7);\r\n            var lineBreak = line.split(\" \");\r\n            if (lineBreak.length < 2) {\r\n                result.push(lineBreak[0]);\r\n            }\r\n            else {\r\n                result.push({ [lineBreak[0]]: lineBreak[1] });\r\n            }\r\n        });\r\n\r\n        let list: string[] = [];\r\n        let splitList: Array<string> = [];\r\n        if (index < result.length - 1) {\r\n            let value: string;\r\n            for (let a in result[index]) {\r\n                splitList = a.split(\".\");\r\n\r\n                if (splitList.length == 2) {\r\n                    list = splitList.concat();\r\n                }\r\n                else {\r\n                    value = result[index][a];\r\n                    const start = value!.lastIndexOf(\"/\");\r\n                    const end = value!.lastIndexOf(\".\");\r\n                    if (start > -1 && end > -1) {\r\n                        const r = value!.substring(start + 1, end);\r\n                        list.push(r);\r\n                    }\r\n                    else {\r\n                        list.push(value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (list.length == 1) {\r\n            return \"[\" + list[0] + \".ts]\";\r\n        }\r\n        else if (list.length == 2) {\r\n            return \"[\" + list[0] + \".ts->\" + list[1] + \"]\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    public static getDateString(): string {\r\n        let d = new Date();\r\n        let str = d.getHours().toString();\r\n        let timeStr = \"\";\r\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\r\n        str = d.getMinutes().toString();\r\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\r\n        str = d.getSeconds().toString();\r\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\r\n        str = d.getMilliseconds().toString();\r\n        if (str.length == 1) str = \"00\" + str;\r\n        if (str.length == 2) str = \"0\" + str;\r\n        timeStr += str;\r\n\r\n        timeStr = \"[\" + timeStr + \"]\";\r\n        return timeStr;\r\n    }\r\n}\r\n\r\n// @ts-ignore\r\nLogger.init();","\nconst PROP_MODULE = '__module__name__';\nconst PROP_IMPL_CLASS = '__impl__class__';\n\nlet defaultModule = 'resources';\n\n\nexport class ModuleContext {\n    public static setDefaultModule(moduleName) {\n        defaultModule = moduleName;\n    }\n\n    public static getDefaultModule(){\n        return defaultModule;\n    }\n\n    public static attachClassModule(cls, moduleName) {\n        cls[PROP_MODULE] = moduleName;\n    }\n\n    public static getClassModule(cls) {\n        return cls[PROP_MODULE] || defaultModule;\n    }\n\n    public static attachImplClass(cls, implCls) {\n        cls[PROP_IMPL_CLASS] = implCls;\n    }\n\n    public static attachModuleAndImplClass(cls, moduleName, implCls) {\n        cls[PROP_MODULE] = moduleName;\n        cls[PROP_IMPL_CLASS] = implCls;\n    }\n\n    public static getImplClass(cls) {\n        return cls[PROP_IMPL_CLASS] || cls;\n    }\n\n    public static createFromModule(cls) {\n        let implCls = this.getImplClass(cls) || cls;\n        return new implCls();\n    }\n}","export class ModuleDef {\r\n  /**\r\n   * @en basic bundle, used for basic scene and common ui\r\n   * @zh 基础 bundle，用于存放基础场景，公共UI\r\n   */\r\n  public static BASIC = 'module_basic';\r\n\r\n  /**\r\n   * @en billiards bundle, used for billiards scene and common ui\r\n   * @zh 用于存放台球相关的所有素材、场景和代码\r\n   */\r\n  public static BILLIARDS = 'module_billiards';\r\n\r\n  /**\r\n   * @en gomoku bundle, used for gomoku scene and related ui\r\n   * @zh 用于存放五子棋相关的所有素材\r\n   */\r\n  public static GOMOKU = 'module_gomoku';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放坦克大战相关的所有素材\r\n   */\r\n  public static TANK = 'module_tank';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（fruit版）相关的所有素材\r\n   */\r\n  public static SLOTS1 = 'module_slots1';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（animal版）相关的所有素材\r\n   */\r\n  public static SLOTS2 = 'module_slots2';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（sky版）相关的所有素材\r\n   */\r\n  public static SLOTS3 = 'module_slots3';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（tiger版）相关的所有素材\r\n   */\r\n  public static SLOTS4 = 'module_slots4';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（car版）相关的所有素材\r\n   */\r\n  public static SLOTS5 = 'module_slots5';\r\n\r\n  /**\r\n     * @en tank bundle, used for tank scene and related ui\r\n     * @zh 用于存放老虎机（海王版）相关的所有素材\r\n     */\r\n  public static SLOTS_SEA = 'module_slots_sea';\r\n\r\n  /**\r\n     * @en tank bundle, used for tank scene and related ui\r\n     * @zh 用于存放跳一跳相关的所有素材\r\n     */\r\n  public static TYT = 'module_tyt';\r\n\r\n  /**\r\n    * @en tank bundle, used for tank scene and related ui\r\n    * @zh 用于存放老虎机（龙）相关的所有素材\r\n    */\r\n  public static SLOTS_WATER_MARGIN = 'module_slots_water_margin';\r\n\r\n  /**\r\n    * @en tank bundle, used for tank scene and related ui\r\n    * @zh 用于存放老虎机（龙）相关的所有素材\r\n    */\r\n  public static TASK = 'module_task';\r\n\r\n  /**\r\n   * @en test bundle, used for test scene and related ui\r\n   * @zh 用于存放测试子游戏相关的所有素材\r\n   */\r\n  public static TEST = 'module_test';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放捕鱼相关的所有素材\r\n   */\r\n  public static FISH = 'module_fish';\r\n\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放捕鱼-鲨鱼相关的所有素材\r\n   */\r\n  public static FISH_SHARK = 'module_fish_shark';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放捕鱼-鲸鱼相关的所有素材\r\n   */\r\n  public static FISH_WHALE = 'module_fish_whale';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（鼠）相关的所有素材\r\n   */\r\n  public static SLOTS_MOUSE = 'module_slots_mouse';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（牛）相关的所有素材\r\n   */\r\n  public static SLOTS_OX = 'module_slots_ox';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（虎）相关的所有素材\r\n   */\r\n  public static SLOTS_TIGER = 'module_slots_tiger';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（兔）相关的所有素材\r\n   */\r\n  public static SLOTS_RABBIT = 'module_slots_rabbit';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（龙）相关的所有素材\r\n   */\r\n  public static SLOTS_DRAGON = 'module_slots_dragon';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（泼水节）相关的所有素材\r\n   */\r\n  public static SLOTS_SONGKRAN = 'module_slots_songkran';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放老虎机（寻龙探宝）相关的所有素材\r\n   */\r\n  public static SLOTS_DRAGONHATCH = 'module_slots_dragonhatch';\r\n  /**\r\n  * @en tank bundle, used for tank scene and related ui\r\n  * @zh 用于存放老虎机（亡灵大盗）相关的所有素材\r\n  */\r\n  public static SLOTS_WILDBANDITO = 'module_slots_wildBandito';\r\n  /**\r\n * @en tank bundle, used for tank scene and related ui\r\n * @zh 用于存放老虎机（冰火双娇）相关的所有素材\r\n */\r\n  public static SLOTS_ICEANDFIRE = 'module_slots_iceandfire';\r\n  /**\r\n  * @en tank bundle, used for tank scene and related ui\r\n  * @zh 用于存放老虎机（象财神）相关的所有素材\r\n  */\r\n  public static SLOTS_GANESHAGOLD = 'module_slots_ganeshagold';\r\n  /**\r\n  * @en tank bundle, used for tank scene and related ui\r\n  * @zh 用于存放老虎机（麻将）相关的所有素材\r\n  */\r\n    public static SLOTS_MJWAYS = 'module_slots_mjways';\r\n    /**\r\n  * @en tank bundle, used for tank scene and related ui\r\n  * @zh 用于存放老虎机（麻将）相关的所有素材\r\n  */\r\n    public static SLOTS_MJWAYS2 = 'module_slots_mjways2';\r\n  /**\r\n  * @zh 用于存放slots(麒麟) 相关的所有素材\r\n  */\r\n  public static SLOTS_KYLIN = 'module_slots_kylin';\r\n  /**\r\n   * @zh 用于存放slots(独角兽) 相关的所有素材\r\n   */\r\n  public static SLOTS_UNICORN = 'module_slots_unicorn';\r\n  /**\r\n   * @zh 用于存放slots(熊猫) 相关的所有素材\r\n   */\r\n  public static SLOTS_PANDA = 'module_slots_panda';\r\n  /**\r\n   * @zh 用于存放slots(小龙) 相关的所有素材\r\n   */\r\n  public static SLOTS_LOONG = 'module_slots_loong';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放扑克（牛牛）相关的所有素材\r\n   */\r\n  public static POKER_NIUNIU = 'module_poker_niuniu';\r\n  /**\r\n   * @en tank bundle, used for tank scene and related ui\r\n   * @zh 用于存放捕鱼_鲨鱼相关的所有素材\r\n   */\r\n  public static STAR_BASIC = 'star_basic';\r\n  /**\r\n  * @en tank bundle, used for tank scene and related ui\r\n  * @zh 用于存放越南跑得快相关的所有素材\r\n  */\r\n  public static POKER_PDK_YUENAN = 'module_poker_pdk_yuenan';\r\n\r\n  /**\r\n * @en tank bundle, used for tank scene and related ui\r\n * @zh 用于存放德州扑克相关的所有素材\r\n */\r\n  public static POKER_DEZHOU = 'module_poker_dezhou';\r\n\r\n  /**\r\n   * @zh 用于存放bingo青蛙 相关的所有素材\r\n   */\r\n  public static BINGO_FROG = 'module_bingo_frog';\r\n\r\n  public static SLOTS_DOUBLE_HAPPY = 'module_slots_double_happy'\r\n\r\n}\r\n","import { Button, Canvas, Color, EditBox, Graphics, Label, Layout, Mask, Node, PageView, ProgressBar, RichText, ScrollView, Size, Slider, Sprite, Toggle, UIOpacity, UIRenderer, UITransform, Widget, v3 } from \"cc\";\r\nimport { EDITOR_NOT_IN_PREVIEW } from \"cc/env\";\r\n\r\n// ========= 扩展 cc 提示声明 =========\r\n\r\n/** 扩展节点属性 */\r\ndeclare module \"cc\" {\r\n    interface Node {\r\n        uiGraphics: Graphics,\r\n        uiLabel: Label,\r\n        uiRichText: RichText,\r\n        uiSprite: Sprite,\r\n        uiButton: Button,\r\n        uiCanvas: Canvas,\r\n        uiEditBox: EditBox,\r\n        uiLayout: Layout,\r\n        uiPageView: PageView,\r\n        uiProgressBar: ProgressBar,\r\n        uiScrollView: ScrollView,\r\n        uiSlider: Slider,\r\n        uiToggle: Toggle,\r\n        uiWidget: Widget,\r\n        uiOpacity: UIOpacity,\r\n        uiTransform: UITransform,\r\n        uiMask: Mask;\r\n\r\n        /** 获取、设置节点的本地X坐标 */\r\n        x: number;\r\n        /** 获取、设置节点的本地Y坐标 */\r\n        y: number;\r\n        /** 获取、设置节点的本地Z坐标 */\r\n        z: number;\r\n        /** 获取、设置节点宽 */\r\n        w: number;\r\n        /** 获取、设置节点高 */\r\n        h: number;\r\n        /** 获取、设置节点尺寸 */\r\n        size: Size;\r\n        /** 获取、设置X轴锚点 */\r\n        anchor_x: number;\r\n        /** 获取、设置Y轴锚点 */\r\n        anchor_y: number;\r\n        /** 获取、设置节点透明度  */\r\n        opacity: number;\r\n        /** 获取、设置节点颜色  */\r\n        color: Color;\r\n        /** 获取、设置X轴缩放 */\r\n        scale_x: number;\r\n        /** 获取、设置Y轴缩放 */\r\n        scale_y: number;\r\n        /** 获取、设置Z轴缩放 */\r\n        scale_z: number;\r\n        /** 获取、设置节点的 X 欧拉角 */\r\n        angle_x: number;\r\n        /** 获取、设置节点的 Y 欧拉角 */\r\n        angle_y: number;\r\n        /** 获取、设置节点的 Z 欧拉角 */\r\n        angle_z: number;\r\n    }\r\n}\r\n\r\nif (!EDITOR_NOT_IN_PREVIEW) {\r\n    Object.defineProperty(Node.prototype, \"uiGraphics\", {\r\n        get: function () {\r\n            return this.getComponent(Graphics)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiLabel\", {\r\n        get: function () {\r\n            return this.getComponent(Label)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiRichText\", {\r\n        get: function () {\r\n            return this.getComponent(RichText)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiSprite\", {\r\n        get: function () {\r\n            return this.getComponent(Sprite)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiButton\", {\r\n        get: function () {\r\n            return this.getComponent(Button)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiCanvas\", {\r\n        get: function () {\r\n            return this.getComponent(Canvas)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiEditBox\", {\r\n        get: function () {\r\n            return this.getComponent(EditBox)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiLayout\", {\r\n        get: function () {\r\n            return this.getComponent(Layout)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiPageView\", {\r\n        get: function () {\r\n            return this.getComponent(PageView)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiProgressBar\", {\r\n        get: function () {\r\n            return this.getComponent(ProgressBar)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiScrollView\", {\r\n        get: function () {\r\n            return this.getComponent(ScrollView)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiSlider\", {\r\n        get: function () {\r\n            return this.getComponent(Slider)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiToggle\", {\r\n        get: function () {\r\n            return this.getComponent(Toggle)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiWidget\", {\r\n        get: function () {\r\n            return this.getComponent(Widget)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiOpacity\", {\r\n        get: function () {\r\n            return this.getComponent(UIOpacity)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiTransform\", {\r\n        get: function () {\r\n            return this.getComponent(UITransform)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    Object.defineProperty(Node.prototype, \"uiMask\", {\r\n        get: function () {\r\n            return this.getComponent(Mask)!;\r\n        },\r\n        set: function (value) { }\r\n    });\r\n\r\n    /** 获取、设置节点的 X 坐标 */\r\n    Object.defineProperty(Node.prototype, \"x\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.position.x;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setPosition(value, self.position.y);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Y 坐标 */\r\n    Object.defineProperty(Node.prototype, \"y\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.position.y;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setPosition(self.position.x, value);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Z 坐标 */\r\n    Object.defineProperty(Node.prototype, \"z\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.position.z;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setPosition(self.position.x, self.position.y, value);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的宽度 */\r\n    Object.defineProperty(Node.prototype, \"w\", {\r\n        configurable: true,\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.getComponent(UITransform)?.width ?? 0;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            (self.getComponent(UITransform) || self.addComponent(UITransform)).width = value;\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的高度 */\r\n    Object.defineProperty(Node.prototype, \"h\", {\r\n        configurable: true,\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.getComponent(UITransform)?.height ?? 0;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            (self.getComponent(UITransform) || self.addComponent(UITransform)).height = value;\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的尺寸 */\r\n    Object.defineProperty(Node.prototype, \"size\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            let uiTransform = self.getComponent(UITransform)!;\r\n            return new Size(uiTransform.width, uiTransform.height);\r\n        },\r\n        set: function (value: Size) {\r\n            let self: Node = this;\r\n            let uiTransform = self.getComponent(UITransform) || self.addComponent(UITransform);\r\n            uiTransform.width = value.width;\r\n            uiTransform.height = value.height;\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的透明度 */\r\n    Object.defineProperty(Node.prototype, \"opacity\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            let op = self.getComponent(UIOpacity);\r\n            if (op != null) {\r\n                return op.opacity;\r\n            }\r\n\r\n            let render = self.getComponent(UIRenderer);\r\n            if (render) {\r\n                return render.color.a;\r\n            }\r\n\r\n            return 255;\r\n        },\r\n\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            let op = self.getComponent(UIOpacity);\r\n            if (op != null) {\r\n                op.opacity = value;\r\n                return;\r\n            }\r\n\r\n            let render = self.getComponent(UIRenderer);\r\n            if (render) {\r\n                // 直接通过 color.a 设置透明度会有bug，没能直接生效，需要激活节点才生效\r\n                // (render.color.a as any) = value;\r\n\r\n                // 创建一个颜色缓存对象，避免每次都创建新对象\r\n                if (!this.$__color__) {\r\n                    this.$__color__ = new Color(render.color.r, render.color.g, render.color.b, value);\r\n                }\r\n                else {\r\n                    this.$__color__.a = value;\r\n                }\r\n                render.color = this.$__color__;     // 设置 color 对象则可以立刻生效\r\n            }\r\n            else {\r\n                self.addComponent(UIOpacity).opacity = value;\r\n            }\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的颜色 */\r\n    Object.defineProperty(Node.prototype, \"color\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.getComponent(UIRenderer)?.color;\r\n        },\r\n        set: function (value: Color) {\r\n            let self: Node = this;\r\n            let render = self.getComponent(UIRenderer);\r\n            render && (render.color = value);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 X 缩放系数 */\r\n    Object.defineProperty(Node.prototype, \"scale_x\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.scale.x;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.scale = v3(value, self.scale.y, self.scale.z);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Y 缩放系数 */\r\n    Object.defineProperty(Node.prototype, \"scale_y\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.scale.y;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.scale = v3(self.scale.x, value, self.scale.z);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Z 缩放系数 */\r\n    Object.defineProperty(Node.prototype, \"scale_z\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.scale.z;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.scale = v3(self.scale.x, self.scale.y, value);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的水平锚点 */\r\n    Object.defineProperty(Node.prototype, \"anchor_x\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.getComponent(UITransform)?.anchorX ?? 0.5;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            (self.getComponent(UITransform) || self.addComponent(UITransform)).anchorX = value;\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的垂直锚点 */\r\n    Object.defineProperty(Node.prototype, \"anchor_y\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.getComponent(UITransform)?.anchorY ?? 0.5;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            (self.getComponent(UITransform) || self.addComponent(UITransform)).anchorY = value;\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 X 欧拉角 */\r\n    Object.defineProperty(Node.prototype, \"angle_x\", {\r\n        get: function () {\r\n            let self: Node = this;\r\n            return self.eulerAngles.x;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setRotationFromEuler(value, self.eulerAngles.y, self.eulerAngles.z);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Y 欧拉角 */\r\n    Object.defineProperty(Node.prototype, \"angle_y\", {\r\n        get: function () {\r\n            return this.eulerAngles.y;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setRotationFromEuler(self.eulerAngles.x, value, self.eulerAngles.z);\r\n        }\r\n    });\r\n\r\n    /** 获取、设置节点的 Z 欧拉角 */\r\n    Object.defineProperty(Node.prototype, \"angle_z\", {\r\n        get: function () {\r\n            return this.eulerAngles.y;\r\n        },\r\n        set: function (value: number) {\r\n            let self: Node = this;\r\n            self.setRotationFromEuler(self.eulerAngles.x, self.eulerAngles.y, value);\r\n        }\r\n    });\r\n}","import { Vec3 } from \"cc\";\r\n\r\n/**\r\n * 数字处理类型\r\n */\r\nexport class Num {\r\n    /**\r\n     * 把字符串转为number类型(TS的number类型实际是float)\r\n     * @param strNum \r\n     */\r\n    public static parse(strNum: string | number): number {\r\n        let type = typeof (strNum);\r\n        if (type == \"string\")\r\n            return Number(strNum).valueOf();\r\n        else\r\n            return Math.floor(Number(strNum));\r\n    }\r\n\r\n\r\n    /**\r\n     * 取最大值\r\n     * @param num1 参数1\r\n     * @param num2 参数2\r\n     */\r\n    public static max(num1, num2) {\r\n        return Math.max(num1, num2);\r\n    }\r\n\r\n    /**\r\n     * 金币展示\r\n     * @param exchangeRate 兑换率\r\n     * @param val          金额\r\n     * @returns \r\n     */\r\n    public static exchangeToThousands(exchangeRate: number, val: number): string {\r\n        val = val / exchangeRate;\r\n        if (!isNaN(val)) {\r\n            var source = val.toFixed(2).split(\".\"); //按小数点分成2部分\r\n            source[0] = source[0].replace(new RegExp('(\\\\d)(?=(\\\\d{3})+$)', 'ig'), \"$1.\");//只将整数部分进行都好分割\r\n            let strArr: string[] = source[0].split(\".\");\r\n            let str: string = strArr.join(\",\") + \".\" + source[1];\r\n            return str;\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    }\r\n    \r\n    public static exchangeToThousands2(exchangeRate: number, val: number): string {\r\n        val = val / exchangeRate;\r\n        if (!isNaN(val)) {\r\n            var source = (val + \"\").split(\".\"); //按小数点分成2部分\r\n            source[0] = source[0].replace(new RegExp('(\\\\d)(?=(\\\\d{3})+$)', 'ig'), \"$1.\");//只将整数部分进行都好分割\r\n            let strArr: string[] = source[0].split(\".\");\r\n            let str: string;\r\n            if (source.length > 1) {\r\n                str = strArr.join(\",\") + \".\" + source[1];\r\n            } else {\r\n                str = strArr.join(\",\");\r\n            }\r\n            return str;\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    public static toThousandsBack(str: string): number {\r\n        let tempArr: string[] = str.split(\",\"); //按小数点分成2部分\r\n        let num: number = Number(tempArr.join(\"\"));\r\n        return num;\r\n    }\r\n\r\n    public static fixNum(exchangeRate: number, val: number): string {\r\n        let res = \"\";\r\n        let n: number = val / exchangeRate;\r\n        res = n.toFixed(2);\r\n        return res;\r\n    };\r\n\r\n    /**二阶贝塞尔曲线（t为占总时间比例）*/\r\n    public static twoBezier(p0: Vec3, p1: Vec3, p2: Vec3, t: number): Vec3 {\r\n        let x: number = Math.pow((1 - t), 2) * p0.x + 2 * t * (1 - t) * p1.x + Math.pow(t, 2) * p2.x;\r\n        let y: number = Math.pow((1 - t), 2) * p0.y + 2 * t * (1 - t) * p1.y + Math.pow(t, 2) * p2.y;\r\n        return new Vec3(x, y);\r\n    }\r\n\r\n    /**三阶贝塞尔曲线（t为占总时间比例）*/\r\n    public static threeBezier(p0: Vec3, p1: Vec3, p2: Vec3, p3: Vec3, t: number): Vec3 {\r\n        let x: number = Math.pow((1 - t), 3) * p0.x + 3 * t * Math.pow((1 - t), 2) * p1.x + 3 * Math.pow(t, 2) * (1 - t) * p2.x + Math.pow(t, 3) * p3.x;\r\n        let y: number = Math.pow((1 - t), 3) * p0.y + 3 * t * Math.pow((1 - t), 2) * p1.y + 3 * Math.pow(t, 2) * (1 - t) * p2.y + Math.pow(t, 3) * p3.y;\r\n        return new Vec3(x, y);\r\n    }\r\n}\r\n","import { UITransform } from 'cc';\r\nimport { screen } from 'cc';\r\nimport { view } from 'cc';\r\n\r\n\r\nimport { _decorator, Component, Node, Label } from 'cc';\r\nimport { UIMgr } from '../easy_ui_framework/UIMgr';\r\nimport { sys } from 'cc';\r\nimport { Vec3 } from 'cc';\r\nimport { macro } from 'cc';\r\nimport { ResolutionPolicy } from 'cc';\r\nimport { View } from 'cc';\r\nimport { math } from 'cc';\r\nimport { Widget } from 'cc';\r\nimport { find } from 'cc';\r\nimport { Canvas } from 'cc';\r\nimport { EnvMgr } from './EnvMgr';\r\nimport { CCBoolean } from 'cc';\r\nimport { native } from 'cc';\r\nimport { JSB } from 'cc/env';\r\nimport { director } from 'cc';\r\nimport { GameConst } from '../../scripts/GameConst';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n\r\n@ccclass('PortraitMgr')\r\nexport default class PortraitMgr extends Component {\r\n    @property({ tooltip: '是否只是给UI用的，不改变整个布局，比如solo上的帮助界面这种' })\r\n    isOnlyUI = false;\r\n    onLoad() {\r\n\r\n        //切成竖屏 pc web另外处理\r\n        if (sys.isBrowser && !sys.isMobile && !GameConst.isShowWebPortrait) {\r\n            if (!this.isOnlyUI) {\r\n                var designSize: math.Size = view.getDesignResolutionSize();\r\n                view.setDesignResolutionSize(designSize.height, designSize.width, ResolutionPolicy.SHOW_ALL);\r\n                this.onWindowResizePC();\r\n                //引擎bug，setDesignResolutionSize 没有生效。进行了一次蛋疼的处理\r\n                view.emit('canvas-resize');\r\n            }\r\n            else {\r\n                this.onWindowResizePC();\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            if (!this.isOnlyUI) {\r\n                if (sys.os == sys.OS.ANDROID) {\r\n                    native.reflection.callStaticMethod('com/cocos/game/AppActivity', 'setOrientation', '(Ljava/lang/String;)V', \"V\");\r\n\r\n                } else if (sys.os == sys.OS.IOS) {\r\n\r\n                }\r\n                view.setOrientation(macro.ORIENTATION_PORTRAIT);\r\n                var designSize: math.Size = view.getDesignResolutionSize();\r\n                view.setDesignResolutionSize(designSize.height, designSize.width, ResolutionPolicy.SHOW_ALL);\r\n                this.onWindowResizePC();\r\n                let node = director.getScene()?.getChildByName('Canvas');\r\n                const widget = node.getComponent(Widget);\r\n                if (widget) {\r\n                    widget.updateAlignment();\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.onWindowResizePC();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    async start() {\r\n\r\n\r\n\r\n    }\r\n    onDisable() {\r\n        //切成横屏 pc web另外处理\r\n        if (sys.isBrowser && !sys.isMobile && !GameConst.isShowWebPortrait) {\r\n            if (!this.isOnlyUI) {\r\n                var designSize: math.Size = view.getDesignResolutionSize();\r\n                view.setDesignResolutionSize(designSize.height, designSize.width, ResolutionPolicy.SHOW_ALL);\r\n                //引擎bug，setDesignResolutionSize 没有生效。进行了一次蛋疼的处理\r\n                view.emit('canvas-resize');\r\n            }\r\n        }\r\n        else {\r\n            if (!this.isOnlyUI) {\r\n                if (sys.os == sys.OS.ANDROID) {\r\n                    native.reflection.callStaticMethod('com/cocos/game/AppActivity', 'setOrientation', '(Ljava/lang/String;)V', \"H\");\r\n                } else if (sys.os == sys.OS.IOS) {\r\n\r\n                }\r\n                view.setOrientation(macro.ORIENTATION_LANDSCAPE);\r\n                var designSize: math.Size = view.getDesignResolutionSize();\r\n                view.setDesignResolutionSize(designSize.height, designSize.width, ResolutionPolicy.SHOW_ALL);\r\n            }\r\n\r\n        }\r\n    }\r\n    private onWindowResizePC() {\r\n        var widget = this.node.getComponent(Widget);\r\n        if (!widget) {\r\n            widget = this.node.addComponent(Widget);\r\n        }\r\n        // 设置 Widget 的属性以铺满屏幕\r\n        widget.isAlignTop = true;\r\n        widget.isAlignBottom = true;\r\n        widget.isAlignLeft = true;\r\n        widget.isAlignRight = true;\r\n\r\n        widget.top = 0;\r\n        widget.bottom = 0;\r\n        widget.left = 0;\r\n        widget.right = 0;\r\n\r\n        // 更新 Widget 组件，确保布局生效\r\n        widget.updateAlignment();\r\n    }\r\n\r\n}\r\n","import { Asset, AssetManager, __private, assetManager, error, js, resources, warn } from \"cc\";\r\n\r\nexport type AssetType<T = Asset> = __private.__types_globals__Constructor<T> | null;\r\nexport type Paths = string | string[];\r\nexport type ProgressCallback = ((finished: number, total: number, item: AssetManager.RequestItem) => void) | null;\r\nexport type CompleteCallback = any;\r\nexport type IRemoteOptions = { [k: string]: any; ext?: string; } | null;\r\n\r\ninterface ILoadResArgs<T extends Asset> {\r\n    /** 资源包名 */\r\n    bundle?: string;\r\n    /** 资源文件夹名 */\r\n    dir?: string;\r\n    /** 资源路径 */\r\n    paths: Paths;\r\n    /** 资源类型 */\r\n    type: AssetType<T>;\r\n    /** 资源加载进度 */\r\n    onProgress: ProgressCallback;\r\n    /** 资源加载完成 */\r\n    onComplete: CompleteCallback;\r\n    /** 是否为预加载 */\r\n    preload?: boolean;\r\n}\r\n\r\n/** \r\n * 游戏资源管理\r\n * 1、加载默认resources文件夹中资源\r\n * 2、加载默认bundle远程资源\r\n * 3、主动传递bundle名时，优先加载传递bundle名资源包中的资源\r\n * \r\n * @help    https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037901&doc_id=2873565\r\n */\r\nexport class ResLoader {\r\n    //#region 资源配置数据\r\n    /** 全局默认加载的资源包名 */\r\n    defaultBundleName: string = \"resources\";\r\n    /** 是否使用远程 CDN 资源 */\r\n    cdn: boolean = false;\r\n\r\n    /** 下载时的最大并发数 - 项目设置 -> 项目数据 -> 资源下载并发数，设置默认值；初始值为15 */\r\n    get maxConcurrency() {\r\n        return assetManager.downloader.maxConcurrency;\r\n    }\r\n    set maxConcurrency(value) {\r\n        assetManager.downloader.maxConcurrency = value;\r\n    }\r\n\r\n    /** 下载时每帧可以启动的最大请求数 - 默认值为15 */\r\n    get maxRequestsPerFrame() {\r\n        return assetManager.downloader.maxRequestsPerFrame;\r\n    }\r\n    set maxRequestsPerFrame(value) {\r\n        assetManager.downloader.maxRequestsPerFrame = value;\r\n    }\r\n\r\n    /** 失败重试次数 - 默认值为0 */\r\n    get maxRetryCount() {\r\n        return assetManager.downloader.maxRetryCount;\r\n    }\r\n    set maxRetryCount(value) {\r\n        assetManager.downloader.maxRetryCount = value;\r\n    }\r\n\r\n    /** 重试的间隔时间，单位为毫秒 - 默认值为2000毫秒 */\r\n    get retryInterval() {\r\n        return assetManager.downloader.retryInterval;\r\n    }\r\n    set retryInterval(value) {\r\n        assetManager.downloader.retryInterval = value;\r\n    }\r\n\r\n    /** 资源包配置 */\r\n    private bundles: Map<string, string> = new Map<string, string>();\r\n    //#endregion\r\n\r\n    init(config: any) {\r\n        this.cdn = config.enable;\r\n        for (let bundleName in config.packages) {\r\n            this.bundles.set(bundleName, config.packages[bundleName]);\r\n        }\r\n    }\r\n\r\n    //#region 加载远程资源\r\n    /**\r\n     * 加载远程资源\r\n     * @param url           资源地址\r\n     * @param options       资源参数，例：{ ext: \".png\" }\r\n     * @param onComplete    加载完成回调\r\n     * @example\r\nvar opt: IRemoteOptions = { ext: \".png\" };\r\nvar onComplete = (err: Error | null, data: ImageAsset) => {\r\n    const texture = new Texture2D();\r\n    texture.image = data;\r\n    \r\n    const spriteFrame = new SpriteFrame();\r\n    spriteFrame.texture = texture;\r\n    \r\n    var sprite = this.sprite.addComponent(Sprite);\r\n    sprite.spriteFrame = spriteFrame;\r\n}\r\noops.res.loadRemote<ImageAsset>(this.url, opt, onComplete);\r\n     */\r\n    loadRemote<T extends Asset>(url: string, options: IRemoteOptions | null, onComplete?: CompleteCallback): void;\r\n    loadRemote<T extends Asset>(url: string, onComplete?: CompleteCallback): void;\r\n    loadRemote<T extends Asset>(url: string, ...args: any): void {\r\n        let options: IRemoteOptions | null = null;\r\n        let onComplete: CompleteCallback = null;\r\n        if (args.length == 2) {\r\n            options = args[0];\r\n            onComplete = args[1];\r\n        }\r\n        else {\r\n            onComplete = args[0];\r\n        }\r\n        assetManager.loadRemote<T>(url, options, onComplete);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 资源包管理\r\n    /**\r\n     * 加载资源包\r\n     * @param url       资源地址\r\n     * @param v         资源MD5版本号\r\n     * @example\r\nvar serverUrl = \"http://192.168.1.8:8080/\";         // 服务器地址\r\nvar md5 = \"8e5c0\";                                  // Cocos Creator 构建后的MD5字符\r\nawait oops.res.loadBundle(serverUrl,md5);\r\n     */\r\n    loadBundle(url: string, v?: string) {\r\n        return new Promise<AssetManager.Bundle>((resolve, reject) => {\r\n            assetManager.loadBundle(url, { version: v }, (err, bundle: AssetManager.Bundle) => {\r\n                if (err) {\r\n                    return error(err);\r\n                }\r\n                resolve(bundle);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 释放资源包与包中所有资源\r\n     * @param bundleName 资源地址\r\n     */\r\n    removeBundle(bundleName: string) {\r\n        let bundle = assetManager.bundles.get(bundleName);\r\n        if (bundle) {\r\n            bundle.releaseAll();\r\n            assetManager.removeBundle(bundle);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 预加载资源\r\n    /**\r\n     * 加载一个资源\r\n     * @param bundleName    远程包名\r\n     * @param paths         资源路径\r\n     * @param type          资源类型\r\n     * @param onProgress    加载进度回调\r\n     * @param onComplete    加载完成回调\r\n     */\r\n    preload<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preload<T extends Asset>(bundleName: string, paths: Paths, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preload<T extends Asset>(bundleName: string, paths: Paths, onComplete?: CompleteCallback): void;\r\n    preload<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    preload<T extends Asset>(paths: Paths, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preload<T extends Asset>(paths: Paths, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preload<T extends Asset>(paths: Paths, onComplete?: CompleteCallback): void;\r\n    preload<T extends Asset>(paths: Paths, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    preload<T extends Asset>(\r\n        bundleName: string,\r\n        paths?: Paths | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onProgress?: ProgressCallback | CompleteCallback,\r\n        onComplete?: CompleteCallback,\r\n    ) {\r\n        let args: ILoadResArgs<Asset> | null = null;\r\n        if (typeof paths === \"string\" || paths instanceof Array) {\r\n            args = this.parseLoadResArgs(paths, type, onProgress, onComplete);\r\n            args.bundle = bundleName;\r\n        }\r\n        else {\r\n            args = this.parseLoadResArgs(bundleName, paths, type, onProgress);\r\n            args.bundle = this.defaultBundleName;\r\n        }\r\n        args.preload = true;\r\n        this.loadByArgs(args);\r\n    }\r\n\r\n    /**\r\n     * 异步加载一个资源\r\n     * @param bundleName    远程包名\r\n     * @param paths         资源路径\r\n     * @param type          资源类型\r\n     */\r\n    preloadAsync<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>): Promise<AssetManager.RequestItem>;\r\n    preloadAsync<T extends Asset>(bundleName: string, paths: Paths): Promise<AssetManager.RequestItem>;\r\n    preloadAsync<T extends Asset>(paths: Paths, type: AssetType<T>): Promise<AssetManager.RequestItem>;\r\n    preloadAsync<T extends Asset>(paths: Paths): Promise<AssetManager.RequestItem>;\r\n    preloadAsync<T extends Asset>(bundleName: string,\r\n        paths?: Paths | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback): Promise<AssetManager.RequestItem> {\r\n        return new Promise((resolve, reject) => {\r\n            this.preload(bundleName, paths, type, (err: Error | null, data: AssetManager.RequestItem) => {\r\n                if (err) {\r\n                    warn(err.message);\r\n                }\r\n                resolve(data);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 预加载文件夹中的资源\r\n     * @param bundleName    远程包名\r\n     * @param dir           文件夹名\r\n     * @param type          资源类型\r\n     * @param onProgress    加载进度回调\r\n     * @param onComplete    加载完成回调\r\n     */\r\n    preloadDir<T extends Asset>(bundleName: string, dir: string, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(bundleName: string, dir: string, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(bundleName: string, dir: string, onComplete?: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(bundleName: string, dir: string, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(dir: string, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(dir: string, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(dir: string, onComplete?: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(dir: string, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    preloadDir<T extends Asset>(\r\n        bundleName: string,\r\n        dir?: string | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onProgress?: ProgressCallback | CompleteCallback,\r\n        onComplete?: CompleteCallback,\r\n    ) {\r\n        let args: ILoadResArgs<T> | null = null;\r\n        if (typeof dir === \"string\") {\r\n            args = this.parseLoadResArgs(dir, type, onProgress, onComplete);\r\n            args.bundle = bundleName;\r\n        }\r\n        else {\r\n            args = this.parseLoadResArgs(bundleName, dir, type, onProgress);\r\n            args.bundle = this.defaultBundleName;\r\n        }\r\n        args.dir = args.paths as string;\r\n        args.preload = true;\r\n        this.loadByArgs(args);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 资源加载、获取、释放\r\n    /**\r\n     * 加载一个资源\r\n     * @param bundleName    远程包名\r\n     * @param paths         资源路径\r\n     * @param type          资源类型\r\n     * @param onProgress    加载进度回调\r\n     * @param onComplete    加载完成回调\r\n     * @example\r\noops.res.load(\"spine_path\", sp.SkeletonData, (err: Error | null, sd: sp.SkeletonData) => {\r\n\r\n});\r\n     */\r\n    load<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    load<T extends Asset>(bundleName: string, paths: Paths, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    load<T extends Asset>(bundleName: string, paths: Paths, onComplete?: CompleteCallback): void;\r\n    load<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    load<T extends Asset>(paths: Paths, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    load<T extends Asset>(paths: Paths, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    load<T extends Asset>(paths: Paths, onComplete?: CompleteCallback): void;\r\n    load<T extends Asset>(paths: Paths, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    load<T extends Asset>(\r\n        bundleName: string,\r\n        paths?: Paths | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onProgress?: ProgressCallback | CompleteCallback,\r\n        onComplete?: CompleteCallback,\r\n    ) {\r\n        let args: ILoadResArgs<T> | null = null;\r\n        if (typeof paths === \"string\" || paths instanceof Array) {\r\n            args = this.parseLoadResArgs(paths, type, onProgress, onComplete);\r\n            args.bundle = bundleName;\r\n        }\r\n        else {\r\n            args = this.parseLoadResArgs(bundleName, paths, type, onProgress);\r\n            args.bundle = this.defaultBundleName;\r\n        }\r\n        this.loadByArgs(args);\r\n    }\r\n\r\n    /**\r\n     * 异步加载一个资源\r\n     * @param bundleName    远程包名\r\n     * @param paths         资源路径\r\n     * @param type          资源类型\r\n     */\r\n    loadAsync<T extends Asset>(bundleName: string, paths: Paths, type: AssetType<T>): Promise<T>;\r\n    loadAsync<T extends Asset>(bundleName: string, paths: Paths): Promise<T>;\r\n    loadAsync<T extends Asset>(paths: Paths, type: AssetType<T>): Promise<T>;\r\n    loadAsync<T extends Asset>(paths: Paths): Promise<T>;\r\n    loadAsync<T extends Asset>(bundleName: string,\r\n        paths?: Paths | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback): Promise<T> {\r\n        return new Promise((resolve, reject) => {\r\n            this.load(bundleName, paths, type, (err: Error | null, asset: T) => {\r\n                if (err) {\r\n                    warn(err.message);\r\n                }\r\n                resolve(asset);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 加载文件夹中的资源\r\n     * @param bundleName    远程包名\r\n     * @param dir           文件夹名\r\n     * @param type          资源类型\r\n     * @param onProgress    加载进度回调\r\n     * @param onComplete    加载完成回调\r\n     * @example\r\n// 加载进度事件\r\nvar onProgressCallback = (finished: number, total: number, item: any) => {\r\n    console.log(\"资源加载进度\", finished, total);\r\n}\r\n\r\n// 加载完成事件\r\nvar onCompleteCallback = () => {\r\n    console.log(\"资源加载完成\");\r\n}\r\noops.res.loadDir(\"game\", onProgressCallback, onCompleteCallback);\r\n     */\r\n    loadDir<T extends Asset>(bundleName: string, dir: string, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    loadDir<T extends Asset>(bundleName: string, dir: string, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    loadDir<T extends Asset>(bundleName: string, dir: string, onComplete?: CompleteCallback): void;\r\n    loadDir<T extends Asset>(bundleName: string, dir: string, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    loadDir<T extends Asset>(dir: string, type: AssetType<T>, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    loadDir<T extends Asset>(dir: string, onProgress: ProgressCallback, onComplete: CompleteCallback): void;\r\n    loadDir<T extends Asset>(dir: string, onComplete?: CompleteCallback): void;\r\n    loadDir<T extends Asset>(dir: string, type: AssetType<T>, onComplete?: CompleteCallback): void;\r\n    loadDir<T extends Asset>(\r\n        bundleName: string,\r\n        dir?: string | AssetType<T> | ProgressCallback | CompleteCallback,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onProgress?: ProgressCallback | CompleteCallback,\r\n        onComplete?: CompleteCallback,\r\n    ) {\r\n        let args: ILoadResArgs<T> | null = null;\r\n        if (typeof dir === \"string\") {\r\n            args = this.parseLoadResArgs(dir, type, onProgress, onComplete);\r\n            args.bundle = bundleName;\r\n        }\r\n        else {\r\n            args = this.parseLoadResArgs(bundleName, dir, type, onProgress);\r\n            args.bundle = this.defaultBundleName;\r\n        }\r\n        args.dir = args.paths as string;\r\n        this.loadByArgs(args);\r\n    }\r\n\r\n    /**\r\n     * 通过资源相对路径释放资源\r\n     * @param path          资源路径\r\n     * @param bundleName    远程资源包名\r\n     */\r\n    release(path: string, bundleName: string = this.defaultBundleName) {\r\n        const bundle = assetManager.getBundle(bundleName);\r\n        if (bundle) {\r\n            const asset = bundle.get(path);\r\n            if (asset) {\r\n                this.releasePrefabtDepsRecursively(asset);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 通过相对文件夹路径删除所有文件夹中资源\r\n     * @param path          资源文件夹路径\r\n     * @param bundleName    远程资源包名\r\n     */\r\n    releaseDir(path: string, bundleName: string = this.defaultBundleName) {\r\n        const bundle: AssetManager.Bundle | null = assetManager.getBundle(bundleName);\r\n        if (bundle) {\r\n            var infos = bundle.getDirWithPath(path);\r\n            if (infos) {\r\n                infos.map((info) => {\r\n                    this.releasePrefabtDepsRecursively(info.uuid);\r\n                });\r\n            }\r\n\r\n            if (path == \"\" && bundleName != \"resources\") {\r\n                assetManager.removeBundle(bundle);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 释放预制依赖资源 */\r\n    private releasePrefabtDepsRecursively(uuid: string | Asset) {\r\n        if (uuid instanceof Asset) {\r\n            uuid.decRef();\r\n            // assetManager.releaseAsset(uuid);\r\n        }\r\n        else {\r\n            const asset = assetManager.assets.get(uuid);\r\n            if (asset) {\r\n                asset.decRef();\r\n                // assetManager.releaseAsset(asset);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取资源\r\n     * @param path          资源路径\r\n     * @param type          资源类型\r\n     * @param bundleName    远程资源包名\r\n     */\r\n    get<T extends Asset>(path: string, type?: AssetType<T>, bundleName: string = this.defaultBundleName): T | null {\r\n        var bundle: AssetManager.Bundle = assetManager.getBundle(bundleName)!;\r\n        return bundle.get(path, type);\r\n    }\r\n    //#endregion\r\n\r\n    private parseLoadResArgs<T extends Asset>(\r\n        paths: Paths,\r\n        type?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onProgress?: AssetType<T> | ProgressCallback | CompleteCallback,\r\n        onComplete?: ProgressCallback | CompleteCallback\r\n    ) {\r\n        let pathsOut: any = paths;\r\n        let typeOut: any = type;\r\n        let onProgressOut: any = onProgress;\r\n        let onCompleteOut: any = onComplete;\r\n        if (onComplete === undefined) {\r\n            const isValidType = js.isChildClassOf(type as AssetType, Asset);\r\n            if (onProgress) {\r\n                onCompleteOut = onProgress as CompleteCallback;\r\n                if (isValidType) {\r\n                    onProgressOut = null;\r\n                }\r\n            }\r\n            else if (onProgress === undefined && !isValidType) {\r\n                onCompleteOut = type as CompleteCallback;\r\n                onProgressOut = null;\r\n                typeOut = null;\r\n            }\r\n            if (onProgress !== undefined && !isValidType) {\r\n                onProgressOut = type as ProgressCallback;\r\n                typeOut = null;\r\n            }\r\n        }\r\n        return { paths: pathsOut, type: typeOut, onProgress: onProgressOut, onComplete: onCompleteOut };\r\n    }\r\n\r\n    private loadByBundleAndArgs<T extends Asset>(bundle: AssetManager.Bundle, args: ILoadResArgs<T>): void {\r\n        if (args.dir) {\r\n            if (args.preload) {\r\n                bundle.preloadDir(args.paths as string, args.type, args.onProgress, args.onComplete);\r\n            }\r\n            else {\r\n                bundle.loadDir(args.paths as string, args.type, args.onProgress, args.onComplete);\r\n            }\r\n        }\r\n        else {\r\n            if (args.preload) {\r\n                bundle.preload(args.paths as any, args.type, args.onProgress, args.onComplete);\r\n            }\r\n            else {\r\n                bundle.load(args.paths as any, args.type, args.onProgress, args.onComplete);\r\n            }\r\n        }\r\n    }\r\n\r\n    private async loadByArgs<T extends Asset>(args: ILoadResArgs<T>) {\r\n        if (args.bundle) {\r\n            let bundle = assetManager.bundles.get(args.bundle);\r\n            // 获取缓存中的资源包\r\n            if (bundle) {\r\n                this.loadByBundleAndArgs(bundle, args);\r\n            }\r\n            // 自动加载资源包\r\n            else {\r\n                const v = this.cdn ? this.bundles.get(args.bundle) : \"\";\r\n                bundle = await this.loadBundle(args.bundle, v);\r\n                if (bundle) this.loadByBundleAndArgs(bundle, args);\r\n            }\r\n        }\r\n        // 默认资源包\r\n        else {\r\n            this.loadByBundleAndArgs(resources, args);\r\n        }\r\n    }\r\n\r\n    /** 打印缓存中所有资源信息 */\r\n    dump() {\r\n        assetManager.assets.forEach((value: Asset, key: string) => {\r\n            console.log(assetManager.assets.get(key));\r\n        })\r\n        console.log(`当前资源总数:${assetManager.assets.count}`);\r\n    }\r\n}\r\n\r\nexport const resLoader = new ResLoader();","import { _decorator, Component, view, screen, Size, size, ResolutionPolicy,game,Game,Canvas,js,Widget } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst CHECK_INTERVAL = 0.1;\n\n@ccclass('tgxResolutionAutoFit')\nexport class ResolutionAutoFit extends Component {\n    private _oldSize:Size = size();\n    start() {\n        this.adjustResolutionPolicy();\n    }\n\n    private lastCheckTime = 0;\n    update(deltaTime: number) {\n        this.lastCheckTime+=deltaTime;\n        if(this.lastCheckTime < CHECK_INTERVAL){\n            return;\n        }\n        this.lastCheckTime = 0;\n\n        this.adjustResolutionPolicy();\n    }\n\n    adjustResolutionPolicy(){\n        let winSize = view.getVisibleSize();\n        if(!this._oldSize.equals(winSize)){\n            let ratio = winSize.width / winSize.height;\n            let drs = view.getDesignResolutionSize();\n            let drsRatio = drs.width / drs.height;\n\n            if(ratio > drsRatio){\n                //wider than desgin. fixed height\n                view.setResolutionPolicy(ResolutionPolicy.FIXED_HEIGHT);\n            }\n            else{\n                //\n                view.setResolutionPolicy(ResolutionPolicy.FIXED_WIDTH);\n            }\n            this._oldSize.set(winSize);\n        }\n    }\n}\n\n","import { loader, Constructor, resources, Asset, assetManager, AssetManager } from \"cc\";\r\nimport { GameConst } from \"../../scripts/GameConst\";\r\n\r\nclass ResItem {\r\n    public url: string;\r\n    public isLoading = false;\r\n    public callbackArr = [];\r\n}\r\n\r\nexport class ResourceMgr {\r\n    private static _inst: ResourceMgr = null;\r\n    public static get inst(): ResourceMgr {\r\n        if (!this._inst) {\r\n            this._inst = new ResourceMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n\r\n    private loadingQueue:[] = [];\r\n\r\n    public loadRes<T>(url: string, type: any, callback: (err, assets: T) => void) {\r\n        let cache = resources.get(url,type) as any;\r\n        if(cache){\r\n            if(callback){\r\n                setTimeout(()=>{\r\n                    callback(null,cache);\r\n                },10);\r\n            }\r\n            return;\r\n        }\r\n        let loadingItem:ResItem = this.loadingQueue[url];\r\n        if(!loadingItem){\r\n            loadingItem = this.loadingQueue[url] = new ResItem();\r\n            loadingItem.url = url;\r\n        }\r\n        loadingItem.callbackArr.push(callback);\r\n        if(!loadingItem.isLoading){\r\n            loadingItem.isLoading = true;\r\n            resources.load(url, type, (err,asset:Asset)=>{\r\n                delete this.loadingQueue[url];\r\n                for(let k in loadingItem.callbackArr){\r\n                    let cb = loadingItem.callbackArr[k];\r\n                    if(cb){\r\n                        cb(err,asset);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 通过子模块加载资源\r\n     * \r\n     **@param {string} moduleName 子模块名 --ModuleDef\r\n     * @param {string} resPath 资源路径\r\n     * @param {*} resType 资源类型\r\n     * @return {*}\r\n     * \r\n     */\r\n    public loadResByModuleBundle<T extends Asset>(moduleName:string,resPath:string,resType:Constructor<T>,onComplete?: ((err: Error | null, data: T) => void) | null):void\r\n    {\r\n        let bundle = assetManager.getBundle(moduleName);\r\n        if(bundle)\r\n        {\r\n            bundle.load(resPath, resType, onComplete);\r\n        }\r\n        else\r\n        {\r\n            if(onComplete) onComplete(new Error(\"bundle not find:\"+moduleName),null);\r\n        }\r\n        \r\n    }\r\n    public releaseByModuleBundle<T extends Asset>(moduleName:string,resPath:string,resType:Constructor<T>):void\r\n    {\r\n        let bundle = assetManager.getBundle(moduleName);\r\n        if(bundle)\r\n        {\r\n            bundle.release(resPath,resType);\r\n        }\r\n        else\r\n        {\r\n            \r\n        }\r\n        \r\n    }\r\n    /**\r\n     * 通过子模块预加载加载资源\r\n     * \r\n     **@param {string} moduleName 子模块名 --ModuleDef\r\n     * @param {string} resPath 资源路径\r\n     * @param {*} resType 资源类型\r\n     * @return {*}\r\n     * \r\n     */\r\n    public preloadResByModuleBundle(moduleName:string,paths: string | string[], resType: Constructor<Asset> | null, onComplete?: ((err: Error | null, data: any[]) => void) | null): void\r\n    {\r\n        let bundle = assetManager.getBundle(moduleName);\r\n        if(bundle)\r\n        {\r\n            bundle.preload(paths, resType, onComplete);\r\n        }\r\n        else\r\n        {\r\n            if(onComplete)  onComplete(new Error(\"bundle not find:\"+moduleName),null);\r\n        }\r\n    }\r\n    /**\r\n     * 加载对应地区的配置  比如area_config/china/xxx.json 只需要传入xxx.json 前缀这里会给拼接\r\n     * @param moduleName\r\n     * @param resPath \r\n     * @param resType \r\n     * @param onComplete \r\n     */\r\n    public loadAreaConfigByModuleBundle<T extends Asset>(moduleName:string,resPath:string,resType:Constructor<T>,onComplete?: ((err: Error | null, data: any) => void) | null):void\r\n    {\r\n        resPath = \"area_config/\"+GameConst.curArea+\"/\"+resPath;\r\n        ResourceMgr.inst.loadResByModuleBundle(moduleName,resPath,resType,onComplete);\r\n    }\r\n\r\n}","/**\n * @en call JSON mthods safely.\n * @zh 用于安全操作JSON相关函数\n * */\nexport class SafeJSON {\n    public static parse(text: string, reciver?: (key: any, value: any) => any): any {\n        try {\n            return JSON.parse(text, reciver);\n        } catch (error) {\n            console.log(error);\n            return null;\n        }\n    }\n\n    public static stringify(value: any, replacer?: (key: string, value: any) => any, space?: string | number) {\n        try {\n            return JSON.stringify(value, replacer, space);\n        } catch (error) {\n            return '';\n        }\n    }\n}","import { ModuleDef } from \"./ModuleDef\";\n\nexport class SceneDef {\n    /**\n     * @en start scene, must be loaded from this scene\n     * @zh 首场景，必须从这个场景启动\n     */\n    public static START = { name: 'start', bundle: 'main' };\n    /**\n     * @en login scene \n     * @zh 登录场景\n     * */\n    public static LOGIN = { name: 'login', bundle: ModuleDef.BASIC };\n    /**\n     * @en login scene , after login, will jump to this scene\n     * @zh 主大厅场景，登录成功后会首先进入这个场景\n    */\n    public static LOBBY = { name: 'lobby', bundle: ModuleDef.BASIC };\n    /**\n     * @en create role scene, after login, if user has no role, will jump to this scene\n     * @zh 创建角色场景，登录成功后如果没有创建过角色，会跳转到此场景\n     **/\n    public static CREATE_ROLE = { name: 'create_role', bundle: ModuleDef.BASIC };\n}","import { assetManager, director, AssetManager } from \"cc\";\r\nimport { UIMgr } from \"../easy_ui_framework/UIMgr\"\r\n\r\nexport class ISceneInfo {\r\n    name: string;\r\n    bundle?: string;\r\n}\r\n\r\nexport class SceneUtil {\r\n    static async loadBundleSync(bundleName: string): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            assetManager.loadBundle(bundleName, (err, bundle: AssetManager.Bundle) => {\r\n                if (err) {\r\n                    return resolve(false);\r\n                }\r\n                return resolve(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    static async unloadBundle(bundleName: string) {\r\n        if (!bundleName) {\r\n            return;\r\n        }\r\n        let bundle = assetManager.getBundle(bundleName);\r\n        if (bundle) {\r\n            bundle.releaseAll();\r\n            assetManager.removeBundle(bundle);\r\n        }\r\n    }\r\n\r\n    static async reloadScene() {\r\n        return new Promise((resolve, reject) => {\r\n            director.loadScene(director.getScene().name, () => {\r\n                resolve(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    static async loadScene(scene: ISceneInfo) {\r\n        return new Promise((resolve, reject) => {\r\n            tgx.AudioMgr.inst.audio.clearAll();//切换场景关闭所有声音\r\n            let bundle = assetManager.getBundle(scene.bundle);\r\n            if (bundle) {\r\n\r\n                director.loadScene(scene.name, () => {\r\n                    resolve(true);\r\n                });\r\n            }\r\n            else {\r\n                assetManager.loadBundle(scene.bundle, (err, bundle: AssetManager.Bundle) => {\r\n                    if (bundle) {\r\n                        director.loadScene(scene.name, () => {\r\n                            resolve(true);\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n}","/**\r\n * 单例模板\r\n */\r\nexport class Singleton<T> {\r\n    private static instance: Singleton<any>;\r\n\r\n    //返回单例\r\n    public static inst<T>(c: { new(): T;}): T {\r\n        if (!Singleton.instance) {\r\n            Singleton.instance = new c();\r\n        }\r\n        return Singleton.instance as T;\r\n    }\r\n\r\n}\r\n\r\n","import { gameConst } from './../module_poker_pdk_yuenan/script/PDK_define';\r\nimport { _decorator, assetManager, Component, director, game, Label, Prefab, Node, AssetManager, sys, profiler } from 'cc';\r\nimport { GameUILayers, GameUILayerNames } from '../scripts/GameUILayers';\r\n\r\nimport { ModuleDef } from '../scripts/ModuleDef';\r\nimport { SceneDef } from '../scripts/SceneDef';\r\n\r\nimport { PREVIEW } from 'cc/env';\r\nimport { GameConst } from '../scripts/GameConst';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n// ========== config begin =================\r\n//the first scene after preloading completes.\r\nconst _FPS = 61;\r\nconst _defaultModule = ModuleDef.BASIC;\r\nconst _firstScene = SceneDef.LOGIN;\r\nconst _preloadBundles = [ModuleDef.BASIC];\r\nconst _preloadScenes = [];\r\n\r\nconst _preloadRes = [\r\n        { bundle: ModuleDef.BASIC, url: 'ui_alert/UI_Alert', type: 'prefab' },\r\n        { bundle: ModuleDef.BASIC, url: 'ui_waiting/UI_Waiting', type: 'prefab' },\r\n        { bundle: ModuleDef.BASIC, url: 'ui_login/ui_login', type: 'prefab' },\r\n        //加载多语言基础包数据\r\n        { bundle: ModuleDef.BASIC, url: '', type: 'language' },\r\n        //加载配置\r\n        { bundle: ModuleDef.BASIC, url: 'config/ruleconfig', type: 'config' },\r\n        { bundle: ModuleDef.BASIC, url: 'config/headconfig', type: 'config' },\r\n        { bundle: ModuleDef.BASIC, url: 'roomconfig', type: 'areaConfig' },\r\n        {bundle: ModuleDef.BASIC, url: 'shopconfig', type: 'areaConfig' }\r\n    ];\r\n\r\n// ========= config end =====================\r\n\r\nif (_preloadScenes.indexOf(_firstScene) == -1) {\r\n    _preloadScenes.push(_firstScene);\r\n}\r\n\r\nfor (let i = 0; i < _preloadScenes.length; ++i) {\r\n    let sceneInfo = _preloadScenes[i];\r\n    let idx = _preloadBundles.indexOf(sceneInfo.bundle);\r\n    if (idx == -1) {\r\n        _preloadBundles.push(sceneInfo.bundle);\r\n    }\r\n    _preloadRes.push({ bundle: sceneInfo.bundle, url: sceneInfo.name, type: 'scene' });\r\n}\r\n\r\nconst _loadingText = ['Loading.', 'Loading..', 'Loading...'];\r\nconst _totalNum = _preloadBundles.length + _preloadRes.length;\r\n\r\n\r\n\r\n@ccclass('Start')\r\nexport class Start extends Component {\r\n    @property(Label)\r\n    txtLoading: Label;\r\n\r\n    @property(Prefab)\r\n    uiCanvasPrefab: Prefab;\r\n\r\n    @property(Node)\r\n    loadingBar: Node;\r\n\r\n    private _percent: string = '';\r\n    private _numCurrentLoaded = 0;\r\n\r\n    public static basicPreloadRes:Function;\r\n    \r\n    start() {\r\n        /**\r\n         * @en display stats in preview mode\r\n         * @zh 预览调试时，默认显示性能统计面板\r\n        */\r\n        if (PREVIEW) {\r\n            profiler.showStats();\r\n        }\r\n        var urlParams = this.getUrlParams();\r\n        const netLogParam = urlParams['netlog'];\r\n\r\n        \r\n    \r\n        // 将参数值转换为布尔值 (支持: true/false, 1/0, yes/no)\r\n        if (netLogParam !== undefined) {\r\n            GameConst.openNetworkLog = ['true', '1', 'yes'].includes(netLogParam.toLowerCase());\r\n        }\r\n\r\n        game.frameRate = _FPS;\r\n        tgx.UIMgr.inst.setup(this.uiCanvasPrefab, GameUILayers.NUM, GameUILayerNames);\r\n\r\n\r\n        this.preloadBundle(0);\r\n    }\r\n    getUrlParams(): Record<string, string> \r\n    {\r\n        const params: Record<string, string> = {};\r\n        const queryString = window.location.search.substring(1);\r\n        const paramPairs = queryString.split('&');\r\n        \r\n        for (const pair of paramPairs) {\r\n            const [key, value] = pair.split('=');\r\n            if (key) {\r\n                params[key] = decodeURIComponent(value || '');\r\n            }\r\n        }\r\n        \r\n        return params;\r\n    }\r\n\r\n    onResLoaded() {\r\n        this._numCurrentLoaded++;\r\n        this._percent = ~~(this._numCurrentLoaded / _totalNum * 100) + '%';\r\n    }\r\n\r\n    preloadBundle(idx: number) {\r\n        assetManager.loadBundle(_preloadBundles[idx], null, (err, bundle) => {\r\n            console.log('module:<' + _preloadBundles[idx] + '>loaded.');\r\n            idx++;\r\n            this.onResLoaded();\r\n            if (idx < _preloadBundles.length) {\r\n                this.preloadBundle(idx);\r\n            }\r\n            else {\r\n                \r\n                this.preloadRes(0);\r\n            }\r\n        });\r\n    }\r\n\r\n    preloadRes(idx: number) {\r\n        let res = _preloadRes[idx];\r\n        let onComplete = () => {\r\n            idx++;\r\n            this.onResLoaded();\r\n            if (idx < _preloadRes.length) {\r\n                this.preloadRes(idx);\r\n            }\r\n            else {\r\n                this.onPreloadingComplete();\r\n            }\r\n        }\r\n        if(res.bundle == ModuleDef.BASIC)\r\n        {\r\n            Start.basicPreloadRes(res,onComplete.bind(this));\r\n            return;\r\n        }\r\n        let bundle = assetManager.getBundle(res.bundle);\r\n        if (bundle) {\r\n            if (res.type == 'prefab') {\r\n                bundle.preload(res.url, Prefab, onComplete.bind(this));\r\n            }\r\n            else if (res.type == 'scene') {\r\n                bundle.preloadScene(res.url, onComplete.bind(this));\r\n            }\r\n        }\r\n    }\r\n\r\n    async onPreloadingComplete() {\r\n        director.loadScene(_firstScene.name, () => {\r\n            //设置场景的多语言显示\r\n            // UIMgr.inst.language.setSceneLanguage();\r\n        });\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (this._percent) {\r\n            this.txtLoading.string = 'Loading...' + this._percent;\r\n        }\r\n        else {\r\n            let idx = Math.floor(game.totalTime / 1000) % 3;\r\n            this.txtLoading.string = _loadingText[idx];\r\n        }\r\n        this.loadingBar.setScale(this._numCurrentLoaded / _totalNum, 1, 1);\r\n    }\r\n}\r\n\r\n\r\n","import { Num } from \"./Num\";\r\n\r\n\r\nexport class Str \r\n{\r\n    /**\r\n     * 字符串format函数,abc{0}{1}{2} 中的0、1、2位置会按顺序放入paramArr参数内容\r\n     * @param content 需要格式化的字符串\r\n     * @param paramArr 放入content的可变参数\r\n     */\r\n    public static format(content: string, ...paramArr: Array<any>): string\r\n    {                \r\n        for (let i = 0; i < paramArr.length; ++i)\r\n        {\r\n            let reg = Str.getFormatReg(i)       //替换的正则表达式\r\n            content = content.replace(reg, paramArr[i].toString());\r\n        }\r\n        return content;\r\n    }\r\n\r\n    //返回字符串全文替换的正则表达式\r\n    private static getFormatReg(i: number): RegExp\r\n    {\r\n        switch (i)\r\n        {\r\n            case 0: return /\\{0\\}/g;\r\n            case 1: return /\\{1\\}/g;\r\n            case 2: return /\\{2\\}/g;\r\n            case 3: return /\\{3\\}/g;\r\n            case 4: return /\\{4\\}/g;\r\n            case 5: return /\\{5\\}/g;\r\n            case 6: return /\\{6\\}/g;\r\n            case 7: return /\\{7\\}/g;\r\n            case 8: return /\\{8\\}/g;\r\n            case 9: return /\\{9\\}/g;\r\n            case 10: return /\\{10\\}/g;\r\n            case 11: return /\\{11\\}/g;\r\n            case 12: return /\\{12\\}/g;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 字符串分割成数组\r\n     * @param str 字符串\r\n     * @param sep 分割符\r\n     */\r\n    public static split(str: string, sep: string): string[]\r\n    {\r\n        return str.split(sep);\r\n    }\r\n\r\n    /**\r\n     * 生成随机字符串\r\n     * @param len 长度\r\n     */\r\n    public static getRandStr(len: number)\r\n    {\r\n        len = len || 32;\r\n        var $chars = 'ABCDEFGHIJKLMNOPQRSTUCWXYZabcdefghijklmnopqrstuvwxyz12345678p';\r\n        var maxPos = $chars.length;\r\n        var pwd = '';\r\n        for (let i = 0; i < len; i++)\r\n        {\r\n            pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n        }\r\n        return pwd;\r\n    }\r\n\r\n    /**\r\n     * 字符串删除空格后是否为空 true:空字符串\r\n     * @param param 判断字符串\r\n     */\r\n    public static isEmpty(param: string): boolean\r\n    {\r\n        if(typeof param == \"undefined\" || param == null) return true;\r\n        \r\n        param = Str.delSpace(param);//删除空格\r\n        return param == \"\";\r\n    }\r\n\r\n    /**\r\n     * 是否为网页链接\r\n     * @param param\r\n     */\r\n    public static isUrl(param: string): boolean\r\n    {\r\n        if (this.isEmpty(param)) return false;\r\n        return (this.isContain(param, \"http\"));\r\n    }\r\n\r\n    /**\r\n     * 删除字符串中所有空格\r\n     * @param param 字符串\r\n     */\r\n    public static delSpace(param: string): string\r\n    {\r\n        return param.replace(/\\s+/g, \"\");\r\n    }\r\n\r\n    /**\r\n     * 删除字符串左右空格\r\n     * @param param 字符串\r\n     */\r\n    public static delSpaceLr(param: string): string\r\n    {\r\n        return param.replace(/^\\s+|\\s+$/g, \"\");\r\n    }\r\n\r\n    /**\r\n     * 删除字符串种回车、换行\r\n     * @param param 字符串\r\n     */\r\n    public static delRn(param: string): string\r\n    {\r\n        return param.replace(/[\\r\\n]/g, \"\");\r\n    }\r\n\r\n    /**\r\n     * 返回显示的金额类型，默认显示2位小数\r\n     * @param money 金额\r\n     * @param num 显示小数点位数\r\n     */\r\n    public static decimal(money: string | number, num: number = 2): string\r\n    {\r\n        let param: number = typeof money == \"string\" ? parseFloat(money) : money;\r\n        return param.toFixed(num);\r\n    }\r\n\r\n    /**\r\n     * 两字符串当成float相加，保留两位小数\r\n     * @param str1  字符串1\r\n     * @param str2  字符串2\r\n     * @param num 显示小数点位数\r\n     * @returns \r\n     */\r\n    public static add2(str1: string, str2: string, num: number = 2)\r\n    {\r\n         // 辅助函数：移除字符串中的逗号并解析为浮点数\r\n        const parseNumber = (str: string): number => {\r\n        // 移除所有逗号\r\n        const cleanStr = str.replace(/,/g, '');\r\n        // 解析处理后的字符串\r\n        return parseFloat(cleanStr);\r\n       };\r\n\r\n    let f1 = parseNumber(str1);\r\n    let f2 = parseNumber(str2);\r\n    \r\n    // 使用 Str.decimal 方法格式化结果，保留指定小数位数\r\n    return Str.decimal(f1 + f2, num);\r\n    }\r\n\r\n    /**\r\n     * 把number进行格式化(TS的number类型实际是float)\r\n     * @param strNum \r\n     */\r\n    public static parse(num: number): string\r\n    {\r\n        return num.toString();\r\n    }\r\n\r\n    /**\r\n     * 进行url转码\r\n     * @param url \r\n     */\r\n    public static encodeURI(url: string): string\r\n    {\r\n        return encodeURI(url);\r\n    }\r\n\r\n    /**\r\n     * 加负号\r\n     * @param num 要加符号的数字\r\n     */\r\n    public static minus(strNum: string): string\r\n    {\r\n        let num = Num.parse(strNum);\r\n        num = -num;\r\n        return num.toString();\r\n    }\r\n\r\n    //字符串转ASCII码后，取整型值\r\n    public static getASCIINum(str: string): number\r\n    {\r\n        let res = 0;\r\n        let n = str.length;\r\n        for(let i = 0; i < n; ++i )\r\n        {\r\n            let num = str.charCodeAt(0);\r\n            res += num;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * tring中查找是否包含某个字符串\r\n     * @param str\r\n     * @param subStr\r\n     */\r\n    public static isContain(str: string, subStr: string): boolean\r\n    {\r\n        //return (str.search(subStr) != -1);\r\n        let pos = str.indexOf(subStr);\r\n        if (pos != -1) return true;\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * tring中查找是否以某个字符串开始\r\n     * @param str\r\n     * @param subStr\r\n     */\r\n    public static isBeg(str: string, subStr: string): boolean\r\n    {\r\n        return str.startsWith(subStr);\r\n    }\r\n\r\n\r\n}\r\n","\r\n//basic\r\nimport { ISceneInfo, SceneUtil } from \"./base/SceneUtils\";\r\nimport { AudioMgr } from \"./base/AudioMgr\";\r\nimport { InputMgr } from \"./base/InputMgr\";\r\nimport { ResourceMgr } from \"./base/ResourceMgr\";\r\nimport { SafeJSON } from \"./base/SafeJSON\";\r\nimport { ResolutionAutoFit } from \"./base/ResolutionAutoFit\";\r\nimport { ModuleContext } from \"./base/ModuleContext\";\r\n\r\n//camera\r\nimport { FPSCamera } from \"./easy_camera/FPSCamera\";\r\nimport { FollowCamera2D } from \"./easy_camera/FollowCamera2D\";\r\nimport { FreeCamera } from \"./easy_camera/FreeCamera\";\r\nimport { ThirdPersonCamera } from \"./easy_camera/ThirdPersonCamera\";\r\n\r\n//easy controller\r\nimport { CharacterMovement } from \"./easy_controller/CharacterMovement\";\r\nimport { CharacterMovement2D } from \"./easy_controller/CharacterMovement2D\";\r\nimport { EasyController, EasyControllerEvent } from \"./easy_controller/EasyController\";\r\nimport { ThirdPersonCameraCtrl } from \"./easy_controller/ThirdPersonCameraCtrl\";\r\nimport { UIJoystick } from \"./easy_controller/UIJoystick\";\r\n\r\n//ui framework\r\nimport { UIAlert, Layout_UIAlert } from \"./easy_ui_framework/alert/UIAlert\";\r\nimport { Layout_UIWaiting } from \"./easy_ui_framework/waiting/Layout_UIWaiting\";\r\nimport { UIWaiting } from \"./easy_ui_framework/waiting/UIWaiting\";\r\nimport { EventDispatcher } from \"./easy_ui_framework/EventDispatcher\";\r\nimport { UIController } from \"./easy_ui_framework/UIController\";\r\nimport { UILayers, UILayerNames } from \"./easy_ui_framework/UILayers\";\r\nimport { UIMgr } from \"./easy_ui_framework/UIMgr\";\r\nimport { URLUtils } from \"./base/URLUtils\";\r\nimport { UITip } from \"./easy_ui_framework/tip/UITip\";\r\n\r\nconst __tgx__ = {\r\n    //base\r\n    ISceneInfo,\r\n    SceneUtil,\r\n    AudioMgr,\r\n    InputMgr,\r\n    ResourceMgr,\r\n    SafeJSON,\r\n    ResolutionAutoFit,\r\n    ModuleContext,\r\n\r\n    //camera\r\n    FPSCamera,\r\n    FollowCamera2D,\r\n    FreeCamera,\r\n    ThirdPersonCamera,\r\n    //easy controller\r\n    CharacterMovement,\r\n    CharacterMovement2D,\r\n    EasyController,\r\n    EasyControllerEvent,\r\n    ThirdPersonCameraCtrl,\r\n    UIJoystick,\r\n    //ui framework\r\n    Layout_UIAlert,\r\n    UIAlert,\r\n    Layout_UIWaiting,\r\n    UIWaiting,\r\n    EventDispatcher,\r\n    UIController,\r\n    UILayers,\r\n    UILayerNames,\r\n    UIMgr,\r\n    URLUtils,\r\n    UITip,\r\n};\r\n\r\n\r\n(globalThis as any)['tgx'] = __tgx__;\r\n\r\n\r\n//下面是声明，编程时提示。\r\n\r\ndeclare global {\r\n    namespace globalThis {\r\n        namespace tgx {\r\n            export {\r\n                //base\r\n                ISceneInfo,\r\n                SceneUtil,\r\n                AudioMgr,\r\n                InputMgr,\r\n                ResourceMgr,\r\n                SafeJSON,\r\n                ResolutionAutoFit,\r\n                ModuleContext,\r\n\r\n                //camera\r\n                FPSCamera,\r\n                FollowCamera2D,\r\n                FreeCamera,\r\n                ThirdPersonCamera,\r\n                //easy controller\r\n                CharacterMovement,\r\n                CharacterMovement2D,\r\n                EasyController,\r\n                EasyControllerEvent,\r\n                ThirdPersonCameraCtrl,\r\n                UIJoystick,\r\n                //ui framework\r\n                Layout_UIAlert,\r\n                UIAlert,\r\n                Layout_UIWaiting,\r\n                UIWaiting,\r\n                EventDispatcher,\r\n                UIController,\r\n                UILayers,\r\n                UILayerNames,\r\n                UIMgr,\r\n                URLUtils,\r\n                UITip,\r\n            }\r\n        }\r\n        /**\r\n         * @en to ensure tgx_class is loaded before all other scripts, the implementation is placed in tgx_class.js and loaded as a plugin.\r\n         * @zh tgx_class 需要确保在所有脚本加载之前加载，所以 tgx_class 真正的定义放在了 tgx_class.js 里，并使用插件方式加载。\r\n        */\r\n        const tgx_class: (module: string, superCls?: Function) => any;\r\n    }\r\n}","import { _decorator, Component, Node, Vec3, v3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\nconst v3_1 = v3();\nconst v3_2 = v3();\n\nconst ROTATION_STRENGTH = 20.0;\n\n@ccclass('tgxThirdPersonCamera')\nexport class ThirdPersonCamera extends Component {\n    @property(Node)\n    target: Node;\n\n    @property\n    lookAtOffset: Vec3 = v3();\n\n    @property\n    zoomSensitivity: number = 1.0;\n\n    @property\n    lenMin: number = 1.0;\n\n    @property\n    lenMax: number = 10.0;\n\n    @property\n    len: number = 5;\n\n    @property\n    rotateVHSeparately: boolean = false;\n\n    @property\n    tweenTime:number = 0.2;\n\n    protected _targetLen: number = 0;\n    protected _targetAngles: Vec3 = v3();\n\n    start(){\n        this._targetLen = this.len;\n        this._targetAngles.set(this.node.eulerAngles);\n    }\n\n    setLenFactor(factor: number) {\n        let len = (this.lenMax - this.lenMin) * factor + this.lenMin;\n        this._targetLen = len;\n    }\n\n    setTargetAngles(x: number, y: number, z: number) {\n        this._targetAngles.set(x, y, z);\n    }\n\n    lateUpdate(deltaTime: number) {\n        if (!this.target) {\n            return;\n        }\n        const t = Math.min(deltaTime / this.tweenTime, 1.0);\n        //rotation\n        v3_1.set(this.node.eulerAngles);\n        Vec3.lerp(v3_1, v3_1, this._targetAngles, t);\n        this.node.setRotationFromEuler(v3_1);\n\n        //lookat\n        v3_1.set(this.target.worldPosition);\n        v3_1.add(this.lookAtOffset);\n\n        //len and position\n        this.len = this.len * (1.0 - t) + this._targetLen * t;\n        v3_2.set(this.node.forward);\n        v3_2.multiplyScalar(this.len);\n\n        v3_1.subtract(v3_2);\n        this.node.setPosition(v3_1);\n    }\n\n    onCameraRotate(deltaX: number, deltaY: number) {\n        let eulerAngles = this.node.eulerAngles;\n        if (this.rotateVHSeparately) {\n            if (Math.abs(deltaX) > Math.abs(deltaY)) {\n                deltaY = 0;\n            }\n            else {\n                deltaX = 0;\n            }\n        }\n        this._targetAngles.set(eulerAngles.x + deltaX * ROTATION_STRENGTH, eulerAngles.y + deltaY * ROTATION_STRENGTH, eulerAngles.z);\n    }\n\n    onCameraZoom(delta: number) {\n        this._targetLen += delta * this.zoomSensitivity;\n        if (this._targetLen < this.lenMin) {\n            this._targetLen = this.lenMin;\n        }\n        if (this._targetLen > this.lenMax) {\n            this._targetLen = this.lenMax;\n        }\n    }\n}\n\n","import { _decorator, Component, Node } from 'cc';\nimport { ThirdPersonCamera } from '../easy_camera/ThirdPersonCamera';\nimport { EasyController, EasyControllerEvent } from './EasyController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('tgxThirdPersonCameraCtrl')\nexport class ThirdPersonCameraCtrl extends ThirdPersonCamera {\n    start() {\n        EasyController.on(EasyControllerEvent.CAMERA_ROTATE, this.onCameraRotate, this);\n        EasyController.on(EasyControllerEvent.CAMERA_ZOOM, this.onCameraZoom, this);\n\n        this._targetLen = this.len;\n        this._targetAngles.set(this.node.eulerAngles);\n    }\n\n    onDestroy() {\n        EasyController.off(EasyControllerEvent.CAMERA_ROTATE, this.onCameraRotate, this);\n        EasyController.off(EasyControllerEvent.CAMERA_ZOOM, this.onCameraZoom, this);\n    }\n}\n\n\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//读取csv文件类\r\nexport class ToolCsv\r\n{\r\n\r\n    //解析csv文件\r\n    public static parseCSVData(csvData: string) : string[][]\r\n    {\r\n        //根据换行符分割数据\r\n        let lines = csvData.split('\\n');\r\n\r\n        //2维表格\r\n        let tableData: string[][] = [];\r\n        //循环解析每行数据\r\n        for (let i = 0; i < lines.length; i++) {\r\n            let line = lines[i].trim();//去掉头尾空格\r\n            if (line === '') {\r\n                continue;\r\n            }\r\n            //使用逗号分割一行数据\r\n            let cells = line.split(',');\r\n            //把一行的所有数据添加到表格\r\n            tableData.push(cells);\r\n        }\r\n        console.log(tableData);\r\n        return tableData;\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Vec2, v2  } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * 坐标变换工具类\r\n */\r\nexport class ToolPos  {\r\n    /**\r\n     * 得到一个节点的世界坐标\r\n     * node的原点在中心\r\n     * @param {*} node\r\n     */\r\n    public static localConvertWorldPointAR(node): Vec2\r\n    {\r\n        if (node) {\r\n            return node.convertToWorldSpaceAR( v2(0, 0));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 得到一个节点的世界坐标\r\n     * node的原点在左下边\r\n     * @param {*} node\r\n     */\r\n    public static localConvertWorldPoint(node): Vec2\r\n    {\r\n        if (node) {\r\n            return node.convertToWorldSpace(v2(0, 0));\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * 把一个世界坐标的点，转换到某个节点下的坐标\r\n     * 原点在node中心\r\n     * @param {*} node\r\n     * @param {*} worldPoint\r\n     */\r\n    public static worldConvertLocalPointAR(node, worldPoint): Vec2\r\n    {\r\n        if (node) {\r\n            return node.convertToNodeSpaceAR(worldPoint);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 把一个世界坐标的点，转换到某个节点下的坐标\r\n     * 原点在node左下角\r\n     * @param {*} node\r\n     * @param {*} worldPoint\r\n     */\r\n    public static worldConvertLocalPoint(node, worldPoint): Vec2\r\n    {\r\n        if (node) {\r\n            return node.convertToNodeSpace(worldPoint);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 把一个节点的本地坐标转到另一个节点的本地坐标下\r\n     * 原点在node中心\r\n     * @param {*} node\r\n     * @param {*} targetNode\r\n     */\r\n    public static convertOtherNodeSpaceAR(node, targetNode): Vec2\r\n    {\r\n        if (!node || !targetNode) {\r\n            return null;\r\n        }\r\n        //先转成世界坐标\r\n        let worldPoint = this.localConvertWorldPointAR(node);\r\n        return this.worldConvertLocalPointAR(targetNode, worldPoint);\r\n    }\r\n\r\n    /**\r\n     * 把一个节点的本地坐标转到另一个节点的本地坐标下\r\n     * 原点在node左下\r\n     * @param {*} node\r\n     * @param {*} targetNode\r\n     */\r\n    public static convertOtherNodeSpace(node, targetNode): Vec2\r\n    {\r\n        if (!node || !targetNode) {\r\n            return null;\r\n        }\r\n        //先转成世界坐标\r\n        let worldPoint = this.localConvertWorldPoint(node);\r\n        return this.worldConvertLocalPoint(targetNode, worldPoint);\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//ui工具类\r\nexport class toolUI {\r\n\r\n    /**\r\n     * 查找所有子节点，然后回调\r\n     * @param node 被查找的节点\r\n     * @param callback 查找成功一个节点后回调的函数\r\n     */\r\n    public static  traverseAllChildren(node: Node, callback: (child: Node) => void) {\r\n        // 先对当前节点执行回调函数（如果有需要的话）\r\n        callback(node);\r\n    \r\n        // 获取当前节点的子节点数组\r\n        const children = node.children;\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n            // 递归调用自身，继续遍历子节点\r\n            toolUI.traverseAllChildren(child, callback);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Node, EventTouch, Touch, Component, UITransform, Input, EventKeyboard, KeyCode, v2, Vec3, input, Scene, director, EventMouse, macro, view, screen, isValid } from 'cc';\nimport { EasyControllerEvent } from './EasyController';\nconst { ccclass, property } = _decorator;\n\n/****\n * split screen into three parts.\n * ---------------------------------------------\n *                                              |\n *           1.camera rotation zone             |\n *                                              |\n *----------------------------------------------|\n *                      |                       |\n * 2.movement ctrl zone  | 3.camera rotation zone|\n *                      |                       |\n * ----------------------------------------------\n * \n * multi-touch for camera zoom.\n *  */\n\n@ccclass('tgxUI_Joystick')\nexport class UI_Joystick extends Component {\n\n    private static _inst: UI_Joystick = null;\n    public static get inst(): UI_Joystick {\n        return this._inst;\n    }\n\n\n    private _ctrlRoot: UITransform = null;\n    private _ctrlPointer: Node = null;\n    private _buttons: Node = null;\n\n    private _cameraSensitivity: number = 0.1;\n    private _distanceOfTwoTouchPoint: number = 0;\n\n    private _movementTouch: Touch = null;\n    private _cameraTouchA: Touch = null;\n    private _cameraTouchB: Touch = null;\n\n    private _fullscreen:UITransform = null;\n    private _scene: Scene = null;\n\n    private _key2buttonMap = {};\n\n    protected onLoad(): void {\n        UI_Joystick._inst = this;\n        this._key2buttonMap[KeyCode.KEY_J] = 'btn_slot_0';\n        this._key2buttonMap[KeyCode.KEY_K] = 'btn_slot_1';\n        this._key2buttonMap[KeyCode.KEY_L] = 'btn_slot_2';\n        this._key2buttonMap[KeyCode.KEY_U] = 'btn_slot_3';\n        this._key2buttonMap[KeyCode.KEY_I] = 'btn_slot_4';\n\n        let checkerCamera = this.node.getChildByName('checker_camera').getComponent(UITransform);\n        checkerCamera.node.on(Input.EventType.TOUCH_START, this.onTouchStart_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_MOVE, this.onTouchMove_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_END, this.onTouchUp_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_CANCEL, this.onTouchUp_CameraCtrl, this);\n\n        let checkerMovement = this.node.getChildByName('checker_movement').getComponent(UITransform);\n        checkerMovement.node.on(Input.EventType.TOUCH_START, this.onTouchStart_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_MOVE, this.onTouchMove_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_END, this.onTouchUp_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_CANCEL, this.onTouchUp_Movement, this);\n\n\n        this._fullscreen = this.node.getComponent(UITransform);\n\n        this._ctrlRoot = this.node.getChildByName('ctrl').getComponent(UITransform);\n        this._ctrlRoot.node.active = false;\n        this._ctrlPointer = this._ctrlRoot.node.getChildByName('pointer');\n\n        this._buttons = this.node.getChildByName('buttons');\n\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.on(Input.EventType.KEY_UP, this.onKeyUp, this);\n        input.on(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n\n        this._scene = director.getScene();\n    }\n\n    onDestroy() {\n        input.off(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.off(Input.EventType.KEY_UP, this.onKeyUp, this);\n        input.off(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n        this._scene = null;\n\n        UI_Joystick._inst = null;\n    }\n\n    cleanKeyMap() {\n        this._key2buttonMap = {};\n    }\n\n    bindKeyToButton(keyCode: KeyCode, btnName: string) {\n        this._key2buttonMap[keyCode] = btnName;\n    }\n\n    setButtonVisible(btnName: string, visible: boolean) {\n        let node = this._buttons?.getChildByName(btnName);\n        if (node) {\n            node.active = visible;\n        }\n    }\n\n    getButtonByName(btnName: string): Node {\n        return this._buttons.getChildByName(btnName);\n    }\n\n    onTouchStart_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let x = touch.getUILocationX();\n            let y = touch.getUILocationY();\n            if (!this._movementTouch) {\n                //we sub halfWidth,halfHeight here.\n                //because, the touch event use left bottom as zero point(0,0), ui node use the center of screen as zero point(0,0)\n                //this._ctrlRoot.setPosition(x - halfWidth, y - halfHeight, 0);\n\n                let halfWidth = this._fullscreen.width / 2;\n                let halfHeight = this._fullscreen.height / 2;\n\n                this._ctrlRoot.node.active = true;\n                this._ctrlRoot.node.setPosition(x - halfWidth, y - halfHeight, 0);\n                this._ctrlPointer.setPosition(0, 0, 0);\n                this._movementTouch = touch;\n            }\n        }\n    }\n\n    onTouchMove_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                let halfWidth = this._fullscreen.width / 2;\n                let halfHeight = this._fullscreen.height / 2;\n                let x = touch.getUILocationX();\n                let y = touch.getUILocationY();\n\n                let pos = this._ctrlRoot.node.position;\n                let ox = x - halfWidth - pos.x;\n                let oy = y - halfHeight - pos.y;\n\n                let len = Math.sqrt(ox * ox + oy * oy);\n                if (len <= 0) {\n                    return;\n                }\n\n                let dirX = ox / len;\n                let dirY = oy / len;\n                let radius = this._ctrlRoot.width / 2;\n                if (len > radius) {\n                    len = radius;\n                    ox = dirX * radius;\n                    oy = dirY * radius;\n                }\n\n                this._ctrlPointer.setPosition(ox, oy, 0);\n\n                // degree 0 ~ 360 based on x axis.\n                let degree = Math.atan(dirY / dirX) / Math.PI * 180;\n                if (dirX < 0) {\n                    degree += 180;\n                }\n                else {\n                    degree += 360;\n                }\n\n                this.emitEvent(EasyControllerEvent.MOVEMENT, degree, len / radius);\n            }\n        }\n    }\n\n    onTouchUp_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                this.emitEvent(EasyControllerEvent.MOVEMENT_STOP);\n                this._movementTouch = null;\n                this._ctrlRoot.node.active = false;\n            }\n        }\n    }\n\n\n\n    private getDistOfTwoTouchPoints(): number {\n        let touchA = this._cameraTouchA;\n        let touchB = this._cameraTouchB;\n        if (!touchA || !touchB) {\n            return 0;\n        }\n        let dx = touchA.getLocationX() - touchB.getLocationX();\n        let dy = touchB.getLocationY() - touchB.getLocationY();\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    private onTouchStart_CameraCtrl(event: EventTouch) {\n        this.emitEvent(EasyControllerEvent.SCREEN_TOUCH_START, event);\n        let touches = event.getAllTouches();\n        this._cameraTouchA = null;\n        this._cameraTouchB = null;\n        for (let i = touches.length - 1; i >= 0; i--) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                continue;\n            }\n            if (this._cameraTouchA == null) {\n                this._cameraTouchA = touches[i];\n            }\n            else if (this._cameraTouchB == null) {\n                this._cameraTouchB = touches[i];\n                break;\n            }\n        }\n        this._distanceOfTwoTouchPoint = this.getDistOfTwoTouchPoints();\n    }\n\n    private onTouchMove_CameraCtrl(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let touchID = touch.getID();\n            //two touches, do camera zoom.\n            if (this._cameraTouchA && this._cameraTouchB) {\n                console.log(touchID, this._cameraTouchA.getID(), this._cameraTouchB.getID());\n                let needZoom = false;\n                if (touchID == this._cameraTouchA.getID()) {\n                    this._cameraTouchA = touch;\n                    needZoom = true;\n                }\n                if (touchID == this._cameraTouchB.getID()) {\n                    this._cameraTouchB = touch;\n                    needZoom = true;\n                }\n\n                if (needZoom) {\n                    let newDist = this.getDistOfTwoTouchPoints();\n                    let delta = this._distanceOfTwoTouchPoint - newDist;\n                    this.emitEvent(EasyControllerEvent.CAMERA_ZOOM, delta);\n                    this._distanceOfTwoTouchPoint = newDist;\n                }\n            }\n            //only one touch, do camera rotate.\n            else if (this._cameraTouchA && touchID == this._cameraTouchA.getID()) {\n                let dt = touch.getDelta();\n                let rx = dt.y * this._cameraSensitivity;\n                let ry = -dt.x * this._cameraSensitivity;\n                this.emitEvent(EasyControllerEvent.CAMERA_ROTATE, rx, ry);\n            }\n        }\n    }\n\n    private onTouchUp_CameraCtrl(event: EventTouch) {\n        this.emitEvent(EasyControllerEvent.SCREEN_TOUCH_END, event);\n        let touches = event.getAllTouches();\n        let hasTouchA = false;\n        let hasTouchB = false;\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let touchID = touch.getID();\n            if (this._cameraTouchA && touchID == this._cameraTouchA.getID()) {\n                hasTouchA = true;\n            }\n            else if (this._cameraTouchB && touchID == this._cameraTouchB.getID()) {\n                hasTouchB = true;\n            }\n        }\n\n        if (!hasTouchA) {\n            this._cameraTouchA = null;\n        }\n        if (!hasTouchB) {\n            this._cameraTouchB = null;\n        }\n    }\n\n    private _keys = [];\n    private _degree: number = 0;\n\n    onKeyDown(event: EventKeyboard) {\n        let keyCode = event.keyCode;\n        if (keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W) {\n            if (this._keys.indexOf(keyCode) == -1) {\n                this._keys.push(keyCode);\n                this.updateDirection();\n            }\n        }\n        else {\n            let btnName = this._key2buttonMap[keyCode];\n            if (btnName) {\n                this.emitEvent(EasyControllerEvent.BUTTON, btnName);\n            }\n        }\n    }\n\n    onKeyUp(event: EventKeyboard) {\n        let keyCode = event.keyCode;\n        if (keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W) {\n            let index = this._keys.indexOf(keyCode);\n            if (index != -1) {\n                this._keys.splice(index, 1);\n                this.updateDirection();\n            }\n        }\n    }\n\n    onMouseWheel(event: EventMouse) {\n        let delta = event.getScrollY() * 0.1;\n        //console.log(delta);\n        this.emitEvent(EasyControllerEvent.CAMERA_ZOOM, delta);\n    }\n\n    onButtonSlot(event) {\n        let btnName = event.target.name;\n        this.emitEvent(EasyControllerEvent.BUTTON, btnName);\n    }\n\n    private _key2dirMap = null;\n\n    updateDirection() {\n        if (this._key2dirMap == null) {\n            this._key2dirMap = {};\n            this._key2dirMap[0] = -1;\n            this._key2dirMap[KeyCode.KEY_A] = 180;\n            this._key2dirMap[KeyCode.KEY_D] = 0;\n            this._key2dirMap[KeyCode.KEY_W] = 90;\n            this._key2dirMap[KeyCode.KEY_S] = 270;\n\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_A] = 135;\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_D] = 45;\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_A] = 225;\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_D] = 315;\n\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_D] = this._key2dirMap[KeyCode.KEY_D];\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_A] = this._key2dirMap[KeyCode.KEY_A];\n            this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S];\n            this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W];\n        }\n        let keyCode0 = this._keys[this._keys.length - 1] || 0;\n        let keyCode1 = this._keys[this._keys.length - 2] || 0;\n        this._degree = this._key2dirMap[keyCode1 * 1000 + keyCode0];\n        if (this._degree == null || this._degree < 0) {\n            this.emitEvent(EasyControllerEvent.MOVEMENT_STOP);\n        }\n        else {\n            this.emitEvent(EasyControllerEvent.MOVEMENT, this._degree, 1.0);\n        }\n    }\n\n    private emitEvent(type: string, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any) {\n        if (isValid(this._scene)) {\n            this._scene.emit(type, arg0, arg1, arg2, arg3, arg4);\n        }\n        else {\n            console.log('oops!');\n        }\n    }\n}","import { SpriteFrame } from \"cc\";\r\nimport { UIController } from \"../UIController\";\r\nimport { UIMgr } from \"../UIMgr\";\r\n\r\nimport { _decorator, Button, Component, Label, Node } from 'cc';\r\nimport { Sprite } from \"cc\";\r\nimport { Color } from \"cc\";\r\nimport { RichText } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('tgxLayout_UIAlert')\r\nexport class Layout_UIAlert extends Component {\r\n\r\n    @property(Label)\r\n    title: Label;\r\n\r\n    @property(Label)\r\n    content: Label;\r\n    @property(RichText)\r\n    contentRich: RichText;\r\n\r\n    @property(Button)\r\n    btnOK: Button;\r\n\r\n    @property(Button)\r\n    btnClose: Button;\r\n\r\n    @property(Button)\r\n    btnCancel: Button;\r\n\r\n    @property({ type: Sprite, tooltip: \"背景\" })\r\n    bg: Sprite = null;\r\n    @property({ type: Sprite, tooltip: \"标题背景\" })\r\n    titleBg: Sprite = null;\r\n    @property({ type: Sprite, tooltip: \"内容背景\" })\r\n    contentBg: Sprite = null;\r\n}\r\n\r\nexport class UIAlertOptions {\r\n    private _title?: string;\r\n    private _content?: string;\r\n    private _showCancel?: boolean;\r\n    private _cbClick?: Function;\r\n    private _cbClickThisArg?: Function;\r\n\r\n    setTitle(title: string): UIAlertOptions {\r\n        this._title = title;\r\n        return this;\r\n    }\r\n\r\n    onClick(cb: (isOK: boolean) => void, thisArg?: any): UIAlertOptions {\r\n        this._cbClick = cb;\r\n        this._cbClickThisArg = thisArg;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport class UIAlert extends UIController {\r\n    private _options: UIAlertOptions;\r\n\r\n    /**\r\n     * 显示一个提示对话框，对话框可以有一个按钮(只有确定按钮)，也可以有两个按钮(确定和取消)。\r\n     * @param content 对话框内容\r\n     * @param showCancel 是否显示取消按钮(true表示显示)\r\n     * @param bgColorHEX 背景颜色\r\n     * @param titleBgColorHEX 确定、标题背景颜色\r\n     * @param contentColorHEX 内容背景颜色\r\n     * @param closeColorHEX 关闭、取消按钮颜色\r\n     * @returns \r\n     */\r\n    public static show(content: string, showCancel?: boolean, bgColorHEX: string = \"E4D3FF\",\r\n        titleBgColorHEX: string = \"#6043D7\",\r\n        contentColorHEX: string = \"D3CCEB\",\r\n        closeColorHEX: string = 'DF54DF'): UIAlertOptions {\r\n        let opts = new UIAlertOptions() as any;\r\n        opts._content = content;\r\n        opts._showCancel = showCancel;\r\n\r\n        const bgColor = new Color().fromHEX(\"#\" + bgColorHEX.replace(\"#\", ''));\r\n        const titleBgColor = new Color().fromHEX(\"#\" + titleBgColorHEX.replace(\"#\", ''));\r\n        const contentColor = new Color().fromHEX(\"#\" + contentColorHEX.replace(\"#\", ''));\r\n        const closeColor = new Color().fromHEX(\"#\" + closeColorHEX.replace(\"#\", ''));\r\n        UIMgr.inst.showUI(UIAlert, (alert: UIAlert) => {\r\n            alert.layout.bg.color = bgColor;\r\n            alert.layout.titleBg.color = titleBgColor;\r\n            alert.layout.btnOK.node.getComponent(Sprite).color = titleBgColor;  \r\n            alert.layout.btnClose.node.getComponent(Sprite).color = closeColor;\r\n            alert.layout.btnCancel.node.getComponent(Sprite).color = closeColor;\r\n            alert.layout.contentBg.color = contentColor;\r\n\r\n            alert.init(opts);\r\n        }) as UIAlert;\r\n        return opts;\r\n    }\r\n\r\n    public get layout(): Layout_UIAlert {\r\n        return this._layout as Layout_UIAlert;\r\n    }\r\n\r\n    private init(opts: UIAlertOptions) {\r\n        this._options = opts;\r\n        let options = this._options as any as { _title: string, _content: string, _showCancel: boolean };\r\n        let layout = this._layout as Layout_UIAlert;\r\n        if (options.hasOwnProperty('title')) {\r\n            layout.title.string = options._title || '';\r\n        }\r\n\r\n        // layout.content.string = options._content || '';\r\n        layout.contentRich.string = options._content || '';\r\n        layout.btnClose.node.active = options._showCancel;\r\n        layout.btnCancel.node.active = options._showCancel;\r\n        if (!options._showCancel) {\r\n            let pos = layout.btnOK.node.position;\r\n            layout.btnOK.node.setPosition(0, pos.y, pos.z);\r\n        }\r\n    }\r\n\r\n    protected onCreated(): void {\r\n        let layout = this._layout as Layout_UIAlert;\r\n        this.onButtonEvent(layout.btnOK, () => {\r\n            this.close();\r\n            let options = this._options as any as { _cbClick: Function, _cbClickThisArg: any };\r\n            if (options._cbClick) {\r\n                options._cbClick.call(options._cbClickThisArg, true);\r\n            }\r\n        });\r\n\r\n        this.onButtonEvent(layout.btnCancel, () => {\r\n            this.close();\r\n            let options = this._options as any as { _cbClick: Function, _cbClickThisArg: any };\r\n            if (options._cbClick) {\r\n                options._cbClick.call(options._cbClickThisArg, false);\r\n            }\r\n        });\r\n\r\n        this.onButtonEvent(layout.btnClose, () => {\r\n            this.close();\r\n            let options = this._options as any as { _cbClick: Function, _cbClickThisArg: any };\r\n            if (options._cbClick) {\r\n                options._cbClick.call(options._cbClickThisArg, false);\r\n            }\r\n        });\r\n    }\r\n}","import { _decorator, game, Prefab, isValid, Button, find, EventHandler, Toggle, ToggleContainer, Node, SkeletalAnimation, Component, EventTouch, Slider } from \"cc\";\r\nimport { DoubleList, DoubleListItem } from \"../base/DoubleList\";\r\nconst { ccclass, property } = _decorator;\r\n/***\r\n * @en internal class, used for handling node event.\r\n * @zh 内部类，用于节点事件监听\r\n * \r\n *  */\r\n@ccclass('tgxNodeEventAgent')\r\nexport class __NodeEventAgent__ extends Component {\r\n    /***\r\n     * @en recieve button click event and deliver them to the real handlers.\r\n     * @zh 接受按钮事件，并转发给真正的处理函数\r\n     * */\r\n    onButtonClicked(evt: EventTouch, customEventData) {\r\n        let btn = (evt.target as Node).getComponent(Button);\r\n        let clickEvents = btn.clickEvents;\r\n        for (let i = 0; i < clickEvents.length; ++i) {\r\n            let h = clickEvents[i];\r\n            if (h.customEventData == customEventData) {\r\n                let cb = h['$cb$'];\r\n                let target = h['$target$']\r\n                let args = h['$args$'];\r\n                cb.apply(target, [btn, args]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /***\r\n     * @en recieve toggle event and deliver them to the real handlers.\r\n     * @zh 接受Toggle事件，并转发给真正的处理函数\r\n     * */\r\n    onToggleEvent(toggle: Toggle, customEventData) {\r\n        let checkEvents = toggle.checkEvents;\r\n        if (toggle['_toggleContainer']) {\r\n            checkEvents = toggle['_toggleContainer'].checkEvents;\r\n        }\r\n        for (let i = 0; i < checkEvents.length; ++i) {\r\n            let h = checkEvents[i];\r\n            if (h.customEventData == customEventData) {\r\n                let cb = h['$cb$'];\r\n                let target = h['$target$']\r\n                let args = h['$args$'];\r\n                cb.apply(target, [toggle, args]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /***\r\n * @en recieve slide event and deliver them to the real handlers.\r\n * @zh 接受 Slide 事件，并转发给真正的处理函数\r\n * */\r\n    onSlideEvent(slider: Slider, customEventData) {\r\n        let slideEvents = slider.slideEvents;\r\n        for (let i = 0; i < slideEvents.length; ++i) {\r\n            let h = slideEvents[i];\r\n            if (h.customEventData == customEventData) {\r\n                let cb = h['$cb$'];\r\n                let target = h['$target$']\r\n                let args = h['$args$'];\r\n                cb.apply(target, [slider, args]);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @en base class of UI Panel\r\n * @zh 各类UI面板基类\r\n * */\r\nexport class UIController {\r\n    private static _idBase = 1000;\r\n\r\n    private static _controllers: DoubleList = new DoubleList();\r\n    private _listItem:DoubleListItem = null;\r\n    private _instId: number = 0;\r\n    private _prefab: string | Prefab;\r\n    private _layer: number;\r\n    protected _layout: any;\r\n    protected node: Node;\r\n    protected _destroyed: boolean = false;\r\n    protected _ingoreCloseAll:boolean = false;\r\n    protected _isAutoReleaseAssets: boolean; //关闭的时候 是否自动释放资源\r\n\r\n    constructor(prefab: string | Prefab, layer: number, layoutCls: any,isAutoReleaseAssets:boolean = true) { \r\n        this._prefab = prefab;\r\n        this._layer = layer;\r\n        this._layout = layoutCls;\r\n        this._instId = UIController._idBase++;\r\n        this._listItem = UIController._controllers.addToTail(this);\r\n        this._isAutoReleaseAssets = isAutoReleaseAssets;\r\n    }\r\n\r\n    /***\r\n     * @en the instance id to indicate an unique ui panel.\r\n     * @zh 实例ID，用于标记一个唯一面板实例\r\n     *  */\r\n    public get instId(): number {\r\n        return this._instId;\r\n    }\r\n\r\n    /***\r\n     * @en url of the prefab used by this ui panel.\r\n     * @zh 本UI使用prefab路径\r\n     *  */\r\n    public get prefab(): string | Prefab {\r\n        return this._prefab;\r\n    }\r\n\r\n    /***\r\n     * @en layer of this ui panel.\r\n     * @zh 本UI所在的UI层级\r\n     *  */\r\n    public get layer(): number {\r\n        return this._layer;\r\n    }\r\n\r\n    /***\r\n     * @en layout of this ui panel.\r\n     * @zh 本UI所在的UI层级\r\n     *  */\r\n    public getLayout(): any {\r\n        return this._layout;\r\n    }\r\n    /**\r\n     * 关闭的时候 是否自动释放资源\r\n     * @returns \r\n     */\r\n    public getIsAutoReleaseAssets():boolean{\r\n        return this._isAutoReleaseAssets;\r\n    }\r\n\r\n    /***\r\n     * @en hide and destroy all ui panel.\r\n     * @zh 隐藏并销毁所有UI面板\r\n     *  */\r\n    public static closeAll() {\r\n        this._controllers.forEach(v=>{\r\n            let c = v.data as UIController;\r\n            if(!c._ingoreCloseAll){\r\n                c.close();\r\n            }\r\n        });\r\n    }\r\n\r\n    //update all ui, called by UIMgr.\r\n    public static updateAll(dt: number) {\r\n        this._controllers.forEach(v=>{\r\n            let c = v.data as UIController;\r\n            if(c.node && isValid(c.node)){\r\n                c.onUpdate(dt);\r\n            }\r\n        });\r\n    }\r\n\r\n    //setup this ui,called by UIMgr.\r\n    public setup(node: Node,params:any) {\r\n        this.node = node;\r\n        \r\n        if (this._layout) {\r\n            this._layout = this.node.getComponent(this._layout);\r\n        }\r\n        //notify sub class to handle something.\r\n        //节点创建完毕，调用子类的处理函数。\r\n        this.onCreated(params);\r\n\r\n        if(this._destroyed){\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en hide and destroy this ui panel.\r\n     * @zh 隐藏并销毁此UI面板\r\n     *  */\r\n    public close() {\r\n        this._destroyed = true;\r\n        this._listItem?.dispose();\r\n        this._listItem = null;\r\n        if (this.node) {\r\n            this.node.removeFromParent();\r\n            this.onDispose();\r\n            this.node.destroy();\r\n            this.node = null;\r\n        }\r\n        if(this._isAutoReleaseAssets && this._uiPrefab)\r\n        {\r\n            this._uiPrefab.decRef();\r\n        }\r\n        this._uiPrefab = null;\r\n    }\r\n    private _uiPrefab:Prefab = null;\r\n    public setPrefab(uiprefab:Prefab){\r\n        this._uiPrefab = uiprefab;\r\n        if(this._isAutoReleaseAssets && this._uiPrefab)\r\n        {\r\n            this._uiPrefab.addRef();\r\n        }\r\n    }\r\n    /**\r\n     * @en add button event handler\r\n     * @zh 添加按钮事件\r\n     * @param relativeNodePath to indicate a button node, can pass `string`|`Node`|`Button` here.\r\n     * @param cb will be called when event emits. method format:(btn:Button,args:any)=>void\r\n     * @param target the `this` argument of `cb`\r\n     *  */\r\n    onButtonEvent(relativeNodePath: string | Node | Button, cb: Function, target?: any, args?: any) {\r\n\r\n        let buttonNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            buttonNode = relativeNodePath;\r\n        }\r\n        else if (relativeNodePath instanceof Button) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            buttonNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!buttonNode) {\r\n            return null;\r\n        }\r\n\r\n        //添加转发器\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            agent = this.node.addComponent(__NodeEventAgent__);\r\n        }\r\n\r\n        let btn = buttonNode.getComponent(Button);\r\n        let clickEvents = btn.clickEvents;\r\n        let handler = new EventHandler();\r\n        handler.target = this.node;\r\n        handler.component = 'tgxNodeEventAgent';\r\n        handler.handler = 'onButtonClicked';\r\n        handler.customEventData = '' + UIController._idBase++;\r\n\r\n        //附加额外信息 供事件转发使用\r\n        handler['$cb$'] = cb;\r\n        handler['$target$'] = target;\r\n        handler['$args$'] = args;\r\n\r\n        clickEvents.push(handler);\r\n        btn.clickEvents = clickEvents;\r\n    }\r\n\r\n    /**\r\n     * @en remove button event handler\r\n     * @zh 移除按钮事件\r\n     * @param relativeNodePath to indicate a button node, can pass `string`|`Node`|`Button` here.\r\n     * @param cb will be called when event emits.\r\n     * @param target the `this` argument of `cb`\r\n     *  */\r\n    offButtonEvent(relativeNodePath: string | Node | Button, cb: Function, target: any) {\r\n        let buttonNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            buttonNode = relativeNodePath;\r\n\r\n        }\r\n        else if (relativeNodePath instanceof Button) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            buttonNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!buttonNode) {\r\n            return; ``\r\n        }\r\n\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            return;\r\n        }\r\n        let btn = buttonNode.getComponent(Button);\r\n        if (!btn) {\r\n            return;\r\n        }\r\n        let clickEvents = btn.clickEvents;\r\n        for (let i = 0; i < clickEvents.length; ++i) {\r\n            let h = clickEvents[i];\r\n            if (h['$cb$'] == cb && h['$target$'] == target) {\r\n                clickEvents.splice(i, 1);\r\n                btn.clickEvents = clickEvents;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en add toggle event handler\r\n     * @zh 添加Toggle事件\r\n     * @param relativeNodePath to indicate a button node, can pass `string`|`Node`|`Button` here.\r\n     * @param cb will be called when event emits. method format:(btn:Toggle,args:any)=>void\r\n     * @param target the `this` argument of `cb`\r\n     *  */\r\n\r\n    onToggleEvent(relativeNodePath: string | Node | Toggle | ToggleContainer, cb: Function, target?: any, args?: any) {\r\n        let buttonNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            buttonNode = relativeNodePath;\r\n        }\r\n        else if (relativeNodePath instanceof Toggle) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else if (relativeNodePath instanceof ToggleContainer) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            buttonNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!buttonNode) {\r\n            return null;\r\n        }\r\n\r\n        //添加转发器\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            agent = this.node.addComponent(__NodeEventAgent__);\r\n        }\r\n\r\n        let btn = buttonNode.getComponent(Toggle) as any;\r\n        if (!btn) {\r\n            btn = buttonNode.getComponent(ToggleContainer) as any;\r\n        }\r\n        let checkEvents = btn.checkEvents;\r\n        let handler = new EventHandler();\r\n        handler.target = this.node;\r\n        handler.component = 'tgxNodeEventAgent';\r\n        handler.handler = 'onToggleEvent';\r\n        handler.customEventData = '' + UIController._idBase++;\r\n\r\n        //附加额外信息 供事件转发使用\r\n        handler['$cb$'] = cb;\r\n        handler['$target$'] = target;\r\n        handler['$args$'] = args;\r\n\r\n        checkEvents.push(handler);\r\n        btn.checkEvents = checkEvents;\r\n    }\r\n\r\n    /**\r\n     * @en remove toggle event handler\r\n     * @zh 移除Toggle事件\r\n     * @param relativeNodePath to indicate a button node, can pass `string`|`Node`|`Button` here.\r\n     * @param cb will be called when event emits. method format:(btn:Toggle,args:any)=>void\r\n     * @param target the `this` argument of `cb`\r\n     *  */\r\n    offToggleEvent(relativeNodePath: string | Node | Toggle | ToggleContainer, cb: Function, target: any) {\r\n        let buttonNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            buttonNode = relativeNodePath;\r\n        }\r\n        else if (relativeNodePath instanceof Toggle) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else if (relativeNodePath instanceof ToggleContainer) {\r\n            buttonNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            buttonNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!buttonNode) {\r\n            return null;\r\n        }\r\n\r\n        //添加转发器\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            return;\r\n        }\r\n        let btn = buttonNode.getComponent(Toggle) as any;\r\n        if (!btn) {\r\n            btn = buttonNode.getComponent(ToggleContainer) as any;\r\n        }\r\n        let checkEvents = btn.checkEvents;\r\n        for (let i = 0; i < checkEvents.length; ++i) {\r\n            let h = checkEvents[i];\r\n            if (h['$cb$'] == cb && h['$target$'] == target) {\r\n                checkEvents.splice(i, 1);\r\n                btn.checkEvents = checkEvents;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onSlideEvent(relativeNodePath: string | Node | Slider, cb: Function, target?: any, args?: any) {\r\n        let sliderNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            sliderNode = relativeNodePath;\r\n        }\r\n        else if (relativeNodePath instanceof Slider) {\r\n            sliderNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            sliderNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!sliderNode) {\r\n            return null;\r\n        }\r\n\r\n        //添加转发器\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            agent = this.node.addComponent(__NodeEventAgent__);\r\n        }\r\n\r\n        let slider = sliderNode.getComponent(Slider);\r\n        let slideEvents = slider.slideEvents;\r\n        let handler = new EventHandler();\r\n        handler.target = this.node;\r\n        handler.component = 'tgxNodeEventAgent';\r\n        handler.handler = 'onSlideEvent';\r\n        handler.customEventData = '' + UIController._idBase++;\r\n\r\n        //附加额外信息 供事件转发使用\r\n        handler['$cb$'] = cb;\r\n        handler['$target$'] = target;\r\n        handler['$args$'] = args;\r\n\r\n        slideEvents.push(handler);\r\n        slider.slideEvents = slideEvents;\r\n    }\r\n\r\n    offSlideEvent(relativeNodePath: string | Node | Slider, cb: Function, target: any) {\r\n        let sliderNode: Node = null;\r\n        if (relativeNodePath instanceof Node) {\r\n            sliderNode = relativeNodePath;\r\n        }\r\n        else if (relativeNodePath instanceof Slider) {\r\n            sliderNode = relativeNodePath.node;\r\n        }\r\n        else {\r\n            sliderNode = find(relativeNodePath, this.node);\r\n        }\r\n\r\n        if (!sliderNode) {\r\n            return null;\r\n        }\r\n\r\n        //添加转发器\r\n        let agent = this.node.getComponent(__NodeEventAgent__);\r\n        if (!agent) {\r\n            return;\r\n        }\r\n        let slider = sliderNode.getComponent(Slider);\r\n        let slideEvents = slider.slideEvents;\r\n        for (let i = 0; i < slideEvents.length; ++i) {\r\n            let h = slideEvents[i];\r\n            if (h['$cb$'] == cb && h['$target$'] == target) {\r\n                slideEvents.splice(i, 1);\r\n                slider.slideEvents = slideEvents;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /***\r\n     * @en the extra resource needed by this ui panel.the ui will not be created until these res loaded.\r\n     * @zh 本UI使用的依赖资源.UI会等这些资源加载完成后才创建。\r\n     *  */\r\n    public getRes(): [] {\r\n        return [];\r\n    }\r\n\r\n    //子类的所有操作，需要在这个函数之后。\r\n    protected onCreated(params?:any) { }\r\n    //销毁\r\n    protected onDispose() { }\r\n    //\r\n    protected onUpdate(dt: number) { }\r\n}","import { _decorator, Node, EventTouch, Touch, Component, UITransform, Input, EventKeyboard, KeyCode, v2, Vec3, input, Scene, director, EventMouse, macro, view, screen, isValid } from 'cc';\nimport { EasyControllerEvent } from './EasyController';\nconst { ccclass, property } = _decorator;\n\n/****\n * split screen into three parts.\n * ---------------------------------------------\n *                                              |\n *           1.camera rotation zone             |\n *                                              |\n *----------------------------------------------|\n *                      |                       |\n * 2.movement ctrl zone  | 3.camera rotation zone|\n *                      |                       |\n * ----------------------------------------------\n * \n * multi-touch for camera zoom.\n *  */\n\n@ccclass('tgxUIJoystick')\nexport class UIJoystick extends Component {\n\n    private static _inst: UIJoystick = null;\n    public static get inst(): UIJoystick {\n        return this._inst;\n    }\n\n\n    private _ctrlRoot: UITransform = null;\n    private _ctrlPointer: Node = null;\n    private _buttons: Node = null;\n\n    private _cameraSensitivity: number = 0.1;\n    private _distanceOfTwoTouchPoint: number = 0;\n\n    private _movementTouch: Touch = null;\n    private _cameraTouchA: Touch = null;\n    private _cameraTouchB: Touch = null;\n\n    private _fullscreen:UITransform = null;\n\n    private _key2buttonMap = {};\n\n    protected onLoad(): void {\n        UIJoystick._inst = this;\n        this._key2buttonMap[KeyCode.KEY_J] = 'btn_slot_0';\n        this._key2buttonMap[KeyCode.KEY_K] = 'btn_slot_1';\n        this._key2buttonMap[KeyCode.KEY_L] = 'btn_slot_2';\n        this._key2buttonMap[KeyCode.KEY_U] = 'btn_slot_3';\n        this._key2buttonMap[KeyCode.KEY_I] = 'btn_slot_4';\n\n        let checkerCamera = this.node.getChildByName('checker_camera').getComponent(UITransform);\n        checkerCamera.node.on(Input.EventType.TOUCH_START, this.onTouchStart_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_MOVE, this.onTouchMove_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_END, this.onTouchUp_CameraCtrl, this);\n        checkerCamera.node.on(Input.EventType.TOUCH_CANCEL, this.onTouchUp_CameraCtrl, this);\n\n        let checkerMovement = this.node.getChildByName('checker_movement').getComponent(UITransform);\n        checkerMovement.node.on(Input.EventType.TOUCH_START, this.onTouchStart_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_MOVE, this.onTouchMove_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_END, this.onTouchUp_Movement, this);\n        checkerMovement.node.on(Input.EventType.TOUCH_CANCEL, this.onTouchUp_Movement, this);\n\n\n        this._fullscreen = this.node.getComponent(UITransform);\n\n        this._ctrlRoot = this.node.getChildByName('ctrl').getComponent(UITransform);\n        this._ctrlRoot.node.active = false;\n        this._ctrlPointer = this._ctrlRoot.node.getChildByName('pointer');\n\n        this._buttons = this.node.getChildByName('buttons');\n\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.on(Input.EventType.KEY_UP, this.onKeyUp, this);\n        input.on(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n    }\n\n    onDestroy() {\n        input.off(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.off(Input.EventType.KEY_UP, this.onKeyUp, this);\n        input.off(Input.EventType.MOUSE_WHEEL, this.onMouseWheel, this);\n\n        UIJoystick._inst = null;\n    }\n\n    cleanKeyMap() {\n        this._key2buttonMap = {};\n    }\n\n    bindKeyToButton(keyCode: KeyCode, btnName: string) {\n        this._key2buttonMap[keyCode] = btnName;\n    }\n\n    setButtonVisible(btnName: string, visible: boolean) {\n        let node = this._buttons?.getChildByName(btnName);\n        if (node) {\n            node.active = visible;\n        }\n    }\n\n    getButtonByName(btnName: string): Node {\n        return this._buttons.getChildByName(btnName);\n    }\n\n    onTouchStart_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let x = touch.getUILocationX();\n            let y = touch.getUILocationY();\n            if (!this._movementTouch) {\n                //we sub halfWidth,halfHeight here.\n                //because, the touch event use left bottom as zero point(0,0), ui node use the center of screen as zero point(0,0)\n                //this._ctrlRoot.setPosition(x - halfWidth, y - halfHeight, 0);\n\n                let halfWidth = this._fullscreen.width / 2;\n                let halfHeight = this._fullscreen.height / 2;\n\n                this._ctrlRoot.node.active = true;\n                this._ctrlRoot.node.setPosition(x - halfWidth, y - halfHeight, 0);\n                this._ctrlPointer.setPosition(0, 0, 0);\n                this._movementTouch = touch;\n            }\n        }\n    }\n\n    onTouchMove_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                let halfWidth = this._fullscreen.width / 2;\n                let halfHeight = this._fullscreen.height / 2;\n                let x = touch.getUILocationX();\n                let y = touch.getUILocationY();\n\n                let pos = this._ctrlRoot.node.position;\n                let ox = x - halfWidth - pos.x;\n                let oy = y - halfHeight - pos.y;\n\n                let len = Math.sqrt(ox * ox + oy * oy);\n                if (len <= 0) {\n                    return;\n                }\n\n                let dirX = ox / len;\n                let dirY = oy / len;\n                let radius = this._ctrlRoot.width / 2;\n                if (len > radius) {\n                    len = radius;\n                    ox = dirX * radius;\n                    oy = dirY * radius;\n                }\n\n                this._ctrlPointer.setPosition(ox, oy, 0);\n\n                // degree 0 ~ 360 based on x axis.\n                let degree = Math.atan(dirY / dirX) / Math.PI * 180;\n                if (dirX < 0) {\n                    degree += 180;\n                }\n                else {\n                    degree += 360;\n                }\n\n                this.emitEvent(EasyControllerEvent.MOVEMENT, degree, len / radius);\n            }\n        }\n    }\n\n    onTouchUp_Movement(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                this.emitEvent(EasyControllerEvent.MOVEMENT_STOP);\n                this._movementTouch = null;\n                this._ctrlRoot.node.active = false;\n            }\n        }\n    }\n\n\n\n    private getDistOfTwoTouchPoints(): number {\n        let touchA = this._cameraTouchA;\n        let touchB = this._cameraTouchB;\n        if (!touchA || !touchB) {\n            return 0;\n        }\n        let dx = touchA.getLocationX() - touchB.getLocationX();\n        let dy = touchB.getLocationY() - touchB.getLocationY();\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    private onTouchStart_CameraCtrl(event: EventTouch) {\n        this.emitEvent(EasyControllerEvent.SCREEN_TOUCH_START, event);\n        let touches = event.getAllTouches();\n        this._cameraTouchA = null;\n        this._cameraTouchB = null;\n        for (let i = touches.length - 1; i >= 0; i--) {\n            let touch = touches[i];\n            if (this._movementTouch && touch.getID() == this._movementTouch.getID()) {\n                continue;\n            }\n            if (this._cameraTouchA == null) {\n                this._cameraTouchA = touches[i];\n            }\n            else if (this._cameraTouchB == null) {\n                this._cameraTouchB = touches[i];\n                break;\n            }\n        }\n        this._distanceOfTwoTouchPoint = this.getDistOfTwoTouchPoints();\n    }\n\n    private onTouchMove_CameraCtrl(event: EventTouch) {\n        let touches = event.getTouches();\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let touchID = touch.getID();\n            //two touches, do camera zoom.\n            if (this._cameraTouchA && this._cameraTouchB) {\n                console.log(touchID, this._cameraTouchA.getID(), this._cameraTouchB.getID());\n                let needZoom = false;\n                if (touchID == this._cameraTouchA.getID()) {\n                    this._cameraTouchA = touch;\n                    needZoom = true;\n                }\n                if (touchID == this._cameraTouchB.getID()) {\n                    this._cameraTouchB = touch;\n                    needZoom = true;\n                }\n\n                if (needZoom) {\n                    let newDist = this.getDistOfTwoTouchPoints();\n                    let delta = this._distanceOfTwoTouchPoint - newDist;\n                    this.emitEvent(EasyControllerEvent.CAMERA_ZOOM, delta);\n                    this._distanceOfTwoTouchPoint = newDist;\n                }\n            }\n            //only one touch, do camera rotate.\n            else if (this._cameraTouchA && touchID == this._cameraTouchA.getID()) {\n                let dt = touch.getDelta();\n                let rx = dt.y * this._cameraSensitivity;\n                let ry = -dt.x * this._cameraSensitivity;\n                this.emitEvent(EasyControllerEvent.CAMERA_ROTATE, rx, ry);\n            }\n        }\n    }\n\n    private onTouchUp_CameraCtrl(event: EventTouch) {\n        this.emitEvent(EasyControllerEvent.SCREEN_TOUCH_END, event);\n        let touches = event.getAllTouches();\n        let hasTouchA = false;\n        let hasTouchB = false;\n        for (let i = 0; i < touches.length; ++i) {\n            let touch = touches[i];\n            let touchID = touch.getID();\n            if (this._cameraTouchA && touchID == this._cameraTouchA.getID()) {\n                hasTouchA = true;\n            }\n            else if (this._cameraTouchB && touchID == this._cameraTouchB.getID()) {\n                hasTouchB = true;\n            }\n        }\n\n        if (!hasTouchA) {\n            this._cameraTouchA = null;\n        }\n        if (!hasTouchB) {\n            this._cameraTouchB = null;\n        }\n    }\n\n    private _keys = [];\n    private _degree: number = 0;\n\n    onKeyDown(event: EventKeyboard) {\n        let keyCode = event.keyCode;\n        if (keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W) {\n            if (this._keys.indexOf(keyCode) == -1) {\n                this._keys.push(keyCode);\n                this.updateDirection();\n            }\n        }\n        else {\n            let btnName = this._key2buttonMap[keyCode];\n            if (btnName) {\n                this.emitEvent(EasyControllerEvent.BUTTON, btnName);\n            }\n        }\n    }\n\n    onKeyUp(event: EventKeyboard) {\n        let keyCode = event.keyCode;\n        if (keyCode == KeyCode.KEY_A || keyCode == KeyCode.KEY_S || keyCode == KeyCode.KEY_D || keyCode == KeyCode.KEY_W) {\n            let index = this._keys.indexOf(keyCode);\n            if (index != -1) {\n                this._keys.splice(index, 1);\n                this.updateDirection();\n            }\n        }\n    }\n\n    onMouseWheel(event: EventMouse) {\n        let delta = event.getScrollY() * 0.1;\n        //console.log(delta);\n        this.emitEvent(EasyControllerEvent.CAMERA_ZOOM, delta);\n    }\n\n    onButtonSlot(event) {\n        let btnName = event.target.name;\n        this.emitEvent(EasyControllerEvent.BUTTON, btnName);\n    }\n\n    private _key2dirMap = null;\n\n    updateDirection() {\n        if (this._key2dirMap == null) {\n            this._key2dirMap = {};\n            this._key2dirMap[0] = -1;\n            this._key2dirMap[KeyCode.KEY_A] = 180;\n            this._key2dirMap[KeyCode.KEY_D] = 0;\n            this._key2dirMap[KeyCode.KEY_W] = 90;\n            this._key2dirMap[KeyCode.KEY_S] = 270;\n\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_A] = 135;\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_D] = 45;\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_A] = 225;\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_D] = 315;\n\n            this._key2dirMap[KeyCode.KEY_A * 1000 + KeyCode.KEY_D] = this._key2dirMap[KeyCode.KEY_D];\n            this._key2dirMap[KeyCode.KEY_D * 1000 + KeyCode.KEY_A] = this._key2dirMap[KeyCode.KEY_A];\n            this._key2dirMap[KeyCode.KEY_W * 1000 + KeyCode.KEY_S] = this._key2dirMap[KeyCode.KEY_S];\n            this._key2dirMap[KeyCode.KEY_S * 1000 + KeyCode.KEY_W] = this._key2dirMap[KeyCode.KEY_W];\n        }\n        let keyCode0 = this._keys[this._keys.length - 1] || 0;\n        let keyCode1 = this._keys[this._keys.length - 2] || 0;\n        this._degree = this._key2dirMap[keyCode1 * 1000 + keyCode0];\n        if (this._degree == null || this._degree < 0) {\n            this.emitEvent(EasyControllerEvent.MOVEMENT_STOP);\n        }\n        else {\n            this.emitEvent(EasyControllerEvent.MOVEMENT, this._degree, 1.0);\n        }\n    }\n\n    private emitEvent(type: string, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any) {\n        director.emit(type, arg0, arg1, arg2, arg3, arg4);\n    }\n}","/****\n * @en ui layers.each project can modify it based on needs.\n * @zh UI层级划分,\n * */\nenum UILayers {\n    GAME,\n    JOY_STICK,\n    HUD,\n    POPUP,\n    POPUP1,\n    POPUP2,\n    ALERT,\n    NOTICE,\n    LOADING,\n    OVERLAY,\n    NUM\n}\n\nconst UILayerNames = [\n    'game',\n    'joy_stick',\n    'hud',\n    'popup',\n    'popup1',\n    'popup2',\n    'alert',\n    'notice',\n    'loading',\n    'overlay'\n];\n\nexport { UILayers, UILayerNames };","import { _decorator, Node, Prefab, instantiate, Widget, UITransform, view, ResolutionPolicy, assetManager, AssetManager, director, error, Component, Label, find } from 'cc';\r\nimport { UIController } from './UIController';\r\nimport { ModuleContext } from '../base/ModuleContext';\r\nimport { ResolutionAutoFit } from '../base/ResolutionAutoFit';\r\nimport { DoubleList } from '../base/DoubleList';\r\nimport { toolUI } from '../../core_tgx/framework/ui/ToolUI'\r\nimport { Fun } from '../../core_tgx/framework/util/Fun'\r\nimport { UIOrientation } from './UIOrientation';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('tgxUIMgr.UIUpdater')\r\nclass UIUpdater extends Component {\r\n    update(dt: number) {\r\n        UIController.updateAll(dt);\r\n    }\r\n}\r\n\r\n/**\r\n * @en the `User Interface Manager`, handles some stuffs like the ui loads,ui layers,resizing etc.\r\n * @zh UI管理器，处理UI加载，层级，窗口变化等\r\n * \r\n * */\r\nexport class UIMgr {\r\n\r\n    private static _inst: UIMgr;\r\n    public static get inst(): UIMgr {\r\n        if (this._inst == null) {\r\n            this._inst = new UIMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n\r\n    private _uiCanvas: Node;\r\n    private _uiRoot: Node;\r\n\r\n    private createFullScreenNode() {\r\n        let canvas = this._uiCanvas.getComponent(UITransform);\r\n        let node = new Node();\r\n        node.layer = this._uiCanvas.layer;\r\n        let uiTransform = node.addComponent(UITransform);\r\n        uiTransform.width = canvas.width;\r\n        uiTransform.height = canvas.height;\r\n\r\n        let widget = node.addComponent(Widget);\r\n        widget.isAlignBottom = true;\r\n        widget.isAlignTop = true;\r\n        widget.isAlignLeft = true;\r\n        widget.isAlignRight = true;\r\n\r\n        widget.left = 0;\r\n        widget.right = 0;\r\n        widget.top = 0;\r\n        widget.bottom = 0;\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * @en setup this UIMgr,`don't call more than once`.\r\n     * @zh 初始化UIMgr,`不要多次调用`\r\n     *  */\r\n    public setup(uiCanvas: Node | Prefab, maxLayers: number, layerNames?: Array<string>) {\r\n        if (this._uiCanvas) {\r\n            return;\r\n        }\r\n\r\n        if (!uiCanvas) {\r\n            throw error('uiCanvas must be a Node or Prefab');\r\n        }\r\n        if (uiCanvas instanceof Node) {\r\n            this._uiCanvas = uiCanvas;\r\n        }\r\n        else {\r\n            this._uiCanvas = instantiate(uiCanvas);\r\n            director.getScene().addChild(this._uiCanvas);\r\n        }\r\n\r\n        this._uiCanvas.name = '$tgxUICanvas$';\r\n        director.addPersistRootNode(this._uiCanvas);\r\n\r\n        if (!this._uiCanvas.getComponent(UIUpdater)) {\r\n            this._uiCanvas.addComponent(UIUpdater);\r\n        }\r\n\r\n        //this.resize();\r\n        let canvas = this._uiCanvas.getComponent(UITransform);\r\n        this._uiCanvas.addComponent(ResolutionAutoFit);\r\n\r\n        layerNames ||= [];\r\n\r\n        this._uiRoot = this.createFullScreenNode();\r\n        this._uiRoot.name = 'ui_root'\r\n        canvas.node.addChild(this._uiRoot);\r\n\r\n        //create layers\r\n        for (let i = 0; i < maxLayers; ++i) {\r\n            let layerNode = this.createFullScreenNode();\r\n            layerNode.name = 'ui_layer_' + (layerNames[i] ? layerNames[i] : i);\r\n            this._uiRoot.addChild(layerNode);\r\n        }\r\n    }\r\n\r\n    public getLayerNode(layerIndex: number): Node {\r\n        return this._uiRoot.children[layerIndex] || this._uiRoot;\r\n    }\r\n\r\n    public closeAll() {\r\n        UIController.closeAll();\r\n    }\r\n\r\n    public isShowing(uiCls: any): boolean {\r\n        //@ts-ignore\r\n        let allControllers = UIController._controllers;\r\n        let ret = false;\r\n        allControllers.forEach(c => {\r\n            if (c.data instanceof uiCls) {\r\n                ret = true;\r\n                //return true to break forEach.\r\n                return true;\r\n            }\r\n        });\r\n        return ret;\r\n    }\r\n\r\n    /***\r\n     * @en show ui by the given parameters.\r\n     * @zh 显示UI\r\n     * @param uiCls the class, must inherits from the class `UIController`.\r\n     * @param cb will be called after ui created.\r\n     * @param thisArg the this argument for param `cb`.\r\n     * @returns the instance of `uiCls`\r\n     *  */\r\n    public showUI(uiCls: any, cb?: Function, thisArg?: any, params?: any): any {\r\n        let bundleName = ModuleContext.getClassModule(uiCls);\r\n        if (bundleName) {\r\n            let bundle = assetManager.getBundle(bundleName);\r\n            if (!bundle) {\r\n                assetManager.loadBundle(bundleName, null, (err, loadedBundle) => {\r\n                    if (err) {\r\n                        console.log(err);\r\n                    }\r\n                    else {\r\n                        this.showUI(uiCls, cb, thisArg, params);\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n        }\r\n\r\n        let ui = ModuleContext.createFromModule(uiCls) as UIController;\r\n        let resArr = ui.getRes() || [];\r\n        if (typeof (ui.prefab) == 'string') {\r\n            resArr.push(ui.prefab as never);\r\n        }\r\n        \r\n        let fnLoadAndCreateFromBundle = (bundle: AssetManager.Bundle) => {\r\n            bundle.load(resArr, (err, data) => {\r\n                if (err) {\r\n                    console.log(err);\r\n                }\r\n                let node: Node = null;\r\n                let prefab: Prefab = ui.prefab as Prefab;\r\n                if (typeof (ui.prefab) == 'string') {\r\n                    prefab = bundle.get(ui.prefab) as Prefab;\r\n                }\r\n                if (prefab) {\r\n                    node = instantiate(prefab);\r\n                }\r\n                else {\r\n                    //special for empty ui\r\n                    node = this.createFullScreenNode();\r\n                }\r\n\r\n                let parent = UIMgr.inst.getLayerNode(ui.layer);\r\n                parent.addChild(node);\r\n                ui.setPrefab(prefab);\r\n                \r\n\r\n                ui.setup(node, params);\r\n                if (cb) {\r\n                    cb.apply(thisArg, [ui]);\r\n                }\r\n            });\r\n            return ui;\r\n        }\r\n\r\n        bundleName = bundleName || 'resources';\r\n        let bundle = assetManager.getBundle(bundleName);\r\n        return fnLoadAndCreateFromBundle(bundle);\r\n    }\r\n\r\n    //切换ui横竖屏\r\n    public setUiOrientation() {\r\n        let gameCanvas = find('Canvas');//取画布\r\n        if (!gameCanvas) return;\r\n        let uiOrientation = gameCanvas.getComponent(UIOrientation);\r\n        if (!uiOrientation) return;\r\n        //设置ui成竖屏\r\n        if (uiOrientation.is_Portrait) {\r\n            let camera = this._uiCanvas.getChildByPath(\"Camera\");\r\n            camera.setRotationFromEuler(0, 0, 90);\r\n        }\r\n    }\r\n\r\n    //切换竖屏\r\n    public setUiPortrait(): void {\r\n        this._uiRoot.setRotationFromEuler(0, 0, 90);\r\n    }\r\n    //切换横屏\r\n    public setUiLandscape(): void {\r\n        this._uiRoot.setRotationFromEuler(0, 0, 0);\r\n    }\r\n}\r\n","import { _decorator, CCBoolean, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//当需要把UIMgr的根节点单独旋转成竖屏时使用,\r\n//必须把UIOrientation放在场景下第一级节点，且名为Canvas的画布上\r\n@ccclass('UIOrientation')\r\nexport class UIOrientation extends Component {\r\n    @property(CCBoolean)\r\n    is_Portrait: boolean = true;//是否竖屏\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nimport { instantiate } from 'cc';\r\nimport { Prefab } from 'cc';\r\nimport { ResourceMgr } from '../../base/ResourceMgr';\r\nimport { ModuleDef } from 'db://assets/scripts/ModuleDef';\r\nimport { UIMgr } from '../UIMgr';\r\nimport { Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UITip')\r\nexport class UITip {\r\n    private _tips: Array<any> = [];\r\n\r\n    private static _instance: UITip = null;\r\n    public static get instance() {\r\n        if (!this._instance) {\r\n            this._instance = new UITip();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public show(str: string) {\r\n        ResourceMgr.inst.loadResByModuleBundle(ModuleDef.BASIC, 'ui_tip/Tip', Prefab, (err, prefab: Prefab) => {\r\n            const panel = instantiate(prefab);\r\n            panel.parent = UIMgr.inst.getLayerNode(-1);\r\n            this.createrTip(panel, str);\r\n        });\r\n\r\n    }\r\n\r\n    private createrTip(tipNode: Node, str: string) {\r\n        const tip: any = tipNode.getComponent(\"UITipPanel\");\r\n        tip.tipStr = str;\r\n        //放到队列中\r\n        this._tips.push(tip);\r\n        tip.node.once('over', () => {\r\n            tip.node.removeFromParent();\r\n            tip.node.destroy();\r\n            this._tips.shift();\r\n            this.queue();\r\n        });\r\n        tip.node.once('queue', () => {\r\n            this.queue();\r\n        });\r\n        this.queue();\r\n    }\r\n\r\n    private queue(i = 0) {\r\n        if (this._tips.length == 0) return;\r\n        let tip = this._tips[i];\r\n        if (!tip) return;\r\n        if (!tip?.isMove) {\r\n            tip.node.parent = UIMgr.inst.getLayerNode(-1);\r\n            tip.init();\r\n            tip.tip(tip.tipStr, 1);\r\n        } else {\r\n            if (tip.isQueue) {\r\n                this.queue(i + 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","\nimport { UIController } from \"../UIController\";\nimport { UIMgr } from \"../UIMgr\";\nimport { Layout_UIWaiting } from \"./Layout_UIWaiting\";\n\nconst loadingTxtArr = ['.', '..', '...'];\n\nlet _inst: UIWaiting = null;\n\nexport class UIWaiting extends UIController {\n\n    private _contentStr: string = 'Loading';\n    protected onCreated(): void {\n\n    }\n\n    public static show(contentStr?: string): UIWaiting {\n        if (!_inst) {\n            _inst = UIMgr.inst.showUI(UIWaiting);\n        }\n        _inst._contentStr = contentStr || 'Loading';\n        return _inst;\n    }\n\n    public static hide(): void {\n        if (_inst) {\n            _inst.close();\n            _inst = null;\n        }\n    }\n\n    protected onUpdate() {\n        let layout = this._layout as Layout_UIWaiting;\n        if (layout.loadingIcon) {\n            let euler = layout.loadingIcon.eulerAngles;\n            let rot = (Date.now() / 1000) * 90;\n            layout.loadingIcon.setRotationFromEuler(euler.x, euler.y, rot);\n        }\n\n        if (layout.loadingTxt) {\n            let idx = Math.floor(Date.now() / 500) % 3;\n            layout.loadingTxt.string = this._contentStr + loadingTxtArr[idx];\n        }\n    }\n\n    onDispose() {\n        _inst = null;\n    }\n}","export class URLUtils{\n    public static urlParse(url:string) {\n        var params = {};\n        if (!url) {\n            return params;\n        }\n        var name, value;\n        var str = url; //取得整个地址栏\n        var num = str.indexOf(\"?\")\n        str = str.substring(num + 1); //取得所有参数   stringvar.substr(start [, length ]\n    \n        var arr = str.split(\"&\"); //各个参数放到数组里\n        for (var i = 0; i < arr.length; i++) {\n            num = arr[i].indexOf(\"=\");\n            if (num > 0) {\n                name = arr[i].substring(0, num);\n                value = arr[i].substr(num + 1);\n                params[name] = value;\n            }\n        }\n        return params;\n    }\n}"]}