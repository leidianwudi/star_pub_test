System.register("chunks:///_virtual/autoPanel8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts","./Num.ts"],(function(t){var e,o,n,i,r,l,a,s,u,c,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,s=t.Label,u=t.Color,c=t.tween,h=t.Component},function(t){p=t.ox},function(t){d=t.Num}],execute:function(){var f,b,y,C,g,v,w,m,P,_,B,N,x;r._RF.push({},"91508AmIEZFgLSyItC/slD8","autoPanel",void 0);var z=l.ccclass,L=l.property;t("autoPanel",(f=z("autoPanel"),b=L({type:a,tooltip:""}),y=L({type:a,tooltip:""}),C=L({type:s,tooltip:"用户金币"}),g=L({type:s,tooltip:"本局总注"}),v=L({type:s,tooltip:"赢钱金额"}),f((P=e((m=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"panel",P,i(e)),n(e,"roundedButton",_,i(e)),n(e,"lblUserCoin",B,i(e)),n(e,"lblCurBet",N,i(e)),n(e,"winCoin_lab",x,i(e)),e.autoNum=0,e.autoChooseColor=[243,168,85],e.showPos=void 0,e.hidePos=void 0,e}o(e,t);var r=e.prototype;return r.init=function(){p.autoPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},r.start=function(){this.init()},r.update=function(t){this.lblUserCoin.string=d.exchangeToThousands(p.exchangeRate,p.money),this.lblCurBet.string=d.exchangeToThousands(p.exchangeRate,p.betSum),this.winCoin_lab.string=p.slotCtrl.winCoin_lab.string},r.onCLick_chooseAutoNum=function(t,e){this.roundedButton.color=new u(255,200,36),this.roundedButton.opacity=255,this.autoNum=parseInt(e);var o=t.target.parent;for(var n in o.children)o.children[n].children[0].children[0].color=new u(100,100,110);t.target.children[0].children[0].color=new u(this.autoChooseColor[0],this.autoChooseColor[1],this.autoChooseColor[2])},r.onCLick_startAuto=function(){this.autoNum>0&&(this.onClose(),p.node.startAuto(this.autoNum))},r.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},r.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},r.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(m.prototype,"roundedButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(m.prototype,"lblUserCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(m.prototype,"lblCurBet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(m.prototype,"winCoin_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=m))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/betNum9.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,u=t.Component}],execute:function(){var c;r._RF.push({},"e9679lLrs5HzqV+du6YBmaM","betNum",void 0);var o=n.ccclass;n.property,t("betNum",o("betNum")(c=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))||this).valNum=0,e}return e(r,t),r}(u))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/betPanel9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts","./Num.ts","./betNum9.ts"],(function(t){var e,i,s,n,o,l,h,a,r,c,u,g,p,m,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,h=t.Node,a=t.Prefab,r=t.PageView,c=t.Label,u=t.instantiate,g=t.tween,p=t.Component},function(t){m=t.ox},function(t){b=t.Num},function(t){v=t.betNum}],execute:function(){var d,f,_,B,P,C,y,x,L,N,w,I,T,z,k,S,j,R,U,A,D,E,M;o._RF.push({},"b10cck7kUtHUafnfWjSqDLd","betPanel",void 0);var F=l.ccclass,H=l.property;t("betPanel",(d=F("betPanel"),f=H({type:h,tooltip:""}),_=H({type:a,tooltip:""}),B=H({type:a,tooltip:""}),P=H({type:r,tooltip:""}),C=H({type:r,tooltip:""}),y=H({type:r,tooltip:""}),x=H({type:c,tooltip:""}),L=H({type:c,tooltip:"用户金币"}),N=H({type:c,tooltip:"本局总注"}),w=H({type:c,tooltip:"赢钱金额"}),d((z=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,s(e,"panel",z,n(e)),s(e,"chooseBet_pb",k,n(e)),s(e,"chooseTotalBet_pb",S,n(e)),s(e,"chooseBet_list1",j,n(e)),s(e,"chooseBet_list2",R,n(e)),s(e,"chooseBet_list3",U,n(e)),s(e,"lbLine",A,n(e)),s(e,"lblUserCoin",D,n(e)),s(e,"lblCurBet",E,n(e)),s(e,"winCoin_lab",M,n(e)),e.numList=[],e.betList=[],e.line=0,e.val1=0,e.val2=0,e.val3=0,e.tempi=0,e.tempj=0,e.tempindex=0,e.sumList=[],e.showPos=void 0,e.hidePos=void 0,e}i(e,t);var o=e.prototype;return o.init=function(){m.betPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1,this.numList=m.BETNUM,this.betList=m.BET,this.line=m.LINES},o.start=function(){this.init()},o.update=function(t){this.lblUserCoin.string=b.exchangeToThousands(m.exchangeRate,m.money),this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),this.winCoin_lab.string=m.slotCtrl.winCoin_lab.string},o.initBetContent=function(){this.val1=this.numList[0],this.val2=this.betList[0],this.val3=this.numList[0]*this.betList[0]*this.line,this.chooseBet_list1.removeAllPages();for(var t=0;t<this.numList.length;t++){var e=u(this.chooseBet_pb);e.children[0].active=0==t,e.children[1].active=t==this.numList.length-1,e.getComponent(c).string=b.exchangeToThousands(m.exchangeRate,this.numList[t]),e.getComponent(v).valNum=this.numList[t],this.chooseBet_list1.addPage(e)}this.chooseBet_list2.removeAllPages();for(var i=0;i<this.betList.length;i++){var s=u(this.chooseBet_pb);s.children[0].active=!1,s.children[1].active=!1,s.getComponent(c).string=this.betList[i]+"",s.getComponent(v).valNum=this.betList[i],this.chooseBet_list2.addPage(s)}for(var n=[],o=0;o<this.numList.length;o++)for(var l=0;l<this.betList.length;l++)n.push(1e3*this.numList[o]*this.betList[l]*this.line/1e3);var h=Array.from(new Set(n));h.sort((function(t,e){return t-e})),this.sumList=h,this.chooseBet_list3.removeAllPages();for(var a=0;a<h.length;a++){var r=u(this.chooseTotalBet_pb);r.children[0].active=0==a,r.children[1].active=a==h.length-1,r.getComponent(c).string=b.exchangeToThousands(m.exchangeRate,h[a]),r.getComponent(v).valNum=h[a],this.chooseBet_list3.addPage(r)}this.lbLine.string=this.line+"",this.chooseBet_list1.node.on("page-turning",this.cb_pt1,this),this.chooseBet_list2.node.on("page-turning",this.cb_pt2,this),this.chooseBet_list3.node.on("page-turning",this.cb_pt3,this)},o.cb_pt1=function(t){this.val1=this.numList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempi=t.getCurrentPageIndex()},o.cb_pt2=function(t){this.val2=this.betList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempj=t.getCurrentPageIndex()},o.cb_pt3=function(t){this.val3=this.sumList[t.getCurrentPageIndex()],this.tempindex=t.getCurrentPageIndex();for(var e=0;e<this.chooseBet_list1.getPages().length;e++)for(var i=0;i<this.chooseBet_list2.getPages().length;i++)if(this.val3==1e3*this.chooseBet_list1.getPages()[e].getComponent(v).valNum*this.chooseBet_list2.getPages()[i].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(e),this.chooseBet_list2.setCurrentPageIndex(i),this.val1=this.chooseBet_list1.getPages()[e].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[i].getComponent(v).valNum,this.tempi=e,this.tempj=i;break}},o.choose_Max=function(){this.val3=this.sumList[this.sumList.length-1],this.tempindex=this.sumList.length-1;for(var t=0;t<this.chooseBet_list1.getPages().length;t++)for(var e=0;e<this.chooseBet_list2.getPages().length;e++)if(this.val3==1e3*this.chooseBet_list1.getPages()[t].getComponent(v).valNum*this.chooseBet_list2.getPages()[e].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(t),this.chooseBet_list2.setCurrentPageIndex(e),this.val1=this.chooseBet_list1.getPages()[t].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[t].getComponent(v).valNum,this.tempi=t,this.tempj=e;break}},o.onConfirm=function(){m.betNum=this.tempi,m.bet=this.tempj,m.sumIdx=this.tempindex,m.betSum=this.sumList[m.sumIdx],this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),m.slotCtrl.lblCurBet.string=this.lblCurBet.string,this.onClose()},o.bindBet=function(){this.chooseBet_list3.setCurrentPageIndex(m.sumIdx),this.val3=m.betSum,this.cb_pt3(this.chooseBet_list3)},o.showPanel=function(){var t=this;m.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,this.panel.children[0].opacity=10,this.initBetContent(),g(this.panel).to(.2,{y:this.showPos}).start(),g(this.node).delay(.2).call((function(){g(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},o.hidePanel=function(){var t=this;g(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},o.onClose=function(){m.node.audio.playclickclose(),this.hidePanel()},e}(p)).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"chooseBet_pb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"chooseTotalBet_pb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"chooseBet_list1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"chooseBet_list2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"chooseBet_list3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"lbLine",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"lblUserCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"lblCurBet",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"winCoin_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/cOx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./dataChange8.ts"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.SubGameDef},function(t){i=t.dataChange}],execute:function(){n._RF.push({},"ce0e8qF2ylJv4QmkZnHOsQh","cOx",void 0);var u=function(){function t(){this.BETNUM=i.BETNUM,this.LINES=i.LINES,this.BET=i.BET,this._isNewUser=!1,this._money=0,this._exchangeRate=0,this.detail=null,this.node=null,this.wheelList=[],this.bet=0,this.betNum=0,this.sumIdx=0,this._betSum=0,this.lotteryRes=null,this.auto=!1,this.autoTimes=0,this.status=0,this.winLinePos=[],this.bigWinNum=0,this.rollIndex=0,this._rollEnable=!0,this.betPanel=null,this.autoPanel=null,this.rulePanel=null,this.payPanel=null,this.lastmoneyPanel=null}return e(t,[{key:"isNewUser",get:function(){return this._isNewUser=!1,this._isNewUser}},{key:"money",get:function(){return this._money},set:function(t){this._money=t}},{key:"exchangeRate",get:function(){return this._exchangeRate=1,this._exchangeRate}},{key:"slotCtrl",get:function(){return this.node.slotCtrl}},{key:"betSum",get:function(){return this._betSum||(this._betSum=Number(localStorage.getItem(s.SLOTS_OX+"betSum"))),this._betSum},set:function(t){this._betSum!=t&&localStorage.setItem(s.SLOTS_OX+"betSum",t+""),this._betSum=t}},{key:"rollEnable",get:function(){return this._rollEnable},set:function(t){this._rollEnable=t}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();u._instance=null;t("ox",u.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/dataChange8.ts",["cc","./Num.ts"],(function(e){var n,r;return{setters:[function(e){n=e.cclegacy},function(e){r=e.Num}],execute:function(){n._RF.push({},"0e632XRpYVPEI0yaIdEXqv6","dataChange",void 0);var i=e("dataChange",function(){function e(){}return e.change=function(n){var i={code:0};i.userscore=r.parse(n.coins),i.winscore=r.parse(n.payout);var o=n.results[0];o.allTheSame?(i.isAllWin=!0,i.getBigWin.card=this.transformId(o.allTheSame.id)):i.isAllWin=!1,i.getBigWin={},i.getBigWin.res_list=[];for(var s=0;s<o.rounds.length;s++){for(var t=o.rounds[s],a=[],l=[],u=[],g=[],d=[!1,!1,!1,!1,!1,!1,!1,!1,!1],c=0;c<t.symbols.length;c++){var p=t.symbols[c];a[e.posToIndex(p.coordinate)]=this.transformId(p.id)}for(var h=0;h<t.paylines.length;h++){var v=t.paylines[h];l.push(Number(v.id)-1),g.push(v.payout),u[h]=[];for(var f=0;f<v.points.length;f++){var w=v.points[f],W=e.posToIndex(w);u[h].push(W),d[W]=!0}}s==o.rounds.length-1&&(i.nHandCards=a,i.nWinLines=l,i.nWinLinesDetail=u,i.nWinDetail=g,i.nWinCards=d);var m={};m.nHandCards=a,m.nWinLines=l,m.nWinLinesDetail=u,m.nWinDetail=g,m.nWinCards=d,s==o.rounds.length-1?m.winscore=i.winscore:m.winscore=0,i.getBigWin.res_list.push(m)}return i.getFreeTime={},i.getBigWin.bFlag=o.bigEvents,i.getBigWin.isStart=o.bigEvents,i.getFreeTime.bFlag=!1,i.getFreeTime.nFreeTime=0,i},e.posToIndex=function(e){return 1==e.row&&1==e.reel?6:2==e.row&&1==e.reel?3:3==e.row&&1==e.reel?0:4==e.row&&1==e.reel?9:1==e.row&&2==e.reel?10:2==e.row&&2==e.reel?7:3==e.row&&2==e.reel?4:4==e.row&&2==e.reel?1:1==e.row&&3==e.reel?8:2==e.row&&3==e.reel?5:3==e.row&&3==e.reel?2:4==e.row&&3==e.reel?11:void 0},e.transformId=function(e){var n;return null!=(n={ox:7,yuanbao:6,copper_coin:5,blessing_bag:4,red_envelope:3,orange:2,firework:1}[e])?n:0},e}());i.BETNUM=[.03,.1,.3,.9],i.LINES=10,i.BET=[1,2,3,4,5,6,7,8,9,10],n._RF.pop()}}}));

System.register("chunks:///_virtual/lastmoneyPanel9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts","./Num.ts"],(function(t){var e,n,i,o,a,l,s,r,c,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,r=t.Label,c=t.tween,h=t.Component},function(t){p=t.ox},function(t){u=t.Num}],execute:function(){var d,y,f,v,P,m,b;a._RF.push({},"af103Md7fJKq573nHTtm9pB","lastmoneyPanel",void 0);var g=l.ccclass,w=l.property;t("lastmoneyPanel",(d=g("lastmoneyPanel"),y=w({type:s,tooltip:""}),f=w({type:r,tooltip:""}),d((m=e((P=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"panel",m,o(e)),i(e,"lblUserCoin",b,o(e)),e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var a=e.prototype;return a.init=function(){p.lastmoneyPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.update=function(t){this.lblUserCoin.string=u.exchangeToThousands(p.exchangeRate,p.money)},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(P.prototype,"lblUserCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_ox",["./SlotsOxGameMgr.ts","./SlotsOxLobbyScene.ts","./autoPanel8.ts","./betNum9.ts","./betPanel9.ts","./cOx.ts","./dataChange8.ts","./lastmoneyPanel9.ts","./oxAudio.ts","./oxDetail.ts","./oxMain.ts","./oxSlotCtrl.ts","./oxWheel.ts","./payPanel4.ts","./rulePanel4.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/oxAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleDef.ts"],(function(i){var t,n,e,l,o,r,a,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,a=i.AudioClip,p=i.Component},function(i){u=i.ModuleDef}],execute:function(){var f,c,s,y,b,g,E,h,W,m,x,d,w,B,z,M,A,S,k,O,v,F,L,_,T,D,C,I,J,P,R,Y,j,G,H,X,Z,q,K,N,Q,U,V,$,ii;o._RF.push({},"b7ab2x5ETRGDZSuvYwYwYgp","oxAudio",void 0);var ti=r.ccclass,ni=r.property;i("oxAudio",(f=ti("oxAudio"),c=ni([a]),s=ni({type:a,tooltip:"粒子触发"}),y=ni({type:a,tooltip:"粒子结束"}),b=ni({type:[a],tooltip:"普通中奖牛语音"}),g=ni({type:[a],tooltip:"高倍中奖牛语音"}),E=ni({type:a,tooltip:"出现wild牛语音"}),h=ni({type:a,tooltip:"牛跳起语音"}),W=ni({type:a,tooltip:"大奖进入语音"}),m=ni({type:a,tooltip:"大奖中奖语音"}),x=ni({type:a,tooltip:"大奖退出音效"}),d=ni({type:a,tooltip:"大奖标题出现音效"}),w=ni({type:a,tooltip:"大奖加速旋转音效"}),B=ni({type:a,tooltip:"旋转按钮按下音效"}),z=ni({type:a,tooltip:"滚轮旋转"}),M=ni({type:a,tooltip:"stopWheel"}),A=ni({type:a,tooltip:"bigWinEf"}),S=ni({type:a,tooltip:"中奖首次音效"}),k=ni({type:a,tooltip:"中奖循环音效"}),O=ni({type:a,tooltip:"点击旋转"}),v=ni({type:a,tooltip:"点击打开"}),F=ni({type:a,tooltip:"点击关闭"}),f((T=t((_=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,e(t,"bgmAudio",T,l(t)),e(t,"particalStart",D,l(t)),e(t,"particalEnd",C,l(t)),e(t,"oxWinEf",I,l(t)),e(t,"oxMegaWinEf",J,l(t)),e(t,"oxWildEf",P,l(t)),e(t,"oxJumpEf",R,l(t)),e(t,"oxBigWinInEf",Y,l(t)),e(t,"oxBigWinEf",j,l(t)),e(t,"BigWinExitEf",G,l(t)),e(t,"BigWinTitleEf",H,l(t)),e(t,"BigWinFastSpinEf",X,l(t)),e(t,"spinEf",Z,l(t)),e(t,"wheelspin",q,l(t)),e(t,"stopWheel",K,l(t)),e(t,"bigWinEf",N,l(t)),e(t,"WinFirstEf",Q,l(t)),e(t,"WinLoopEf",U,l(t)),e(t,"clickstart",V,l(t)),e(t,"clickOpen",$,l(t)),e(t,"clickClose",ii,l(t)),t.BWurl="sound/bgm_bigwin_main",t.url="sound/bgm_mg",t}n(t,i);var o=t.prototype;return o.onLoad=function(){},o.start=function(){this.playBgm()},o.stopAudio=function(){},o.playbigwinmain=function(){},o.stopbigwinmain=function(){this.playBgm()},o.playBgm=function(){tgx.AudioMgr.inst.audio.playMusicLoop(this.url,u.SLOTS_OX)},o.playSpin=function(){this.playEf(this.spinEf)},o.playwheelspin=function(){this.playEf(this.wheelspin)},o.playParticalStart=function(){this.playEf(this.particalStart)},o.playParticalEnd=function(){this.playEf(this.particalEnd)},o.playWinOx=function(){var i=Math.floor(Math.random()*this.oxWinEf.length);this.playEf(this.oxWinEf[i])},o.playMegaWinOx=function(){var i=Math.floor(Math.random()*this.oxMegaWinEf.length);this.playEf(this.oxMegaWinEf[i])},o.playWildOx=function(){this.playEf(this.oxWildEf)},o.playJumpOx=function(){this.playEf(this.oxJumpEf)},o.playBigWinInOx=function(){this.playEf(this.oxBigWinInEf)},o.playBigWinOx=function(){this.playEf(this.oxBigWinEf)},o.playBigWinExitOx=function(){this.playEf(this.BigWinExitEf)},o.playBigWinTitle=function(){this.playEf(this.BigWinTitleEf)},o.playBigWinFastSpin=function(){this.playEf(this.BigWinFastSpinEf)},o.playStopWheel=function(){this.playEf(this.stopWheel)},o.playBW=function(){this.playEf(this.bigWinEf)},o.playWinFirst=function(){this.playEf(this.WinFirstEf)},o.playWinLoop=function(){this.playEf(this.WinLoopEf)},o.playclickstart=function(){this.playEf(this.clickstart)},o.playEf=function(i){tgx.AudioMgr.inst.audio.playEffect(i)},o.playclickopen=function(){this.playEf(this.clickOpen)},o.playclickclose=function(){this.playEf(this.clickClose)},o.clearAll=function(){tgx.AudioMgr.inst.audio.clearAll()},t}(p)).prototype,"bgmAudio",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(_.prototype,"particalStart",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"particalEnd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"oxWinEf",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(_.prototype,"oxMegaWinEf",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(_.prototype,"oxWildEf",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"oxJumpEf",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(_.prototype,"oxBigWinInEf",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(_.prototype,"oxBigWinEf",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(_.prototype,"BigWinExitEf",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"BigWinTitleEf",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(_.prototype,"BigWinFastSpinEf",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(_.prototype,"spinEf",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(_.prototype,"wheelspin",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(_.prototype,"stopWheel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"bigWinEf",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(_.prototype,"WinFirstEf",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"WinLoopEf",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(_.prototype,"clickstart",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(_.prototype,"clickOpen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(_.prototype,"clickClose",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=_))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/oxDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts"],(function(e){var t,i,o,n,r,l,a,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,u=e.Label,c=e.Component},function(e){p=e.ox}],execute:function(){var s,d,f,y,h,N,b,v,m,g,x,w,B;r._RF.push({},"afa68PwwV5Hja/sTUu3uJtP","oxDetail",void 0);var z=l.ccclass,D=l.property,G=[{3:3},{3:5},{3:10},{3:20},{3:50},{3:100},{3:200},{3:0}];e("oxDetail",(s=z("oxDetail"),d=D({type:a,tooltip:"图片"}),f=D({type:a,tooltip:"背景板"}),y=D({type:a,tooltip:"反向背景板"}),h=D({type:a,tooltip:"中奖分数"}),N=D({type:a,tooltip:"特殊牌"}),s((m=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"roleSpriteNode",m,n(t)),o(t,"BGNode",g,n(t)),o(t,"BGNode2",x,n(t)),o(t,"numNode",w,n(t)),o(t,"specialNode",B,n(t)),t}i(t,e);var r=t.prototype;return r.init=function(e,t){p.detail&&(p.detail.node.active=!1),p.detail=this;var i=e;for(var o in this.roleSpriteNode.children[e-1].active=!0,G[i-1])this.numNode.getChildByName(o).children[0].getComponent(u).string=G[e-1][o];t||(this.BGNode.active=!1,this.BGNode2.active=!0,this.numNode.x=-155,this.specialNode.x=-340)},r.node_onclick=function(e){p.node.deskMask.active=!1,this.node.destroy(),p.detail=null},t}(c)).prototype,"roleSpriteNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(v.prototype,"BGNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"BGNode2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"numNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"specialNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/oxMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./oxSlotCtrl.ts","./cOx.ts","./Num.ts","./NetGameServer.ts","./SubGameDef.ts","./dataChange8.ts","./UserMgr.ts","./RoomMgr.ts","./UIHelp.ts","./LanguageData.ts"],(function(e){var t,i,n,o,l,s,r,a,c,u,h,f,d,p,m,y,g,w,b,v,C,L,B,N,R,W,A,x,k,_,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,c=e.Prefab,u=e.Node,h=e.Label,f=e.sp,d=e.Vec3,p=e.macro,m=e.instantiate,y=e.tween,g=e.find,w=e.Animation,b=e.Component,v=e.UITransform},function(e){C=e.oxSlotCtrl},function(e){L=e.ox},function(e){B=e.Num},function(e){N=e.gameNet},function(e){R=e.SubGameDef},function(e){W=e.dataChange},function(e){A=e.UserMgr},function(e){x=e.RoomMgr},function(e){k=e.UIHelp,_=e.UIhelpParam},function(e){F=e.LanguageData}],execute:function(){var I,S,T,G,E,M,P,z,O,U,D,X,H,J,j,V,q,Q,K,Y,Z,$,ee,te,ie,ne,oe,le,se,re,ae,ce,ue,he,fe,de,pe,me,ye,ge,we,be,ve,Ce,Le,Be,Ne,Re,We,Ae,xe,ke,_e;r._RF.push({},"702c25MctdCQqutoTDRPSMn","oxMain",void 0);var Fe=a.ccclass,Ie=a.property;e("oxMain",(I=Fe("oxMain"),S=Ie({type:c,tooltip:"滚轮角色Pb"}),T=Ie({type:c,tooltip:"角色详情Pb"}),G=Ie({type:c,tooltip:"万能特效Pb"}),E=Ie({type:u,tooltip:"中奖数字特效"}),M=Ie({type:u,tooltip:"中奖光特效"}),P=Ie({type:u,tooltip:"中奖牌特效"}),z=Ie({type:u,tooltip:"中奖图层遮罩"}),O=Ie({type:u,tooltip:"中奖图层遮罩2"}),U=Ie({type:u,tooltip:"中奖特效"}),D=Ie({type:u,tooltip:"游戏背景节点"}),X=Ie({type:u,tooltip:"免费摇奖背景节点"}),H=Ie({type:u,tooltip:"免费特效节点"}),J=Ie({type:u,tooltip:"免费元宝特效"}),j=Ie({type:u,tooltip:"金牛灯光背景"}),V=Ie({type:u,tooltip:"免费灯光特效"}),q=Ie({type:u,tooltip:"x10特效"}),Q=Ie({type:u,tooltip:"中奖背景2"}),K=Ie({type:u,tooltip:"中奖背景3"}),Y=Ie({type:u,tooltip:"滚屏提示"}),Z=Ie({type:u,tooltip:"中奖提示"}),$=Ie({type:u,tooltip:"爆金币"}),ee=Ie({type:h,tooltip:"单线中奖金币"}),te=Ie({type:u,tooltip:"公牛动画"}),ie=Ie({type:u,tooltip:"detailMask"}),ne=Ie({type:u,tooltip:"slotCtrl"}),I((se=t((le=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,n(t,"rolePb",se,o(t)),n(t,"detailPb",re,o(t)),n(t,"wildEffectPb",ae,o(t)),n(t,"effectNum",ce,o(t)),n(t,"effectLight",ue,o(t)),n(t,"effectCard",he,o(t)),n(t,"maskNode",fe,o(t)),n(t,"maskNode2",de,o(t)),n(t,"effectLine",pe,o(t)),n(t,"BgNode",me,o(t)),n(t,"freeBgNode",ye,o(t)),n(t,"freeEffectNode",ge,o(t)),n(t,"freeCoinEffect",we,o(t)),n(t,"freeLightNode",be,o(t)),n(t,"freeWheelLightEffect",ve,o(t)),n(t,"free_X10Effect",Ce,o(t)),n(t,"win2BG",Le,o(t)),n(t,"win3BG",Be,o(t)),n(t,"tipNode",Ne,o(t)),n(t,"winNode",Re,o(t)),n(t,"coinBoomEffect",We,o(t)),n(t,"coinLineLab",Ae,o(t)),n(t,"bullAnim",xe,o(t)),n(t,"deskMask",ke,o(t)),n(t,"slotCtrlNode",_e,o(t)),t.delayClick=!1,t.audio=null,t.slotCtrl=null,t.bIsFreeGame=!1,t.freeTimes=0,t.bigWinBoo=!1,t.stopFree=!1,t.freeGameCoin=0,t.stateCallBackBn=!1,t.showLine=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){L.node=this,this.slotCtrl=this.slotCtrlNode.getComponent(C),this.slotCtrl.initBetContent(L.BETNUM,L.BET,L.LINES),this.audio=this.node.getComponent("oxAudio"),L.wheelList=[],L.auto=!1,L.autoTimes=0,L.status=0,L.winLinePos=[480,380,380,380,380,180,180,180,180,20],L.rollIndex=0,L.lotteryRes=null,L.rollEnable=!0,L.money=A.inst.coin,this.slotCtrl.lblUserCoin.string=B.exchangeToThousands(L.exchangeRate,L.money),this.delayClick=!1,this.bIsFreeGame=!1,this.bigWinBoo=!1,this.freeTimes=0,this.stopFree=!1,this.freeGameCoin=0,L.money=L.money},r.initWheel=function(){for(var e=0;e<L.wheelList.length;e++)L.wheelList[e].initWheel()},r.start=function(){this.initWheel(),this.slotCtrl.setSpinAnim(0),this.slotCtrl.bindBet();var e=this.bullAnim.getComponent(f.Skeleton);e.setCompleteListener((function(t){switch(t.animation.name){case"idle2":case"wild_collect":case"win":case"win2":e.setAnimation(0,"idle",!0);break;case"win3":e.setAnimation(0,"rsg_win_exit",!1);break;case"rs_start":case"dup":e.setAnimation(0,"rs_idle",!0);break;case"rs_exit":case"rsg_win_exit":e.setAnimation(0,"idle",!0);break;case"rs_win":e.setAnimation(0,"rsg_win_idle",!0)}}))},r.update=function(){},r.onCLick=function(e,t){switch(t){case"roll":this.startRoll();break;case"add":this.add();break;case"dec":this.dec();break;case"lastmoney":L.lastmoneyPanel.showPanel();break;case"help":tgx.UIMgr.inst.showUI(k,null,this,new _("rule"));break;case"pay":tgx.UIMgr.inst.showUI(k,null,this,new _("payout"));break;case"exitGame":this.onBtnExitClicked()}},r.onBtnExitClicked=function(){tgx.UIAlert.show(F.getLangByID("exit_game"),!0).onClick(l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(L.node.close(),x.inst.exitRoom());case 1:case"end":return e.stop()}}),e)}))))},r.startRoll=function(){var e=this;this.freeTimes>0||this.bigWinBoo||this.stopFree||this.bIsFreeGame||this.delayClick||0==L.rollEnable||L.auto||(this.delayClick=!0,this.scheduleOnce((function(){e.delayClick=!1}),1),0==L.status?(L.status=2,this.sendRoll()):1==L.status&&(this.slotCtrl.setSpinAnim(3),this.stopImmediately()))},r.add=function(){this.freeTimes>0||this.bigWinBoo||this.stopFree||L.auto||(L.sumIdx+=1,L.sumIdx=0==this.slotCtrl.updateBet(L.sumIdx)?L.sumIdx-1:L.sumIdx)},r.dec=function(){this.freeTimes>0||this.bigWinBoo||this.stopFree||L.auto||(L.sumIdx-=1,L.sumIdx=0==this.slotCtrl.updateBet(L.sumIdx)?L.sumIdx+1:L.sumIdx)},r.startAuto=function(e){this.freeTimes>0||this.bigWinBoo||this.stopFree||this.bIsFreeGame||this.delayClick||0==L.status&&(L.auto=!0,L.autoTimes=e,this.slotCtrl.Btn_stopAuto.children[0].getComponent(h).string=e+"",this.slotCtrl.Btn_stopAuto.children[0].scale=e>999?new d(.76,.76,.76):e>99?new d(.9,.9,.9):new d(1,1,1),this.slotCtrl.Btn_stopAuto.active=L.auto,this.slotCtrl.Btn_start.active=!this.slotCtrl.Btn_stopAuto.active,this.scheduleOnce(this.sendRoll,1))},r.stopAuto=function(){L.auto=!1,L.autoTimes=0},r.stateCallBack=function(){var e=this,t=0;for(var i in L.wheelList)if(L.wheelList[i].status){t=1;break}if(L.status=t,0==L.status){if(this.stateCallBackBn)return;this.stateCallBackBn=!0,this.scheduleOnce((function(){e.stateCallBackBn=!1}),1),L.lotteryRes.winscore>0?this.slotCtrl.setSpinAnim(3):this.slotCtrl.setSpinAnim(2),this.bIsFreeGame?(L.rollIndex++,L.rollIndex<L.lotteryRes.getBigWin.res_list.length&&this.bigWinRollNext(L.lotteryRes.getBigWin.res_list[L.rollIndex].nHandCards)):this.scheduleOnce((function(){for(var t in L.wheelList){var i=4;1==Number(t)&&(i=5);for(var n=function(){if(7==L.wheelList[t].roleIdList[o+1]){L.wheelList[t].rolePbList[o+1].children[0].getComponent(f.Skeleton).setAnimation(0,"spawn",!0);var i=m(e.wildEffectPb),n=L.wheelList[t].rolePbList[o+1].getComponent(v),l=n.convertToWorldSpaceAR(new d(0,0,0)),s=(n=e.node.getComponent(v)).convertToNodeSpaceAR(l);i.position=s,e.node.addChild(i),y(i).delay(.5).call((function(){var t;e.audio.playParticalStart(),null==(t=e.bullAnim.getComponent(f.Skeleton))||t.setAnimation(0,"wild_collect",!1)})).to(.3,{position:new d(202,-202,0)}).call((function(){e.audio.playWildOx(),e.audio.playParticalEnd(),i.parent=null})).start()}},o=0;o<=i-2;o++)n()}}),.1);var n=L.lotteryRes.getBigWin.res_list.length;this.bIsFreeGame&&(this.freeGameCoin+=L.lotteryRes.winscore);var o=L.lotteryRes.getFreeTime.bFlag;this.scheduleOnce((function(){n!=L.rollIndex&&1!=n||e.playWinAnim(o),L.auto}),1),L.lotteryRes.getFreeTime.bFlag&&(0==this.freeTimes?(L.auto=!1,this.freeTimes=L.lotteryRes.getFreeTime.nFreeTime,this.freeTimes--,this.scheduleOnce((function(){e.closeShine(),e.startFreeGame()}),2)):(this.freeTimes=L.lotteryRes.getFreeTime.nFreeTime,this.stopFree=!1))}},r.startFreeGame=function(){console.log("startFreeGame"),this.audio.playBgm(),this.freeGameCoin=0,this.bIsFreeGame=!0,this.freeBgNode.active=!0,L.auto=!0,this.sendRoll()},r.stopFreeTimes=function(){var e=this;console.log("stopFreeTimes freeGameCoin : ",this.freeGameCoin),this.audio.playBgm(),L.auto=!1,this.scheduleOnce((function(){e.freeBgNode.active=!1,e.bIsFreeGame=!1}),2)},r.playWinAnim=function(e){var t,i=this,n=[];for(var o in L.lotteryRes.nWinCards)L.lotteryRes.nWinCards[o]&&n.push(o);var l=L.lotteryRes.nWinLinesDetail,s=L.rollIndex,r=this.freeTimes>0||this.stopFree?[n]:[n].concat(l);t=r.length-1,L.lotteryRes.winscore>0?L.lotteryRes.isAllWin?this.showAllWin():this.showWin():(this.slotCtrl.setSpinAnim(0),this.scheduleOnce((function(){i.slotCtrl.setSpinAnim(0),L.auto&&L.autoTimes>0&&i.scheduleOnce(i.sendRoll,1.5)}),1));var a=0;this.showLine=function(){if(s==L.rollIndex){this.closeShine();for(var e=0;e<12;e++)this.closeAnim(e%3,parseInt(e/3+""));if(!r[a]||0==r[a].length)return;for(var t in this.maskNode.active=!0,r[a])this.showAnim(r[a][t]%3,parseInt(r[a][t]/3+""));if(0==a){this.audio.playWinFirst();for(var i=0;i<L.lotteryRes.nWinLines.length;i++)this.effectLine.children[L.lotteryRes.nWinLines[i]].active=!0,this.effectNum.children[L.lotteryRes.nWinLines[i]].active=!0}else this.audio.playWinLoop(),L.lotteryRes.nWinLines.length>0&&(this.coinLineLab.node.active=!0,this.coinLineLab.node.y=L.winLinePos[L.lotteryRes.nWinLines[a-1]],this.coinLineLab.string=B.fixNum(L.exchangeRate,L.lotteryRes.nWinDetail[a-1]),this.effectLine.children[L.lotteryRes.nWinLines[a-1]].active=!0,this.effectNum.children[L.lotteryRes.nWinLines[a-1]].active=!0);++a==L.lotteryRes.nWinLines.length+1&&(a=0)}},L.auto?this.schedule(this.showLine,3,1,.01):this.schedule(this.showLine,3,p.REPEAT_FOREVER,.01),L.lotteryRes.winscore<=20*L.betSum&&this.slotCtrl.setSpinAnim(0),this.scheduleOnce((function(){i.tipNode.active=!0,i.winNode.active=!1,i.win2BG.active=!1,i.win3BG.active=!1,i.stopFree&&(i.stopFree=!1,i.stopFreeTimes(),i.closeShine()),i.freeTimes>0&&!e&&(i.freeTimes--,0==i.freeTimes&&(i.stopFree=!0))}),t>0?3*t:1)},r.showAllWin=function(){var e=this,t=L.lotteryRes.winscore/10;this.slotCtrl.playAnimWin(-1,t),this.showWinNode(t);var i=m(this.free_X10Effect);i.active=!0,i.parent=this.winNode.parent,i.y=i.y+200,i.scale=new d(.1,.1),i.opacity=255,y(i).to(.6,{scale:new d(1,1),y:313}).delay(.3).to(.6,{scale:new d(0,0),y:this.winNode.y}).call((function(){e.winNodeJump()})).delay(1).call((function(){i.parent=null,e.showWin()})).start()},r.winNodeJump=function(){var e,t=g("infoboard_a/jump",this.node);t.active=!0,null==(e=t.getComponent(w))||e.play(),y(this.winNode).to(.3,{scale:new d(1.3,1.3)}).to(.3,{scale:new d(1,1)}).delay(.4).call((function(){t.active=!1})).start()},r.showWinNode=function(e){var t,i;(this.tipNode.active=!1,this.winNode.active=!0,this.winNode.children[1].active=!0,this.winNode.children[2].active=!1,e<5*L.betSum)?(this.audio.playWinOx(),this.win2BG.active=!0,null==(t=this.win2BG.children[2].getComponent(w))||t.play(),this.win3BG.active=!1):(this.audio.playMegaWinOx(),this.win2BG.active=!1,this.win3BG.active=!0,null==(i=this.win3BG.children[2].getComponent(w))||i.play())},r.showWin=function(){var e,t,i,n;this.bIsFreeGame?(L.lotteryRes.winscore>20*L.betSum?this.slotCtrl.playBigWinCoin(L.lotteryRes.winscore):L.lotteryRes.winscore>5*L.betSum?this.slotCtrl.playAnimWin(0,L.lotteryRes.winscore):this.slotCtrl.playAnimWin(-1,L.lotteryRes.winscore),this.audio.playBigWinOx(),this.showWinNode(L.lotteryRes.winscore),L.lotteryRes.winscore<3*L.betSum?(null==(e=this.bullAnim.getComponent(f.Skeleton))||e.setAnimation(0,"win3",!1),this.exitBigWin(!1)):(null==(t=this.bullAnim.getComponent(f.Skeleton))||t.setAnimation(0,"rs_win",!1),this.exitBigWin(!0))):(this.audio.playBW(),L.lotteryRes.winscore>20*L.betSum?(this.slotCtrl.playBigWinCoin(L.lotteryRes.winscore),this.audio.playbigwinmain()):L.lotteryRes.winscore>5*L.betSum?this.slotCtrl.playAnimWin(0,L.lotteryRes.winscore):this.slotCtrl.playAnimWin(-1,L.lotteryRes.winscore),this.showWinNode(L.lotteryRes.winscore),L.lotteryRes.winscore<3*L.betSum?null==(i=this.bullAnim.getComponent(f.Skeleton))||i.setAnimation(0,"win",!1):null==(n=this.bullAnim.getComponent(f.Skeleton))||n.setAnimation(0,"win2",!1))},r.closeBigWin=function(){this.slotCtrl.playAnimWin(-1,L.lotteryRes.winscore),this.showWinNode(L.lotteryRes.winscore),L.auto&&L.autoTimes>0&&this.scheduleOnce(this.sendRoll,1)},r.exitBigWin=function(e){var t=this,i=g("bg",this.node);y(i).to(.5,{scale:new d(1,1,1)}).call((function(){var i;(t.audio.playBigWinExitOx(),t.freeLightNode.active=!1,t.freeWheelLightEffect.active=!1,t.bIsFreeGame=!1,t.freeEffectNode.getChildByName("MF_txt").active=!1,t.freeBgNode.active=!1,t.freeEffectNode.getChildByName("MF_fastspin").active=!1,t.maskNode2.active=!1,e)&&(null==(i=t.bullAnim.getComponent(f.Skeleton))||i.setAnimation(0,"rsg_win_exit",!1))})).start();var n=g("effectNode",this.node);y(n).to(.5,{scale:new d(1,1,1)}).call((function(){t.audio.playBgm()})).start()},r.showAnim=function(e,t){var i=t+1;for(var n in L.wheelList[e].rolePbList[i].children)L.wheelList[e].rolePbList[i].children[n].active=!1;var o=this.effectLight.children,l=4*e+t;o[l].active=!0;for(var s=this.effectCard.children,r=function(){var t=s[l].children[a];if(a==L.wheelList[e].roleIdList[i]-1){t.active=!0;var n=t.getComponent(f.Skeleton);n.setCompleteListener((function(e){switch(e.animation.name){case"win":n.setAnimation(0,"win_bg",!0)}})),n.setAnimation(0,"win",!1)}else t.active=!1},a=0;a<s[l].children.length;a++)r()},r.closeAnim=function(e,t){var i=t+1;L.wheelList[e].rolePbList[i].children[0].active=!0,this.effectLight.children[4*e+t].active=!1;for(var n=this.effectCard.children,o=0;o<n[4*e+t].children.length;o++)n[4*e+t].children[o].active=!1},r.roll=function(e){var t=this;L.status=1;for(var i=[],n=0;n<3;n++)i[n]=[];for(var o in e)i[Number(o)%3][3-parseInt(Number(o)/3+"")]=e[o];if(L.lotteryRes.getBigWin.bFlag){var l=L.lotteryRes.getBigWin;if(this.bIsFreeGame=!0,this.scheduleOnce((function(){var e;if(null==(e=t.bullAnim.getComponent(f.Skeleton))||e.setAnimation(0,"rs_start",!1),t.audio.playBigWinInOx(),l.isStart){var i;null==(i=t.freeCoinEffect.getComponent(w))||i.play("mf_coin2");var n=g("bg",t.node);y(n).to(1,{scale:new d(.9,.9,.9)}).call((function(){var e,i;t.audio.playJumpOx(),null==(e=t.bullAnim.getComponent(f.Skeleton))||e.setAnimation(0,"dup",!1),t.freeLightNode.active=!0,t.freeWheelLightEffect.active=!0,null==(i=t.freeWheelLightEffect.getComponent(w))||i.play()})).delay(.7).call((function(){var e;t.audio.playBgm(),t.audio.playBigWinTitle(),t.freeEffectNode.getChildByName("MF_txt").active=!0,null==(e=t.freeEffectNode.getChildByName("MF_txt").getComponent(w))||e.play("MF_txt_in")})).delay(.42).call((function(){var e;null==(e=t.freeEffectNode.getChildByName("MF_txt").getComponent(w))||e.play("MF_txt_loop")})).delay(1.2).call((function(){t.freeBgNode.active=!0})).start();var o=g("effectNode",t.node);y(o).delay(.3).to(.5,{position:new d(0,-25,0),scale:new d(.9,.9,.9)}).start()}else{var s;null==(s=t.freeCoinEffect.getComponent(w))||s.play("mf_coin");var r=g("bg",t.node);y(r).delay(.3).to(1,{scale:new d(.95,.95,.95)}).call((function(){var e;null==(e=t.bullAnim.getComponent(f.Skeleton))||e.setAnimation(0,"rs_exit",!1)})).to(.5,{scale:new d(1,1,1)}).call((function(){t.bIsFreeGame=!1})).start();var a=g("effectNode",t.node);y(a).to(1,{scale:new d(.95,.95,.95)}).to(.5,{scale:new d(1,1,1)}).call((function(){t.audio.playBgm()})).start()}}),.5),L.lotteryRes.getBigWin.isStart){for(var s=0;s<L.wheelList.length;s++){var r;(r=L.wheelList[s]).FreeRoll.apply(r,i[s])}setTimeout((function(){t.play_middleWheelAnim()}),1e3)}else for(var a=0;a<L.wheelList.length;a++){var c;(c=L.wheelList[a]).startFreeRoll.apply(c,i[a])}}else if(this.bIsFreeGame){for(var u=0;u<L.wheelList.length;u++){var h;(h=L.wheelList[u]).FreeRoll.apply(h,i[u])}setTimeout((function(){t.play_middleWheelAnim()}),1e3)}else for(var p=0;p<L.wheelList.length;p++){var m;(m=L.wheelList[p]).startRoll.apply(m,i[p])}},r.bigWinRollNext=function(e){var t=this;L.status=1;for(var i=[],n=0;n<3;n++)i[n]=[];for(var o in e)i[Number(o)%3][3-parseInt(Number(o)/3+"")]=e[o];for(var l=0;l<L.wheelList.length;l++){var s;(s=L.wheelList[l]).FreeRoll.apply(s,i[l])}setTimeout((function(){t.play_middleWheelAnim()}),1e3)},r.closeShine=function(){for(var e=0;e<this.effectLine.children.length;e++)this.effectLine.children[e].active=!1;for(var t=0;t<this.effectNum.children.length;t++)this.effectNum.children[t].active=!1;for(var i=0;i<this.effectLight.children.length;i++)this.effectLight.children[i].active=!1;for(var n=0;n<this.effectCard.children.length;n++)for(var o=0;o<this.effectCard.children[n].children.length;o++)this.effectCard.children[n].children[o].active=!1;for(var l=0;l<L.wheelList.length;l++)for(var s=0;s<L.wheelList[l].rolePbList.length;s++)7!=L.wheelList[l].roleIdList[s]&&(L.wheelList[l].rolePbList[s].children[0].active=!0);this.maskNode.active=!1,this.maskNode2.active=!1,this.coinLineLab.node.active=!1},r.sendRoll=function(){var e=this;if(0!=this.slotCtrl.playOverBn){if(this.stateCallBackBn=!1,this.unschedule(this.showLine),L.detail&&(this.deskMask&&(this.deskMask.active=!1),L.detail.node.active=!1,L.detail=null),this.winNode.active&&(this.tipNode.active=!0),this.winNode.active=!1,this.win2BG.active=!1,this.win3BG.active=!1,L.rollIndex++,this.closeShine(),this.slotCtrl.unscheduleAllCallbacks(),this.tipNode.active=!0,this.winNode.active=!1,this.win2BG.active=!1,this.win3BG.active=!1,this.slotCtrl.unscheduleAllCallbacks(),L.autoTimes=L.autoTimes>0?L.autoTimes-1:0,0==L.autoTimes&&(L.auto=!1,L.rollEnable=!0),y(this.node).delay(.1).call((function(){e.slotCtrl.setSpinAnim(1)})).start(),this.slotCtrl.Btn_stopAuto.children[0].getComponent(h).string=L.autoTimes+"",this.audio.playclickstart(),L.autoTimes>999?this.slotCtrl.Btn_stopAuto.children[0].scale=new d(.76,.76,.76):L.autoTimes>99?this.slotCtrl.Btn_stopAuto.children[0].scale=new d(.9,.9,.9):this.slotCtrl.Btn_stopAuto.children[0].scale=new d(1,1,1),!this.bIsFreeGame)for(var t in L.wheelList)L.wheelList[t].rollLoop();this.sendLottery()}},r.sendLottery=function(){var e=l(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.playSlots(R.SLOTS_OX,L.betSum.toString());case 2:t=e.sent,console.log("retSpin is",t),i=this.exchange(t.res),console.log("data is ",i),this.lotteryBack(i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.exchange=function(e){return W.change(e)},r.lotteryBack=function(e){var t=this;console.log("lotteryResult:",e),e&&0==e.code&&(L.lotteryRes=e,L.rollIndex=0,L.money=e.userscore,this.slotCtrl.lblUserCoin.string=B.exchangeToThousands(L.exchangeRate,L.money-e.winscore),y(this.node).delay(.4).call((function(){L.lotteryRes.getBigWin.bFlag?t.roll(L.lotteryRes.getBigWin.res_list[L.rollIndex].nHandCards):t.roll(e.nHandCards)})).start())},r.stopImmediately=function(){if(!L.auto)for(var e in L.wheelList)L.wheelList[e].stopImmediately()},r.play_middleWheelAnim=function(){var e=this;this.scheduleOnce((function(){var t,i;e.audio.playBigWinFastSpin(),e.freeEffectNode.getChildByName("MF_fastspin").active=!0,null==(t=e.freeEffectNode.getChildByName("MF_fastspin").getComponent(w))||t.play(),e.maskNode2.active=!0,e.playX10(),null==(i=e.free_X10Effect.getComponent(w))||i.play();var n=16*Math.random()-8,o=16*Math.random()-8;y(e.node).to(.06,{position:new d(n,o,0)}).to(.06,{position:new d(-n,-o,0)}).union().repeat(20).start()}),5)},r.playX10=function(){var e=this;this.free_X10Effect.active=!0,this.isX10()||this.scheduleOnce((function(){e.free_X10Effect.active=!1}),3.5)},r.isX10=function(){var e;e=L.lotteryRes.getBigWin.res_list.length>1?L.lotteryRes.getBigWin.res_list[L.rollIndex].nHandCards:L.lotteryRes.nHandCards;for(var t=7,i=0;i<e.length;i++){var n=e[i];if(7!=n)if(7==t)t=n;else if(t!=n)return!1}return!0},r.close=function(){this.audio.clearAll()},t}(b)).prototype,"rolePb",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(le.prototype,"detailPb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(le.prototype,"wildEffectPb",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(le.prototype,"effectNum",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(le.prototype,"effectLight",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(le.prototype,"effectCard",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(le.prototype,"maskNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(le.prototype,"maskNode2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(le.prototype,"effectLine",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(le.prototype,"BgNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(le.prototype,"freeBgNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(le.prototype,"freeEffectNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(le.prototype,"freeCoinEffect",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(le.prototype,"freeLightNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(le.prototype,"freeWheelLightEffect",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(le.prototype,"free_X10Effect",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(le.prototype,"win2BG",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(le.prototype,"win3BG",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(le.prototype,"tipNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(le.prototype,"winNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(le.prototype,"coinBoomEffect",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(le.prototype,"coinLineLab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(le.prototype,"bullAnim",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(le.prototype,"deskMask",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(le.prototype,"slotCtrlNode",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=le))||oe));r._RF.pop()}}}));

System.register("chunks:///_virtual/oxSlotCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts","./Num.ts","./LanguageData.ts"],(function(t){var i,n,e,o,s,l,a,r,c,h,p,u,d,b,g,m,_,y,C,f,B,w,A;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,c=t.SpriteFrame,h=t.Label,p=t.sp,u=t.Animation,d=t.Sprite,b=t.find,g=t.tween,m=t.Vec3,_=t.macro,y=t.Button,C=t.Color,f=t.Component},function(t){B=t.ox},function(t){w=t.Num},function(t){A=t.LanguageData}],execute:function(){var N,v,S,T,x,W,k,R,L,O,E,z,P,I,F,M,U,D,V,H,X,G,K,j,J,Z,q,Q,Y,$,tt,it,nt,et,ot,st,lt,at,rt,ct,ht,pt,ut,dt,bt,gt,mt,_t,yt,Ct,ft,Bt,wt,At,Nt,vt,St;l._RF.push({},"aaf969H+BJKK6K35kjlICZN","oxSlotCtrl",void 0);var Tt=a.ccclass,xt=a.property;t("oxSlotCtrl",(N=Tt("oxSlotCtrl"),v=xt({type:r,tooltip:"开始按钮"}),S=xt({type:c,tooltip:"旋转图片"}),T=xt({type:r,tooltip:"spin_AnimNode"}),x=xt({type:r,tooltip:"摇奖按钮点击效果"}),W=xt({type:r,tooltip:"自动次数按钮"}),k=xt({type:r,tooltip:"停止自动按钮点击效果"}),R=xt({type:r,tooltip:"免费按钮"}),L=xt({type:r,tooltip:"加注"}),O=xt({type:r,tooltip:"减注"}),E=xt({type:r,tooltip:"自动面板"}),z=xt({type:r,tooltip:"设置"}),P=xt({type:r,tooltip:"下注面板"}),I=xt({type:r,tooltip:"设置面板"}),F=xt({type:r,tooltip:"金币面板"}),M=xt({type:h,tooltip:"用户金币"}),U=xt({type:h,tooltip:"本局总注"}),D=xt({type:h,tooltip:"赢钱金额"}),V=xt({type:h,tooltip:"大奖赢钱金额"}),H=xt({type:r,tooltip:"状态节点"}),X=xt({type:r,tooltip:"大奖节点"}),G=xt({type:r,tooltip:"提示文字"}),K=xt({type:r,tooltip:"音乐"}),j=xt({type:c,tooltip:"sp_settingControl"}),J=xt({type:r,tooltip:"极速"}),Z=xt({type:c,tooltip:"sp_speed"}),q=xt({type:c,tooltip:"sp2_speed"}),Q=xt({type:p.Skeleton,tooltip:"avatar"}),N((tt=i(($=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,e(i,"Btn_start",tt,o(i)),e(i,"spin_Sp",it,o(i)),e(i,"spin_AnimNode",nt,o(i)),e(i,"rollClickAni",et,o(i)),e(i,"Btn_stopAuto",ot,o(i)),e(i,"stopRollClickAni",st,o(i)),e(i,"Btn_free",lt,o(i)),e(i,"Btn_add",at,o(i)),e(i,"Btn_sub",rt,o(i)),e(i,"Btn_auto",ct,o(i)),e(i,"Btn_set",ht,o(i)),e(i,"betting_panel",pt,o(i)),e(i,"Setting_panel",ut,o(i)),e(i,"coin_panel",dt,o(i)),e(i,"lblUserCoin",bt,o(i)),e(i,"lblCurBet",gt,o(i)),e(i,"winCoin_lab",mt,o(i)),e(i,"bigWinCoin_lab",_t,o(i)),e(i,"stateNode",yt,o(i)),e(i,"bigWinNode",Ct,o(i)),e(i,"tipNode",ft,o(i)),e(i,"musicBtn",Bt,o(i)),e(i,"sp_settingControl",wt,o(i)),e(i,"speedBtn",At,o(i)),e(i,"sp_speed",Nt,o(i)),e(i,"sp2_speed",vt,o(i)),e(i,"avatar",St,o(i)),i.autoNum=0,i.isPanelAnim=!1,i.isSpeed=!1,i.sumList=[],i._btnContent=null,i.curBetTween=null,i.winAimCoin=0,i.winAddcoin=0,i.winAddOnce=0,i._winPlayOverBn=!1,i.aimCoin=0,i.addcoin=0,i.addOnce=0,i._playOverBn=!0,i.bigBn=!1,i.superBn=!1,i.megaBn=!1,i.tipTween=null,i}n(i,t);var l=i.prototype;return l.start=function(){var t=this;this.avatar.setCompleteListener((function(i){"rsg_spawn"==i.animation.name&&t.avatar.setAnimation(0,"rsg_win_idle2",!0)})),this.Btn_start.on(r.EventType.MOUSE_ENTER,this.btnRollTouchStart,this),this.Btn_start.on(r.EventType.MOUSE_LEAVE,this.btnRollTouchEnd,this),this.Btn_start.on(r.EventType.TOUCH_START,this.btnRollClick,this),this.Btn_stopAuto.on(r.EventType.MOUSE_ENTER,this.btnStopRollTouchStart,this),this.Btn_stopAuto.on(r.EventType.MOUSE_LEAVE,this.btnStopRollTouchEnd,this),this.Btn_stopAuto.on(r.EventType.TOUCH_START,this.btnStopRollClick,this),this.autoNum=0,this.isPanelAnim=!1,this.isSpeed=!1,this.init()},l.btnRollTouchStart=function(){B.rollEnable&&this.rollClickAni&&(this.rollClickAni.active=!0,this.rollClickAni.getComponent(u).play())},l.btnRollTouchEnd=function(){this.rollClickAni&&(this.rollClickAni.active=!1)},l.btnRollClick=function(t){B.rollEnable&&B.node.onCLick(t,"roll")},l.btnStopRollTouchStart=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!0,this.stopRollClickAni.getComponent(u).play())},l.btnStopRollTouchEnd=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!1)},l.btnStopRollClick=function(t){this.onCLick_stopAuto()},l.onCLick_startAuto=function(){this.autoNum},l.onCLick_stopAuto=function(){this.Btn_stopAuto.active=!1,this.Btn_start.active=!0,B.node.stopAuto()},l.init=function(){this.musicBtn.getComponent(d).spriteFrame=this.sp_settingControl[tgx.AudioMgr.inst.switch?1:0],this.Setting_panel.opacity=0,this.tipNode.opacity=0,this.winCoin_lab.string=w.exchangeToThousands(B.exchangeRate,0),this.lblUserCoin.string=w.exchangeToThousands(B.exchangeRate,B.money)},l.update=function(){this.initTip()},l.initBetContent=function(t,i,n){for(var e=[],o=0;o<t.length;o++)for(var s=0;s<i.length;s++)e.push(Math.round(t[o]*i[s]*n*100)/100);var l=Array.from(new Set(e));l.sort((function(t,i){return t-i})),this.sumList=l,B.betNum?B.sumIdx=this.sumList.indexOf(B.betNum):(B.sumIdx=0,B.betNum=this.sumList[B.sumIdx])},l.settingControlButtonClick_Function=function(){1==tgx.AudioMgr.inst.switch?(tgx.AudioMgr.inst.switch=!1,this.musicBtn.getComponent(d).spriteFrame=this.sp_settingControl[0]):(tgx.AudioMgr.inst.switch=!0,this.musicBtn.getComponent(d).spriteFrame=this.sp_settingControl[1])},l.onCLick=function(t,i){B.node.onCLick(t,i)},l.onCLick_openAutoPanel=function(){B.autoPanel.showPanel()},l.onCLick_closeAutoPanel=function(){B.node.audio.playclickclose()},l.onCLickShowSettingPanel=function(t){if(B.node.audio.playclickopen(),0!=this.betting_panel.opacity){var i=b("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!1),this.Btn_start.active=!1,g(this.btnContent).to(.2,{position:new m(0,-180,0),opacity:0}).start(),g(this.Setting_panel).to(.2,{position:new m(0,60,0),opacity:255}).start()}},l.onCLickHideSettingPanel=function(t){if(0!=this.Setting_panel.opacity){var i=b("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!0),this.Btn_start.active=!0,g(this.btnContent).to(.2,{position:new m(0,0,0),opacity:255}).start(),g(this.Setting_panel).to(.2,{position:new m(0,-120,0),opacity:0}).start()}},l.onCLick_betPanel=function(t,i){var n=this,e=parseInt(i);this.isPanelAnim||(this.isPanelAnim=!0,this.scheduleOnce((function(){n.isPanelAnim=!1}),.5),0==e?B.betPanel.hidePanel():(B.betPanel.showPanel(),B.betPanel.bindBet()))},l.onCLick_sound=function(t){this.settingControlButtonClick_Function()},l.onCLick_chooseAutoNum=function(t,i){},l.onCLick_speed=function(){B.node.audio.playclickopen(),this.isSpeed?(this.isSpeed=!1,this.tipNode.children[2].active=!0,this.tipNode.children[3].active=!1,this.createTipNode(A.getLangByID("BXINGAME_33")),this.speedBtn.getComponent(d).spriteFrame=this.sp_speed[0],this.speedBtn.children[0].getComponent("cc.Sprite").spriteFrame=this.sp2_speed[0],this.speedBtn.children[1].active=!1):(this.isSpeed=!0,this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!0,this.createTipNode(A.getLangByID("BXINGAME_34")),this.speedBtn.getComponent(d).spriteFrame=this.sp_speed[1],this.speedBtn.children[0].getComponent(d).spriteFrame=this.sp2_speed[1],this.speedBtn.children[1].active=!0)},l.initTip=function(){this.tipNode.children[2].active||this.tipNode.children[3].active?(this.tipNode.children[0].w=this.tipNode.children[1].w+70,this.tipNode.children[1].x=16,this.tipNode.children[2].x=-this.tipNode.children[1].w/2,this.tipNode.children[3].x=-this.tipNode.children[1].w/2):(this.tipNode.children[1].x=0,this.tipNode.children[0].w=this.tipNode.children[1].w+30)},l.bindBet=function(){B.sumIdx=this.sumList.indexOf(B.betSum),-1==B.sumIdx&&(B.sumIdx=0),this.updateBet(B.sumIdx)},l.updateBet=function(t){return t>=this.sumList.length||t<0?(t>=this.sumList.length?(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(A.getLangByID("BXINGAME_35"))):(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(A.getLangByID("BXINGAME_36"))),0):(B.sumIdx>0&&(this.Btn_sub.opacity=255),B.sumIdx<this.sumList.length-1&&(this.Btn_add.opacity=255),0==B.sumIdx&&(this.Btn_sub.opacity=100),B.sumIdx==this.sumList.length-1&&(this.Btn_add.opacity=100),B.betSum=this.sumList[t],this.lblCurBet.string=w.exchangeToThousands(B.exchangeRate,this.sumList[t]),this.curBetAni(),1)},l.curBetAni=function(){var t,i;null==(t=this.curBetTween)||t.stop(),null==(i=this.curBetTween)||i.destroySelf(),this.curBetTween=g(this.lblCurBet.node).to(.1,{scale:new m(1.6,1.6,1.6)}).to(.1,{scale:new m(1,1,1)}).to(.1,{scale:new m(1.2,1.2,1.2)}).to(.1,{scale:new m(1,1,1)}).start()},l.playAnimWin=function(t,i){var n=30*(t+1);this.winAimCoin=i,this.winAddcoin=0,this.winAddOnce=this.winAimCoin/n,this.winPlayOverBn=!1,0!=n?(this.bindWinLab(this.winAddcoin),this.schedule(this.winOneChange,.05,_.REPEAT_FOREVER)):this.bindWinLab(i)},l.bindWinLab=function(t){B.node.winNode.children[0].getComponent(h).string=w.exchangeToThousands(B.exchangeRate,t),this.winCoin_lab.string=w.exchangeToThousands(B.exchangeRate,t),this.lblUserCoin.string=w.exchangeToThousands(B.exchangeRate,B.lotteryRes.userscore-B.lotteryRes.winscore+t)},l.winOneChange=function(){this.winAddcoin+=this.winAddOnce,this.winAddcoin>=this.winAimCoin?(this.winPlayCoinOver(),this.bindWinLab(this.winAimCoin)):this.bindWinLab(this.winAddcoin)},l.winPlayCoinOver=function(){this.unschedule(this.winOneChange),this.winPlayOverBn=!0},l.playBigWinCoin=function(t){B.node.unschedule(B.node.sendRoll),this.bigWinNode.active=!0,this.bigBn=!1,this.superBn=!1,this.megaBn=!1,this.aimCoin=t,this.addcoin=0,this.addOnce=this.aimCoin/100,this.playOverBn=!1,this.bigWinCoin_lab.string=w.exchangeToThousands(B.exchangeRate,this.addcoin),this.schedule(this.coinOneChange,.05,_.REPEAT_FOREVER)},l.coinOneChange=function(){this.addcoin+=this.addOnce,this.addcoin>=this.aimCoin?(this.playBigWin(this.aimCoin),this.playCoinOver()):(this.playBigWin(this.addcoin),this.bigWinCoin_lab.string=w.exchangeToThousands(B.exchangeRate,this.addcoin))},l.playCoinOver=function(){this.avatar.setAnimation(0,"rs_idle2",!0),this.unschedule(this.coinOneChange),this.playOverBn=!0,this.bigWinCoin_lab.string=w.exchangeToThousands(B.exchangeRate,this.aimCoin),this.unschedule(this.closeBigWin),this.scheduleOnce(this.closeBigWin,2)},l.playBigWin=function(t){t>=50*B.betSum&&!this.bigWinNode.children[2].active&&0==this.megaBn?(this.playAnim_MegaWin(),this.megaBn=!0):t>=35*B.betSum&&t<50*B.betSum&&!this.bigWinNode.children[1].active&&0==this.superBn?(this.playAnim_SuperWin(),this.superBn=!0):0==this.bigBn&&(this.playAnim_BigWin(-1),this.bigBn=!0)},l.onFastBigWin=function(t){this.playOverBn?this.closeBigWin():this.playCoinOver()},l.playAnim_BigWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!0,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!1,this.bigWinNode.children[0].getComponent(u).play(),this.avatar.setAnimation(0,"rsg_spawn",!1)},l.playAnim_SuperWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!0,this.bigWinNode.children[2].active=!1;try{this.bigWinNode.children[1].getComponent(u).play()}catch(t){console.log(t)}},l.playAnim_MegaWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!0;try{this.bigWinNode.children[2].getComponent(u).play()}catch(t){console.log(t)}},l.closeBigWin=function(){this.unschedule(this.closeBigWin),this.unschedule(this.coinOneChange),this.bigWinNode.active&&(this.bigWinNode.active=!1,B.node.audio.stopbigwinmain(),this.setSpinAnim(0)),this.bigWinCoin_lab&&(this.bigWinCoin_lab.string="0"),B.node.closeBigWin()},l.setSpinAnim=function(t){switch(t){case 0:B.rollEnable=!0,this.spin_AnimNode.getComponent(d).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1,!B.auto&&this.setButtonState(!0),B.lotteryRes&&0==B.lotteryRes.winscore&&this.changeLabColor(1);break;case 1:B.rollEnable=!1,this.Btn_start.getChildByName("VFX").getComponent(u).play(),this.spin_AnimNode.getComponent(d).spriteFrame=this.spin_Sp[2],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=10,this.winCoin_lab.string=w.exchangeToThousands(B.exchangeRate,0),this.setButtonState(!1),this.changeLabColor(0);break;case 2:B.rollEnable=!1,this.spin_AnimNode.getComponent(d).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1;break;case 3:B.rollEnable=!1,this.spin_AnimNode.getComponent(d).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=0}},l.setButtonState=function(t){this.Btn_add.opacity=t?255:100,this.Btn_sub.opacity=t?255:100,this.Btn_auto.opacity=t?255:100,this.Btn_set.opacity=t?255:100,this.Btn_add.getComponent(y).interactable=t,this.Btn_sub.getComponent(y).interactable=t,this.Btn_auto.getComponent(y).interactable=t,this.Btn_set.getComponent(y).interactable=t},l.changeLabColor=function(t){0==t?(this.lblUserCoin.node.color=new C(255,255,255),this.lblCurBet.node.color=new C(255,255,255),this.winCoin_lab.node.color=new C(255,255,255)):(this.lblUserCoin.node.color=new C(123,233,246),this.lblCurBet.node.color=new C(123,233,246),this.winCoin_lab.node.color=new C(123,233,246))},l.createTipNode=function(t){var i,n,e=this;null==(i=this.tipTween)||i.stop(),null==(n=this.tipTween)||n.destroySelf(),this.tipNode.opacity=0,this.tipNode.scale=new m(1,1,1),this.tipNode.getChildByName("lab").getComponent(h).string=t,this.tipTween=g(this.tipNode).call((function(){e.tipNode.opacity=255})).to(.1,{scale:new m(1.2,1.2,1.2)}).to(.1,{scale:new m(1,1,1)}).delay(2).to(.2,{opacity:0}).start()},s(i,[{key:"btnContent",get:function(){return this._btnContent||(this._btnContent=b("btnContent",this.betting_panel)),this._btnContent}},{key:"winPlayOverBn",get:function(){return this._winPlayOverBn},set:function(t){this._winPlayOverBn=t}},{key:"playOverBn",get:function(){return this._playOverBn},set:function(t){this._playOverBn=t}}]),i}(f)).prototype,"Btn_start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i($.prototype,"spin_Sp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=i($.prototype,"spin_AnimNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i($.prototype,"rollClickAni",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i($.prototype,"Btn_stopAuto",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i($.prototype,"stopRollClickAni",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i($.prototype,"Btn_free",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i($.prototype,"Btn_add",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i($.prototype,"Btn_sub",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i($.prototype,"Btn_auto",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i($.prototype,"Btn_set",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i($.prototype,"betting_panel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i($.prototype,"Setting_panel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i($.prototype,"coin_panel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i($.prototype,"lblUserCoin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i($.prototype,"lblCurBet",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i($.prototype,"winCoin_lab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i($.prototype,"bigWinCoin_lab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i($.prototype,"stateNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i($.prototype,"bigWinNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i($.prototype,"tipNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i($.prototype,"musicBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=i($.prototype,"sp_settingControl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=i($.prototype,"speedBtn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=i($.prototype,"sp_speed",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=i($.prototype,"sp2_speed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=i($.prototype,"avatar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=$))||Y));l._RF.pop()}}}));

System.register("chunks:///_virtual/oxWheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts"],(function(t){var e,o,n,s,i,l,a,d,r,h,u,c,p,f,R,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.CCFloat,d=t.sp,r=t.tween,h=t.Vec3,u=t.instantiate,c=t.Label,p=t.Component,f=t.Button,R=t.UITransform},function(t){v=t.ox}],execute:function(){var m,g,w,I,b,C;i._RF.push({},"d13d7zja6hImb4xgQwzOgLu","oxWheel",void 0);var x=l.ccclass,L=l.property,y=1.6,T=[[6,6,6,6,6],[7,7,7,7,7],[5,5,5,5,5]];t("oxWheel",(m=x("oxWheel"),g=L({type:a,tooltip:"不会出现的数字id"}),m((b=e((I=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,n(e,"wheelId",b,s(e)),n(e,"excludeId",C,s(e)),e.status=0,e.nextCb=void 0,e.rolePbList=[],e.roleIdList=[],e.lastResult=[],e.lastResultNum=[],e.p=0,e.nodeTween=null,e}o(e,t);var i=e.prototype;return i.onLoad=function(){v.wheelList[this.wheelId]=this,this.status=0,this.nextCb=null,this.lastResult=[0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.lastResultNum=[0,0,0,0,0]},i.start=function(){},i.initWheel=function(){var t=this;for(var e in v.isNewUser?this.lastResult=T[this.wheelId]:this.lastResult=[0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.lastResult)v.isNewUser||(this.lastResult[e]=this.getRandomId()),this.addRole(this.lastResult[e]);setTimeout((function(){for(var e in t.rolePbList)7==t.roleIdList[e]&&t.rolePbList[e].children[0].getComponent(d.Skeleton).setAnimation(0,"spawn",!0)}),100),this.p=0,1==this.wheelId&&(this.p=160),this.node.y=this.p,v.rollIndex++,v.node.closeShine(),this.lastResult=this.roleIdList.slice(-5)},i.removeWheel=function(){this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=0},i.startRoll=function(){for(var t=this,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];for(var s=0;s<o.length;s++)8==o[s]?this.addRole(this.getRandomId(),0):this.addRole(o[s],0);this.addRole(this.getRandomId(),0),v.slotCtrl.isSpeed&&setTimeout((function(){t.stopImmediately()}),800);var i=function(){var e,o;null==(e=t.nodeTween)||e.stop(),null==(o=t.nodeTween)||o.destroySelf(),t.setBlur(!1),t.nodeTween=r(t.node).to(.1,{position:new h(t.node.x,620-t.node.h+t.p)}).to(.1,{position:new h(t.node.x,672-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start()};this.nextCb=i},i.startFreeRoll=function(){for(var t=this,e=0;e<60;e++)this.addRole(this.getRandomId(),0);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];for(var i=0;i<n.length;i++)8==n[i]?this.addRole(this.getRandomId(),0):this.addRole(n[i],0);this.addRole(this.getRandomId(),0);var l=function(){var e,o;t.status=1,null==(e=t.nodeTween)||e.stop(),null==(o=t.nodeTween)||o.destroySelf(),t.setBlur(!1),t.nodeTween=r(t.node).to(.1,{position:new h(t.node.x,620-t.node.h+t.p)}).to(.1,{position:new h(t.node.x,672-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start()};this.nextCb=l},i.FreeRoll=function(){var t=this;this.status=1;var e=4;1==this.wheelId&&(e=12);for(var o=0;o<30*(e-1);o++)this.addRole(this.getRandomId(),0);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];for(var l=0;l<s.length;l++)8==s[l]?this.addRole(this.getRandomId(),0):this.addRole(s[l],0);this.addRole(this.getRandomId(),0),setTimeout((function(){var o,n;null==(o=t.nodeTween)||o.stop(),null==(n=t.nodeTween)||n.destroySelf(),t.node.y=t.p;var s=.4*e;t.nodeTween=r(t.node).to(s,{position:new h(t.node.x,672-t.node.h+t.p)}).call((function(){t.setBlur(!1)})).to(.1,{position:new h(t.node.x,620-t.node.h+t.p)}).to(.1,{position:new h(t.node.x,672-t.node.h+t.p)}).call((function(){t.rollCallBack()})).start()}),3e3)},i.rollLoop=function(){var t=this;this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=this.p;for(var e=0;e<this.lastResult.length;e++)this.lastResult[e]=0==this.lastResult[e]?this.getRandomId():this.lastResult[e],this.addRole(this.lastResult[e]);for(var o=0;o<20;o++)this.addRole(this.getRandomId());for(var n=0;n<this.lastResult.length;n++)this.lastResult[n]=0==this.lastResult[n]?this.getRandomId():this.lastResult[n],this.addRole(this.lastResult[n]);var s=function(){t.node.y=t.p,v.slotCtrl.isSpeed?t.nodeTween=r(t.node).call((function(){t.setBlur(!0)})).to(.8,{y:672-t.node.h+t.p}).call((function(){t.nextCb()})).start():t.nodeTween=r(t.node).call((function(){t.setBlur(!0)})).to(y,{y:672-t.node.h+t.p}).call((function(){t.nextCb()})).start()},i=0;1==this.wheelId&&(i+=.1),2==this.wheelId&&(i+=.2),setTimeout((function(){var e=y;v.slotCtrl.isSpeed?e/=2:e=y+.2*t.wheelId,t.nodeTween=r(t.node).delay(i).to(e,{position:new h(t.node.x,672-t.node.h+t.p)}).call((function(){s()})).start()}),100),this.nextCb=s},i.getRandomId=function(){for(var t=0;0==t;)t=(t=Math.floor(Math.random()*(v.node.rolePb.length-1)+1))==this.excludeId?0:t;return t},i.addRole=function(t,e){void 0===e&&(e=null);var o=u(v.node.rolePb[t]);void 0!==e?(this.rolePbList.unshift(o),this.roleIdList.unshift(t)):(this.rolePbList.push(o),this.roleIdList.push(t)),this.addClickEvent(o,t),this.node.addChild(o),null!==e&&o.setSiblingIndex(e)},i.rollCallBack=function(){v.node.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(0,5);for(var t=0;t<this.lastResult.length;t++)8==this.lastResult[t]?this.lastResultNum[t]=this.rolePbList[t].children[1].getComponent(c).string:this.lastResultNum[t]=0;this.status=0,v.node.stateCallBack()},i.stopImmediately=function(){var t=this;this.lastResult=this.roleIdList.slice(0,5);for(var e=0;e<this.lastResult.length;e++)8==this.lastResult[e]?this.lastResultNum[e]=this.rolePbList[e].children[1].getComponent(c).string:this.lastResultNum[e]=0;setTimeout((function(){t.setBlur(!1),t.node.y=672-t.node.h+t.p}),50),this.status=0,v.node.stateCallBack()},i.addClickEvent=function(t,e){var o=new p.EventHandler;o.target=this.node,o.component="oxWheel",o.handler="roleClick",o.customEventData=e+"",t.getComponent(f).clickEvents.push(o)},i.roleClick=function(t,e){if(v.detail)return v.node.deskMask.active=!1,v.detail.node.parent=null,void(v.detail=null);var o=u(v.node.detailPb),n=t.target.getComponent(R),s=n.convertToWorldSpaceAR(new h(0,0,0)),i=(n=v.node.getComponent(R)).convertToNodeSpaceAR(s);o.position=i,o.x-=50;var l=o.x<10;o.getComponent("oxDetail").init(Number(e),l),v.node.node.addChild(o),v.node.deskMask.active=!0},i.setBlur=function(t){for(var e in this.rolePbList)this.rolePbList[e].children[0].active=!t,this.rolePbList[e].children[1].active=t},e}(p)).prototype,"wheelId",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(I.prototype,"excludeId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=I))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/payPanel4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts"],(function(t){var e,n,i,o,a,s,l,r,c,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,r=t.Widget,c=t.tween,h=t.Component},function(t){p=t.ox}],execute:function(){var d,u,y,f,v;a._RF.push({},"8c380JtkjxMjaYcFFcTGWKm","payPanel",void 0);var P=s.ccclass,g=s.property;t("payPanel",(d=P("payPanel"),u=g({type:l,tooltip:""}),d((v=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"panel",v,o(e)),e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var a=e.prototype;return a.init=function(){p.payPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var e=this.panel.getComponentsInChildren(r),n=0;n<e.length;n++)e[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/rulePanel4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cOx.ts"],(function(e){var t,n,i,o,a,l,s,r,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,r=e.Widget,c=e.tween,h=e.Component},function(e){p=e.ox}],execute:function(){var d,u,f,v,y;a._RF.push({},"1e486F7WkRLpIRccdi4gpGD","rulePanel",void 0);var P=l.ccclass,g=l.property;e("rulePanel",(d=P("rulePanel"),u=g({type:s,tooltip:""}),d((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",y,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){p.rulePanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var e=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var t=this.panel.getComponentsInChildren(r),n=0;n<t.length;n++)t[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsOxGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts","./RoomMgr.ts","./ModuleDef.ts","./ResourceMgr.ts","./Logger.ts"],(function(e){var n,t,r,o,s,i,a,u,c,f,m,g,l,d;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e._decorator,a=e.Prefab},function(e){u=e.GameMgr},function(e){c=e.SubGameMgr},function(e){f=e.SubGameDef},function(e){m=e.RoomMgr},function(e){g=e.ModuleDef},function(e){l=e.ResourceMgr},function(e){d=e.Logger}],execute:function(){var h,p;s._RF.push({},"505a8w2oWVHL5WVpS7lSgI5","SlotsOxGameMgr",void 0);var M=i.ccclass,S=(i.property,e("SlotsOxGameMgr",M("SlotsOxGameMgr")(((p=function(e){function s(){var n;return(n=e.call(this)||this).totalNum=2,n.nowIndex=0,n._porcessFun=void 0,n.modName=g.SLOTS_OX,n.mainName="oxMain",n._gameType=f.SLOTS_OX,n._loadingScene={name:"subgame_loading",bundle:g.BASIC},n._gameScene={name:"game_slots_ox",bundle:g.SLOTS_OX},n.initNetMsgHandlers(),n}n(s,e);var i=s.prototype;return i.initNetMsgHandlers=function(){},i.initSoloMode=function(){m.inst.reset(),this.reset(),c.gameMgr=this},i.preLoadRes=function(){var e=r(o().mark((function e(n){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return t.preLoad((function(){e(!0)}),n),!0})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i.preLoad=function(){var e=r(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowIndex=0,this._porcessFun=t,t&&t(this.nowIndex/this.totalNum),e.next=5,this.preLoadMain();case 5:return this.finishOneItemLoad(),e.next=8,this.preLoadLanguage();case 8:this.finishOneItemLoad(),n();case 10:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),i.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r="prefab/"+e.mainName;l.inst.loadResByModuleBundle(e.modName,r,a,(function(t,o){t?d.error("载入Prefab失败, 原因:"+r):o instanceof a?n():d.error(e,"你载入的不是Prefab, 你做了什么事?")}))}))},i.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},i.finishOneItemLoad=function(){this.nowIndex++,this._porcessFun&&this._porcessFun(this.nowIndex/this.totalNum,Math.floor(this.nowIndex/this.totalNum*100)+"%")},t(s,null,[{key:"inst",get:function(){return this._inst||(this._inst=new s),this._inst}}]),s}(u))._inst=void 0,h=p))||h));c.inst.registerGameMgr(S.inst),s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsOxLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./SceneDef.ts","./UIAnnouncement.ts","./SlotsOxGameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts"],(function(e){var n,t,o,r,i,c,a,s,u,l,f,p,S,g,m,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Node,l=e.Component},function(e){f=e.UserMgr},function(e){p=e.SceneDef},function(e){S=e.UIAnnouncement},function(e){g=e.SlotsOxGameMgr},function(e){m=e.SubGameMgr},function(e){b=e.SubGameDef}],execute:function(){var y,d,x,h,M;a._RF.push({},"975021gNwhOmoVtO9zAU5g+","SlotsOxLobbyScene",void 0);var v=s.ccclass,O=s.property;e("SlotsOxLobbyScene",(y=v("SlotsOxLobbyScene"),d=O(u),y((M=n((h=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,o(n,"announcementPlacer",M,r(n)),n}t(n,e);var a=n.prototype;return a.start=function(){var e=i(c().mark((function e(){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.inst.uid){e.next=3;break}return tgx.SceneUtil.loadScene(p.START),e.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(S,(function(e){e.setPosition(n.announcementPlacer.position.x,n.announcementPlacer.position.y)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.update=function(e){},a.onBtnSoloModeClicked=function(){g.inst.initSoloMode(),m.inst.CreateRoom(b.SLOTS_OX,!0)},n}(l)).prototype,"announcementPlacer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=h))||x));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_ox', 'chunks:///_virtual/module_slots_ox'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});