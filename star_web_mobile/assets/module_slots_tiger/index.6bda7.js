System.register("chunks:///_virtual/autoPanel11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts","./Num.ts"],(function(t){var e,n,o,i,r,a,l,s,u,c,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Label,u=t.Color,c=t.tween,h=t.Component},function(t){p=t.tiger},function(t){d=t.Num}],execute:function(){var f,b,y,C,g,v,w,P,m,_,B,N,z;r._RF.push({},"b2aa99CEZFOYJKu/nnCbsst","autoPanel",void 0);var T=a.ccclass,k=a.property;t("autoPanel",(f=T("autoPanel"),b=k({type:l,tooltip:""}),y=k({type:l,tooltip:""}),C=k({type:s,tooltip:"用户金币"}),g=k({type:s,tooltip:"本局总注"}),v=k({type:s,tooltip:"赢钱金额"}),f((m=e((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"panel",m,i(e)),o(e,"roundedButton",_,i(e)),o(e,"lblUserCoin",B,i(e)),o(e,"lblCurBet",N,i(e)),o(e,"winCoin_lab",z,i(e)),e.autoNum=0,e.autoChooseColor=[243,168,85],e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var r=e.prototype;return r.init=function(){p.autoPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},r.start=function(){this.init()},r.update=function(t){this.lblUserCoin.string=d.exchangeToThousands(p.exchangeRate,p.money),this.lblCurBet.string=d.exchangeToThousands(p.exchangeRate,p.betSum),this.winCoin_lab.string=p.slotCtrl.winCoin_lab.string},r.onCLick_chooseAutoNum=function(t,e){this.roundedButton.color=new u(255,200,36),this.roundedButton.opacity=255,this.autoNum=parseInt(e);var n=t.target.parent;for(var o in n.children)n.children[o].children[0].children[0].color=new u(100,100,110);t.target.children[0].children[0].color=new u(this.autoChooseColor[0],this.autoChooseColor[1],this.autoChooseColor[2])},r.onCLick_startAuto=function(){this.autoNum>0&&(this.onClose(),p.node.startAuto(this.autoNum))},r.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},r.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},r.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"roundedButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(P.prototype,"lblUserCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(P.prototype,"lblCurBet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"winCoin_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/betNum12.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var o;r._RF.push({},"54329Jvh6RH0pfhBychMZxd","betNum",void 0);var u=n.ccclass;n.property,t("betNum",u("betNum")(o=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).valNum=0,e}return e(r,t),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/betPanel12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts","./Num.ts","./betNum12.ts"],(function(t){var e,i,s,n,o,l,h,a,r,u,c,g,p,m,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,h=t.Node,a=t.Prefab,r=t.PageView,u=t.Label,c=t.instantiate,g=t.tween,p=t.Component},function(t){m=t.tiger},function(t){b=t.Num},function(t){v=t.betNum}],execute:function(){var d,f,_,B,P,C,y,x,L,w,N,I,T,z,S,k,R,j,A,D,U,E,H;o._RF.push({},"bfb8dQHSsdGapHPdvwKYxDS","betPanel",void 0);var M=l.ccclass,F=l.property;t("betPanel",(d=M("betPanel"),f=F({type:h,tooltip:""}),_=F({type:a,tooltip:""}),B=F({type:a,tooltip:""}),P=F({type:r,tooltip:""}),C=F({type:r,tooltip:""}),y=F({type:r,tooltip:""}),x=F({type:u,tooltip:""}),L=F({type:u,tooltip:"用户金币"}),w=F({type:u,tooltip:"本局总注"}),N=F({type:u,tooltip:"赢钱金额"}),d((z=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,s(e,"panel",z,n(e)),s(e,"chooseBet_pb",S,n(e)),s(e,"chooseTotalBet_pb",k,n(e)),s(e,"chooseBet_list1",R,n(e)),s(e,"chooseBet_list2",j,n(e)),s(e,"chooseBet_list3",A,n(e)),s(e,"lbLine",D,n(e)),s(e,"lblUserCoin",U,n(e)),s(e,"lblCurBet",E,n(e)),s(e,"winCoin_lab",H,n(e)),e.numList=[],e.betList=[],e.line=0,e.val1=0,e.val2=0,e.val3=0,e.tempi=0,e.tempj=0,e.tempindex=0,e.sumList=[],e.showPos=void 0,e.hidePos=void 0,e}i(e,t);var o=e.prototype;return o.init=function(){m.betPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1,this.numList=m.BETNUM,this.betList=m.BET,this.line=m.LINES},o.start=function(){this.init()},o.update=function(t){this.lblUserCoin.string=b.exchangeToThousands(m.exchangeRate,m.money),this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),this.winCoin_lab.string=m.slotCtrl.winCoin_lab.string},o.initBetContent=function(){this.val1=this.numList[0],this.val2=this.betList[0],this.val3=this.numList[0]*this.betList[0]*this.line,this.chooseBet_list1.removeAllPages();for(var t=0;t<this.numList.length;t++){var e=c(this.chooseBet_pb);e.children[0].active=0==t,e.children[1].active=t==this.numList.length-1,e.getComponent(u).string=b.exchangeToThousands(m.exchangeRate,this.numList[t]),e.getComponent(v).valNum=this.numList[t],this.chooseBet_list1.addPage(e)}this.chooseBet_list2.removeAllPages();for(var i=0;i<this.betList.length;i++){var s=c(this.chooseBet_pb);s.children[0].active=!1,s.children[1].active=!1,s.getComponent(u).string=this.betList[i]+"",s.getComponent(v).valNum=this.betList[i],this.chooseBet_list2.addPage(s)}for(var n=[],o=0;o<this.numList.length;o++)for(var l=0;l<this.betList.length;l++)n.push(1e3*this.numList[o]*this.betList[l]*this.line/1e3);var h=Array.from(new Set(n));h.sort((function(t,e){return t-e})),this.sumList=h,this.chooseBet_list3.removeAllPages();for(var a=0;a<h.length;a++){var r=c(this.chooseTotalBet_pb);r.children[0].active=0==a,r.children[1].active=a==h.length-1,r.getComponent(u).string=b.exchangeToThousands(m.exchangeRate,h[a]),r.getComponent(v).valNum=h[a],this.chooseBet_list3.addPage(r)}this.lbLine.string=this.line+"",this.chooseBet_list1.node.on("page-turning",this.cb_pt1,this),this.chooseBet_list2.node.on("page-turning",this.cb_pt2,this),this.chooseBet_list3.node.on("page-turning",this.cb_pt3,this)},o.cb_pt1=function(t){this.val1=this.numList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempi=t.getCurrentPageIndex()},o.cb_pt2=function(t){this.val2=this.betList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempj=t.getCurrentPageIndex()},o.cb_pt3=function(t){this.val3=this.sumList[t.getCurrentPageIndex()],this.tempindex=t.getCurrentPageIndex();for(var e=0;e<this.chooseBet_list1.getPages().length;e++)for(var i=0;i<this.chooseBet_list2.getPages().length;i++)if(this.val3==1e3*this.chooseBet_list1.getPages()[e].getComponent(v).valNum*this.chooseBet_list2.getPages()[i].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(e),this.chooseBet_list2.setCurrentPageIndex(i),this.val1=this.chooseBet_list1.getPages()[e].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[i].getComponent(v).valNum,this.tempi=e,this.tempj=i;break}},o.choose_Max=function(){this.val3=this.sumList[this.sumList.length-1],this.tempindex=this.sumList.length-1;for(var t=0;t<this.chooseBet_list1.getPages().length;t++)for(var e=0;e<this.chooseBet_list2.getPages().length;e++)if(this.val3==1e3*this.chooseBet_list1.getPages()[t].getComponent(v).valNum*this.chooseBet_list2.getPages()[e].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(t),this.chooseBet_list2.setCurrentPageIndex(e),this.val1=this.chooseBet_list1.getPages()[t].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[t].getComponent(v).valNum,this.tempi=t,this.tempj=e;break}},o.onConfirm=function(){m.betNum=this.tempi,m.bet=this.tempj,m.sumIdx=this.tempindex,m.betSum=this.sumList[m.sumIdx],this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),m.slotCtrl.lblCurBet.string=this.lblCurBet.string,this.onClose()},o.bindBet=function(){this.chooseBet_list3.setCurrentPageIndex(m.sumIdx),this.val3=m.betSum,this.cb_pt3(this.chooseBet_list3)},o.showPanel=function(){var t=this;m.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,this.panel.children[0].opacity=10,this.initBetContent(),g(this.panel).to(.2,{y:this.showPos}).start(),g(this.node).delay(.2).call((function(){g(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},o.hidePanel=function(){var t=this;g(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},o.onClose=function(){m.node.audio.playclickclose(),this.hidePanel()},e}(p)).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"chooseBet_pb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"chooseTotalBet_pb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"chooseBet_list1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"chooseBet_list2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"chooseBet_list3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"lbLine",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"lblUserCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"lblCurBet",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"winCoin_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/cTiger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./dataChange11.ts"],(function(t){var e,n,i,s;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.SubGameDef},function(t){s=t.dataChange}],execute:function(){n._RF.push({},"a903cFjcYRHG5UMIHVegVbr","cTiger",void 0);var u=function(){function t(){this.BETNUM=s.BETNUM,this.LINES=s.LINES,this.BET=s.BET,this._isNewUser=!1,this._money=0,this._exchangeRate=0,this.detail=null,this.node=null,this.wheelList=[],this.bet=0,this.betNum=0,this.sumIdx=0,this._betSum=0,this.lotteryRes=null,this.auto=!1,this.autoTimes=0,this.status=0,this.winLinePos=[],this.bigWinNum=0,this.rollIndex=0,this.betPanel=null,this.autoPanel=null,this.rulePanel=null,this.payPanel=null,this.lastmoneyPanel=null}return e(t,[{key:"isNewUser",get:function(){return this._isNewUser=!1,this._isNewUser}},{key:"money",get:function(){return this._money},set:function(t){this._money=t}},{key:"exchangeRate",get:function(){return this._exchangeRate=1,this._exchangeRate}},{key:"slotCtrl",get:function(){return this.node.slotCtrl}},{key:"betSum",get:function(){return this._betSum||(this._betSum=Number(localStorage.getItem(i.SLOTS_TIGER+"betSum"))),this._betSum},set:function(t){this._betSum!=t&&localStorage.setItem(i.SLOTS_TIGER+"betSum",t+""),this._betSum=t}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();u._instance=null;t("tiger",u.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/dataChange11.ts",["cc","./Num.ts"],(function(n){var e,i;return{setters:[function(n){e=n.cclegacy},function(n){i=n.Num}],execute:function(){e._RF.push({},"3a65e60mWlB07zaxb+RIZnP","dataChange",void 0);var r=n("dataChange",function(){function n(){}return n.change=function(e){var r={code:0};r.userscore=i.parse(e.coins),r.winscore=i.parse(e.payout);var s=e.results[0];r.getBigWin={},s.allTheSame?(r.isAllWin=!0,r.getBigWin.card=this.transformId(s.allTheSame.id)):(r.isAllWin=!1,r.getBigWin.card=this.transformId(s.chosenSymbolId)),r.getBigWin.res_list=[],r.getBigWin.list=[],r.getBigWin.isStart=s.bigEvents,r.getBigWin.bFlag=s.bigEvents,r.getFreeTime={},r.getFreeTime.bFlag=!1,r.getFreeTime.nFreeTime=0;for(var t=[8,8,8,8,8,8,8,8,8],a=0;a<s.rounds.length;a++){var o=s.rounds[a],g=[],l=[],u=[],d=[],c=[!1,!1,!1,!1,!1,!1,!1,!1,!1],h=[].concat(t),p=o.newSymbols?o.newSymbols:[];0==a&&(p=o.symbols);for(var m=0;m<p.length;m++){var v=p[m];h[n.posToIndex(v.coordinate)]=this.transformId(v.id)}t=h;for(var f=[],W=0;W<t.length;W++)8!=t[W]&&f.push(W);r.getBigWin.list.push(f);for(var b=0;b<o.symbols.length;b++){var y=o.symbols[b];g[n.posToIndex(y.coordinate)]=this.transformId(y.id)}for(var B=0;B<o.paylines.length;B++){var I=o.paylines[B];l.push(Number(I.id)-1),d.push(I.payout),u[B]=[];for(var T=0;T<I.points.length;T++){var w=I.points[T],F=n.posToIndex(w);u[B].push(F),c[F]=!0}}a==s.rounds.length-1&&(r.nHandCards=g,r.nWinLines=l,r.nWinLinesDetail=u,r.nWinDetail=d,r.nWinCards=c);var S={};S.nHandCards=g,S.nWinLines=l,S.nWinLinesDetail=u,S.nWinDetail=d,S.nWinCards=c,a==s.rounds.length-1?S.winscore=r.winscore:S.winscore=0,r.getBigWin.res_list.push(S)}return r},n.posToIndex=function(n){return 3*(3-n.row)+(n.reel-1)},n.transformId=function(n){var e;return null!=(e={tiger:7,yuanbao:6,jade_pendant:5,blessing_bag:4,red_envelope:3,firework:2,orange:1}[n])?e:8},n}());r.BETNUM=[.03,.1,.3,.9],r.LINES=5,r.BET=[1,2,3,4,5,6,7,8,9,10],e._RF.pop()}}}));

System.register("chunks:///_virtual/flyNum2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Num.ts"],(function(t){var e,i,n,r,o,s,c,u,a,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,u=t.CCFloat,a=t.Vec3,p=t.Component},function(t){l=t.Num}],execute:function(){var f,h,y,m,_;s._RF.push({},"8d47dz0z/FF2a95aWXOfD2N","flyNum",void 0);var d=c.ccclass,v=c.property;t("flyNum",(f=d("flyNum"),h=v({type:u,tooltip:"飞行进度"}),f((_=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_t",_,r(e)),e.p0=new a,e.p1=new a,e.p2=new a,e.p3=new a,e}return i(e,t),o(e,[{key:"t",get:function(){return this._t},set:function(t){this._t=t;var e=l.threeBezier(this.p0,this.p1,this.p2,this.p3,this._t);this.node.position=e}}]),e}(p)).prototype,"_t",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=m))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/lastmoneyPanel12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts","./Num.ts"],(function(e){var t,n,i,o,a,l,s,r,c,h,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,r=e.Label,c=e.tween,h=e.Component},function(e){u=e.tiger},function(e){p=e.Num}],execute:function(){var d,y,f,v,P,b,g;a._RF.push({},"21c16xbGfJAvr8TnW+7iVgM","lastmoneyPanel",void 0);var m=l.ccclass,w=l.property;e("lastmoneyPanel",(d=m("lastmoneyPanel"),y=w({type:s,tooltip:""}),f=w({type:r,tooltip:""}),d((b=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",b,o(t)),i(t,"lblUserCoin",g,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){u.lastmoneyPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.update=function(e){this.lblUserCoin.string=p.exchangeToThousands(u.exchangeRate,u.money)},a.showPanel=function(){var e=this;u.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){u.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(P.prototype,"lblUserCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_tiger",["./SlotsTigerGameMgr.ts","./SlotsTigerLobbyScene.ts","./autoPanel11.ts","./betNum12.ts","./betPanel12.ts","./cTiger.ts","./dataChange11.ts","./flyNum2.ts","./lastmoneyPanel12.ts","./payPanel6.ts","./rulePanel6.ts","./tigerAudio.ts","./tigerDetail.ts","./tigerMain.ts","./tigerSlotCtrl.ts","./tigerWheel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/payPanel6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts"],(function(t){var e,n,i,o,a,s,r,l,c,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,l=t.Widget,c=t.tween,h=t.Component},function(t){p=t.tiger}],execute:function(){var d,u,y,f,v;a._RF.push({},"8951aX3n3tJm7m1vhbBIA9K","payPanel",void 0);var P=s.ccclass,g=s.property;t("payPanel",(d=P("payPanel"),u=g({type:r,tooltip:""}),d((v=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"panel",v,o(e)),e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var a=e.prototype;return a.init=function(){p.payPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var e=this.panel.getComponentsInChildren(l),n=0;n<e.length;n++)e[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/rulePanel6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts"],(function(e){var t,n,i,o,a,r,s,l,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Widget,c=e.tween,h=e.Component},function(e){p=e.tiger}],execute:function(){var u,d,f,v,y;a._RF.push({},"37a89szJ/xMqo82KkKbbIBc","rulePanel",void 0);var P=r.ccclass,g=r.property;e("rulePanel",(u=P("rulePanel"),d=g({type:s,tooltip:""}),u((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",y,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){p.rulePanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var e=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var t=this.panel.getComponentsInChildren(l),n=0;n<t.length;n++)t[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsTigerGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts","./RoomMgr.ts","./ModuleDef.ts","./ResourceMgr.ts","./Logger.ts"],(function(e){var n,t,r,i,o,s,a,u,c,f,g,m,d,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,a=e.Prefab},function(e){u=e.GameMgr},function(e){c=e.SubGameMgr},function(e){f=e.SubGameDef},function(e){g=e.RoomMgr},function(e){m=e.ModuleDef},function(e){d=e.ResourceMgr},function(e){l=e.Logger}],execute:function(){var h,p;o._RF.push({},"eee3exU/zxNHJLnVrypOxPH","SlotsTigerGameMgr",void 0);var M=s.ccclass,_=(s.property,e("SlotsTigerGameMgr",M("SlotsTigerGameMgr")(((p=function(e){function o(){var n;return(n=e.call(this)||this).totalNum=2,n.nowIndex=0,n._porcessFun=void 0,n.modName=m.SLOTS_TIGER,n.mainName="tigerMain",n._gameType=f.SLOTS_TIGER,n._loadingScene={name:"subgame_loading",bundle:m.BASIC},n._gameScene={name:"game_slots_tiger",bundle:m.SLOTS_TIGER},n.initNetMsgHandlers(),n}n(o,e);var s=o.prototype;return s.initNetMsgHandlers=function(){},s.initSoloMode=function(){g.inst.reset(),this.reset(),c.gameMgr=this},s.preLoadRes=function(){var e=r(i().mark((function e(n){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return t.preLoad((function(){e(!0)}),n),!0})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s.preLoad=function(){var e=r(i().mark((function e(n,t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowIndex=0,this._porcessFun=t,t&&t(this.nowIndex/this.totalNum),e.next=5,this.preLoadMain();case 5:return this.finishOneItemLoad(),e.next=8,this.preLoadLanguage();case 8:this.finishOneItemLoad(),n();case 10:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r="prefab/"+e.mainName;d.inst.loadResByModuleBundle(e.modName,r,a,(function(t,i){t?l.error("载入Prefab失败, 原因:"+r):i instanceof a?n():l.error(e,"你载入的不是Prefab, 你做了什么事?")}))}))},s.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},s.finishOneItemLoad=function(){this.nowIndex++,this._porcessFun&&this._porcessFun(this.nowIndex/this.totalNum,Math.floor(this.nowIndex/this.totalNum*100)+"%")},t(o,null,[{key:"inst",get:function(){return this._inst||(this._inst=new o),this._inst}}]),o}(u))._inst=void 0,h=p))||h));c.inst.registerGameMgr(_.inst),o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsTigerLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./SceneDef.ts","./UIAnnouncement.ts","./SlotsTigerGameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts"],(function(e){var n,t,r,o,i,c,a,s,u,l,f,p,S,g,m,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Node,l=e.Component},function(e){f=e.UserMgr},function(e){p=e.SceneDef},function(e){S=e.UIAnnouncement},function(e){g=e.SlotsTigerGameMgr},function(e){m=e.SubGameMgr},function(e){b=e.SubGameDef}],execute:function(){var y,d,T,h,M;a._RF.push({},"cda70FP6UBDN7d+mGBcusfj","SlotsTigerLobbyScene",void 0);var v=s.ccclass,G=s.property;e("SlotsTigerLobbyScene",(y=v("SlotsTigerLobbyScene"),d=G(u),y((M=n((h=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,r(n,"announcementPlacer",M,o(n)),n}t(n,e);var a=n.prototype;return a.start=function(){var e=i(c().mark((function e(){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.inst.uid){e.next=3;break}return tgx.SceneUtil.loadScene(p.START),e.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(S,(function(e){e.setPosition(n.announcementPlacer.position.x,n.announcementPlacer.position.y)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.update=function(e){},a.onBtnSoloModeClicked=function(){g.inst.initSoloMode(),m.inst.CreateRoom(b.SLOTS_TIGER,!0)},n}(l)).prototype,"announcementPlacer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=h))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/tigerAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleDef.ts"],(function(i){var t,n,e,l,a,r,o,p,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,o=i.AudioClip,p=i.Component},function(i){u=i.ModuleDef}],execute:function(){var c,f,s,y,b,g,w,h,d,m,E,v,z,k,A,x,C,M,S,W,_,B,D,L,O,R,T,F,H,I,P,j,q,G,K,X,J,N,Q,U,V;a._RF.push({},"057955ny41DKr+lx2SaXMeq","tigerAudio",void 0);var Y=r.ccclass,Z=r.property;i("tigerAudio",(c=Y("tigerAudio"),f=Z({type:o,tooltip:"滚轮旋转"}),s=Z({type:o,tooltip:"滚轮停止"}),y=Z({type:o,tooltip:"普通中奖"}),b=Z({type:o,tooltip:"粒子触发"}),g=Z({type:o,tooltip:"粒子结束"}),w=Z({type:o,tooltip:"bigwin金币"}),h=Z({type:o,tooltip:"bigwin烟花"}),d=Z({type:o,tooltip:"bigwin结束"}),m=Z({type:o,tooltip:"老虎动画win"}),E=Z({type:o,tooltip:"老虎动画win2"}),v=Z({type:o,tooltip:"老虎动画zoexit"}),z=Z({type:o,tooltip:"老虎动画idle2"}),k=Z({type:o,tooltip:"老虎动画idle4"}),A=Z({type:o,tooltip:"点击旋转"}),x=Z({type:o,tooltip:"背景缩小音效"}),C=Z({type:o,tooltip:"红包音效"}),M=Z({type:o,tooltip:"倍率出现音效"}),S=Z({type:o,tooltip:"点击打开"}),W=Z({type:o,tooltip:"点击关闭"}),c((D=t((B=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"wheelspin",D,l(t)),e(t,"stopWheel",L,l(t)),e(t,"bigWinEf",O,l(t)),e(t,"wildstart",R,l(t)),e(t,"wildend",T,l(t)),e(t,"bigwincoins",F,l(t)),e(t,"bigwinfirework",H,l(t)),e(t,"bigwinend",I,l(t)),e(t,"avatarwin",P,l(t)),e(t,"avatarwin2",j,l(t)),e(t,"avatarzoexit",q,l(t)),e(t,"avataridle2",G,l(t)),e(t,"avataridle4",K,l(t)),e(t,"clickstart",X,l(t)),e(t,"bgChangeSmallEf",J,l(t)),e(t,"hongbaoEf",N,l(t)),e(t,"mulAppearEf",Q,l(t)),e(t,"clickOpen",U,l(t)),e(t,"clickClose",V,l(t)),t.url="sound/bgm_mg",t.BWurl="sound/bgm_bigwin_main",t}n(t,i);var a=t.prototype;return a.onLoad=function(){},a.start=function(){this.playBgm()},a.stopbigwinmain=function(){this.playBgm()},a.playBgm=function(){tgx.AudioMgr.inst.audio.playMusicLoop(this.url,u.SLOTS_TIGER)},a.playawildstart=function(){this.playEf(this.wildstart)},a.playwildend=function(){this.playEf(this.wildend)},a.playclickstart=function(){this.playEf(this.clickstart)},a.playwheelspin=function(){this.playEf(this.wheelspin)},a.playStopWheel=function(){this.playEf(this.stopWheel)},a.playbigwinmain=function(){},a.playbigwincoins=function(){this.playEf(this.bigwincoins)},a.playbigwinfirework=function(){this.playEf(this.bigwinfirework)},a.playbigwinend=function(){this.playEf(this.bigwinend)},a.playavatarwin=function(){this.playEf(this.avatarwin)},a.playavatarwin2=function(){this.playEf(this.avatarwin2)},a.playavatarzoexit=function(){this.playEf(this.avatarzoexit)},a.playavataridle2=function(){this.playEf(this.avataridle2)},a.playavataridle4=function(){this.playEf(this.avataridle4)},a.playBW=function(){this.playEf(this.bigWinEf)},a.playBgChangeSmall=function(){this.playEf(this.bgChangeSmallEf)},a.playHongbaoEf=function(){this.playEf(this.hongbaoEf)},a.playMulAppearEf=function(){this.playEf(this.mulAppearEf)},a.playEf=function(i){tgx.AudioMgr.inst.audio.playEffect(i)},a.playclickopen=function(){this.playEf(this.clickOpen)},a.playclickclose=function(){this.playEf(this.clickClose)},a.clearAll=function(){tgx.AudioMgr.inst.audio.clearAll()},t}(p)).prototype,"wheelspin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(B.prototype,"stopWheel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"bigWinEf",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"wildstart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"wildend",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"bigwincoins",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(B.prototype,"bigwinfirework",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(B.prototype,"bigwinend",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"avatarwin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(B.prototype,"avatarwin2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(B.prototype,"avatarzoexit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"avataridle2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(B.prototype,"avataridle4",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(B.prototype,"clickstart",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(B.prototype,"bgChangeSmallEf",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(B.prototype,"hongbaoEf",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(B.prototype,"mulAppearEf",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(B.prototype,"clickOpen",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(B.prototype,"clickClose",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/tigerDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts"],(function(e){var t,i,o,r,n,l,a,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Node,c=e.Label,u=e.Component},function(e){p=e.tiger}],execute:function(){var d,s,f,y,N,b,g,h,v,m,B,z,w;n._RF.push({},"eb9b43pNSBLwozNaBKfA86n","tigerDetail",void 0);var D=[{3:3},{3:5},{3:8},{3:10},{3:25},{3:100},{3:250},{3:0}],G=l.ccclass,S=l.property;e("tigerDetail",(d=G("tigerDetail"),s=S({type:a,tooltip:"图片"}),f=S({type:a,tooltip:"背景板"}),y=S({type:a,tooltip:"反向背景板"}),N=S({type:a,tooltip:"中奖分数"}),b=S({type:a,tooltip:"特殊牌"}),d((v=t((h=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"roleSpriteNode",v,r(t)),o(t,"BGNode",m,r(t)),o(t,"BGNode2",B,r(t)),o(t,"numNode",z,r(t)),o(t,"specialNode",w,r(t)),t}i(t,e);var n=t.prototype;return n.init=function(e,t){p.detail&&(p.detail.node.active=!1),p.detail=this;var i=e;for(var o in this.roleSpriteNode.children[e-1].active=!0,D[i-1])this.numNode.getChildByName(o).children[0].getComponent(c).string=D[e-1][o];t||(this.BGNode.active=!1,this.BGNode2.active=!0,this.numNode.x=-155,this.specialNode.x=-340)},n.node_onclick=function(e){p.node.deskMask.active=!1,this.node.destroy(),p.detail=null},t}(u)).prototype,"roleSpriteNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(h.prototype,"BGNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(h.prototype,"BGNode2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(h.prototype,"numNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(h.prototype,"specialNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/tigerMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./tigerSlotCtrl.ts","./cTiger.ts","./Num.ts","./flyNum2.ts","./NetGameServer.ts","./SubGameDef.ts","./dataChange11.ts","./UserMgr.ts","./RoomMgr.ts","./UIHelp.ts","./LanguageData.ts"],(function(e){var t,i,n,o,l,r,a,s,c,h,f,u,d,p,g,m,y,v,w,b,C,L,N,A,B,R,_,W,E,k,S,x,T,I,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,r=e.regeneratorRuntime,a=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,c=e._decorator,h=e.Prefab,f=e.Node,u=e.find,d=e.sp,p=e.instantiate,g=e.v3,m=e.tween,y=e.Label,v=e.Vec3,w=e.Animation,b=e.macro,C=e.UITransform,L=e.math,N=e.Component},function(e){A=e.tigerSlotCtrl},function(e){B=e.tiger},function(e){R=e.Num},function(e){_=e.flyNum},function(e){W=e.gameNet},function(e){E=e.SubGameDef},function(e){k=e.dataChange},function(e){S=e.UserMgr},function(e){x=e.RoomMgr},function(e){T=e.UIHelp,I=e.UIhelpParam},function(e){z=e.LanguageData}],execute:function(){var P,M,X,G,O,D,U,H,F,V,j,q,J,K,Q,Y,Z,$,ee,te,ie,ne,oe,le,re,ae,se,ce,he,fe,ue,de,pe,ge,me,ye,ve,we,be,Ce,Le,Ne,Ae,Be,Re,_e,We,Ee,ke,Se,xe,Te,Ie,ze,Pe,Me,Xe,Ge,Oe,De,Ue,He,Fe,Ve,je,qe,Je,Ke,Qe;s._RF.push({},"2eff6km7cVNVrgG5TUw3Pih","tigerMain",void 0);var Ye=c.ccclass,Ze=c.property;e("tigerMain",(P=Ye("tigerMain"),M=Ze({type:h,tooltip:"滚轮角色Pb"}),X=Ze({type:h,tooltip:"空角色Pb"}),G=Ze({type:h,tooltip:"角色详情Pb"}),O=Ze({type:h,tooltip:"万能特效Pb"}),D=Ze({type:f,tooltip:"万能结束光效"}),U=Ze({type:f,tooltip:"卡牌光效"}),H=Ze({type:f,tooltip:"中奖线特效"}),F=Ze({type:f,tooltip:"中奖数字特效"}),V=Ze({type:f,tooltip:"中奖光特效"}),j=Ze({type:f,tooltip:"大奖光特效"}),q=Ze({type:f,tooltip:"中奖牌特效"}),J=Ze({type:f,tooltip:"全屏牌特效"}),K=Ze({type:f,tooltip:"中奖图层遮罩"}),Q=Ze({type:f,tooltip:"游戏背景节点"}),Y=Ze({type:f,tooltip:"免费摇奖背景节点"}),Z=Ze({type:f,tooltip:"开始免费摇奖节点"}),$=Ze({type:f,tooltip:"结束免费摇奖节点"}),ee=Ze({type:f,tooltip:"中奖背景2"}),te=Ze({type:f,tooltip:"中奖背景3"}),ie=Ze({type:f,tooltip:"滚屏提示"}),ne=Ze({type:f,tooltip:"滚屏提示"}),oe=Ze({type:f,tooltip:"中奖提示"}),le=Ze({type:f,tooltip:"跑马灯放大"}),re=Ze({type:f,tooltip:"爆金币"}),ae=Ze({type:f,tooltip:"单线中奖金币"}),se=Ze({type:f,tooltip:"老虎动画"}),ce=Ze({type:f,tooltip:"花瓣存放空间"}),he=Ze({type:h,tooltip:"花瓣预制体"}),fe=Ze({type:f,tooltip:"红包特效"}),ue=Ze({type:f,tooltip:"x10特效"}),de=Ze({type:f,tooltip:"普通x10特效"}),pe=Ze({type:f,tooltip:"detailMask"}),ge=Ze({type:f,tooltip:"slotCtrl"}),P((ve=t((ye=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"rolePb",ve,o(t)),n(t,"nullPb",we,o(t)),n(t,"detailPb",be,o(t)),n(t,"wildEffectPb",Ce,o(t)),n(t,"wildEndEffect",Le,o(t)),n(t,"cardEffect",Ne,o(t)),n(t,"effectLine",Ae,o(t)),n(t,"effectNum",Be,o(t)),n(t,"effectLight",Re,o(t)),n(t,"effectBigWinLight",_e,o(t)),n(t,"effectCard",We,o(t)),n(t,"effectAllCard",Ee,o(t)),n(t,"maskNode",ke,o(t)),n(t,"mulListNode",Se,o(t)),n(t,"freeBgNode",xe,o(t)),n(t,"freeBeginNode",Te,o(t)),n(t,"freeEndNode",Ie,o(t)),n(t,"win2BG",ze,o(t)),n(t,"win3BG",Pe,o(t)),n(t,"tipNode",Me,o(t)),n(t,"tipNode2",Xe,o(t)),n(t,"winNode",Ge,o(t)),n(t,"infoboard",Oe,o(t)),n(t,"coinBoomEffect",De,o(t)),n(t,"coinLineLab",Ue,o(t)),n(t,"tigerAnim",He,o(t)),n(t,"leafNode",Fe,o(t)),n(t,"leafPb",Ve,o(t)),n(t,"RedBagEffect",je,o(t)),n(t,"X10Effect",qe,o(t)),n(t,"X10EffectNor",Je,o(t)),n(t,"deskMask",Ke,o(t)),n(t,"slotCtrlNode",Qe,o(t)),t.delayClick=!1,t.audio=null,t.slotCtrl=null,t.anim_cb=null,t.stateCallBackBn=!1,t.hideEffectAllCardTween=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){B.node=this,this.slotCtrl=this.slotCtrlNode.getComponent(A),this.slotCtrl.initBetContent(B.BETNUM,B.BET,B.LINES),this.audio=this.node.getComponent("tigerAudio"),B.auto=!1,B.autoTimes=0,B.status=0,B.winLinePos=[0,200,-170,0,0],B.bigWinNum=0,B.rollIndex=0,B.money=S.inst.coin,this.slotCtrl.lblUserCoin.string=R.exchangeToThousands(B.exchangeRate,B.money),this.delayClick=!1,this.maskNode.active=!1,u("bg/s_bkg_normal/respin_vfx_k_add",this.node).active=!1,B.money=B.money},s.start=function(){this.initWheel(),this.slotCtrl.setSpinAnim(0),this.slotCtrl.bindBet(),this.anim_cb=null;var e=this.tigerAnim.getComponent(d.Skeleton);e.setCompleteListener((function(t){switch(t.animation.name){case"idle2":case"idle3":case"idle4":case"idle5":case"win":case"win2":case"wild_collect":e.setAnimation(0,"idle",!0);break;case"zo_start":e.setAnimation(0,"zo_idle",!0);break;case"zo_exit":e.setAnimation(0,"idle",!0);break;case"rs_win":e.setAnimation(0,"rs_win_idle",!0);break;case"rs_win_exit":e.setAnimation(0,"idle",!0)}})),this.createLeafs(),this.radomTigerAni(),console.log("加载完成")},s.createLeafs=function(){var e=this;this.schedule((function(){e.playLeafAnim()}),.3)},s.playLeafAnim=function(){var e=-100+Math.floor(800*Math.random()-300),t=770+Math.floor(100*Math.random()-50),i=Math.floor(600*Math.random()-300),n=Math.floor(3*Math.random()+5)/12,o=Math.floor(360*Math.random()),l=p(this.leafPb);l.position=g(e,t),l.scale=g(n,n),l.angle=o,this.leafNode.addChild(l);var r=g(410,i);m(l).to(4,{position:r}).call((function(){l.destroy()})).start()},s.radomTigerAni=function(){var e=this;this.schedule((function(){var t,i;e.delayClick||(B.lotteryRes&&B.lotteryRes.winscore>0||(Math.random()<.5?(null==(t=e.tigerAnim.getComponent(d.Skeleton))||t.setAnimation(0,"idle4",!1),e.audio.playavataridle4()):null==(i=e.tigerAnim.getComponent(d.Skeleton))||i.setAnimation(0,"idle5",!1)))}),5)},s.initWheel=function(){for(var e=0;e<B.wheelList.length;e++)B.wheelList[e].initWheel()},s.onCLick=function(e,t){switch(t){case"roll":this.startRoll();break;case"add":this.add();break;case"dec":this.dec();break;case"lastmoney":B.lastmoneyPanel.showPanel();break;case"help":tgx.UIMgr.inst.showUI(T,null,this,new I("rule"));break;case"pay":tgx.UIMgr.inst.showUI(T,null,this,new I("payout"));break;case"exitGame":this.onBtnExitClicked()}},s.onBtnExitClicked=function(){tgx.UIAlert.show(z.getLangByID("exit_game"),!0).onClick(l(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(B.node.close(),x.inst.exitRoom());case 1:case"end":return e.stop()}}),e)}))))},s.startRoll=function(){var e=this;this.delayClick||B.auto||(this.delayClick=!0,this.scheduleOnce((function(){e.delayClick=!1}),1),0==B.status?(B.status=2,this.sendRoll()):1==B.status&&(this.slotCtrl.setSpinAnim(3),this.stopImmediately()))},s.add=function(){B.auto||(B.sumIdx+=1,B.sumIdx=0==this.slotCtrl.updateBet(B.sumIdx)?B.sumIdx-1:B.sumIdx)},s.dec=function(){B.auto||(B.sumIdx-=1,B.sumIdx=0==this.slotCtrl.updateBet(B.sumIdx)?B.sumIdx+1:B.sumIdx)},s.startAuto=function(e){this.delayClick||0==B.status&&(B.auto=!0,B.autoTimes=e,this.slotCtrl.Btn_stopAuto.children[0].getComponent(y).string=e+"",this.slotCtrl.Btn_stopAuto.children[0].scale=e>999?new v(.76,.76,.76):e>99?new v(.9,.9,.9):new v(1,1,1),this.slotCtrl.Btn_stopAuto.active=B.auto,this.slotCtrl.Btn_start.active=!this.slotCtrl.Btn_stopAuto.active,this.scheduleOnce(this.sendRoll,1))},s.stopAuto=function(){B.auto=!1,B.autoTimes=0},s.stateCallBack=function(){var e=this,t=0;for(var i in B.wheelList)if(B.wheelList[i].status){t=1;break}if(B.status=t,0==B.status){if(this.stateCallBackBn)return;if(this.stateCallBackBn=!0,this.scheduleOnce((function(){e.stateCallBackBn=!1}),1),!B.lotteryRes)return;if(B.lotteryRes.getBigWin.isStart)return void this.showBigWin();B.lotteryRes.winscore>0?this.slotCtrl.setSpinAnim(3):this.slotCtrl.setSpinAnim(2),this.scheduleOnce((function(){for(var t in B.wheelList)for(var i=B.wheelList[t].roleIdList.length,n=function(){if(7==B.wheelList[t].roleIdList[i-o]){B.wheelList[t].rolePbList[i-o].children[0].getComponent(d.Skeleton).setAnimation(0,"idle",!0);var n=p(e.wildEffectPb),l=B.wheelList[t].rolePbList[i-o].getComponent(C),r=l.convertToWorldSpaceAR(new v(0,0,0)),a=(l=e.node.getComponent(C)).convertToNodeSpaceAR(r);n.position=a,e.node.addChild(n),m(n).call((function(){n.children[0].getComponent(w).play(),e.audio.playawildstart()})).delay(.1).call((function(){var t;n.children[0].active=!1,null==(t=e.tigerAnim.getComponent(d.Skeleton))||t.setAnimation(0,"wild_collect",!1)})).to(.3,{position:new v(-167,542,0)}).call((function(){var t;n.active=!1,e.wildEndEffect.active=!0,null==(t=e.wildEndEffect.getComponent(w))||t.play(),e.audio.playwildend(),m(e.wildEndEffect).delay(1.2).call((function(){e.wildEndEffect.active=!1})).start()})).start()}},o=2;o<=4;o++)n()}),.1);var n=B.lotteryRes.getBigWin.res_list.length,o=.1;for(var l in B.wheelList)for(var r=B.wheelList[l].roleIdList.length,a=2;a<=4;a++)7==B.wheelList[l].roleIdList[r-a]&&(o=.5);this.scheduleOnce((function(){n!=B.bigWinNum&&1!=n||(B.lotteryRes.isAllWin?e.playNormalAllWin():e.playWinAnim())}),o)}},s.playWinAnim=function(){var e,t,i,n,o,l=this,r=B.lotteryRes.nWinLinesDetail,a=B.lotteryRes.getBigWin.res_list.length,s=[].concat(r);(this.allDetail(s),e=s.length-1,B.lotteryRes.winscore>0)?(B.lotteryRes.winscore>=20*B.betSum?(B.lotteryRes.getBigWin.res_list.length>1?B.bigWinNum==B.lotteryRes.getBigWin.res_list.length-1&&this.slotCtrl.playBigWinCoin(B.lotteryRes.winscore):this.slotCtrl.playBigWinCoin(B.lotteryRes.winscore),this.audio.playbigwinmain()):B.lotteryRes.winscore<5*B.betSum?(this.slotCtrl.playAnimWin(-1,B.lotteryRes.winscore),this.scheduleOnce(this.rollComplete,1.5)):(this.slotCtrl.playAnimWin(0,B.lotteryRes.winscore),this.scheduleOnce(this.rollComplete,1.5)),this.tipNode.active=!1,this.tipNode2.active=!1,this.winNode.active=!0,this.winNode.children[1].active=!0,this.winNode.children[2].active=!1,this.infoboard.getChildByName("ib_vfx_e").active=!0,null==(t=this.coinBoomEffect.getComponent(w))||t.play(),null==(i=this.infoboard.getComponent(w))||i.play(),this.win2BG.active=B.lotteryRes.winscore>=20*B.betSum&&B.lotteryRes.winscore<50*B.betSum,this.win3BG.active=B.lotteryRes.winscore>=50*B.betSum,B.lotteryRes.winscore<20*B.betSum?(null==(n=this.tigerAnim.getComponent(d.Skeleton))||n.setAnimation(0,"win",!1),this.audio.playavatarwin()):(null==(o=this.tigerAnim.getComponent(d.Skeleton))||o.setAnimation(0,"win2",!1),this.audio.playavatarwin2())):this.rollComplete();var c=0;this.anim_cb=function(){if(a==B.bigWinNum||1==a){l.closeShine();for(var e=0;e<9;e++)l.closeAnim(e%3,Math.floor(e/3));if(!s[c]||0==s[c].length)return;for(var t in l.maskNode.active=!0,s[c])l.showAnim(s[c][t]%3,Math.floor(s[c][t]/3));if(0==c){l.audio.playBW();for(var i=0;i<B.lotteryRes.nWinLines.length;i++)l.effectLine.children[B.lotteryRes.nWinLines[i]].active=!0,l.effectNum.children[B.lotteryRes.nWinLines[i]].active=!0}else l.coinLineLab.active=255==l.effectLight.opacity,l.coinLineLab.y=B.winLinePos[B.lotteryRes.nWinLines[c-1]],l.coinLineLab.children[0].getComponent(y).string=R.exchangeToThousands(B.exchangeRate,B.lotteryRes.nWinDetail[c-1]),l.effectLine.children[B.lotteryRes.nWinLines[c-1]].active=!0,l.effectNum.children[B.lotteryRes.nWinLines[c-1]].active=!0;c=c+1>s.length-1?0:c+1}},B.auto?this.schedule(this.anim_cb,2,1,.01):this.schedule(this.anim_cb,2,b.REPEAT_FOREVER,.01);var h=3;h=B.auto?B.lotteryRes.winscore>0?1:.5:B.lotteryRes.winscore>0?3:1,B.auto||(this.slotCtrl.Btn_stopAuto.active=!1,this.slotCtrl.Btn_start.active=!0),this.scheduleOnce((function(){a==B.bigWinNum&&B.auto&&B.autoTimes>0&&l.scheduleOnce(l.sendRoll,1)}),e>0?e*h:h)},s.rollComplete=function(){var e=this;this.slotCtrl.setSpinAnim(0),this.scheduleOnce((function(){B.auto&&B.autoTimes>0&&e.scheduleOnce(e.sendRoll,1.5)}),1)},s.allDetail=function(e){for(var t=[],i=0;i<e.length;i++)t=[].concat(t,e[i]);t=Array.from(new Set(t)),e.unshift(t)},s.showAnim=function(e,t){var i,n,o=B.wheelList[e].roleIdList.length;for(var l in B.wheelList[e].rolePbList[o-2-t].children)B.wheelList[e].rolePbList[o-2-t].children[l].active=!1;var r=this.effectLight.children[3*e+t];r.active=!0,null==(i=r.children[0].getComponent(w))||i.stop(),null==(n=r.children[0].getComponent(w))||n.play(),r.children[0].scale=new v(.74,.74,.74),m(r.children[0]).to(.2,{scale:new v(1.2,1.2,1.2)}).start();for(var a=this.effectCard.children,s=function(i){var n=a[3*e+t].children[i];if(i==B.wheelList[e].roleIdList[o-2-t]-1){n.active=!0;var l=n.getComponent(d.Skeleton);l.setCompleteListener((function(e){switch(e.animation.name){case"win":6==i?l.setAnimation(0,"idle",!0):l.setAnimation(0,"win_idle",!0)}})),l.setAnimation(0,"win",!1)}else n.active=!1},c=0;c<a[3*e+t].children.length;c++)s(c)},s.closeAnim=function(e,t){var i=B.wheelList[e].roleIdList.length;for(var n in B.wheelList[e].rolePbList[i-2-t].children)B.wheelList[e].rolePbList[i-2-t].children[n].active=!0;this.effectLight.children[3*e+t].active=!1;for(var o=this.effectCard.children,l=0;l<o[3*e+t].children.length;l++)o[3*e+t].children[l].active=!1},s.checkRollData=function(e){for(var t,i=a(e);!(t=i()).done;){if(t.value>=this.rolePb.length)return!1}return!0},s.roll=function(e){B.auto||(this.slotCtrl.rollEnable=!0),B.status=1;for(var t=[],i=0;i<3;i++)t[i]=[];for(var n in e){var o=Number(n);t[o%3][2-Math.floor(o/3)]=e[n]}if(B.lotteryRes.getBigWin.bFlag){if(this.startBigWin(),!B.lotteryRes.getBigWin.isStart)for(var l in B.wheelList){var r;(r=B.wheelList[l]).startRoll.apply(r,t[l])}}else for(var a in B.wheelList){var s;(s=B.wheelList[a]).startRoll.apply(s,t[a])}},s.showBigWin=function(){var e=this;this.slotCtrl.setSpinAnim(3);var t=B.lotteryRes.getBigWin,i=t.list[B.bigWinNum];for(var n in i){var o=i[n]%3,l=Math.floor(i[n]/3),r=this.effectCard.children,a=B.wheelList[o].roleIdList.length;if(B.wheelList[o].roleIdList[a-2-l]==t.card)for(var s=0;s<r[3*o+l].children.length;s++){var c,h,f,u;if(s==t.card-1)if(r[3*o+l].children[s].active=!0,B.bigWinNum>=t.list.length-1)null==(c=r[3*o+l].children[s].getComponent(d.Skeleton))||c.setAnimation(0,"win",!1),null==(h=r[3*o+l].children[s].getComponent(d.Skeleton))||h.addAnimation(0,"win_idle",!0);else null==(f=r[3*o+l].children[s].getComponent(d.Skeleton))||f.clearTracks(),null==(u=r[3*o+l].children[s].getComponent(d.Skeleton))||u.setToSetupPose();else r[3*o+l].children[s].active=!1}else if(7==B.wheelList[o].roleIdList[a-2-l])for(var p=0;p<r[3*o+l].children.length;p++){var g,m,v,w;if(6==p)if(r[3*o+l].children[p].active=!0,B.bigWinNum>=t.list.length-1)null==(g=r[3*o+l].children[p].getComponent(d.Skeleton))||g.setAnimation(0,"win",!1),null==(m=r[3*o+l].children[p].getComponent(d.Skeleton))||m.addAnimation(0,"idle",!0);else null==(v=r[3*o+l].children[p].getComponent(d.Skeleton))||v.clearTracks(),null==(w=r[3*o+l].children[p].getComponent(d.Skeleton))||w.setToSetupPose();else r[3*o+l].children[p].active=!1}}for(var C=0;C<t.res_list[B.bigWinNum].nWinLines.length;C++)this.effectLine.children[t.res_list[B.bigWinNum].nWinLines[C]].active=!0,this.effectNum.children[t.res_list[B.bigWinNum].nWinLines[C]].active=!0;for(var L=[],N=0;N<t.res_list[B.bigWinNum].nWinCards.length;N++)t.res_list[B.bigWinNum].nWinCards[N]&&L.push(N);for(var A in L){var _=L[A]%3,W=Math.floor(L[A]/3);this.effectBigWinLight.children[3*_+W].active=!0}if(this.audio.playBW(),B.bigWinNum++,B.bigWinNum<=t.res_list.length-1){for(var E=t.res_list[B.bigWinNum],k=[],S=0;S<3;S++)k[S]=[];for(var x in E.nHandCards){var T=Number(x);k[T%3][2-Math.floor(T/3)]=E.nHandCards[T]}for(var I in B.wheelList)B.wheelList[I].FreeRoll_again(k[I])}else{var z=B.lotteryRes.getBigWin.res_list.length;this.maskNode.active=!0,this.scheduleOnce((function(){var t,i;B.lotteryRes.winscore>0?(null==(t=e.tigerAnim.getComponent(d.Skeleton))||t.setAnimation(0,"rs_win",!1),B.lotteryRes.winscore>=20*B.betSum?B.lotteryRes.isAllWin?e.scheduleOnce(e.playAllWin,.5):e.slotCtrl.playBigWinCoin(B.lotteryRes.winscore):B.lotteryRes.winscore<5*B.betSum?(e.slotCtrl.playAnimWin(-1,B.lotteryRes.winscore),e.showWinNode()):(e.slotCtrl.playAnimWin(0,B.lotteryRes.winscore),e.showWinNode())):null==(i=e.tigerAnim.getComponent(d.Skeleton))||i.setAnimation(0,"zo_exit",!1);var n=B.lotteryRes.nWinLinesDetail,o=[L].concat(n),l=0;e.anim_cb=function(){if(z==B.bigWinNum){e.closeShine();for(var t=0;t<9;t++){var i=t%3,n=Math.floor(t/3);e.effectLight.children[3*i+n].active=!1;for(var r=e.effectCard.children,a=0;a<r[3*i+n].children.length;a++)r[3*i+n].children[a].active=!1}if(!o[l]||0==o[l].length)return;for(var s in e.maskNode.active=!0,o[l])e.showAnim(o[l][s]%3,Math.floor(o[l][s]/3));if(0==l)for(var c=0;c<B.lotteryRes.nWinLines.length;c++)e.effectLine.children[B.lotteryRes.nWinLines[c]].active=!0,e.effectNum.children[B.lotteryRes.nWinLines[c]].active=!0;else e.coinLineLab.active=255==e.effectLight.opacity,e.coinLineLab.y=B.winLinePos[B.lotteryRes.nWinLines[l-1]],e.coinLineLab.children[0].getComponent(y).string=R.exchangeToThousands(B.exchangeRate,B.lotteryRes.nWinDetail[l-1]),e.effectLine.children[B.lotteryRes.nWinLines[l-1]].active=!0,e.effectNum.children[B.lotteryRes.nWinLines[l-1]].active=!0;l=l+1>o.length-1?0:l+1}},B.auto?e.schedule(e.anim_cb,2,1,.01):e.schedule(e.anim_cb,2,b.REPEAT_FOREVER,.01),B.lotteryRes.winscore<=20*B.betSum&&e.scheduleOnce(e.bgBack,2)}),.1)}},s.playNormalAllWin=function(){var e,t,i,n=this,o=B.lotteryRes.getBigWin;this.tipNode.active=!1,this.tipNode2.active=!1,this.winNode.active=!0,this.infoboard.getChildByName("ib_vfx_e").active=!0,null==(e=this.coinBoomEffect.getComponent(w))||e.play(),null==(t=this.infoboard.getComponent(w))||t.play(),this.winNode.children[0].getComponent(y).string=Number(B.lotteryRes.winscore)/10+"",this.winNode.children[1].active=!0,this.winNode.children[2].active=!1,u("bg/Game_main",this.node).opacity=0,this.effectLight.opacity=0,this.effectLine.opacity=0,this.effectBigWinLight.opacity=0,this.effectCard.opacity=0,this.effectNum.opacity=0;var l=this.effectAllCard.children[1];this.effectAllCard.active=!0,this.effectAllCard.y=0,this.effectAllCard.scale=new v(1,1);for(var r=0;r<l.children.length;r++)l.children[r].active=r==o.card-1;l.scale=new v(1.3,1.3),m(l).to(.3,{scale:new v(1,1)}).start(),this.X10EffectNor.active=!0,this.X10EffectNor.position=this.cardEffect.position;var a=this.winNode.getComponent(C),s=a.convertToWorldSpaceAR(new v(0,0,0)),c=(a=this.node.getComponent(C)).convertToNodeSpaceAR(s);null==(i=this.X10EffectNor.getComponent(w))||i.play();var h=this.X10EffectNor.getComponent(_);h.p0=this.X10EffectNor.position,h.p1=new v(h.p0.x/3-10+20*L.random(),h.p0.y),h.p2=new v(c.x,h.p0.y+4*(c.y-h.p0.y)/5),h.p3=new v(c.x,c.y),h.t=0,m(h).delay(.5).delay(.3).to(.6,{t:1}).call((function(){n.X10EffectNor.active=!1})).delay(.5).call((function(){n.slotCtrl.playBigWinCoin(B.lotteryRes.winscore)})).start()},s.playAllWin=function(){var e,t,i=this,n=B.lotteryRes.getBigWin;this.tipNode.active=!1,this.tipNode2.active=!1,this.winNode.active=!0,this.infoboard.getChildByName("ib_vfx_e").active=!0,null==(e=this.coinBoomEffect.getComponent(w))||e.play(),null==(t=this.infoboard.getComponent(w))||t.play(),this.winNode.children[0].getComponent(y).string=Number(B.lotteryRes.winscore)/10+"",this.winNode.children[1].active=!0,this.winNode.children[2].active=!1,u("bg/Game_main",this.node).opacity=0,this.effectLight.opacity=0,this.effectLine.opacity=0,this.effectBigWinLight.opacity=0,this.effectCard.opacity=0,this.effectNum.opacity=0;var o=this.effectAllCard.children[1];this.effectAllCard.active=!0,this.effectAllCard.y=-25,this.effectAllCard.scale=new v(.9,.9);for(var l=0;l<o.children.length;l++)o.children[l].active=l==n.card-1;o.scale=new v(1.3,1.3),m(o).to(.3,{scale:new v(1,1)}).start(),this.X10Effect.active=!0,m(this.X10Effect).to(.2,{position:new v(0,410,0)}).to(.05,{position:new v(16,410,0)}).to(.05,{position:new v(-4,410,0)}).to(.05,{position:new v(16,410,0)}).to(.05,{position:new v(-4,410,0)}).to(.05,{position:new v(16,410,0)}).to(.05,{position:new v(-4,410,0)}).to(.1,{position:new v(6,450,0),scale:new v(2.5,2.5,2.5)}).to(.1,{scale:new v(2,2,2)}).delay(1).call((function(){i.X10Effect.parent=i.node})).to(.5,{position:new v(0,-300,0),scale:new v(3,3,3)}).call((function(){i.X10Effect.active=!1,i.X10Effect.parent=u("bg/s_bkg_normal/X10_area",i.node),i.X10Effect.y=410,i.X10Effect.scale=new v(1.5,1.5,1.5),i.slotCtrl.playBigWinCoin(B.lotteryRes.winscore)})).start()},s.showWinNode=function(){var e,t;this.tipNode.active=!1,this.tipNode2.active=!1,this.winNode.active=!0,this.winNode.children[1].active=!0,this.winNode.children[2].active=!1,this.infoboard.getChildByName("ib_vfx_e").active=!0,null==(e=this.coinBoomEffect.getComponent(w))||e.play(),null==(t=this.infoboard.getComponent(w))||t.play(),this.win2BG.active=B.lotteryRes.winscore>3*B.betSum&&B.lotteryRes.winscore<5*B.betSum,this.win3BG.active=B.lotteryRes.winscore>=5*B.betSum},s.bgChange=function(){var e=this,t=B.lotteryRes.getBigWin,i=u("bg",this.node);m(i).delay(.3).call((function(){var i;e.RedBagEffect.active=!0,e.RedBagEffect.opacity=255,e.audio.playHongbaoEf();for(var n=u("pb",e.RedBagEffect),o=0;o<n.children.length;o++)n.children[o].active=o==t.card-1;null==(i=e.RedBagEffect.getComponent(w))||i.play(),e.mulListNode.getChildByName("respin_vfx").active=!0,e.mulListNode.getChildByName("respin_vfx3").active=!0,m(e.node).delay(1).call((function(){e.cardEffect.active=!1})).start()})).to(.5,{position:new v(0,-25,0),scale:new v(.9,.9,.9)}).delay(.4).call((function(){e.tipNode2.active=!0,e.tipNode.active=!1;for(var i=u("2/icon",e.tipNode2),n=0;n<i.children.length;n++)i.children[n].active=n+1==t.card})).delay(1).call((function(){var t,i;e.audio.playMulAppearEf(),e.RedBagEffect.active=!1,e.X10Effect.active=!0,null==(t=e.tigerAnim.getComponent(d.Skeleton))||t.setAnimation(0,"rs_idle",!0),e.mulListNode.getChildByName("respin_vfx2").active=!0,null==(i=e.mulListNode.getChildByName("respin_vfx2").getComponent(w))||i.play(),m(e.X10Effect).to(.2,{position:new v(0,410,0)}).start()})).start();var n=u("effectNode",this.node);m(n).delay(.3).to(.5,{position:new v(0,-25,0),scale:new v(.9,.9,.9)}).start()},s.bgBack=function(){var e=this,t=u("bg",this.node),i=u("bg/Game_main",this.node);0==i.opacity&&(i.opacity=1),m(t).delay(.5).to(.5,{position:new v(0,0,0),scale:new v(1,1,1)}).call((function(){var t;u("bg/s_bkg_normal/respin_vfx_k_add",e.node).active=!1,null==(t=e.tigerAnim.getComponent(d.Skeleton))||t.setAnimation(0,"rs_win_exit",!1),e.slotCtrl.setSpinAnim(0),e.mulListNode.getChildByName("respin_vfx").active=!1,e.mulListNode.getChildByName("respin_vfx2").active=!1,e.mulListNode.getChildByName("respin_vfx3").active=!1,e.cardEffect.active=!0,console.log("还原界面"),B.auto&&B.autoTimes>0&&e.sendRoll()})).start();var n=u("effectNode",this.node);m(n).delay(.5).to(.5,{position:new v(0,0,0),scale:new v(1,1,1)}).start()},s.startBigWin=function(){var e=this,t=B.lotteryRes.getBigWin;if(this.scheduleOnce((function(){var i;null==(i=e.tigerAnim.getComponent(d.Skeleton))||i.setAnimation(0,"zo_start",!1),e.audio.playBgChangeSmall(),t.isStart&&e.bgChange()}),.5),t.isStart){for(var i=t.res_list[B.bigWinNum],n=[],o=0;o<3;o++)n[o]=[];for(var l in i.nHandCards){var r=Number(l);n[r%3][2-Math.floor(r/3)]=i.nHandCards[r]}for(var a in B.wheelList){var s;(s=B.wheelList[a]).startFreeRoll.apply(s,n[a])}}},s.closeShine=function(){for(var e=0;e<this.effectLine.children.length;e++)this.effectLine.children[e].active=!1;for(var t=0;t<this.effectNum.children.length;t++)this.effectNum.children[t].active=!1;for(var i=0;i<this.effectLight.children.length;i++)this.effectLight.children[i].active=!1;for(var n=0;n<this.effectBigWinLight.children.length;n++)this.effectBigWinLight.children[n].active=!1;for(var o=0;o<this.effectCard.children.length;o++)for(var l=0;l<this.effectCard.children[o].children.length;l++)this.effectCard.children[o].children[l].active=!1;for(var r=0;r<B.wheelList.length;r++)for(var a=0;a<B.wheelList[r].rolePbList.length;a++)for(var s=0;s<B.wheelList[r].rolePbList[a].children.length;s++)B.wheelList[r].rolePbList[a].children[s].active=!0;this.maskNode.active=!1,this.coinLineLab.active=!1},s.closeBigWin=function(){this.winNode.children[0].getComponent(y).string=B.lotteryRes.winscore,B.lotteryRes.getBigWin.isStart?(this.bgBack(),this.scheduleOnce(this.hideEffectAllCard,1)):(B.auto||(this.slotCtrl.Btn_stopAuto.active=!1,this.slotCtrl.Btn_start.active=!0),B.auto&&B.autoTimes>0&&this.scheduleOnce(this.sendRoll,1)),this.showWinNode()},s.sendRoll=function(){var e=this;if(0!=this.slotCtrl.playOverBn){B.bigWinNum=0,B.detail&&(this.deskMask.active=!1,B.detail.node.active=!1,B.detail=null),this.winNode.active&&(this.tipNode.active=!0),this.win2BG.active=!1,this.win3BG.active=!1,B.rollIndex++,this.closeShine(),this.slotCtrl.unscheduleAllCallbacks(),this.effectAllCard.active&&this.closeBigIconAnim(),this.hideEffectAllCardTween&&(this.hideEffectAllCardTween.stop(),this.hideEffectAllCardTween.destroySelf(),this.hideEffectAllCardTween=null),this.tipNode.active=!0,this.tipNode2.active=!1,this.winNode.active=!1,this.infoboard.getChildByName("ib_vfx_e").active=!1,this.win2BG.active=!1,this.win3BG.active=!1,B.autoTimes=B.autoTimes>0?B.autoTimes-1:0,this.anim_cb&&this.unschedule(this.anim_cb),0==B.autoTimes&&(B.auto=!1),m(this.node).delay(.1).call((function(){e.slotCtrl.setSpinAnim(1)})).start();var t=this.slotCtrl.Btn_stopAuto.children[0].getComponent(y);for(var i in t.string=B.autoTimes+"",this.audio.playclickstart(),B.autoTimes>999?(this.slotCtrl.Btn_stopAuto.children[0].scale=new v(.76,.76,.76),this.slotCtrl.Btn_stopAuto.children[1].scale=new v(.76,.76,.76)):B.autoTimes>99?(this.slotCtrl.Btn_stopAuto.children[0].scale=new v(.9,.9,.9),this.slotCtrl.Btn_stopAuto.children[1].scale=new v(.9,.9,.9)):(this.slotCtrl.Btn_stopAuto.children[0].scale=new v(1,1,1),this.slotCtrl.Btn_stopAuto.children[1].scale=new v(1,1,1)),B.wheelList)B.wheelList[i].rollLoop();this.sendLottery()}},s.sendLottery=function(){var e=l(r().mark((function e(){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.playSlots(E.SLOTS_TIGER,B.betSum.toString());case 2:t=e.sent,console.log("retSpin is",t),i=this.exchange(t.res),this.lotteryBack(i);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.lotteryBack=function(e){var t=this;e&&0==e.code&&(B.lotteryRes=e,B.money=e.userscore,this.slotCtrl.lblUserCoin.string=R.exchangeToThousands(B.exchangeRate,e.userscore-e.winscore),this.slotCtrl.winCoin_lab.string=R.exchangeToThousands(B.exchangeRate,e.winscore),m(this.node).delay(.4).call((function(){t.roll(e.nHandCards)})).start())},s.exchange=function(e){console.log("data is",e);var t=k.change(e);return console.log("mydata",t),t},s.stopImmediately=function(){if(!B.auto)for(var e in B.wheelList)B.wheelList[e].stopImmediately()},s.hideEffectAllCard=function(){var e=this;this.hideEffectAllCardTween=m(this.effectAllCard).to(1,{opacity:0}).call((function(){e.initEffectAllCard()})).start()},s.initEffectAllCard=function(){this.effectAllCard.opacity=255,this.effectAllCard.active=!1,this.closeBigIconAnim()},s.closeBigIconAnim=function(){this.effectAllCard.active=!1,u("bg/Game_main",this.node).opacity=255,this.effectLight.opacity=255,this.effectLine.opacity=255,this.effectBigWinLight.opacity=255,this.effectCard.opacity=255,this.effectNum.opacity=255,this.X10Effect.active=!1,this.X10Effect.parent=u("bg/s_bkg_normal/X10_area",this.node),this.X10Effect.y=410,this.X10Effect.scale=new v(1.5,1.5,1.5)},s.close=function(){this.audio.clearAll()},t}(N)).prototype,"rolePb",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(ye.prototype,"nullPb",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ye.prototype,"detailPb",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ye.prototype,"wildEffectPb",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ye.prototype,"wildEndEffect",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ye.prototype,"cardEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ye.prototype,"effectLine",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ye.prototype,"effectNum",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ye.prototype,"effectLight",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ye.prototype,"effectBigWinLight",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ye.prototype,"effectCard",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ye.prototype,"effectAllCard",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ye.prototype,"maskNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ye.prototype,"mulListNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ye.prototype,"freeBgNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ye.prototype,"freeBeginNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ye.prototype,"freeEndNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ye.prototype,"win2BG",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ye.prototype,"win3BG",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ye.prototype,"tipNode",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ye.prototype,"tipNode2",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ye.prototype,"winNode",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ye.prototype,"infoboard",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ye.prototype,"coinBoomEffect",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ye.prototype,"coinLineLab",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ye.prototype,"tigerAnim",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ye.prototype,"leafNode",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ye.prototype,"leafPb",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ye.prototype,"RedBagEffect",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ye.prototype,"X10Effect",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ye.prototype,"X10EffectNor",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ye.prototype,"deskMask",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ye.prototype,"slotCtrlNode",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=ye))||me));s._RF.pop()}}}));

System.register("chunks:///_virtual/tigerSlotCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts","./Num.ts","./LanguageData.ts"],(function(t){var i,n,e,o,s,l,a,r,c,h,u,p,d,g,b,m,_,C,f,B,y,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,c=t.SpriteFrame,h=t.Label,u=t.Animation,p=t.Sprite,d=t.find,g=t.tween,b=t.Vec3,m=t.macro,_=t.Button,C=t.Color,f=t.Component},function(t){B=t.tiger},function(t){y=t.Num},function(t){w=t.LanguageData}],execute:function(){var N,A,v,S,T,W,R,x,k,L,O,E,z,P,I,F,M,U,D,V,X,G,H,j,K,Y,q,J,Q,Z,$,tt,it,nt,et,ot,st,lt,at,rt,ct,ht,ut,pt,dt,gt,bt,mt,_t,Ct,ft,Bt,yt,wt,Nt,At,vt,St;l._RF.push({},"531e7ehvItKdYp8kiECDp1P","tigerSlotCtrl",void 0);var Tt=a.ccclass,Wt=a.property;t("tigerSlotCtrl",(N=Tt("tigerSlotCtrl"),A=Wt(r),v=Wt(r),S=Wt([c]),T=Wt(r),W=Wt(r),R=Wt(r),x=Wt(r),k=Wt(r),L=Wt(r),O=Wt(r),E=Wt(r),z=Wt(r),P=Wt(r),I=Wt(r),F=Wt(r),M=Wt(h),U=Wt(h),D=Wt(h),V=Wt(h),X=Wt(r),G=Wt(r),H=Wt(r),j=Wt(r),K=Wt([c]),Y=Wt(r),q=Wt([c]),J=Wt([c]),N(($=i((Z=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,e(i,"rollEnable",$,o(i)),e(i,"Roll_light",tt,o(i)),e(i,"Btn_start",it,o(i)),e(i,"spin_Sp",nt,o(i)),e(i,"spin_AnimNode",et,o(i)),e(i,"rollClickAni",ot,o(i)),e(i,"Btn_stopAuto",st,o(i)),e(i,"stopRollClickAni",lt,o(i)),e(i,"Btn_free",at,o(i)),e(i,"Btn_add",rt,o(i)),e(i,"Btn_sub",ct,o(i)),e(i,"Btn_auto",ht,o(i)),e(i,"Btn_set",ut,o(i)),e(i,"betting_panel",pt,o(i)),e(i,"Setting_panel",dt,o(i)),e(i,"coin_panel",gt,o(i)),e(i,"lblUserCoin",bt,o(i)),e(i,"lblCurBet",mt,o(i)),e(i,"winCoin_lab",_t,o(i)),e(i,"bigWinCoin_lab",Ct,o(i)),e(i,"stateNode",ft,o(i)),e(i,"bigWinNode",Bt,o(i)),e(i,"tipNode",yt,o(i)),e(i,"musicBtn",wt,o(i)),e(i,"sp_settingControl",Nt,o(i)),e(i,"speedBtn",At,o(i)),e(i,"sp_speed",vt,o(i)),e(i,"sp2_speed",St,o(i)),i.autoNum=0,i.isPanelAnim=!1,i.isSpeed=!1,i.sumList=[],i._btnContent=null,i.curBetTween=null,i.winAimCoin=0,i.winAddcoin=0,i.winAddOnce=0,i._winPlayOverBn=!1,i.aimCoin=0,i.addcoin=0,i.addOnce=0,i._playOverBn=!0,i.bigBn=!1,i.superBn=!1,i.megaBn=!1,i.tipTween=null,i}n(i,t);var l=i.prototype;return l.start=function(){this.Btn_start.on(r.EventType.MOUSE_ENTER,this.btnRollTouchStart,this),this.Btn_start.on(r.EventType.MOUSE_LEAVE,this.btnRollTouchEnd,this),this.Btn_start.on(r.EventType.TOUCH_START,this.btnRollClick,this),this.Btn_stopAuto.on(r.EventType.MOUSE_ENTER,this.btnStopRollTouchStart,this),this.Btn_stopAuto.on(r.EventType.MOUSE_LEAVE,this.btnStopRollTouchEnd,this),this.Btn_stopAuto.on(r.EventType.TOUCH_START,this.btnStopRollClick,this),this.autoNum=0,this.isPanelAnim=!1,this.isSpeed=!1,this.init()},l.btnRollTouchStart=function(){this.rollEnable&&this.rollClickAni&&(this.rollClickAni.active=!0,this.rollClickAni.getComponent(u).play())},l.btnRollTouchEnd=function(){this.rollClickAni&&(this.rollClickAni.active=!1)},l.btnRollClick=function(t){this.rollEnable&&B.node.onCLick(t,"roll")},l.btnStopRollTouchStart=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!0,this.stopRollClickAni.getComponent(u).play())},l.btnStopRollTouchEnd=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!1)},l.btnStopRollClick=function(t){this.onCLick_stopAuto()},l.onCLick_startAuto=function(){this.autoNum},l.onCLick_stopAuto=function(){this.Btn_stopAuto.active=!1,this.Btn_start.active=!0,B.node.stopAuto()},l.init=function(){this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[tgx.AudioMgr.inst.switch?1:0],this.Setting_panel.opacity=0,this.tipNode.opacity=0,this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,0),this.lblUserCoin.string=y.exchangeToThousands(B.exchangeRate,B.money)},l.update=function(){this.initTip()},l.initBetContent=function(t,i,n){for(var e=[],o=0;o<t.length;o++)for(var s=0;s<i.length;s++)e.push(Math.round(t[o]*i[s]*n*100)/100);var l=Array.from(new Set(e));l.sort((function(t,i){return t-i})),this.sumList=l,B.betNum?B.sumIdx=this.sumList.indexOf(B.betNum):(B.sumIdx=0,B.betNum=this.sumList[B.sumIdx])},l.settingControlButtonClick_Function=function(){1==tgx.AudioMgr.inst.switch?(tgx.AudioMgr.inst.switch=!1,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[0]):(tgx.AudioMgr.inst.switch=!0,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[1])},l.onCLick=function(t,i){B.node.onCLick(t,i)},l.onCLick_openAutoPanel=function(){B.autoPanel.showPanel()},l.onCLick_closeAutoPanel=function(){B.node.audio.playclickclose()},l.onCLickShowSettingPanel=function(t){if(B.node.audio.playclickopen(),0!=this.betting_panel.opacity){var i=d("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!1),this.Btn_start.active=!1,g(this.btnContent).to(.2,{position:new b(0,-81,0),opacity:0}).start(),g(this.Setting_panel).to(.2,{position:new b(0,50,0),opacity:255}).start()}},l.onCLickHideSettingPanel=function(t){if(0!=this.Setting_panel.opacity){var i=d("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!0),this.Btn_start.active=!0,g(this.btnContent).to(.2,{position:new b(0,89,0),opacity:255}).start(),g(this.Setting_panel).to(.2,{position:new b(0,-120,0),opacity:0}).start()}},l.onCLick_betPanel=function(t,i){var n=this,e=parseInt(i);this.isPanelAnim||(this.isPanelAnim=!0,this.scheduleOnce((function(){n.isPanelAnim=!1}),.5),0==e?B.betPanel.hidePanel():(B.betPanel.showPanel(),B.betPanel.bindBet()))},l.onCLick_sound=function(t){this.settingControlButtonClick_Function()},l.onCLick_chooseAutoNum=function(t,i){},l.onCLick_speed=function(){B.node.audio.playclickopen(),this.isSpeed?(this.isSpeed=!1,this.tipNode.children[2].active=!0,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_33")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[0],this.speedBtn.children[0].getComponent("cc.Sprite").spriteFrame=this.sp2_speed[0],this.speedBtn.children[1].active=!1):(this.isSpeed=!0,this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!0,this.createTipNode(w.getLangByID("BXINGAME_34")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[1],this.speedBtn.children[0].getComponent(p).spriteFrame=this.sp2_speed[1],this.speedBtn.children[1].active=!0)},l.initTip=function(){this.tipNode.children[2].active||this.tipNode.children[3].active?(this.tipNode.children[0].w=this.tipNode.children[1].w+70,this.tipNode.children[1].x=16,this.tipNode.children[2].x=-this.tipNode.children[1].w/2,this.tipNode.children[3].x=-this.tipNode.children[1].w/2):(this.tipNode.children[1].x=0,this.tipNode.children[0].w=this.tipNode.children[1].w+30)},l.bindBet=function(){B.sumIdx=this.sumList.indexOf(B.betSum),-1==B.sumIdx&&(B.sumIdx=0),this.updateBet(B.sumIdx)},l.updateBet=function(t){return t>=this.sumList.length||t<0?(t>=this.sumList.length?(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_35"))):(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_36"))),0):(B.sumIdx>0&&(this.Btn_sub.opacity=255),B.sumIdx<this.sumList.length-1&&(this.Btn_add.opacity=255),0==B.sumIdx&&(this.Btn_sub.opacity=100),B.sumIdx==this.sumList.length-1&&(this.Btn_add.opacity=100),B.betSum=this.sumList[t],this.lblCurBet.string=y.exchangeToThousands(B.exchangeRate,this.sumList[t]),this.curBetAni(),1)},l.curBetAni=function(){var t,i;null==(t=this.curBetTween)||t.stop(),null==(i=this.curBetTween)||i.destroySelf(),this.curBetTween=g(this.lblCurBet.node).to(.1,{scale:new b(1.6,1.6,1.6)}).to(.1,{scale:new b(1,1,1)}).to(.1,{scale:new b(1.2,1.2,1.2)}).to(.1,{scale:new b(1,1,1)}).start()},l.playAnimWin=function(t,i){var n=30*(t+1);this.winAimCoin=i,this.winAddcoin=0,this.winAddOnce=this.winAimCoin/n,this.winPlayOverBn=!1,0!=n?(this.bindWinLab(this.winAddcoin),this.schedule(this.winOneChange,.05,m.REPEAT_FOREVER)):this.bindWinLab(i)},l.bindWinLab=function(t){B.node.winNode.children[0].getComponent(h).string=y.exchangeToThousands(B.exchangeRate,t),this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,t),this.lblUserCoin.string=y.exchangeToThousands(B.exchangeRate,B.lotteryRes.userscore-B.lotteryRes.winscore+t)},l.winOneChange=function(){this.winAddcoin+=this.winAddOnce,this.winAddcoin>=this.winAimCoin?(this.winPlayCoinOver(),this.bindWinLab(this.winAimCoin)):this.bindWinLab(this.winAddcoin)},l.winPlayCoinOver=function(){this.unschedule(this.winOneChange),this.winPlayOverBn=!0},l.playBigWinCoin=function(t){B.node.unschedule(B.node.sendRoll),this.bigWinNode.active=!0,this.bigBn=!1,this.superBn=!1,this.megaBn=!1,this.aimCoin=t,this.addcoin=0,this.addOnce=this.aimCoin/100,this.playOverBn=!1,this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.addcoin),this.schedule(this.coinOneChange,.05,m.REPEAT_FOREVER),this.scheduleOnce(this.closeBigWin,8)},l.coinOneChange=function(){this.addcoin+=this.addOnce,this.addcoin>=this.aimCoin?(this.playBigWin(this.aimCoin),this.playCoinOver()):(this.playBigWin(this.addcoin),this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.addcoin))},l.playCoinOver=function(){this.unschedule(this.coinOneChange),this.playOverBn=!0,this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.aimCoin),this.unschedule(this.closeBigWin),this.scheduleOnce(this.closeBigWin,2)},l.playBigWin=function(t){t>=50*B.betSum&&!this.bigWinNode.children[2].active&&0==this.megaBn?(this.playAnim_MegaWin(),this.megaBn=!0):t>=35*B.betSum&&t<50*B.betSum&&!this.bigWinNode.children[1].active&&0==this.superBn?(this.playAnim_SuperWin(),this.superBn=!0):0==this.bigBn&&(this.playAnim_BigWin(-1),this.bigBn=!0)},l.onFastBigWin=function(t){this.playOverBn?this.closeBigWin():this.playCoinOver()},l.playAnim_BigWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!0,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!1,this.bigWinNode.children[0].getComponent(u).play()},l.playAnim_SuperWin=function(){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!0,this.bigWinNode.children[2].active=!1;try{this.bigWinNode.children[1].getComponent(u).play()}catch(t){console.log(t)}},l.playAnim_MegaWin=function(){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!0;try{this.bigWinNode.children[2].getComponent(u).play()}catch(t){console.log(t)}},l.closeBigWin=function(){this.unschedule(this.closeBigWin),this.unschedule(this.coinOneChange),this.bigWinNode.active&&(this.bigWinNode.active=!1,B.node.audio.stopbigwinmain(),this.setSpinAnim(0)),this.bigWinCoin_lab&&(this.bigWinCoin_lab.string="0"),B.node.closeBigWin()},l.setSpinAnim=function(t){var i;switch(t){case 0:this.rollEnable=!0,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1,!B.auto&&this.setButtonState(!0),B.lotteryRes&&0==B.lotteryRes.winscore&&this.changeLabColor(1);break;case 1:this.rollEnable=!1,this.Roll_light&&this.Roll_light.getComponent(u).play(),this.Btn_start.getChildByName("VFX").getComponent(u).play(),(null==(i=this.Btn_start.getChildByName("VFX2"))?void 0:i.getComponent(u)).play(),this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[2],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=10,this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,0),this.setButtonState(!1),this.changeLabColor(0);break;case 2:this.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1;break;case 3:this.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=0}},l.setButtonState=function(t){this.Btn_add.opacity=t?255:100,this.Btn_sub.opacity=t?255:100,this.Btn_auto.opacity=t?255:100,this.Btn_set.opacity=t?255:100,this.Btn_add.getComponent(_).interactable=t,this.Btn_sub.getComponent(_).interactable=t,this.Btn_auto.getComponent(_).interactable=t,this.Btn_set.getComponent(_).interactable=t},l.changeLabColor=function(t){0==t?(this.lblUserCoin.node.color=new C(255,255,255),this.lblCurBet.node.color=new C(255,255,255),this.winCoin_lab.node.color=new C(255,255,255)):(this.lblUserCoin.node.color=new C(123,233,246),this.lblCurBet.node.color=new C(123,233,246),this.winCoin_lab.node.color=new C(123,233,246))},l.createTipNode=function(t){var i,n,e=this;null==(i=this.tipTween)||i.stop(),null==(n=this.tipTween)||n.destroySelf(),this.tipNode.opacity=0,this.tipNode.scale=new b(1,1,1),this.tipNode.getChildByName("lab").getComponent(h).string=t,this.tipTween=g(this.tipNode).call((function(){e.tipNode.opacity=255})).to(.1,{scale:new b(1.2,1.2,1.2)}).to(.1,{scale:new b(1,1,1)}).delay(2).to(.2,{opacity:0}).start()},s(i,[{key:"btnContent",get:function(){return this._btnContent||(this._btnContent=d("btnContent",this.betting_panel)),this._btnContent}},{key:"winPlayOverBn",get:function(){return this._winPlayOverBn},set:function(t){this._winPlayOverBn=t}},{key:"playOverBn",get:function(){return this._playOverBn},set:function(t){this._playOverBn=t}}]),i}(f)).prototype,"rollEnable",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tt=i(Z.prototype,"Roll_light",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Z.prototype,"Btn_start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Z.prototype,"spin_Sp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=i(Z.prototype,"spin_AnimNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Z.prototype,"rollClickAni",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Z.prototype,"Btn_stopAuto",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(Z.prototype,"stopRollClickAni",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Z.prototype,"Btn_free",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Z.prototype,"Btn_add",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Z.prototype,"Btn_sub",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(Z.prototype,"Btn_auto",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(Z.prototype,"Btn_set",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(Z.prototype,"betting_panel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(Z.prototype,"Setting_panel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(Z.prototype,"coin_panel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(Z.prototype,"lblUserCoin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(Z.prototype,"lblCurBet",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(Z.prototype,"winCoin_lab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(Z.prototype,"bigWinCoin_lab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(Z.prototype,"stateNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i(Z.prototype,"bigWinNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i(Z.prototype,"tipNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=i(Z.prototype,"musicBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=i(Z.prototype,"sp_settingControl",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=i(Z.prototype,"speedBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(Z.prototype,"sp_speed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=i(Z.prototype,"sp2_speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=Z))||Q));l._RF.pop()}}}));

System.register("chunks:///_virtual/tigerWheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cTiger.ts"],(function(t){var e,i,s,l,o,n,a,d,r,h,u,c,R,f,g,v,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,a=t._decorator,d=t.sp,r=t.Layout,h=t.TweenSystem,u=t.Vec3,c=t.tween,R=t.instantiate,f=t.Component,g=t.Button,v=t.UITransform},function(t){p=t.tiger}],execute:function(){var m,I,y,C;n._RF.push({},"4c3b2iPfKlHfbZ+bhOGJ1sQ","tigerWheel",void 0);var B=.7,b=[[5,3,6,6,3],[4,7,7,7,2],[3,5,5,2,1]],L=a.ccclass,w=a.property;t("tigerWheel",L("tigerWheel")((y=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,s(e,"wheelId",y,l(e)),s(e,"excludeId",C,l(e)),e.status=0,e.nextCb=void 0,e.rolePbList=[],e.roleIdList=[],e.lastResult=[],e.isBlur=!1,e}i(e,t);var n=e.prototype;return n.onLoad=function(){p.wheelList[this.wheelId]=this,this.status=0,this.nextCb=null,this.rolePbList=[],this.roleIdList=[]},n.start=function(){},n.initWheel=function(){var t=this;for(var e in p.isNewUser?this.lastResult=b[this.wheelId]:this.lastResult=[0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.lastResult)p.isNewUser||(this.lastResult[e]=this.getRandomId()),this.addRole(this.lastResult[e]);setTimeout((function(){for(var e in t.rolePbList)7==t.roleIdList[e]&&t.rolePbList[e].children[0].getComponent(d.Skeleton).setAnimation(0,"idle",!0)}),100),this.addRole(this.getRandomId()),this.node.y=0,p.rollIndex++,p.node.closeShine()},n.removeWheel=function(){this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=0},n.startRoll=function(){for(var t=this,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];var l=0;this.scheduleOnce((function(){if(p.slotCtrl.isSpeed){for(var e in i)t.addRole(i[e]);t.addRole(t.getRandomId()),t.node.getComponent(r).updateLayout(),setTimeout((function(){t.stopImmediately()}),B/3*1e3)}t.nextCb=function(){t.addRole(t.getRandomId());var e=.476;for(var s in 1==t.wheelId&&(t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),e+=.2),2==t.wheelId&&(t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),e+=.4),i)t.addRole(i[s]);t.addRole(t.getRandomId()),t.node.getComponent(r).updateLayout(),c(t.node).to(e,{y:842-t.node.size.height-30}).call((function(){t.isBlur=!1,t.setBlur()})).to(.3,{y:842-t.node.size.height}).call((function(){t.rollCallBack()})).start()},h.instance.ActionManager.removeAllActionsFromTarget(t.node),t.nextCb()}),l)},n.startFreeRoll=function(){for(var t=this,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];var l=function(){for(var e in t.status=1,t.rolePbList=[],t.roleIdList=[],t.node.removeAllChildren(),t.node.y=0,t.lastResult)t.lastResult[e]=0==t.lastResult[e]?t.getRandomId():t.lastResult[e],t.addRole(t.lastResult[e]);for(var s=0;s<30;s++)t.addRole(t.getRandomId());t.node.getComponent(r).updateLayout();c(t.node).to(2.0999999999999996,{position:new u(t.node.x,842-t.node.size.height,0)}).call((function(){t.FreeRoll_again(i,!0),t.isBlur=!1,t.setBlur()})).start()};this.nextCb=l},n.FreeRoll_again=function(t,e){var i=this;for(var s in void 0===e&&(e=!1),this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=0,this.lastResult)!e&&parseInt(s)<4?this.addRole(8).scale=new u(.85,.85,.85):(this.lastResult[s]=0==this.lastResult[s]?this.getRandomId():this.lastResult[s],this.addRole(this.lastResult[s]).scale=new u(.85,.85,.85));for(var l=p.lotteryRes.getBigWin.card,o=0;o<15;o++){var n=this.getRandomId();n==l||7==n?this.addRole(n).scale=new u(.85,.85,.85):this.addRole(8).scale=new u(.85,.85,.85)}for(var a in t){var d=this.addRole(t[a]);d.scale=new u(.85,.85,.85),e||t[a]!=this.lastResult[parseInt(a)+1]||(d.opacity=0)}this.addRole(this.getRandomId()).scale=new u(.85,.85,.85),this.node.getComponent(r).updateLayout();var h=e?0:2,R=1.9*B;c(this.node).delay(h).call((function(){i.isBlur=!0,i.setBlur()})).to(R,{position:new u(this.node.x,842-this.node.size.height)},{easing:"quadOut"}).delay(.8).call((function(){i.rollCallBack_Free()})).start(),c(this.node).delay(h+2*R/3).call((function(){i.isBlur=!1,i.setBlur()})).start()},n.rollLoop=function(){var t=this;for(var e in this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=0,this.lastResult)this.lastResult[e]=0==this.lastResult[e]?this.getRandomId():this.lastResult[e],this.addRole(this.lastResult[e]);for(var i=0;i<5;i++)this.addRole(this.getRandomId());for(var s in this.lastResult)this.lastResult[s]=0==this.lastResult[s]?this.getRandomId():this.lastResult[s],this.addRole(this.lastResult[s]);this.node.getComponent(r).updateLayout(),p.slotCtrl.isSpeed?c(this.node).to(.16,{y:30}).call((function(){t.isBlur=!0,t.setBlur()})).to(3*B/4,{y:842-this.node.size.height}).call((function(){t.nextCb()})).start():c(this.node).delay(.1*this.wheelId).to(.16,{y:30}).call((function(){t.isBlur=!0,t.setBlur()})).to(B,{y:842-this.node.size.height}).call((function(){t.nextCb()})).start(),this.nextCb=function(){t.node.y=0,p.slotCtrl.isSpeed?c(t.node).call((function(){t.isBlur=!0,t.setBlur()})).to(B/3,{y:842-t.node.size.height}).call((function(){t.nextCb()})).start():c(t.node).call((function(){t.isBlur=!0,t.setBlur()})).to(B,{y:842-t.node.size.height}).call((function(){t.nextCb()})).start()}},n.getRandomId=function(){for(var t=0;0==t;)t=(t=Math.floor(Math.random()*(p.node.rolePb.length-1)+1))==this.excludeId?0:t;return t},n.addRole=function(t){if(8==t)return this.addNullRole(t);var e=R(p.node.rolePb[t]);return this.rolePbList.push(e),this.roleIdList.push(t),this.addClickEvent(e,t),this.node.addChild(e),this.setBlur(e),e},n.addNullRole=function(t){var e=R(p.node.nullPb);return this.rolePbList.push(e),this.roleIdList.push(t),this.node.addChild(e),e},n.rollCallBack=function(){this.isBlur=!1,this.setBlur(),this.lastResult=this.roleIdList.slice(-5),this.status=0,p.node.stateCallBack()},n.rollCallBack_Free=function(){for(var t,e=this,i=o(this.node.children);!(t=i()).done;){var s=t.value;s.opacity=255,c(s).delay(.6-.1*this.wheelId).to(.1,{scale:new u(1,1,1)}).start()}this.isBlur=!1,this.setBlur(),this.lastResult=this.roleIdList.slice(-5),this.scheduleOnce((function(){e.status=0,p.node.stateCallBack()}),.15)},n.stopImmediately=function(){this.isBlur=!1,this.setBlur(),this.lastResult=this.roleIdList.slice(-5),h.instance.ActionManager.removeAllActionsFromTarget(this.node),c(this.node).to(.05,{y:842-this.node.size.height}).start(),this.status=0,p.node.stateCallBack()},n.addClickEvent=function(t,e){var i=new f.EventHandler;i.target=this.node,i.component="tigerWheel",i.handler="roleClick",i.customEventData=e+"",t.getComponent(g).clickEvents.push(i)},n.roleClick=function(t,e){if(!p.node.effectAllCard.active){if(p.detail)return p.node.deskMask.active=!1,p.detail.node.parent=null,void(p.detail=null);var i=R(p.node.detailPb),s=t.target.getComponent(v),l=s.convertToWorldSpaceAR(new u(0,0,0)),o=(s=p.node.getComponent(v)).convertToNodeSpaceAR(l);i.position=o,i.x-=50;var n=i.x<10;i.getComponent("tigerDetail").init(Number(e),n),p.node.node.addChild(i),p.node.deskMask.active=!0}},n.setBlur=function(t){if(void 0===t&&(t=null),t)this.setNodeBlur(t);else for(var e in this.node.children){var i=this.node.children[e];this.setNodeBlur(i)}},n.setNodeBlur=function(t){try{t.children[0].active=!0,t.children[1].active=!0,this.isBlur?(t.children[0].opacity=0,t.children[1].opacity=255):(t.children[0].opacity=255,t.children[1].opacity=0)}catch(t){}},e}(f)).prototype,"wheelId",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(I.prototype,"excludeId",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=I))||m);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_tiger', 'chunks:///_virtual/module_slots_tiger'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});