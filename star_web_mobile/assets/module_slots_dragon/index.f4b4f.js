System.register("chunks:///_virtual/autoPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts","./Num.ts"],(function(t){var e,o,n,i,r,a,l,s,u,c,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Label,u=t.Color,c=t.tween,h=t.Component},function(t){p=t.dragon},function(t){d=t.Num}],execute:function(){var f,b,y,C,g,v,w,P,m,_,B,N,z;r._RF.push({},"9eebceMIG1Ikq6cq+9ZGf5j","autoPanel",void 0);var k=a.ccclass,x=a.property;t("autoPanel",(f=k("autoPanel"),b=x({type:l,tooltip:""}),y=x({type:l,tooltip:""}),C=x({type:s,tooltip:"用户金币"}),g=x({type:s,tooltip:"本局总注"}),v=x({type:s,tooltip:"赢钱金额"}),f((m=e((P=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"panel",m,i(e)),n(e,"roundedButton",_,i(e)),n(e,"lblUserCoin",B,i(e)),n(e,"lblCurBet",N,i(e)),n(e,"winCoin_lab",z,i(e)),e.autoNum=0,e.autoChooseColor=[243,168,85],e.showPos=void 0,e.hidePos=void 0,e}o(e,t);var r=e.prototype;return r.init=function(){p.autoPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},r.start=function(){this.init()},r.update=function(t){this.lblUserCoin.string=d.exchangeToThousands(p.exchangeRate,p.money),this.lblCurBet.string=d.exchangeToThousands(p.exchangeRate,p.betSum),this.winCoin_lab.string=p.slotCtrl.winCoin_lab.string},r.onCLick_chooseAutoNum=function(t,e){this.roundedButton.color=new u(255,200,36),this.roundedButton.opacity=255,this.autoNum=parseInt(e);var o=t.target.parent;for(var n in o.children)o.children[n].children[0].children[0].color=new u(100,100,110);t.target.children[0].children[0].color=new u(this.autoChooseColor[0],this.autoChooseColor[1],this.autoChooseColor[2])},r.onCLick_startAuto=function(){this.autoNum>0&&(this.onClose(),p.node.startAuto(this.autoNum))},r.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},r.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},r.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"roundedButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(P.prototype,"lblUserCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(P.prototype,"lblCurBet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"winCoin_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/betNum2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var o;r._RF.push({},"3cdf3bcQD1MmLR7Rxt8+IQw","betNum",void 0);var u=n.ccclass;n.property,t("betNum",u("betNum")(o=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).valNum=0,e}return e(r,t),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/betPanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts","./Num.ts","./betNum2.ts"],(function(t){var e,i,s,n,o,l,h,a,r,u,c,g,p,m,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,h=t.Node,a=t.Prefab,r=t.PageView,u=t.Label,c=t.instantiate,g=t.tween,p=t.Component},function(t){m=t.dragon},function(t){b=t.Num},function(t){v=t.betNum}],execute:function(){var d,f,_,B,P,C,y,L,x,N,w,I,T,z,k,j,R,S,A,D,U,E,M;o._RF.push({},"69a56nvjftK+bsfVLoOsk7T","betPanel",void 0);var F=l.ccclass,V=l.property;t("betPanel",(d=F("betPanel"),f=V({type:h,tooltip:""}),_=V({type:a,tooltip:""}),B=V({type:a,tooltip:""}),P=V({type:r,tooltip:""}),C=V({type:r,tooltip:""}),y=V({type:r,tooltip:""}),L=V({type:u,tooltip:""}),x=V({type:u,tooltip:"用户金币"}),N=V({type:u,tooltip:"本局总注"}),w=V({type:u,tooltip:"赢钱金额"}),d((z=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,s(e,"panel",z,n(e)),s(e,"chooseBet_pb",k,n(e)),s(e,"chooseTotalBet_pb",j,n(e)),s(e,"chooseBet_list1",R,n(e)),s(e,"chooseBet_list2",S,n(e)),s(e,"chooseBet_list3",A,n(e)),s(e,"lbLine",D,n(e)),s(e,"lblUserCoin",U,n(e)),s(e,"lblCurBet",E,n(e)),s(e,"winCoin_lab",M,n(e)),e.numList=[],e.betList=[],e.line=0,e.val1=0,e.val2=0,e.val3=0,e.tempi=0,e.tempj=0,e.tempindex=0,e.sumList=[],e.showPos=void 0,e.hidePos=void 0,e}i(e,t);var o=e.prototype;return o.init=function(){m.betPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1,this.numList=m.BETNUM,this.betList=m.BET,this.line=m.LINES},o.start=function(){this.init()},o.update=function(t){this.lblUserCoin.string=b.exchangeToThousands(m.exchangeRate,m.money),this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),this.winCoin_lab.string=m.slotCtrl.winCoin_lab.string},o.initBetContent=function(){this.val1=this.numList[0],this.val2=this.betList[0],this.val3=this.numList[0]*this.betList[0]*this.line,this.chooseBet_list1.removeAllPages();for(var t=0;t<this.numList.length;t++){var e=c(this.chooseBet_pb);e.children[0].active=0==t,e.children[1].active=t==this.numList.length-1,e.getComponent(u).string=b.exchangeToThousands(m.exchangeRate,this.numList[t]),e.getComponent(v).valNum=this.numList[t],this.chooseBet_list1.addPage(e)}this.chooseBet_list2.removeAllPages();for(var i=0;i<this.betList.length;i++){var s=c(this.chooseBet_pb);s.children[0].active=!1,s.children[1].active=!1,s.getComponent(u).string=this.betList[i]+"",s.getComponent(v).valNum=this.betList[i],this.chooseBet_list2.addPage(s)}for(var n=[],o=0;o<this.numList.length;o++)for(var l=0;l<this.betList.length;l++)n.push(1e3*this.numList[o]*this.betList[l]*this.line/1e3);var h=Array.from(new Set(n));h.sort((function(t,e){return t-e})),this.sumList=h,this.chooseBet_list3.removeAllPages();for(var a=0;a<h.length;a++){var r=c(this.chooseTotalBet_pb);r.children[0].active=0==a,r.children[1].active=a==h.length-1,r.getComponent(u).string=b.exchangeToThousands(m.exchangeRate,h[a]),r.getComponent(v).valNum=h[a],this.chooseBet_list3.addPage(r)}this.lbLine.string=this.line+"",this.chooseBet_list1.node.on("page-turning",this.cb_pt1,this),this.chooseBet_list2.node.on("page-turning",this.cb_pt2,this),this.chooseBet_list3.node.on("page-turning",this.cb_pt3,this)},o.cb_pt1=function(t){this.val1=this.numList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempi=t.getCurrentPageIndex()},o.cb_pt2=function(t){this.val2=this.betList[t.getCurrentPageIndex()];for(var e=0;e<this.chooseBet_list3.getPages().length;e++)if(this.chooseBet_list3.getPages()[e].getComponent(v).valNum==1e3*this.val1*this.val2*this.line/1e3){this.chooseBet_list3.setCurrentPageIndex(e),this.val3=this.chooseBet_list3.getPages()[e].getComponent(v).valNum,this.tempindex=e;break}this.tempj=t.getCurrentPageIndex()},o.cb_pt3=function(t){this.val3=this.sumList[t.getCurrentPageIndex()],this.tempindex=t.getCurrentPageIndex();for(var e=0;e<this.chooseBet_list1.getPages().length;e++)for(var i=0;i<this.chooseBet_list2.getPages().length;i++)if(this.val3==1e3*this.chooseBet_list1.getPages()[e].getComponent(v).valNum*this.chooseBet_list2.getPages()[i].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(e),this.chooseBet_list2.setCurrentPageIndex(i),this.val1=this.chooseBet_list1.getPages()[e].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[i].getComponent(v).valNum,this.tempi=e,this.tempj=i;break}},o.choose_Max=function(){this.val3=this.sumList[this.sumList.length-1],this.tempindex=this.sumList.length-1;for(var t=0;t<this.chooseBet_list1.getPages().length;t++)for(var e=0;e<this.chooseBet_list2.getPages().length;e++)if(this.val3==1e3*this.chooseBet_list1.getPages()[t].getComponent(v).valNum*this.chooseBet_list2.getPages()[e].getComponent(v).valNum*this.line/1e3){this.chooseBet_list1.setCurrentPageIndex(t),this.chooseBet_list2.setCurrentPageIndex(e),this.val1=this.chooseBet_list1.getPages()[t].getComponent(v).valNum,this.val2=this.chooseBet_list2.getPages()[t].getComponent(v).valNum,this.tempi=t,this.tempj=e;break}},o.onConfirm=function(){m.betNum=this.tempi,m.bet=this.tempj,m.sumIdx=this.tempindex,m.betSum=this.sumList[m.sumIdx],this.lblCurBet.string=b.exchangeToThousands(m.exchangeRate,m.betSum),m.slotCtrl.lblCurBet.string=this.lblCurBet.string,this.onClose()},o.bindBet=function(){this.chooseBet_list3.setCurrentPageIndex(m.sumIdx),this.val3=m.betSum,this.cb_pt3(this.chooseBet_list3)},o.showPanel=function(){var t=this;m.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,this.panel.children[0].opacity=10,this.initBetContent(),g(this.panel).to(.2,{y:this.showPos}).start(),g(this.node).delay(.2).call((function(){g(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},o.hidePanel=function(){var t=this;g(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},o.onClose=function(){m.node.audio.playclickclose(),this.hidePanel()},e}(p)).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"chooseBet_pb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"chooseTotalBet_pb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"chooseBet_list1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"chooseBet_list2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"chooseBet_list3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"lbLine",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"lblUserCoin",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"lblCurBet",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"winCoin_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/cDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDef.ts","./dataChange.ts"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.SubGameDef},function(t){i=t.dataChange}],execute:function(){n._RF.push({},"ec2c8uINT1LPbTxbTw5tzDD","cDragon",void 0);var u=function(){function t(){this.BETNUM=i.BETNUM,this.LINES=i.LINES,this.BET=i.BET,this._isNewUser=!1,this._money=0,this._exchangeRate=0,this._musicControl=null,this.detail=null,this.node=null,this.wheelList=[],this.bet=0,this.betNum=0,this.sumIdx=0,this._betSum=0,this.lotteryRes=null,this.auto=!1,this.autoTimes=0,this.status=0,this.winLinePos=[],this.bigWinNum=0,this.rollIndex=0,this.rollEnable=!0,this.betPanel=null,this.autoPanel=null,this.lastmoneyPanel=null}return e(t,[{key:"isNewUser",get:function(){return this._isNewUser=!1,this._isNewUser}},{key:"money",get:function(){return this._money},set:function(t){this._money=t}},{key:"exchangeRate",get:function(){return this._exchangeRate=1,this._exchangeRate}},{key:"musicControl",get:function(){return this._musicControl},set:function(t){this._musicControl=t}},{key:"slotCtrl",get:function(){return this.node.slotCtrl}},{key:"betSum",get:function(){return this._betSum||(this._betSum=Number(localStorage.getItem(s.SLOTS_DRAGON+"betSum"))),this._betSum},set:function(t){this._betSum!=t&&localStorage.setItem(s.SLOTS_DRAGON+"betSum",t+""),this._betSum=t}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();u._instance=null;t("dragon",u.instance);n._RF.pop()}}}));

System.register("chunks:///_virtual/dataChange.ts",["cc","./Num.ts"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Num}],execute:function(){n._RF.push({},"aa3befjCvlATLUmDJ758s84","dataChange",void 0);var i=e("dataChange",function(){function e(){}return e.change=function(n){var i={code:0};i.userscore=t.parse(n.coins),i.winscore=t.parse(n.payout),i.getBigWin={},i.getFreeTime={},i.getBigWin.res_list=[];for(var r=0;r<n.results.length;r++){for(var s=n.results[r],a=[],u=[],l=[],o=[],g=[!1,!1,!1,!1,!1,!1,!1,!1,!1],p=void 0,c=Number(s.payout),f=0;f<s.symbols.length;f++){var h=s.symbols[f];a[e.posToIndex(h.coordinate)]=this.transformId(h.id)}for(var d=0;d<s.paylines.length;d++){var v=s.paylines[d];u.push(Number(v.id)-1),o.push(v.payout),l[d]=[];for(var m=0;m<v.points.length;m++){var W=v.points[m],b=e.posToIndex(W);l[d].push(b),g[b]=!0}}0==r&&(i.getBigWin.bFlag=s.bigEvents,i.getBigWin.isStart=s.bigEvents,i.getFreeTime.bFlag=s.bigEvents,i.getFreeTime.nFreeTime=8),p=i.getBigWin.bFlag&&c<=0?[]:this.exchangeMul(s.multipliers),r==n.results.length-1&&(i.nHandCards=a,i.nWinLines=u,i.nWinLinesDetail=l,i.nWinDetail=o,i.nWinCards=g,i.fMultiple=p||1);var y={};y.nHandCards=a,y.nWinLines=u,y.nWinLinesDetail=l,y.nWinDetail=o,y.nWinCards=g,y.winscore=c,y.fMultiple=p,i.getBigWin.res_list.push(y)}return i},e.exchangeMul=function(e){if(null==e)return 0;if(1==e.length)return 1==e[0].multiple?0:e[0].multiple;for(var n=[],t=0;t<e.length;t++)1!=e[t].multiple&&n.push(e[t].multiple);return n},e.posToIndex=function(e){return 3*(3-e.row)+(e.reel-1)},e.transformId=function(e){var n;return null!=(n={dragon:7,yuanbao:6,red_envelope:5,lantern:4,firework:3,chinese_knot:2,copper_coin:1}[e])?n:0},e}());i.BETNUM=[.03,.1,.3,.9],i.LINES=30,i.BET=[1,2,3,4,5,6,7,8,9,10],n._RF.pop()}}}));

System.register("chunks:///_virtual/discoNum.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,n,o,i,u,a,s,c,l,m,p;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){u=t.cclegacy,a=t._decorator,s=t.ccenum,c=t.SpriteFrame,l=t.Sprite,m=t.math,p=t.Component}],execute:function(){var f,h,d,y,b,g,v,N,w;u._RF.push({},"61f66lmUbVKwI2uQ18bCdKC","discoNum",void 0);var A=a.ccclass,_=a.property,M=function(t){return t[t.one=2]="one",t[t.two=5]="two",t[t.three=10]="three",t}(M||{});s(M);t("discoNum",(f=A("discoNum"),h=_({type:[c],tooltip:"数字皮肤"}),d=_({type:l,tooltip:"数字"}),y=_({type:M,tooltip:"默认设置"}),f((v=r((g=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return r=t.call.apply(t,[this].concat(i))||this,n(r,"spArr",v,o(r)),n(r,"numSp",N,o(r)),n(r,"defaultNum",w,o(r)),r.numArr=[2,5,10],r._num=0,r}e(r,t);var u=r.prototype;return u.onLoad=function(){},u.start=function(){this.num||(this.num=this.defaultNum)},u.radomNum=function(){var t=this.getRandomInt(0,this.numArr.length,1);this.num=this.numArr[t]},u.getRandomInt=function(t,r,e){switch(void 0===e&&(e=2),t=Math.ceil(t),r=Math.floor(r),e){case 1:return Math.floor(m.random()*(r-t))+t;case 2:return Math.floor(m.random()*(r-t+1))+t;case 3:return Math.floor(m.random()*(r-t-1))+t+1}return 0},i(r,[{key:"num",get:function(){return this._num},set:function(t){this._num=t;var r=this.numArr.indexOf(this.num);-1==r&&console.error("Error:discoNum num"),this.numSp.spriteFrame=this.spArr[r]}}]),r}(p)).prototype,"spArr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=r(g.prototype,"numSp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(g.prototype,"defaultNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.one}}),b=g))||b));u._RF.pop()}}}));

System.register("chunks:///_virtual/discoRoll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./discoNum.ts","./cDragon.ts"],(function(t){var i,n,o,e,s,r,a,h,l,c,d,u,p,f,m,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Prefab,l=t.Vec3,c=t.Tween,d=t.Layout,u=t.tween,p=t.instantiate,f=t.Component},function(t){m=t.discoNum},function(t){y=t.dragon}],execute:function(){var v,w,g,S,x;r._RF.push({},"b0a60XFJQBA1o0wD9/oQMIO","discoRoll",void 0);var z=a.ccclass,M=a.property;t("discoRoll",(v=z("discoRoll"),w=M({type:h,tooltip:"数字皮肤"}),v((x=i((S=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,o(i,"pb",x,e(i)),i.MaxSize=1,i.MainSize=.7,i.rollTime=1,i.radomNum=10,i.startX=-114,i.showRange=83,i.aimDis=145,i.rollBn=!1,i.aimNum=0,i.pool=[],i._isSpeed=!1,i}n(i,t);var r=i.prototype;return r.onLoad=function(){},r.start=function(){this.startX=this.node.x,this.rollBn=!1},r.update=function(t){this.rollBn&&this.updateSize()},r.showBn=function(t){var i=!1,n=t.parent,o=new l(t.position.x+n.position.x,t.position.y+n.position.y),e=o.x-t.w/2,s=o.x+t.w/2;return e<this.showRange&&s>-this.showRange&&(i=!0),i},r.showSize=function(t){var i=0,n=t.parent,o=new l(t.position.x+n.position.x,t.position.y+n.position.y);if(this.showRange-Math.abs(o.x)<0)i=this.MainSize;else{var e=this.MaxSize-this.MainSize,s=Math.acos(Math.abs(o.x)/this.showRange);i=this.MainSize+e*Math.sin(s)}return i},r.startRoll=function(){this.rollBn=!0,this.rollLoop()},r.endRoll=function(t){void 0===t&&(t=0),this.aimNum=t,c.stopAllByTarget(this.node),this.rollEnd()},r.radomAdd=function(){this.updateSize(!0);var t=this.radomNum-this.node.children.length;this.create(t),this.node.getComponent(d).updateLayout()},r.updateSize=function(t){void 0===t&&(t=!1);for(var i=this.node.children.length-1;i>=0;i--){var n=this.node.children[i];if(this.showBn(n)){var o=this.showSize(n);n.scale=new l(o,o),n.opacity=255}else t&&this.recycle(n)}},r.rollLoop=function(){var t=this;this.radomAdd(),this.node.x=this.startX;var i=this.rollTime;u(this.node).to(i,{x:this.startX-this.node.w+230}).call((function(){t.rollLoop()})).start()},r.rollEnd=function(){var t=this;this.radomAdd();var i=0;0!=this.aimNum?(this.node.children[this.node.children.length-1].getComponent(m).num=this.aimNum,i=this.startX-this.node.w+this.aimDis):i=this.startX-this.node.w+230;this.node.x=this.startX;var n=this.rollTime;u(this.node).to(n,{x:i}).call((function(){t.endComplete()})).start()},r.endComplete=function(){if(this.rollBn=!1,0!=this.aimNum){var t=this.node.children[this.node.children.length-1];u(t).to(.3,{y:t.y+8,scale:new l(.8,.8)}).delay(.2).to(.2,{y:t.y,scale:new l(.7,.7)}).start(),y.node.discoNumFly(this.node.children[this.node.children.length-1],this.pb)}},r.flyUp=function(t){var i=this,n=this.node.children[this.node.children.length-1];n&&u(n).to(.5,{y:n.position.y+50}).call((function(){t(),i.flyDown()})).start()},r.flyDown=function(){var t=this.node.children[this.node.children.length-1];t&&u(t).to(.5,{y:t.position.y-50,opacity:100}).start()},r.aimBack=function(){var t=this.node.children[this.node.children.length-1];t&&(t.opacity=255)},r.create=function(t){for(var i=0;i<t;i++)this.createOne()},r.createOne=function(){var t=this.itemFactory().getComponent(m);t.node.scale=new l(this.MainSize,this.MainSize),t.radomNum(),this.node.addChild(t.node)},r.itemFactory=function(){return this.pool.length>0?this.pool.shift():p(this.pb)},r.recycle=function(t){t.parent=null,this.pool.push(t)},s(i,[{key:"isSpeed",get:function(){return this._isSpeed},set:function(t){this._isSpeed=t,this.isSpeed?this.radomNum=5:this.radomNum=10}}]),i}(f)).prototype,"pb",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/dragonAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModuleDef.ts"],(function(i){var t,o,n,r,e,l,u,a,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){e=i.cclegacy,l=i._decorator,u=i.AudioClip,a=i.Component},function(i){c=i.ModuleDef}],execute:function(){var p,s,f,g,d,y,h,b,A;e._RF.push({},"a957e5At2JILrpQeK8CruvI","dragonAudio",void 0);var m=l.ccclass,_=l.property;i("dragonAudio",(p=m("dragonAudio"),s=_(u),f=_(u),g=_(u),p((h=t((y=function(i){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return t=i.call.apply(i,[this].concat(e))||this,n(t,"stopWheel",h,r(t)),n(t,"bigWinEf",b,r(t)),n(t,"clickstart",A,r(t)),t.urlArr=["sound/bgm_mg_loop","sound/bgm_fs_loop","sound/bgm_bigwin"],t.url="audio/bgm_mg_loop",t}o(t,i);var e=t.prototype;return e.onLoad=function(){},e.start=function(){this.playBgm(0)},e.stopbigwinmain=function(){this.playBgm(0)},e.stopAudio=function(){tgx.AudioMgr.inst.audio.stopAll()},e.playBgm=function(i){tgx.AudioMgr.inst.audio.playMusicLoop(this.url,c.SLOTS_DRAGON)},e.playclickopen=function(){},e.playclickclose=function(){},e.playStopWheel=function(){this.playEf(this.stopWheel)},e.playBW=function(){this.playEf(this.bigWinEf)},e.playEf=function(i){tgx.AudioMgr.inst.audio.playEffect(i)},e.playclickstart=function(){this.playEf(this.clickstart)},e.clearAll=function(){tgx.AudioMgr.inst.audio.clearAll()},t}(a)).prototype,"stopWheel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"bigWinEf",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(y.prototype,"clickstart",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/dragonDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts"],(function(e){var t,i,o,r,n,l,a,d,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Node,d=e.Label,s=e.Component},function(e){c=e.dragon}],execute:function(){var p,u,h,N,B,f,G,x,g,y,b,v,m;n._RF.push({},"f545bfQPNpK/ZAC3gVQ10zg","dragonDetail",void 0);var w=l.ccclass,z=l.property,D=[{3:2},{3:3},{3:5},{3:10},{3:25},{3:50},{3:100},{3:0}];e("dragonDetail",(p=w("dragonDetail"),u=z({type:a,tooltip:"图片"}),h=z({type:a,tooltip:"背景板"}),N=z({type:a,tooltip:"反向背景板"}),B=z({type:a,tooltip:"中奖分数"}),f=z({type:a,tooltip:"特殊牌"}),p((g=t((x=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"roleSpriteNode",g,r(t)),o(t,"BGNode",y,r(t)),o(t,"BGNode2",b,r(t)),o(t,"numNode",v,r(t)),o(t,"specialNode",m,r(t)),t}i(t,e);var n=t.prototype;return n.init=function(e,t){c.detail&&(c.detail.node.active=!1),c.detail=this;var i=e;for(var o in this.roleSpriteNode.children[e-1].active=!0,D[i-1])this.numNode.children[1].getComponent(d).string=D[e-1][o];7==e?(this.BGNode.w=540,this.BGNode2.w=540,this.BGNode.h=280,this.BGNode2.h=280,t?(this.BGNode.x=-130,this.BGNode2.x=-270,this.numNode.x=230,this.specialNode.x=100,this.roleSpriteNode.x=-21):(this.BGNode.active=!1,this.BGNode2.active=!0,this.BGNode.x=-85,this.BGNode2.x=-340,this.numNode.x=-250,this.specialNode.x=-340,this.roleSpriteNode.x=-40)):(this.BGNode.w=428,this.BGNode2.w=428,this.BGNode.h=238,this.BGNode2.h=238,t?(this.BGNode.x=-110,this.BGNode2.x=-280,this.numNode.x=160,this.specialNode.x=100,this.roleSpriteNode.x=-21):(this.BGNode.x=-105,this.BGNode2.x=-260,this.BGNode.active=!1,this.BGNode2.active=!0,this.numNode.x=-180,this.specialNode.x=-340,this.roleSpriteNode.x=-40))},n.node_onclick=function(){c.node.deskMask.active=!1,this.node.destroy(),c.detail=null},t}(s)).prototype,"roleSpriteNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(x.prototype,"BGNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(x.prototype,"BGNode2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(x.prototype,"numNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(x.prototype,"specialNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=x))||G));n._RF.pop()}}}));

System.register("chunks:///_virtual/dragonMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts","./dragonSlotCtrl.ts","./discoRoll.ts","./topRoll.ts","./discoNum.ts","./Num.ts","./NetGameServer.ts","./SubGameDef.ts","./dataChange.ts","./UserMgr.ts","./RoomMgr.ts","./UIHelp.ts","./LanguageData.ts"],(function(e){var t,i,n,o,l,s,a,r,c,h,u,d,p,g,f,m,y,b,v,w,C,B,_,N,A,R,L,S,x,W,k,I,T,G,F,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,s=e.regeneratorRuntime,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,c=e._decorator,h=e.Prefab,u=e.Node,d=e.Animation,p=e.sp,g=e.Vec3,f=e.find,m=e.Label,y=e.macro,b=e.tween,v=e.instantiate,w=e.UITransform,C=e.Tween,B=e.Component},function(e){_=e.dragon},function(e){N=e.dragonSlotCtrl},function(e){A=e.discoRoll},function(e){R=e.topRoll},function(e){L=e.discoNum},function(e){S=e.Num},function(e){x=e.gameNet},function(e){W=e.SubGameDef},function(e){k=e.dataChange},function(e){I=e.UserMgr},function(e){T=e.RoomMgr},function(e){G=e.UIHelp,F=e.UIhelpParam},function(e){M=e.LanguageData}],execute:function(){var O,P,E,z,D,U,H,V,q,j,J,K,Q,X,Y,Z,$,ee,te,ie,ne,oe,le,se,ae,re,ce,he,ue,de,pe,ge,fe,me,ye,be,ve,we,Ce,Be,_e,Ne,Ae,Re,Le,Se,xe,We,ke,Ie,Te,Ge,Fe,Me,Oe,Pe,Ee;r._RF.push({},"e794502Li9B7LHl/ESI2NAC","dragonMain",void 0);var ze=c.ccclass,De=c.property,Ue=0;e("dragonMain",(O=ze("dragonMain"),P=De({type:[h],tooltip:"滚轮角色Pb"}),E=De({type:h,tooltip:"角色详情Pb"}),z=De({type:h,tooltip:"顶部金色数字"}),D=De({type:u,tooltip:"中奖线特效"}),U=De({type:u,tooltip:"中奖数字特效"}),H=De({type:u,tooltip:"中奖光特效"}),V=De({type:[u],tooltip:"旋转光特效"}),q=De({type:u,tooltip:"中奖牌特效"}),j=De({type:u,tooltip:"中奖图层遮罩"}),J=De({type:u,tooltip:"游戏背景节点"}),K=De({type:u,tooltip:"免费摇奖背景节点"}),Q=De({type:u,tooltip:"开始免费摇奖节点"}),X=De({type:u,tooltip:"结束免费摇奖节点"}),Y=De({type:u,tooltip:"滚屏提示"}),Z=De({type:u,tooltip:"中奖提示"}),$=De({type:u,tooltip:"中奖背景1"}),ee=De({type:u,tooltip:"中奖背景2"}),te=De({type:u,tooltip:"中奖背景3"}),ie=De({type:u,tooltip:"爆金币"}),ne=De({type:u,tooltip:"金龙动画"}),oe=De({type:d,tooltip:""}),le=De({type:A,tooltip:"discoRoll"}),se=De({type:R,tooltip:"topRoll"}),ae=De({type:h,tooltip:""}),re=De({type:p.Skeleton,tooltip:""}),ce=De({type:u,tooltip:""}),he=De({type:u,tooltip:"slotCtrl"}),O((pe=t((de=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,n(t,"rolePb",pe,o(t)),n(t,"detailPb",ge,o(t)),n(t,"eventNumPb",fe,o(t)),n(t,"effectLine",me,o(t)),n(t,"effectNum",ye,o(t)),n(t,"effectLight",be,o(t)),n(t,"effectSpinLightArr",ve,o(t)),n(t,"effectCard",we,o(t)),n(t,"maskNode",Ce,o(t)),n(t,"BgNode",Be,o(t)),n(t,"freeBgNode",_e,o(t)),n(t,"freeBeginNode",Ne,o(t)),n(t,"freeEndNode",Ae,o(t)),n(t,"tipNode",Re,o(t)),n(t,"winNode",Le,o(t)),n(t,"win1BG",Se,o(t)),n(t,"win2BG",xe,o(t)),n(t,"win3BG",We,o(t)),n(t,"coinBoomEffect",ke,o(t)),n(t,"dragonAnim",Ie,o(t)),n(t,"ballAnime",Te,o(t)),n(t,"discoRoll",Ge,o(t)),n(t,"topRoll",Fe,o(t)),n(t,"particle_wild",Me,o(t)),n(t,"dragonFlySke",Oe,o(t)),n(t,"deskMask",Pe,o(t)),n(t,"slotCtrlNode",Ee,o(t)),t.delayClick=!1,t.audio=null,t.slotCtrl=null,t.freeGameCoin=0,t.bIsFreeGame=!1,t.singleLineWinNum=null,t.particle_node=null,t.scaleBox1=null,t.scaleBox2=null,t.gameMain=null,t.gameLineBg=null,t.ani=null,t.stateCallBackBn=!1,t.discoNumAimP=new g(0,-65),t.reAimCoin=0,t.reAddCoin=0,t.reAddOnce=0,t.bigBn=!1,t.superBn=!1,t.megaBn=!1,t.topNumPos=new g(0,473),t.aimNumArr=[],t.completeBn=!1,t.static_list=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){_.node=this,this.slotCtrl=this.slotCtrlNode.getComponent(N),this.slotCtrl.initBetContent(_.BETNUM,_.BET,_.LINES),this.audio=this.node.getComponent("dragonAudio"),_.auto=!1,_.autoTimes=0,_.status=0,_.rollIndex=0,_.lotteryRes=null,_.money=I.inst.coin,this.slotCtrl.lblUserCoin.string=S.exchangeToThousands(_.exchangeRate,_.money),this.freeGameCoin=0,this.bIsFreeGame=!1,this.singleLineWinNum=f("singleLineWinNum",this.node).getComponent(m),this.particle_node=f("particle_node",this.node),this.scaleBox1=f("Scale_box",this.BgNode),this.scaleBox2=f("Scale_box",this.freeBgNode),this.gameMain=f("Game_main",this.node),this.gameLineBg=f("game_line_bg",this.node)},r.start=function(){var e=this;this.initWheel(),this.slotCtrl.setSpinAnim(0),this.slotCtrl.bindBet(),this.ani=this.dragonAnim.getComponent(p.Skeleton),this.ani.setCompleteListener((function(t){switch(t.animation.name){case"idle2":case"idle3":case"idle4":case"win_med":case"win_big":e.ani.setAnimation(0,"idle",!0);break;case"tease_start":e.dragonAnim.active=!1,e.ani.clearTrack(0),e.ani.setToSetupPose(),e.ani.setAnimation(0,"idle",!0)}})),this.schedule(this.playAniLoop,15,y.REPEAT_FOREVER)},r.playAniLoop=function(){if(!this.bIsFreeGame&&!this.delayClick){var e=Math.random();e<.4?this.ani.setAnimation(0,"idle2",!1):e<.7?this.ani.setAnimation(0,"idle3",!1):this.ani.setAnimation(0,"idle4",!1)}},r.update=function(){this.scaleBox1.y=this.gameMain.y,this.scaleBox2.y=this.gameMain.y,this.gameLineBg.y=this.gameMain.y,this.effectCard.y=this.gameMain.y,this.effectLine.y=this.gameMain.y,this.effectLight.y=this.gameMain.y,this.scaleBox1.scale=this.gameMain.scale,this.scaleBox2.scale=this.gameMain.scale,this.gameLineBg.scale=this.gameMain.scale,this.effectCard.scale=this.gameMain.scale,this.effectLine.scale=this.gameMain.scale,this.effectLight.scale=this.gameMain.scale},r.initWheel=function(){for(var e=0;e<_.wheelList.length;e++)_.wheelList[e].initWheel()},r.onCLick=function(e,t){var i=this;switch(t){case"roll":if(this.bIsFreeGame||this.delayClick||0==_.rollEnable)return;_.auto||(this.delayClick=!0,this.scheduleOnce((function(){i.delayClick=!1}),.5),0==_.status?(_.status=2,this.sendRoll()):1==_.status&&(this.slotCtrl.setSpinAnim(3),this.stopImmediately()));break;case"add":if(_.auto)return;_.sumIdx+=1,_.sumIdx=0==this.slotCtrl.updateBet(_.sumIdx)?_.sumIdx-1:_.sumIdx,b(this.slotCtrl.lblCurBet.node).to(.1,{scale:new g(1.2,1.2)}).to(.1,{scale:new g(1,1)}).start();break;case"dec":if(_.auto)return;_.sumIdx-=1,_.sumIdx=0==this.slotCtrl.updateBet(_.sumIdx)?_.sumIdx+1:_.sumIdx,b(this.slotCtrl.lblCurBet.node).to(.1,{scale:new g(1.2,1.2)}).to(.1,{scale:new g(1,1)}).start();break;case"closeBigWin":this.audio.playBgm(0);break;case"exitGame":this.onBtnExitClicked();break;case"lastmoney":_.lastmoneyPanel.showPanel();break;case"help":tgx.UIMgr.inst.showUI(G,null,this,new F("rule"));break;case"pay":tgx.UIMgr.inst.showUI(G,null,this,new F("payout"))}},r.onBtnExitClicked=function(){tgx.UIAlert.show(M.getLangByID("exit_game"),!0).onClick(l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(_.node.close(),T.inst.exitRoom());case 1:case"end":return e.stop()}}),e)}))))},r.startAuto=function(e){this.bIsFreeGame||this.delayClick||0==_.status&&(_.auto=!0,_.autoTimes=e,this.slotCtrl.Btn_stopAuto.children[0].getComponent(m).string=e+"",this.slotCtrl.Btn_stopAuto.children[0].scale=e>999?new g(.5,.5):e>99?new g(.64,.64):new g(1,1),this.slotCtrl.Btn_stopAuto.active=_.auto,this.slotCtrl.Btn_start.active=!this.slotCtrl.Btn_stopAuto.active,this.scheduleOnce(this.sendRoll,1))},r.stopAuto=function(){_.auto=!1,_.autoTimes=0},r.stateCallBack=function(){var e=this,t=0;for(var i in _.wheelList)if(_.wheelList[i].status){t=1;break}if(_.status=t,0==_.status){if(this.stateCallBackBn)return;if(this.stateCallBackBn=!0,this.scheduleOnce((function(){e.stateCallBackBn=!1}),1),_.lotteryRes.winscore>0)this.slotCtrl.setSpinAnim(3);else{this.slotCtrl.setSpinAnim(2);for(var n=0;n<9;n++)this.showAnim(n%3,parseInt(n/3+""),"nowin")}for(var o=0;o<9;o++){var l=_.wheelList[o%3].rolePbList[Math.floor(o/3)+1];if("007"==l.name){var s,a,r=v(this.particle_wild),c=l.getComponent(w),h=c.convertToWorldSpaceAR(new g(0,0)),u=(c=this.particle_node.getComponent(w)).convertToNodeSpaceAR(h);if(r.position=u,r.parent=this.particle_node,this.bIsFreeGame)h=(c=null==(a=this.topRoll.node.parent)?void 0:a.getComponent(w)).convertToWorldSpaceAR(new g(0,0)),s=(c=this.particle_node.getComponent(w)).convertToNodeSpaceAR(h);else h=(c=this.ballAnime.node.parent.getChildByName("ui_discoball_mask_00").getComponent(w)).convertToWorldSpaceAR(new g(0,0)),s=(c=this.particle_node.getComponent(w)).convertToNodeSpaceAR(h);b(r).to(.6,{position:s}).call((function(){r.parent=null,r.destroy();var t=e.ballAnime.node.getChildByName("ui_discoball");b(t).to(.1,{scale:new g(1.1,1.1)}).to(.1,{scale:new g(1,1)}).start()})).start()}}this.scheduleOnce((function(){e.playWinAnim()}),1)}},r.playWinAnim=function(){var e,t,i=[],n=0;if(this.bIsFreeGame){e=_.lotteryRes.getBigWin.res_list[_.rollIndex].nWinCards,t=_.lotteryRes.getBigWin.res_list[_.rollIndex].nWinLinesDetail,n=_.lotteryRes.getBigWin.res_list[_.rollIndex].winscore;var o=_.lotteryRes.getBigWin.res_list[_.rollIndex].fMultiple;if(o&&o.length>0)for(var l=0;l<o.length;l++)o[l]}else e=_.lotteryRes.nWinCards,t=_.lotteryRes.nWinLinesDetail,n=_.lotteryRes.winscore,_.lotteryRes.fMultiple;for(var s in n<=0&&this.rollNext(),e)e[s]&&i.push(s);var a=[i].concat(t);a[0]&&0!=a[0].length&&(_.auto&&_.autoTimes>0?(this.static_list=a,this.schedule(this.repeatLine,2,a.length,.01)):(this.static_list=a,this.schedule(this.repeatLine,2,y.REPEAT_FOREVER,.01)))},r.discoNumFly=function(e,t){var i=this;this.aimNumArr=[];var n=e.getComponent(w),o=n.convertToWorldSpaceAR(new g(0,0)),l=(n=this.node.getComponent(w)).convertToNodeSpaceAR(o),s=v(t);s.parent=this.node,s.scale=e.scale,s.position=l,s.getComponent(L).num=e.getComponent(L).num,b(s).to(.3,{y:s.y+8,scale:new g(.8,.8)}).delay(.2).to(.3,{position:this.discoNumAimP,scale:new g(0,0)}).call((function(){s.parent=null,i.createAim(s,i.discoNumAimP)})).start()},r.playAnimWinOver=function(){var e=this;this.scheduleOnce((function(){e.rollNext()}),2)},r.rollNext=function(){var e=this;if(this.bIsFreeGame){var t=_.lotteryRes.getBigWin.res_list;_.rollIndex++;var i=t.length-1-_.rollIndex;if(i>=0){for(var n in this.topRoll.startRoll(),i>0?this.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(m).string=i+"":(this.slotCtrl.Btn_free.getChildByName("auto_lab").active=!1,this.slotCtrl.Btn_free.getChildByName("last_fs").active=!0),this.initRoll(),_.wheelList)_.wheelList[n].rollLoop();var o=0;o=this.slotCtrl.isSpeed?0:.6,this.scheduleOnce((function(){e.roll(_.lotteryRes.getBigWin.res_list[_.rollIndex].nHandCards)}),o)}else this.showResult()}else this.rollComplete()},r.showResult=function(){var e=f("slots_bg_fs_end",this.node);e.active=!0,e.getChildByName("title").getComponent(d).play("result"),this.playResultCoin(_.lotteryRes.winscore)},r.hideResult=function(){f("slots_bg_fs_end",this.node).active=!1,this.slotCtrl.betting_panel.active=!0,this.slotCtrl.Btn_free.active=!1,this.bgBack(),f("top_line",this.freeBgNode).active=!1,f("com_dragonanddiscball",this.node).active=!0,this.BgNode.active=!0;var e=this.ballAnime.getState("ui_discoball_3");e.time=0,e.sample(),this.stopWin1BG(),this.dragonFlySke.node.active=!1,this.ballAnime.node.parent.getChildByName("ui_discoball_mask_00").active=!0,this.dragonAnim.active=!0,this.ani.setAnimation(0,"idle",!0),this.hideWinNode(),this.rollComplete()},r.playResultCoin=function(e){this.reAimCoin=e,this.reAddCoin=0,this.reAddOnce=this.reAimCoin/100;var t=f("slots_bg_fs_end",this.node);f("lbl_coin",t).getComponent(m).string=S.exchangeToThousands(_.exchangeRate,this.reAddCoin),this.schedule(this.coinOneChange,.05,y.REPEAT_FOREVER)},r.coinOneChange=function(){if(this.reAddCoin+=this.reAddOnce,this.reAddCoin>=this.reAimCoin)this.playCoinOver();else{var e=f("slots_bg_fs_end",this.node);f("lbl_coin",e).getComponent(m).string=S.exchangeToThousands(_.exchangeRate,this.reAddCoin)}},r.playCoinOver=function(){this.unschedule(this.coinOneChange);var e=f("slots_bg_fs_end",this.node);f("lbl_coin",e).getComponent(m).string=S.exchangeToThousands(_.exchangeRate,this.reAimCoin),e.getChildByName("title").getComponent(d).play("resultEnd"),e.getChildByName("boom").getComponent(d).play(),e.getChildByName("tw_button").active=!0,this.scheduleOnce(this.onClickResult,5)},r.onClickResult=function(){this.bIsFreeGame=!1,this.hideResult()},r.showWin=function(){var e;(e=this.bIsFreeGame?_.lotteryRes.getBigWin.res_list[_.rollIndex]:_.lotteryRes).winscore>0&&(this.audio.playBW(),this.showTotalWinNode(),e.winscore>=5*_.betSum?this.slotCtrl.playBigWinCoin(e.winscore):(this.slotCtrl.playAnimWin(0,e.winscore),this.totalEffect()))},r.totalEffect=function(){var e;null==(e=this.coinBoomEffect.getComponent(d))||e.play(),_.lotteryRes.winscore<3*_.betSum?(this.ani.setAnimation(0,"win_med",!1),this.bIsFreeGame&&(this.dragonFlySke.clearTrack(0),this.dragonFlySke.setToSetupPose(),this.dragonFlySke.setAnimation(0,"win2",!1),this.dragonFlySke.addAnimation(0,"idle",!0))):(this.ani.setAnimation(0,"win_big",!1),this.bIsFreeGame&&(this.dragonFlySke.clearTrack(0),this.dragonFlySke.setToSetupPose(),this.dragonFlySke.setAnimation(0,"win3",!1),this.dragonFlySke.addAnimation(0,"idle",!0)))},r.showWinNode=function(){this.tipNode.active=!1,this.winNode.active=!0,this.winNode.children[1].active=!0,this.winNode.children[2].active=!1},r.showTotalWinNode=function(){this.tipNode.active=!1,this.winNode.active=!0,this.winNode.children[1].active=!1,this.winNode.children[2].active=!0},r.hideWinNode=function(){this.tipNode.active=!0,this.winNode.active=!1,this.win2BG.active=!1,this.win3BG.active=!1},r.playWin1BG=function(){this.win1BG.getComponent(d).play()},r.stopWin1BG=function(){var e=this.win1BG.getComponent(d).getState("winBg1");e.time=0,e.sample()},r.showWinTotal=function(){this.winNode.children[1].active=!1,this.winNode.children[2].active=!0},r.showWinBg=function(e){e>3*_.betSum&&e<5*_.betSum?(this.win2BG.active=!0,this.win2BG.opacity=0,b(this.win2BG).to(1,{opacity:255}).start()):e>=5*_.betSum?(this.win3BG.active=!0,this.win3BG.opacity=0,b(this.win3BG).to(1,{opacity:255}).start()):this.playWin1BG()},r.closeBigWin=function(){var e,t=this;this.showTotalWinNode(),e=this.bIsFreeGame?_.lotteryRes.getBigWin.res_list[_.rollIndex]:_.lotteryRes,this.showWinBg(e.winscore),this.slotCtrl.playAnimWin(-1,e.winscore),this.scheduleOnce((function(){t.rollNext()}),2)},r.showAnim=function(e,t,i){var n=t+1;(_.wheelList[e].rolePbList[n].opacity=0,i&&"win"!=i)||(this.effectLight.children[3*e+t].active=!0);for(var o,l,s=this.effectCard.children,a=function(i){(o=s[3*e+t].children[i]).active=i==_.wheelList[e].roleIdList[n]-1,o.active&&((l=o.getComponent(p.Skeleton)).setCompleteListener((function(e){switch(e.animation.name){case"win":6==i?l.setAnimation(0,"idle",!0):l.setAnimation(0,"win_idle",!0)}})),l.setAnimation(0,"win",!1))},r=0;r<s[3*e+t].children.length;r++)a(r)},r.closeAnim=function(e,t){var i=t+1;_.wheelList[e].rolePbList[i].opacity=255,this.effectLight.children[3*e+t].active=!1;for(var n=this.effectCard.children,o=0;o<n[3*e+t].children.length;o++)n[3*e+t].children[o].active=!1},r.checkRollData=function(e){for(var t,i=a(e);!(t=i()).done;){if(t.value>=this.rolePb.length)return!1}return!0},r.roll=function(e){var t=this;_.auto||(_.rollEnable=!0),_.status=1;for(var i=[],n=0;n<3;n++)i[n]=[];for(var o in e){var l=Number(o);i[l%3][2-Math.floor(l/3)]=e[o]}if(this.scheduleOnce((function(){var e;null==(e=t.effectSpinLightArr[0].getComponent(d))||e.play()}),0),this.scheduleOnce((function(){var e;null==(e=t.effectSpinLightArr[1].getComponent(d))||e.play()}),.2),this.scheduleOnce((function(){var e;null==(e=t.effectSpinLightArr[2].getComponent(d))||e.play()}),.4),_.lotteryRes.getBigWin.bFlag){this.topRoll.isSpeed=this.slotCtrl.isSpeed;for(var s=_.lotteryRes.getBigWin.res_list[_.rollIndex],a=0,r=0;r<s.fMultiple.length;r++)a+=s.fMultiple[r];0==_.rollIndex?(this.bgChange(),this.scheduleOnce((function(){t.eventStartRoll(i),s.winscore>0&&(t.slotCtrl.playAnimWin(-1,s.winscore/a),t.showWinNode())}),6)):(this.eventStartRoll(i),s.winscore>0&&(this.slotCtrl.playAnimWin(-1,s.winscore/a),this.showWinNode()))}else{for(var c in _.wheelList){var h;(h=_.wheelList[c]).startRoll.apply(h,i[c])}this.discoRoll.isSpeed=this.slotCtrl.isSpeed,this.discoRoll.endRoll(_.lotteryRes.fMultiple),_.lotteryRes.winscore>0&&(this.slotCtrl.playAnimWin(-1,_.lotteryRes.winscore/_.lotteryRes.fMultiple),this.showWinNode())}},r.eventStartRoll=function(e){for(var t in _.wheelList){var i;(i=_.wheelList[t]).startRoll.apply(i,e[t])}this.topRoll.endRoll(_.lotteryRes.getBigWin.res_list[_.rollIndex].fMultiple)},r.topNumFly=function(e,t){var i=this;this.aimNumArr=[];for(var n,o=function(){var o=e[l],s=o.getComponent(w);n=s.convertToWorldSpaceAR(new g(0,0));var a=(s=i.node.getComponent(w)).convertToNodeSpaceAR(n),r=v(t);r.parent=i.node,r.scale=o.scale,r.position=a,r.getComponent(L).num=o.getComponent(L).num,b(r).to(.3,{y:r.y+20,scale:new g(.8,.8)}).delay(.2+.1*l).to(.5,{position:i.topNumPos,scale:new g(0,0)}).call((function(){r.parent=null,i.createAim(r,i.topNumPos)})).start()},l=0;l<e.length;l++)o()},r.createAim=function(e,t){var i=this,n=f("aimNumLight",this.node);n.active=!0,n.position=t,n.children[0].getComponent(d).play();var o=v(this.eventNumPb),l=e.getComponent(L).num;if(this.aimNumArr.length>0){var s=this.aimNumArr[this.aimNumArr.length-1],a=s.getComponent(m).string;l+=Number(a.split("x")[1]),C.stopAllByTarget(s),b(s).to(.3,{scale:new g(6,6),opacity:0}).start()}this.aimNumArr.push(o),o.parent=this.node,o.scale=new g(0,0),o.position=t,o.getComponent(m).string="x"+l;var r=this.winNode.getComponent(w),c=r.convertToWorldSpaceAR(new g(0,0)),h=(r=this.node.getComponent(w)).convertToNodeSpaceAR(c);this.bIsFreeGame?_.lotteryRes.getBigWin.res_list[_.rollIndex]:_.lotteryRes,b(o).to(.3,{scale:new g(6,6)}).delay(1).call((function(){n.active=!1})).to(.5,{scale:new g(4,4),opacity:100,position:h}).call((function(){o.parent=null,i.showWin()})).start()},r.bgChange=function(){var e=this;this.ani.clearTrack(0),this.ani.setToSetupPose(),this.ani.setAnimation(0,"tease_start",!1),this.scheduleOnce((function(){e.ballAnime.on("finished",(function(){e.showLight(),e.playDragonFlyAni()})),e.ballAnime.play("ui_discoball_3"),e.ballAnime.node.parent.getChildByName("ui_discoball_mask_00").active=!1}),.1),b(f("Game_main",this.node)).to(1,{scale:new g(.9,.9)}).delay(.4).call((function(){e.freeBgNode.active=!0,e.dragonFlySke.node.active=!1,f("top_line",e.freeBgNode).active=!1})).delay(1.2).to(1,{y:-250}).call((function(){e.dragonFly()})).start()},r.bgBack=function(){var e=f("Game_main",this.node);e.y=0,e.scale=new g(1,1)},r.ballAnimePlay=function(){this.ballAnime.play("ui_discoball_00")},r.ballAnimeStop=function(){this.ballAnime.stop()},r.closeShine=function(){for(var e=0;e<this.effectLine.children.length;e++)this.effectLine.children[e].active=!1;for(var t=0;t<this.effectNum.children.length;t++)this.effectNum.children[t].active=!1;for(var i=0;i<this.effectLight.children.length;i++)this.effectLight.children[i].active=!1;this.singleLineWinNum.string="",this.maskNode.active=!1},r.sendRoll=function(){this.discoRoll.startRoll(),_.detail&&(this.deskMask.active=!1,_.detail.node.active=!1,_.detail=null),this.initRoll(),_.autoTimes=_.autoTimes>0?_.autoTimes-1:0,0==_.autoTimes&&(_.auto=!1),this.slotCtrl.setSpinAnim(1);var e=this.slotCtrl.Btn_stopAuto.children[0].getComponent(m);for(var t in e.string=_.autoTimes+"",this.audio.playclickstart(),_.autoTimes>999?this.slotCtrl.Btn_stopAuto.children[0].scale=new g(.5,.5):_.autoTimes>99?this.slotCtrl.Btn_stopAuto.children[0].scale=new g(.64,.64):this.slotCtrl.Btn_stopAuto.children[0].scale=new g(1,1),_.wheelList)_.wheelList[t].rollLoop();this.sendLottery()},r.initRoll=function(){var e;null==(e=this.win1BG.getComponent(d))||e.stop(),this.win2BG.active=!1,this.win3BG.active=!1,this.particle_node.removeAllChildren();for(var t=0;t<this.effectCard.children.length;t++)for(var i=0;i<this.effectCard.children[t].children.length;i++)this.effectCard.children[t].children[i].active=!1;for(var n=0;n<_.wheelList.length;n++)for(var o=0;o<_.wheelList[n].rolePbList.length;o++){_.wheelList[n].rolePbList[o].opacity=255}this.singleLineWinNum.string="",this.tipNode.active=!0,this.winNode.active=!1,this.unschedule(this.repeatLine),this.closeShine(),this.slotCtrl.unscheduleAllCallbacks(),this.stopWin1BG()},r.sendLottery=function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.playSlots(W.SLOTS_DRAGON,_.betSum.toString());case 2:t=e.sent,console.log("retSpin is:",t),this.lotteryBack(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.lotteryBack=function(e){var t=this;e&&1==e.isSucc&&(this.exchange(e.res),_.money=S.parse(e.res.coins),this.slotCtrl.lblUserCoin.string=S.exchangeToThousands(_.exchangeRate,S.parse(e.res.coins)-S.parse(e.res.payout)),this.slotCtrl.winCoin_lab.string=S.exchangeToThousands(_.exchangeRate,S.parse(e.res.payout)),b(this.node).delay(.4).call((function(){_.lotteryRes.getBigWin.res_list.length>1?(t.freeGameCoin=0,_.rollIndex=0,t.bIsFreeGame=!0,t.roll(_.lotteryRes.getBigWin.res_list[_.rollIndex].nHandCards)):t.roll(_.lotteryRes.nHandCards)})).start())},r.exchange=function(e){var t=k.change(e);_.lotteryRes=t},r.rollComplete=function(){var e=this;this.completeBn||(this.completeBn=!0,this.scheduleOnce((function(){e.completeBn=!1}),3),this.scheduleOnce((function(){e.slotCtrl.setSpinAnim(0),_.auto&&_.autoTimes>0&&e.scheduleOnce(e.sendRoll,1)}),2))},r.stopImmediately=function(){if(!_.auto)for(var e in _.wheelList)_.wheelList[e].stopImmediately()},r.setBlur=function(e,t){t?(e.children[0].active=!1,e.children[1].active=!0):(e.children[0].active=!0,e.children[1].active=!1)},r.repeatLine=function(){var e,t=this.static_list;this.closeShine(),this.maskNode.active=!0,e=_.lotteryRes.getBigWin.res_list.length>1?_.rollIndex==_.lotteryRes.getBigWin.res_list.length?_.lotteryRes.getBigWin.res_list[_.lotteryRes.getBigWin.res_list.length-1]:_.lotteryRes.getBigWin.res_list[_.rollIndex]:_.lotteryRes,Ue>e.nWinLines.length&&(Ue=0);for(var i=0;i<9;i++)this.closeAnim(i%3,parseInt(i/3+""));if(t[Ue])for(var n in t[Ue])this.showAnim(t[Ue][n]%3,parseInt(t[Ue][n]/3+""),"win");else for(var o in t[0])this.showAnim(t[0][o]%3,parseInt(t[0][o]/3+""),"win");for(var l in this.effectLine.children)this.effectLine.children[l].active=!1;for(var l in this.effectNum.children)this.effectNum.children[l].active=!1;if(0==Ue){for(var s=0;s<e.nWinLines.length;s++)this.effectLine.children[e.nWinLines[s]].active=!0,this.effectNum.children[e.nWinLines[s]].active=!0;this.singleLineWinNum.string=S.exchangeToThousands(_.exchangeRate,e.winscore/e.fMultiple)}else this.effectLine.children[e.nWinLines[Ue-1]].active=!0,this.effectNum.children[e.nWinLines[Ue-1]].active=!0,this.singleLineWinNum.string=S.exchangeToThousands(_.exchangeRate,e.nWinDetail[Ue-1]);if(this.bIsFreeGame)this.singleLineWinNum.string="";else for(var a in this.effectNum.children){var r=this.effectNum.children[a],c=Number(a);r.active&&(0==c||4==c||3==c?this.singleLineWinNum.node.y=217:1==c?this.singleLineWinNum.node.y=396:2==c&&(this.singleLineWinNum.node.y=0))}Ue=_.auto||this.bIsFreeGame||Ue+1>t.length-1?0:Ue+1},r.dragonFly=function(){var e=this;this.discoRoll.endRoll(),this.slotCtrl.betting_panel.active=!1,this.slotCtrl.Btn_free.active=!0,this.slotCtrl.Btn_free.children[0].active=!0,this.slotCtrl.Btn_free.children[1].active=!1,this.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(m).string="8",this.scheduleOnce((function(){e.slotCtrl.Btn_free.getChildByName("auto_lab").getComponent(m).string="7"}),1),this.topRollStart()},r.topRollStart=function(){this.BgNode.active=!1,f("top_line",this.freeBgNode).active=!0;var e=f("topBG",this.freeBgNode);e.setSiblingIndex(6),this.scheduleOnce((function(){e.setSiblingIndex(4)}),2.2),this.topRoll.startRoll()},r.showLight=function(){var e=f("bg/s_bkg_FS/goldLightEnter",this.node);e.active=!0;var t=e.getComponent(d);t.on("finished",this.lightLoop,this),t.play()},r.lightLoop=function(){f("bg/s_bkg_FS/goldLightEnter",this.node).active=!1,f("bg/s_bkg_FS/goldDisco",this.node).active=!0,f("bg/s_bkg_FS/goldLightLoop",this.node).active=!0},r.playDragonFlyAni=function(){var e=this,t=f("bg/s_bkg_FS/dragonFlyEffect",this.node).getComponent(d);t.node.setSiblingIndex(10),this.scheduleOnce((function(){t.node.setSiblingIndex(6)}),.5),t.play();var i=f("bg/s_bkg_FS/Scale_box",this.node);i.setSiblingIndex(5),this.scheduleOnce((function(){i.setSiblingIndex(7)}),.5),this.dragonFlySke.node.active=!0,this.dragonFlySke.setCompleteListener((function(t){switch(t.animation.name){case"_seq":e.dragonFlySke.addAnimation(0,"idle",!0)}})),this.dragonFlySke.setAnimation(0,"_seq",!1)},r.close=function(){this.audio.clearAll()},t}(B)).prototype,"rolePb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=t(de.prototype,"detailPb",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(de.prototype,"eventNumPb",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(de.prototype,"effectLine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(de.prototype,"effectNum",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(de.prototype,"effectLight",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(de.prototype,"effectSpinLightArr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(de.prototype,"effectCard",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(de.prototype,"maskNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(de.prototype,"BgNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(de.prototype,"freeBgNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(de.prototype,"freeBeginNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(de.prototype,"freeEndNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(de.prototype,"tipNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(de.prototype,"winNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(de.prototype,"win1BG",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(de.prototype,"win2BG",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(de.prototype,"win3BG",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(de.prototype,"coinBoomEffect",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(de.prototype,"dragonAnim",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(de.prototype,"ballAnime",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(de.prototype,"discoRoll",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(de.prototype,"topRoll",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(de.prototype,"particle_wild",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(de.prototype,"dragonFlySke",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(de.prototype,"deskMask",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(de.prototype,"slotCtrlNode",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=de))||ue));r._RF.pop()}}}));

System.register("chunks:///_virtual/dragonSlotCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts","./Num.ts","./LanguageData.ts"],(function(t){var i,n,e,o,s,l,a,r,c,h,u,p,d,g,b,m,C,_,f,B,y,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,c=t.SpriteFrame,h=t.Label,u=t.Animation,p=t.Sprite,d=t.find,g=t.tween,b=t.Vec3,m=t.macro,C=t.Button,_=t.Color,f=t.Component},function(t){B=t.dragon},function(t){y=t.Num},function(t){w=t.LanguageData}],execute:function(){var N,A,v,S,T,W,x,R,L,O,k,E,z,P,I,F,M,U,D,V,X,G,H,j,Y,q,J,K,Q,Z,$,tt,it,nt,et,ot,st,lt,at,rt,ct,ht,ut,pt,dt,gt,bt,mt,Ct,_t,ft,Bt,yt,wt,Nt;l._RF.push({},"d941cSbCYpNWrCDVcLI+ieo","dragonSlotCtrl",void 0);var At=a.ccclass,vt=a.property;t("dragonSlotCtrl",(N=At("dragonSlotCtrl"),A=vt(r),v=vt([c]),S=vt(r),T=vt(r),W=vt(r),x=vt(r),R=vt(r),L=vt(r),O=vt(r),k=vt(r),E=vt(r),z=vt(r),P=vt(r),I=vt(r),F=vt(h),M=vt(h),U=vt(h),D=vt(h),V=vt(r),X=vt(r),G=vt(r),H=vt(r),j=vt([c]),Y=vt(r),q=vt([c]),J=vt([c]),N((Z=i((Q=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,e(i,"Btn_start",Z,o(i)),e(i,"spin_Sp",$,o(i)),e(i,"spin_AnimNode",tt,o(i)),e(i,"rollClickAni",it,o(i)),e(i,"Btn_stopAuto",nt,o(i)),e(i,"stopRollClickAni",et,o(i)),e(i,"Btn_free",ot,o(i)),e(i,"Btn_add",st,o(i)),e(i,"Btn_sub",lt,o(i)),e(i,"Btn_auto",at,o(i)),e(i,"Btn_set",rt,o(i)),e(i,"betting_panel",ct,o(i)),e(i,"Setting_panel",ht,o(i)),e(i,"coin_panel",ut,o(i)),e(i,"lblUserCoin",pt,o(i)),e(i,"lblCurBet",dt,o(i)),e(i,"winCoin_lab",gt,o(i)),e(i,"bigWinCoin_lab",bt,o(i)),e(i,"stateNode",mt,o(i)),e(i,"bigWinNode",Ct,o(i)),e(i,"tipNode",_t,o(i)),e(i,"musicBtn",ft,o(i)),e(i,"sp_settingControl",Bt,o(i)),e(i,"speedBtn",yt,o(i)),e(i,"sp_speed",wt,o(i)),e(i,"sp2_speed",Nt,o(i)),i.autoNum=0,i.isPanelAnim=!1,i.isSpeed=!1,i.sumList=[],i._btnContent=null,i.curBetTween=null,i.winAimCoin=0,i.winAddcoin=0,i.winAddOnce=0,i._winPlayOverBn=!1,i.aimCoin=0,i.addcoin=0,i.addOnce=0,i._playOverBn=!0,i.bigBn=!1,i.superBn=!1,i.megaBn=!1,i.tipTween=null,i}n(i,t);var l=i.prototype;return l.start=function(){this.Btn_start.on(r.EventType.MOUSE_ENTER,this.btnRollTouchStart,this),this.Btn_start.on(r.EventType.MOUSE_LEAVE,this.btnRollTouchEnd,this),this.Btn_start.on(r.EventType.TOUCH_START,this.btnRollClick,this),this.Btn_stopAuto.on(r.EventType.MOUSE_ENTER,this.btnStopRollTouchStart,this),this.Btn_stopAuto.on(r.EventType.MOUSE_LEAVE,this.btnStopRollTouchEnd,this),this.Btn_stopAuto.on(r.EventType.TOUCH_START,this.btnStopRollClick,this),this.autoNum=0,this.isPanelAnim=!1,this.isSpeed=!1,this.init()},l.btnRollTouchStart=function(){B.rollEnable&&this.rollClickAni&&(this.rollClickAni.active=!0,this.rollClickAni.getComponent(u).play())},l.btnRollTouchEnd=function(){this.rollClickAni&&(this.rollClickAni.active=!1)},l.btnRollClick=function(t){B.rollEnable&&B.node.onCLick(t,"roll")},l.btnStopRollTouchStart=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!0,this.stopRollClickAni.getComponent(u).play())},l.btnStopRollTouchEnd=function(){this.stopRollClickAni&&(this.stopRollClickAni.active=!1)},l.btnStopRollClick=function(t){this.onCLick_stopAuto()},l.onCLick_startAuto=function(){this.autoNum},l.onCLick_stopAuto=function(){this.Btn_stopAuto.active=!1,this.Btn_start.active=!0,B.node.stopAuto()},l.init=function(){this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[tgx.AudioMgr.inst.switch?1:0],this.Setting_panel.opacity=0,this.tipNode.opacity=0,this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,0),this.lblUserCoin.string=y.exchangeToThousands(B.exchangeRate,B.money)},l.update=function(){this.initTip()},l.initBetContent=function(t,i,n){for(var e=[],o=0;o<t.length;o++)for(var s=0;s<i.length;s++)e.push(Math.round(t[o]*i[s]*n*100)/100);var l=Array.from(new Set(e));l.sort((function(t,i){return t-i})),this.sumList=l,B.betNum?B.sumIdx=this.sumList.indexOf(B.betNum):(B.sumIdx=0,B.betNum=this.sumList[B.sumIdx])},l.settingControlButtonClick_Function=function(){1==tgx.AudioMgr.inst.switch?(tgx.AudioMgr.inst.switch=!1,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[0]):(tgx.AudioMgr.inst.switch=!0,this.musicBtn.getComponent(p).spriteFrame=this.sp_settingControl[1])},l.onCLick=function(t,i){B.node.onCLick(t,i)},l.onCLick_openAutoPanel=function(){B.autoPanel.showPanel()},l.onCLick_closeAutoPanel=function(){B.node.audio.playclickclose()},l.onCLickShowSettingPanel=function(t){if(B.node.audio.playclickopen(),0!=this.betting_panel.opacity){var i=d("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!1),this.Btn_start.active=!1,g(this.btnContent).to(.2,{position:new b(0,-180,0),opacity:0}).start(),g(this.Setting_panel).to(.2,{position:new b(0,-560,0),opacity:255}).start()}},l.onCLickHideSettingPanel=function(t){if(0!=this.Setting_panel.opacity){var i=d("ui_footer/ui_footer_a",B.node.node);i&&(i.active=!0),this.Btn_start.active=!0,g(this.btnContent).to(.2,{position:new b(0,0,0),opacity:255}).start(),g(this.Setting_panel).to(.2,{position:new b(0,-740,0),opacity:0}).start()}},l.onCLick_betPanel=function(t,i){var n=this,e=parseInt(i);this.isPanelAnim||(this.isPanelAnim=!0,this.scheduleOnce((function(){n.isPanelAnim=!1}),.5),0==e?B.betPanel.hidePanel():(B.betPanel.showPanel(),B.betPanel.bindBet()))},l.onCLick_sound=function(t){this.settingControlButtonClick_Function()},l.onCLick_chooseAutoNum=function(t,i){},l.onCLick_speed=function(){B.node.audio.playclickopen(),this.isSpeed?(this.isSpeed=!1,this.tipNode.children[2].active=!0,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_33")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[0],this.speedBtn.children[0].getComponent("cc.Sprite").spriteFrame=this.sp2_speed[0],this.speedBtn.children[1].active=!1):(this.isSpeed=!0,this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!0,this.createTipNode(w.getLangByID("BXINGAME_34")),this.speedBtn.getComponent(p).spriteFrame=this.sp_speed[1],this.speedBtn.children[0].getComponent(p).spriteFrame=this.sp2_speed[1],this.speedBtn.children[1].active=!0)},l.initTip=function(){this.tipNode.children[2].active||this.tipNode.children[3].active?(this.tipNode.children[0].w=this.tipNode.children[1].w+70,this.tipNode.children[1].x=16,this.tipNode.children[2].x=-this.tipNode.children[1].w/2,this.tipNode.children[3].x=-this.tipNode.children[1].w/2):(this.tipNode.children[1].x=0,this.tipNode.children[0].w=this.tipNode.children[1].w+30)},l.bindBet=function(){B.sumIdx=this.sumList.indexOf(B.betSum),-1==B.sumIdx&&(B.sumIdx=0),this.updateBet(B.sumIdx)},l.updateBet=function(t){return t>=this.sumList.length||t<0?(t>=this.sumList.length?(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_35"))):(this.tipNode.children[2].active=!1,this.tipNode.children[3].active=!1,this.createTipNode(w.getLangByID("BXINGAME_36"))),0):(B.sumIdx>0&&(this.Btn_sub.opacity=255),B.sumIdx<this.sumList.length-1&&(this.Btn_add.opacity=255),0==B.sumIdx&&(this.Btn_sub.opacity=100),B.sumIdx==this.sumList.length-1&&(this.Btn_add.opacity=100),B.betSum=this.sumList[t],this.lblCurBet.string=y.exchangeToThousands(B.exchangeRate,this.sumList[t]),this.curBetAni(),1)},l.curBetAni=function(){var t,i;null==(t=this.curBetTween)||t.stop(),null==(i=this.curBetTween)||i.destroySelf(),this.curBetTween=g(this.lblCurBet.node).to(.1,{scale:new b(1.6,1.6,1.6)}).to(.1,{scale:new b(1,1,1)}).to(.1,{scale:new b(1.2,1.2,1.2)}).to(.1,{scale:new b(1,1,1)}).start()},l.playAnimWin=function(t,i){var n=30*(t+1);this.winAimCoin=i,this.winAddcoin=0,this.winAddOnce=this.winAimCoin/n,this.winPlayOverBn=!1,0!=n?(this.bindWinLab(this.winAddcoin),this.schedule(this.winOneChange,.05,m.REPEAT_FOREVER)):this.bindWinLab(i)},l.bindWinLab=function(t){B.node.winNode.children[0].getComponent(h).string=y.exchangeToThousands(B.exchangeRate,t),this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,t),this.lblUserCoin.string=y.exchangeToThousands(B.exchangeRate,B.lotteryRes.userscore-B.lotteryRes.winscore+t)},l.winOneChange=function(){this.winAddcoin+=this.winAddOnce,this.winAddcoin>=this.winAimCoin?(this.winPlayCoinOver(),this.bindWinLab(this.winAimCoin)):this.bindWinLab(this.winAddcoin)},l.winPlayCoinOver=function(){this.unschedule(this.winOneChange),this.winPlayOverBn=!0,B.node.playAnimWinOver()},l.playBigWinCoin=function(t){B.node.unschedule(B.node.sendRoll),this.bigWinNode.active=!0,this.bigBn=!1,this.superBn=!1,this.megaBn=!1,this.aimCoin=t,this.addcoin=0,this.addOnce=this.aimCoin/100,this.playOverBn=!1,this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.addcoin),this.schedule(this.coinOneChange,.05,m.REPEAT_FOREVER),this.scheduleOnce(this.closeBigWin,8)},l.coinOneChange=function(){this.addcoin+=this.addOnce,this.addcoin>=this.aimCoin?(this.playBigWin(this.aimCoin),this.playCoinOver()):(this.playBigWin(this.addcoin),this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.addcoin))},l.playCoinOver=function(){this.unschedule(this.coinOneChange),this.playOverBn=!0,this.bigWinCoin_lab.string=y.exchangeToThousands(B.exchangeRate,this.aimCoin),this.unschedule(this.closeBigWin),this.scheduleOnce(this.closeBigWin,2)},l.playBigWin=function(t){t>=35*B.betSum&&!this.bigWinNode.children[2].active&&0==this.megaBn?(this.playAnim_MegaWin(),this.megaBn=!0):t>=15*B.betSum&&t<35*B.betSum&&!this.bigWinNode.children[1].active&&0==this.superBn?(this.playAnim_SuperWin(),this.superBn=!0):0==this.bigBn&&(this.playAnim_BigWin(-1),this.bigBn=!0)},l.onFastBigWin=function(t){this.playOverBn?this.closeBigWin():this.playCoinOver()},l.playAnim_BigWin=function(t){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!0,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!1,this.bigWinNode.children[0].getComponent(u).play()},l.playAnim_SuperWin=function(){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!0,this.bigWinNode.children[2].active=!1;try{this.bigWinNode.children[1].getComponent(u).play()}catch(t){console.log(t)}},l.playAnim_MegaWin=function(){this.bigWinNode.active=!0,this.bigWinNode.children[0].active=!1,this.bigWinNode.children[1].active=!1,this.bigWinNode.children[2].active=!0;try{this.bigWinNode.children[2].getComponent(u).play()}catch(t){console.log(t)}},l.closeBigWin=function(){this.unschedule(this.closeBigWin),this.unschedule(this.coinOneChange),this.bigWinNode.active&&(this.bigWinNode.active=!1,B.node.audio.stopbigwinmain(),this.setSpinAnim(0)),B.node.closeBigWin()},l.setSpinAnim=function(t){var i;switch(t){case 0:B.rollEnable=!0,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1,!B.auto&&this.setButtonState(!0),B.lotteryRes&&0==B.lotteryRes.winscore&&this.changeLabColor(1);break;case 1:B.rollEnable=!1,this.Btn_start.getChildByName("VFX").getComponent(u).play(),(null==(i=this.Btn_start.getChildByName("VFX"))?void 0:i.getComponent(u)).play(),this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[2],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=10,this.winCoin_lab.string=y.exchangeToThousands(B.exchangeRate,0),this.setButtonState(!1),this.changeLabColor(0);break;case 2:B.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[0],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=1;break;case 3:B.rollEnable=!1,this.spin_AnimNode.getComponent(p).spriteFrame=this.spin_Sp[1],this.spin_AnimNode.getComponent(u).getState("xuanzhuan").speed=0}},l.setButtonState=function(t){this.Btn_add.opacity=t?255:100,this.Btn_sub.opacity=t?255:100,this.Btn_auto.opacity=t?255:100,this.Btn_set.opacity=t?255:100,this.Btn_add.getComponent(C).interactable=t,this.Btn_sub.getComponent(C).interactable=t,this.Btn_auto.getComponent(C).interactable=t,this.Btn_set.getComponent(C).interactable=t},l.changeLabColor=function(t){0==t?(this.lblUserCoin.node.color=new _(255,255,255),this.lblCurBet.node.color=new _(255,255,255),this.winCoin_lab.node.color=new _(255,255,255)):(this.lblUserCoin.node.color=new _(123,233,246),this.lblCurBet.node.color=new _(123,233,246),this.winCoin_lab.node.color=new _(123,233,246))},l.createTipNode=function(t){var i,n,e=this;null==(i=this.tipTween)||i.stop(),null==(n=this.tipTween)||n.destroySelf(),this.tipNode.opacity=0,this.tipNode.scale=new b(1,1,1),this.tipNode.getChildByName("lab").getComponent(h).string=t,this.tipTween=g(this.tipNode).call((function(){e.tipNode.opacity=255})).to(.1,{scale:new b(1.2,1.2,1.2)}).to(.1,{scale:new b(1,1,1)}).delay(2).to(.2,{opacity:0}).start()},s(i,[{key:"btnContent",get:function(){return this._btnContent||(this._btnContent=d("btnContent",this.betting_panel)),this._btnContent}},{key:"winPlayOverBn",get:function(){return this._winPlayOverBn},set:function(t){this._winPlayOverBn=t}},{key:"playOverBn",get:function(){return this._playOverBn},set:function(t){this._playOverBn=t}}]),i}(f)).prototype,"Btn_start",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"spin_Sp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(Q.prototype,"spin_AnimNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Q.prototype,"rollClickAni",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Q.prototype,"Btn_stopAuto",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(Q.prototype,"stopRollClickAni",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Q.prototype,"Btn_free",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Q.prototype,"Btn_add",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(Q.prototype,"Btn_sub",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Q.prototype,"Btn_auto",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Q.prototype,"Btn_set",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Q.prototype,"betting_panel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(Q.prototype,"Setting_panel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(Q.prototype,"coin_panel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(Q.prototype,"lblUserCoin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(Q.prototype,"lblCurBet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(Q.prototype,"winCoin_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(Q.prototype,"bigWinCoin_lab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(Q.prototype,"stateNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(Q.prototype,"bigWinNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(Q.prototype,"tipNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(Q.prototype,"musicBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i(Q.prototype,"sp_settingControl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=i(Q.prototype,"speedBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=i(Q.prototype,"sp_speed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(Q.prototype,"sp2_speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Q))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/dragonWheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts"],(function(t){var e,o,i,n,l,s,d,r,a,h,u,c,f,R,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,s=t._decorator,d=t.tween,r=t.instantiate,a=t.Animation,h=t.TweenSystem,u=t.Component,c=t.Button,f=t.UITransform,R=t.Vec3,g=t.Layout},function(t){p=t.dragon}],execute:function(){var v,m,I,y;l._RF.push({},"15a01gfQ/RH95NfeeSeTV8b","dragonWheel",void 0);var C=s.ccclass,B=s.property,L=[[1,1,6,6,3],[1,1,7,7,7],[1,1,2,5,5]];t("dragonWheel",C("dragonWheel")((I=e((m=function(t){function e(){for(var e,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,i(e,"wheelId",I,n(e)),i(e,"excludeId",y,n(e)),e.status=0,e.nextCb=void 0,e.rolePbList=[],e.roleIdList=[],e.lastResult=[],e.isBlur=!1,e}o(e,t);var l=e.prototype;return l.onLoad=function(){p.wheelList[this.wheelId]=this,this.status=0,this.lastResult=[0,0,0],this.nextCb=null,this.rolePbList=[],this.roleIdList=[],this.isBlur=!1},l.start=function(){this.initWheel()},l.initWheel=function(){for(var t in p.isNewUser?this.lastResult=L[this.wheelId]:this.lastResult=[0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.lastResult)p.isNewUser||(this.lastResult[t]=this.getRandomId()),this.addRole(this.lastResult[t]);this.node.y=0,p.rollIndex++,p.node.closeShine()},l.startRoll=function(){for(var t=this,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];for(var n=0;n<o.length;n++)this.addRole(o[n],0);this.addRole(this.getRandomId(),0),p.slotCtrl.isSpeed&&setTimeout((function(){t.stopImmediately()}),750);var l=function(){t.addRole(t.getRandomId());var e=.68;for(var i in 1==t.wheelId&&(t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),e+=.2),2==t.wheelId&&(t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),t.addRole(t.getRandomId()),e+=.4),o)t.addRole(o[i]);t.addRole(t.getRandomId()),t.node.getComponent(g).updateLayout(),d(t.node).to(e,{y:750-t.node.size.height}).call((function(){t.isBlur=!1,t.setBlur()})).to(.3,{y:800-t.node.size.height}).call((function(){t.rollCallBack()})).start()};this.nextCb=l},l.rollLoop=function(){var t=this;this.status=1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.y=0;for(var e=0;e<this.lastResult.length;e++)this.lastResult[e]=0==this.lastResult[e]?this.getRandomId():this.lastResult[e],this.addRole(this.lastResult[e]);for(var o=0;o<14;o++)this.addRole(this.getRandomId());for(var i=0;i<this.lastResult.length;i++)this.lastResult[i]=0==this.lastResult[i]?this.getRandomId():this.lastResult[i],this.addRole(this.lastResult[i]);setTimeout((function(){t.isBlur=!0,t.setBlur();t.wheelId;p.slotCtrl.isSpeed?d(t.node).to(.16,{y:30}).call((function(){t.isBlur=!0,t.setBlur()})).to(3/4,{y:800-t.node.h}).call((function(){t.nextCb()})).start():d(t.node).delay(.1*t.wheelId).to(.16,{y:30}).call((function(){t.isBlur=!0,t.setBlur()})).to(1,{y:800-t.node.h}).call((function(){t.nextCb()})).start()}),100),this.nextCb=function(){t.node.y=0;var e=1+.2*t.wheelId;p.slotCtrl.isSpeed?d(t.node).call((function(){t.isBlur=!0,t.setBlur()})).to(1,{y:800-t.node.h}).call((function(){t.nextCb()})).start():d(t.node).call((function(){t.isBlur=!0,t.setBlur()})).to(e,{y:800-t.node.h}).call((function(){t.nextCb()})).start()}},l.getRandomId=function(){for(var t=0;0==t;)t=(t=Math.floor(Math.random()*(p.node.rolePb.length-1)+1))==this.excludeId?0:t;return t},l.addRole=function(t,e){void 0===e&&(e=void 0);var o=r(p.node.rolePb[t]);void 0!==e?(this.rolePbList.unshift(o),this.roleIdList.unshift(t)):(this.rolePbList.push(o),this.roleIdList.push(t)),this.addClickEvent(o,t),this.node.addChild(o),void 0!==e&&o.setSiblingIndex(e),this.setBlur(o)},l.rollCallBack=function(){this.isBlur=!1,this.node.children[0].opacity=0,this.node.children[4].opacity=0,this.setBlur(),p.node.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(1,4),this.status=0,p.node.stateCallBack();for(var t=0;t<p.node.effectSpinLightArr.length;t++){var e;null==(e=p.node.effectSpinLightArr[t].getComponent(a))||e.stop(),p.node.effectSpinLightArr[t].opacity=0}},l.stopImmediately=function(){var t=this;this.isBlur=!1,this.setBlur(),this.lastResult=this.roleIdList.slice(1,4),h.instance.ActionManager.removeAllActionsFromTarget(this.node),setTimeout((function(){t.node.y=800-t.node.h}),50),this.status=0,p.node.stateCallBack();for(var e=0;e<p.node.effectSpinLightArr.length;e++){var o;null==(o=p.node.effectSpinLightArr[e].getComponent(a))||o.stop(),p.node.effectSpinLightArr[e].opacity=0}},l.addClickEvent=function(t,e){var o=new u.EventHandler;o.target=this.node,o.component="dragonWheel",o.handler="roleClick",o.customEventData=e,t.getComponent(c).clickEvents.push(o)},l.roleClick=function(t,e){var o=r(p.node.detailPb),i=t.target.getComponent(f),n=i.convertToWorldSpaceAR(new R(0,0,0)),l=(i=p.node.getComponent(f)).convertToNodeSpaceAR(n);o.position=l,o.x-=30;var s=o.x<10;o.getComponent("dragonDetail").init(e,s),p.node.node.addChild(o),p.node.deskMask.active=!0},l.setBlur=function(t){var e=this;return void 0===t&&(t=void 0),function(t){if(t)e.setNodeBlur(t);else for(var o in e.rolePbList){t=e.rolePbList[o];e.setNodeBlur(t)}}(t)},l.setNodeBlur=function(t){this.isBlur?(t.children[0].active=!1,t.children[1].active=!0):(t.children[0].active=!0,t.children[1].active=!1)},e}(u)).prototype,"wheelId",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(m.prototype,"excludeId",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=m))||v);l._RF.pop()}}}));

System.register("chunks:///_virtual/lastmoneyPanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts","./Num.ts"],(function(e){var t,n,i,o,a,l,s,r,c,h,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,r=e.Label,c=e.tween,h=e.Component},function(e){p=e.dragon},function(e){u=e.Num}],execute:function(){var d,y,f,v,P,m,b;a._RF.push({},"e8250ee9MlDEa9Ipzpqax7Y","lastmoneyPanel",void 0);var g=l.ccclass,w=l.property;e("lastmoneyPanel",(d=g("lastmoneyPanel"),y=w({type:s,tooltip:""}),f=w({type:r,tooltip:""}),d((m=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",m,o(t)),i(t,"lblUserCoin",b,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){p.lastmoneyPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.update=function(e){this.lblUserCoin.string=u.exchangeToThousands(p.exchangeRate,p.money)},a.showPanel=function(){var e=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.showPos=this.panel.h/2,this.hidePos=-this.panel.h/2,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(P.prototype,"lblUserCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/module_slots_dragon",["./SlotsDragonGameMgr.ts","./SlotsDragonLobbyScene.ts","./autoPanel.ts","./betNum2.ts","./betPanel2.ts","./cDragon.ts","./dataChange.ts","./discoNum.ts","./discoRoll.ts","./dragonAudio.ts","./dragonDetail.ts","./dragonMain.ts","./dragonSlotCtrl.ts","./dragonWheel.ts","./lastmoneyPanel2.ts","./payPanel2.ts","./rulePanel2.ts","./topRoll.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/payPanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts"],(function(t){var e,n,i,o,a,s,r,l,c,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,l=t.Widget,c=t.tween,h=t.Component},function(t){p=t.dragon}],execute:function(){var d,u,y,f,v;a._RF.push({},"486c6PrneVJl5nraE9tI90O","payPanel",void 0);var P=s.ccclass,g=s.property;t("payPanel",(d=P("payPanel"),u=g({type:r,tooltip:""}),d((v=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"panel",v,o(e)),e.showPos=void 0,e.hidePos=void 0,e}n(e,t);var a=e.prototype;return a.init=function(){p.payPanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var t=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var e=this.panel.getComponentsInChildren(l),n=0;n<e.length;n++)e[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(t.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var t=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){t.node.parent.children[0].active=!1,t.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},e}(h)).prototype,"panel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/rulePanel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cDragon.ts"],(function(e){var t,n,i,o,a,l,r,s,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Node,s=e.Widget,c=e.tween,h=e.Component},function(e){p=e.dragon}],execute:function(){var u,d,f,v,y;a._RF.push({},"3a9e9SlYwZKsZRaJumIzJ4L","rulePanel",void 0);var P=l.ccclass,g=l.property;e("rulePanel",(u=P("rulePanel"),d=g({type:r,tooltip:""}),u((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"panel",y,o(t)),t.showPos=void 0,t.hidePos=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){p.rulePanel=this,this.node.parent.children[0].active=!1,this.node.active=!1},a.start=function(){this.init()},a.showPanel=function(){var e=this;p.node.audio.playclickopen(),this.node.parent.children[0].active=!0,this.node.active=!0,this.panel.w=this.node.w,this.panel.h=this.node.h;for(var t=this.panel.getComponentsInChildren(s),n=0;n<t.length;n++)t[n].updateAlignment();this.showPos=0,this.hidePos=-this.panel.h,this.panel.y=this.hidePos,c(this.panel).to(.2,{y:this.showPos}).start(),c(this.node).delay(.2).call((function(){c(e.panel.children[0]).to(.2,{opacity:255}).start()})).start()},a.hidePanel=function(){var e=this;c(this.panel).to(.2,{y:this.hidePos}).call((function(){e.node.parent.children[0].active=!1,e.node.active=!1})).start()},a.onClose=function(){p.node.audio.playclickclose(),this.hidePanel()},t}(h)).prototype,"panel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsDragonGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts","./RoomMgr.ts","./ModuleDef.ts","./ResourceMgr.ts","./Logger.ts"],(function(n){var e,t,r,o,s,i,a,u,c,f,g,m,d,l;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,r=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){s=n.cclegacy,i=n._decorator,a=n.Prefab},function(n){u=n.GameMgr},function(n){c=n.SubGameMgr},function(n){f=n.SubGameDef},function(n){g=n.RoomMgr},function(n){m=n.ModuleDef},function(n){d=n.ResourceMgr},function(n){l=n.Logger}],execute:function(){var h,p;s._RF.push({},"97497WF70VEAJcQHQT0yoUd","SlotsDragonGameMgr",void 0);var M=i.ccclass,_=(i.property,n("SlotsDragonGameMgr",M("SlotsDragonGameMgr")(((p=function(n){function s(){var e;return(e=n.call(this)||this).totalNum=2,e.nowIndex=0,e._porcessFun=void 0,e.modName=m.SLOTS_DRAGON,e.mainName="dragonMain",e._gameType=f.SLOTS_DRAGON,e._loadingScene={name:"subgame_loading",bundle:m.BASIC},e._gameScene={name:"game_slots_dragon",bundle:m.SLOTS_DRAGON},e.initNetMsgHandlers(),e}e(s,n);var i=s.prototype;return i.initNetMsgHandlers=function(){},i.initSoloMode=function(){g.inst.reset(),this.reset(),c.gameMgr=this},i.preLoadRes=function(){var n=r(o().mark((function n(e){var t=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){return t.preLoad((function(){n(!0)}),e),!0})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i.preLoad=function(){var n=r(o().mark((function n(e,t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.nowIndex=0,this._porcessFun=t,t&&t(this.nowIndex/this.totalNum),n.next=5,this.preLoadMain();case 5:return this.finishOneItemLoad(),n.next=8,this.preLoadLanguage();case 8:this.finishOneItemLoad(),e();case 10:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),i.preLoadMain=function(){var n=this;return new Promise((function(e,t){var r="prefab/"+n.mainName;d.inst.loadResByModuleBundle(n.modName,r,a,(function(t,o){t?l.error("载入Prefab失败, 原因:"+r):o instanceof a?e():l.error(n,"你载入的不是Prefab, 你做了什么事?")}))}))},i.preLoadLanguage=function(){return new Promise((function(n,e){n()}))},i.finishOneItemLoad=function(){this.nowIndex++,this._porcessFun&&this._porcessFun(this.nowIndex/this.totalNum,Math.floor(this.nowIndex/this.totalNum*100)+"%")},t(s,null,[{key:"inst",get:function(){return this._inst||(this._inst=new s),this._inst}}]),s}(u))._inst=void 0,h=p))||h));c.inst.registerGameMgr(_.inst),s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotsDragonLobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserMgr.ts","./SceneDef.ts","./UIAnnouncement.ts","./SlotsDragonGameMgr.ts","./SubGameMgr.ts","./SubGameDef.ts"],(function(n){var e,t,o,r,i,a,c,s,u,l,f,p,g,S,b,m;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,u=n.Node,l=n.Component},function(n){f=n.UserMgr},function(n){p=n.SceneDef},function(n){g=n.UIAnnouncement},function(n){S=n.SlotsDragonGameMgr},function(n){b=n.SubGameMgr},function(n){m=n.SubGameDef}],execute:function(){var y,D,d,h,M;c._RF.push({},"976f3+CRU5FPaybKr0jgp/Y","SlotsDragonLobbyScene",void 0);var v=s.ccclass,U=s.property;n("SlotsDragonLobbyScene",(y=v("SlotsDragonLobbyScene"),D=U(u),y((M=e((h=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i))||this,o(e,"announcementPlacer",M,r(e)),e}t(e,n);var c=e.prototype;return c.start=function(){var n=i(a().mark((function n(){var e=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f.inst.uid){n.next=3;break}return tgx.SceneUtil.loadScene(p.START),n.abrupt("return");case 3:tgx.UIMgr.inst.closeAll(),tgx.UIMgr.inst.showUI(g,(function(n){n.setPosition(e.announcementPlacer.position.x,e.announcementPlacer.position.y)}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c.update=function(n){},c.onBtnSoloModeClicked=function(){S.inst.initSoloMode(),b.inst.CreateRoom(m.SLOTS_DRAGON,!0)},e}(l)).prototype,"announcementPlacer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/topRoll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./discoNum.ts","./cDragon.ts"],(function(t){var e,i,n,o,r,l,s,h,a,c,d,u,p,m,f,g,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,s=t._decorator,h=t.Prefab,a=t.Node,c=t.Vec3,d=t.Tween,u=t.Layout,p=t.tween,m=t.instantiate,f=t.Component},function(t){g=t.discoNum},function(t){y=t.dragon}],execute:function(){var v,N,A,b,w,R,C,x,B;l._RF.push({},"123e1MuX8lAzoe2hHG/RNYU","topRoll",void 0);var k=s.ccclass,E=s.property;t("topRoll",(v=k("topRoll"),N=E({type:h,tooltip:"数字皮肤"}),A=E({type:a,tooltip:"光效"}),b=E({type:a,tooltip:"黑色半透明"}),v((C=e((R=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"pb",C,o(e)),n(e,"lightEffect",x,o(e)),n(e,"black",B,o(e)),e.rollTime=1,e.radomNum=10,e.startX=-230,e.showRange=206,e.aimDis=125,e.rollBn=!1,e.aimNumArr=[],e.flyNumArr=[],e.pool=[],e._isSpeed=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){},l.start=function(){this.startX=this.node.x,this.rollBn=!1,this.black.active=!1},l.showBn=function(t){var e=!1,i=t.parent,n=new c(t.position.x+i.position.x,t.position.y+i.position.y),o=n.x-t.w/2,r=n.x+t.w/2;return o<this.showRange&&r>-this.showRange&&(e=!0),e},l.startRoll=function(){this.rollBn=!0,this.black.active=!1,this.rollLoop()},l.endRoll=function(t){void 0===t&&(t=[]),this.aimNumArr=t||[],d.stopAllByTarget(this.node),this.rollEnd()},l.radomAdd=function(){this.updateRecycle(!0);var t=this.radomNum-this.node.children.length;this.create(t),this.node.getComponent(u).updateLayout()},l.updateRecycle=function(t){void 0===t&&(t=!1);for(var e=this.node.children.length-1;e>=0;e--){var i=this.node.children[e];this.showBn(i)||t&&this.recycle(i)}},l.rollLoop=function(){var t=this;this.radomAdd(),this.node.x=this.startX;var e=this.rollTime;p(this.node).to(e,{x:this.startX-this.node.w+230}).call((function(){t.rollLoop()})).start()},l.rollEnd=function(){var t=this;this.radomAdd();var e=0;if(3==this.aimNumArr.length)e=this.startX-this.node.w+3*this.aimDis+10,this.node.children[this.node.children.length-1].getComponent(g).num=this.aimNumArr[2],this.node.children[this.node.children.length-2].getComponent(g).num=this.aimNumArr[1],this.node.children[this.node.children.length-3].getComponent(g).num=this.aimNumArr[0],this.flyNumArr=[this.node.children[this.node.children.length-3],this.node.children[this.node.children.length-2],this.node.children[this.node.children.length-1]];else{if(2!=this.aimNumArr.length)return void console.log("aimNumArr Error");e=this.startX-this.node.w+460,this.node.children[this.node.children.length-2].getComponent(g).num=this.aimNumArr[1],this.node.children[this.node.children.length-3].getComponent(g).num=this.aimNumArr[0],this.flyNumArr=[this.node.children[this.node.children.length-3],this.node.children[this.node.children.length-2]]}this.node.x=this.startX;var i=this.rollTime;p(this.node).to(i,{x:e}).call((function(){t.endComplete()})).start()},l.endComplete=function(){this.rollBn=!1,this.black.active=!0,this.lightEffect.active=!0,this.lightEffect.opacity=255,p(this.lightEffect).delay(.5).to(.3,{opacity:0}).start(),y.node.topNumFly(this.flyNumArr,this.pb);for(var t=0;t<this.flyNumArr.length;t++){var e=this.flyNumArr[t];p(e).to(.3,{y:e.y+20,scale:new c(.8,.8)}).delay(.2+.1*t).to(.2,{y:e.y,scale:new c(.7,.7)}).start()}},l.aimBack=function(){var t=this.node.children[this.node.children.length-1];t&&(t.opacity=255)},l.create=function(t){for(var e=0;e<t;e++)this.createOne()},l.createOne=function(){var t=this.itemFactory().getComponent(g);t.node.scale=new c(.7,.7),t.radomNum(),this.node.addChild(t.node)},l.itemFactory=function(){return this.pool.length>0?this.pool.shift():m(this.pb)},l.recycle=function(t){t.parent=null,this.pool.push(t)},r(e,[{key:"isSpeed",get:function(){return this._isSpeed},set:function(t){this._isSpeed=t,this.isSpeed?this.radomNum=5:this.radomNum=10}}]),e}(f)).prototype,"pb",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"lightEffect",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"black",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_dragon', 'chunks:///_virtual/module_slots_dragon'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});