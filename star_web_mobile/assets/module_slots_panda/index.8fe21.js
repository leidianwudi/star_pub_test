System.register("chunks:///_virtual/module_slots_panda",["./PandaAuto.ts","./PandaBigWinPop.ts","./PandaTipsPop.ts","./PandaWinIcon.ts","./PandaAnimation.ts","./PandaGameLogic.ts","./PandaMainControl.ts","./SlotPandaGameMgr.ts","./PandaGameData.ts","./PandaGameEvent.ts","./PandaGameRes.ts","./PandaInterface.ts","./PandaGameMainView.ts","./PandaGameMiniGame.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PandaAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaInterface.ts","./PandaGameMainView.ts"],(function(n){var t,e,a,i,s,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator,i=n.sp,s=n.Component},function(n){o=n.EPandaAni},function(n){c=n.PandaGameMainView}],execute:function(){var r;e._RF.push({},"9a321QIvgBKfbs6LNZMy1vj","PandaAnimation",void 0);var l=a.ccclass;a.property,n("PandaAnimation",l("PandaAnimation")(r=function(n){function e(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this)._ske=void 0,t._callback=void 0,t.aniSate=0,t}t(e,n);var a=e.prototype;return a.start=function(){var n=this;this._ske=this.getComponent(i.Skeleton),this._ske.setCompleteListener((function(){n._callback&&(n._callback(),n._callback=null)}))},a.play=function(n,t,e){var a=this;void 0===t&&(t=!1),this.aniSate=n,this._ske.paused=!0,this.scheduleOnce((function(){a._ske.skeletonData=c.ins.anis[n],n!=o.Drowsy&&(a._ske.node.active=!0,a._ske.paused=!1,a._ske.setAnimation(0,"animation",t))}),.005),e&&(this._callback=e)},a.playDrowsy=function(n,t){var e=this;void 0===t&&(t=!1),this._ske.node.active=!0,this.scheduleOnce((function(){e._ske.paused=!1,e._ske.setAnimation(0,n.toString(),t)}),.005)},a.playMiniGold=function(n,t){var e=this;void 0===t&&(t=!1),this._ske.node.active=!0,this.scheduleOnce((function(){e._ske.paused=!1,e._ske.setAnimation(0,n.toString(),t)}),.005)},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PandaAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameData.ts","./PandaGameLogic.ts"],(function(e){var t,n,i,o,r,a,l,d,u,c,s,p,g,h,b,f,m,w,L,S,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,d=e.Node,u=e.ToggleContainer,c=e.Slider,s=e.Label,p=e.Widget,g=e.Vec3,h=e.UITransform,b=e.color,f=e.UIOpacity,m=e.tween,w=e.Toggle,L=e.find,S=e.Component},function(e){y=e.PandaGameData},function(e){v=e.PandaGameLogic}],execute:function(){var C,B,z,_,P,R,A,k,D,E,O,x,F,Z,G,I,M,T,U,W,H,N,j,q,V,J,K,Q;a._RF.push({},"396fdWR1dZPDZ9wq/OrPfUt","PandaAuto",void 0);var X=l.ccclass,Y=l.property,$=y.data;e("PandaAuto",(C=X("PandaAuto"),B=Y(d),z=Y(u),_=Y(c),P=Y(d),R=Y(s),A=Y(c),k=Y(d),D=Y(s),E=Y(c),O=Y(d),x=Y(s),F=Y(d),C(((Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"content",I,o(t)),i(t,"toggleRound",M,o(t)),i(t,"reduceSlider",T,o(t)),i(t,"reduceproBar",U,o(t)),i(t,"reduceLabel",W,o(t)),i(t,"addSlider",H,o(t)),i(t,"addproBar",N,o(t)),i(t,"addLabel",j,o(t)),i(t,"winSlider",q,o(t)),i(t,"winproBar",V,o(t)),i(t,"winLabel",J,o(t)),i(t,"mainLogic",K,o(t)),t._mainLogic=void 0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){if(t._instance)this.node.destroy();else{this._mainLogic=this.mainLogic.getComponent(v),t._instance=this;var e=this.node.getComponent(p);e.left=0,e.right=0,this.node.position=g.ZERO,this.node.active=!1}},a.showPanel=function(){this.node.active=!0,this.reduceSlider.progress=0,this.addSlider.progress=0,this.winSlider.progress=0,this.reduceproBar.getComponent(h).width=0,this.addproBar.getComponent(h).width=0,this.winproBar.getComponent(h).width=0,this.reduceLabel.color=this.addLabel.color=this.winLabel.color=b(108,141,97),$.reduceLabel=0,$.addLabel=0,$.winLabel=0,this.node.scale=g.ZERO,this.node.getComponent(f).opacity=0,m(this.node).removeSelf(),m(this.node).to(.25,{scale:g.ONE}).start(),m(this.node.getComponent(f)).to(.25,{opacity:255}).start(),this.AutoEnable()},a.AutoEnable=function(){for(var e=0;e<this.toggleRound.node.children.length;e++){var t=this.toggleRound.node.children[e];0===e&&(t.getComponent(w).isChecked=!0),t.name=e.toString(),$.autoCountIndex=0,L("Background/Label",t).getComponent(s).string=$.autoArr[e].toString(),L("Checkmark/Label",t).getComponent(s).string=$.autoArr[e].toString()}},a.onSelectRound=function(e){},a.onBtnConfirm=function(){this.onBtnClose(),this._mainLogic.startAuto()},a.reduce_Label=function(e){var t=this.reduceSlider.progress,n=(Math.floor(5*t)+5).toFixed(0);this.reduceLabel.string="0"==n?"5":n,this.reduceLabel.color=b(228,215,19)},a.add_labbel=function(e){var t=this.addSlider.progress,n=(Math.floor(4900*t)+100).toFixed(0);this.addLabel.string="0"==n?"100":n,this.addLabel.color=b(228,215,19)},a.win_label=function(e){var t=this.winSlider.progress,n=(Math.floor(490*t)+10).toFixed(0);this.winLabel.string="0"==n?"10":n,this.winLabel.color=b(228,215,19)},a.onReduceSlider=function(){var e=this.reduceSlider.progress;this.reduceproBar.getComponent(h).width=1e3*e},a.onAddSlider=function(){var e=this.addSlider.progress;this.addproBar.getComponent(h).width=1e3*e},a.onWinSlider=function(){var e=this.winSlider.progress;this.winproBar.getComponent(h).width=1e3*e},a.onHide=function(){this.node.active=!1},a.onBtnClose=function(){var e=this;m(this.node).removeSelf(),m(this.node).to(.25,{scale:g.ZERO}).call((function(){e.node.active=!1})).start(),m(this.node.getComponent(f)).removeSelf(),m(this.node.getComponent(f)).to(.25,{opacity:0}).start()},r(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(S))._instance=null,I=t((G=Q).prototype,"content",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(G.prototype,"toggleRound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(G.prototype,"reduceSlider",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"reduceproBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"reduceLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"addSlider",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(G.prototype,"addproBar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"addLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(G.prototype,"winSlider",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(G.prototype,"winproBar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"winLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"mainLogic",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=G))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/PandaBigWinPop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameData.ts","./PandaGameEvent.ts","./Num.ts","./AudioMgr.ts","./PandaGameRes.ts","./ModuleDef.ts"],(function(i){var n,e,t,a,o,r,c,s,u,l,p,d,f,h,g,b,m,v,A,y;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Label,s=i.sp,u=i.ParticleSystem,l=i.Input,p=i.director,d=i.UIOpacity,f=i.tween,h=i.Component},function(i){g=i.PandaGameData},function(i){b=i.default},function(i){m=i.Num},function(i){v=i.AudioMgr},function(i){A=i.default},function(i){y=i.ModuleDef}],execute:function(){var D,k,G,P,W,E,S,C,w,T,O,H,z;o._RF.push({},"b4984LdjklHx6EUs259EmbO","PandaBigWinPop",void 0);var x=r.ccclass,B=r.property,_=g.data;i("PandaBigWinPop",(D=x("PandaBigWinPop"),k=B(c),G=B(s.Skeleton),P=B(s.SkeletonData),W=B(u),E=B(s.Skeleton),D((w=n((C=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,t(n,"winScoreTxt",w,a(n)),t(n,"pandaAni",T,a(n)),t(n,"aniDataGroup",O,a(n)),t(n,"bigWinEffGroup",H,a(n)),t(n,"goldAni",z,a(n)),n.isClick=!1,n.isClickHide=!1,n}e(n,i);var o=n.prototype;return o.start=function(){var i=this,n=!1;g.setNodesByComponent(this.node),this.node.on(l.EventType.TOUCH_START,(function(){var e=_.gameData.mini?_.gameData.mini.winScore:_.gameData.main.winScore;if(i.isClick&&n&&!i.isClickHide)i.isClickHide=!0,p.emit(b.event.bigWinPopHide,0);else if(!i.isClick){n=!1,i.pandaAni.paused=!0,p.emit(b.event.stopAudio),i.scheduleOnce((function(){var n=e/_.gameData.betScore,t=0;t=n>=100?2:n>=20?1:0,i.pandaAni.skeletonData=i.aniDataGroup[t],i.playAni(t,!0),p.emit(b.event.bigWinPopHide,3),i.isClick=!0}),.001),i.winScoreTxt.string=m.exchangeToThousands(1,e);i.scheduleOnce((function(){n=!0}),.7)}}))},o.playAni=function(i,n){var e=this;void 0===n&&(n=!1),this.isClick||(this.goldAni.node.active=!0,!n&&v.inst.playOneShot(A.res["bigWin"+(i+1)],1,y.SLOTS_PANDA),this&&this.node&&(this.node.active=!0),this.pandaAni.paused=!1,this.pandaAni.skeletonData=this.aniDataGroup[i],this.bigWinEffGroup.forEach((function(i){i&&i.node&&(i.node.active=!1)})),this.bigWinEffGroup[i]&&this.bigWinEffGroup[i].node&&(this.bigWinEffGroup[i].node.active=!0),this.bigWinEffGroup[i].stop(),this.bigWinEffGroup[i].play(),this.scheduleOnce((function(){i||e.isClick||e.goldAni.setAnimation(0,"animation",!1),e.pandaAni&&e.pandaAni.node&&(e.pandaAni.node.active=!0),e.pandaAni.setAnimation(0,"animation",!0)}),.001))},o.hide=function(){var i=this;this.scheduleOnce((function(){var n=i.node.getComponent(d);p.emit(b.event.stopAudio),i.goldAni.node.active=!1,n.opacity=255,f(n).to(.2,{opacity:0}).call((function(){i.pandaAni.paused=!0,i.node.active&&(i.node.active=!1,i.bigWinEffGroup.forEach((function(i){i&&i.node&&(i.node.active=!1)})))})).start()}),.01)},o.resetData=function(){this.pandaAni.skeletonData=this.aniDataGroup[0],this.isClick=!1},n}(h)).prototype,"winScoreTxt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(C.prototype,"pandaAni",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(C.prototype,"aniDataGroup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(C.prototype,"bigWinEffGroup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(C.prototype,"goldAni",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameData.ts",["cc","./Num.ts"],(function(e){var n,t,o,a;return{setters:[function(e){n=e.cclegacy,t=e.Vec3,o=e.ParticleSystem},function(e){a=e.Num}],execute:function(){n._RF.push({},"d978dZUUuJMZ4mwVObrZneq","PandaGameData",void 0);var i={wild:201,shoots:101,plants:102,box:103,ring:104,bamboo:105,panda:106},l={1:[0,0,0],2:[1,1,1],3:[2,2,2],4:[3,2,3],5:[0,1,0],6:[1,2,1],7:[2,3,2],8:[3,3,3],9:[1,0,1],10:[2,1,2]},s=e("PandaGameData",function(){function e(){}return e.setNodesByComponent=function(e,n,a){var i=this;void 0===n&&(n=90),void 0===a&&(a=new t(.75,.75,.75));var l=e.getComponent(o);l&&(l.node.scale=a.clone().multiply(l.node.scale.clone())),e.children.forEach((function(e){return i.setNodesByComponent(e,n,a)}))},e.conver=function(e,n){var t={betScore:0,code:200,main:{colums:[],hitType:0,isAllSame:0,lines:[],winScore:0,wheelIndex:[]},mini:{winScore:0,list:[],elementId:0,multiple:0}};if(e.isSucc){t.code=200,t.betScore=n;for(var o=e.res.results[0],s=0;s<3;s++){t.main.colums.push({elementId:[]});for(var r=0;r<4;r++)t.main.colums[s].elementId.push(0)}for(var u=o.symbols.length-1;u>=0;u--)"null"!==o.symbols[u].id&&(t.main.colums[o.symbols[u].coordinate.reel-1].elementId[4-o.symbols[u].coordinate.row]=i[o.symbols[u].id]);if(o.paylines.length>0){t.main.hitType=1;for(var c=0;c<o.paylines.length;c++){var m=o.paylines[c],d=parseInt(m.id),p=a.toThousandsBack(m.payout);t.main.lines.push({lineNo:d,lineScore:p,line:l[d]})}}o.bigEvents?(t.mini.list.push(t.main),t.main=null,t.mini.multiple=o.roulette?o.roulette.multiple:0,t.mini.winScore=a.toThousandsBack(o.payout)):t.mini=null}else t.code=500;return t},e}());s.data={sceneData:null,gameData:null,autoArr:[10,30,50,100,1e3],autoCountIndex:0,leftAutoCount:0,reduceLabel:0,addLabel:0,winLabel:0},s.cacheName={betScore:"_betScore"},n._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameEvent.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"4ecefsib/xMMqLKlWEWdH4B","PandaGameEvent",void 0);e("default",(function(){})).event={scene:"slot_panda_game_scene",init:"init",start:"startgame",bigWinPopHide:"bigWinPopHide",exitMiniGame:"exitMiniGame",enterMiniGame:"enterMiniGame",stopAudio:"stopAudio"},i._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameMainView.ts","./PandaGameEvent.ts","./PandaInterface.ts","./PandaGameData.ts","./PandaWinIcon.ts","./PandaGameRes.ts","./PandaAuto.ts","./BaseSlot.ts","./Num.ts","./UserMgr.ts","./GameUtil.ts","./SubGameDef.ts","./SlotShowPanelMgr.ts","./ModuleDef.ts","./AudioMgr.ts","./NetGameServer.ts","./PandaMainControl.ts"],(function(i){var e,n,t,a,o,s,r,c,l,h,m,u,d,p,_,f,w,g,b,v,S,V,A,y,I,P,G,T,O,x,D,L,C,M,N,W,E,k,B,R,F,z,H,U;return{setters:[function(i){e=i.inheritsLoose,n=i.asyncToGenerator,t=i.regeneratorRuntime},function(i){a=i.cclegacy,o=i._decorator,s=i.Label,r=i.NodeEventType,c=i.director,l=i.instantiate,h=i.v3,m=i.UITransform,u=i.randomRangeInt,d=i.tween,p=i.UIOpacity,_=i.view,f=i.Input,w=i.Sprite,g=i.ParticleSystem,b=i.sp,v=i.color,S=i.Vec3,V=i.v2,A=i.Component,y=i.Button},function(i){I=i.PandaGameMainView},function(i){P=i.default},function(i){G=i.EPandaAni},function(i){T=i.PandaGameData},function(i){O=i.PandaWinIcon},function(i){x=i.default},function(i){D=i.PandaAuto},function(i){L=i.SlotStopType,C=i.SlotEaseType},function(i){M=i.Num},function(i){N=i.UserMgr},function(i){W=i.GameUtil},function(i){E=i.SubGameDef},function(i){k=i.showSlotAutoPenel,B=i.showSlotBetPanel,R=i.showSlotLastMoneyPenel},function(i){F=i.ModuleDef},function(i){z=i.AudioMgr},function(i){H=i.gameNet},function(i){U=i.PandaMainControl}],execute:function(){var j;a._RF.push({},"81151fLQW5HUZwV1QxAst76","PandaGameLogic",void 0);var K=o.ccclass,Q=P.event,X=T.data,Z=[[0,1],[0,2],[0,4],[1,1],[2,1],[1,3],[1,5],[3,4],[4,2],[6,1],[6,4],[6,10]];i("PandaGameLogic",K("PandaGameLogic")(j=function(i){function a(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=i.call.apply(i,[this].concat(t))||this)._mainView=void 0,e.betIndex=0,e.isAuto=!1,e.timeScale=1,e.isFast=!1,e.betLength=1,e._isStart=!1,e.betScore=0,e._betLevel=1,e._gearValueArr=[],e._miniIndex=0,e._clickIconTimer=void 0,e._totalLose=0,e._totalWin=0,e._singleWin=0,e._lineStep=void 0,e._isFakeMini=!1,e._isFirstPlayLine=!0,e._beforeIsMainGame=!0,e._lookSoundIndex=0,e._isInit=!1,e._playedAmazed=!1,e._isFirstInit=!0,e._isEnterMini=!1,e.bgmCurrentTime=0,e._startSpinId=-1,e._bigWinRollId=-1,e._removeWinIcon=void 0,e}e(a,i);var o=a.prototype;return o.start=function(){var i=this;this._mainView=this.node.getComponent(I);this._mainView.centerRollGroup.setup(["101","102","103","104","105","106","201"]),this._mainView.winTxt.string="0.00",this._mainView.tipsPop.playTipsTxt(),this.scheduleOnce((function(){i._mainView.tipsPop.playTipsTxt()}),10),this.scheduleOnce((function(){i.randomPandaAni()}),5),this.scheduleOnce((function(){i.playPandaDrowsy()}),13),this._mainView.winLineGroup.active=!1,this._mainView.winIconGroup.active=!1,this._mainView.missWildIconGroup.active=!1,this.playMiniGameCoinAni(),this.initBottomPos(),this.onEvent(),z.inst.playOneShot(x.res.opening,1,F.SLOTS_PANDA),this._mainView.bottomNode.active=!1,console.log("音乐继续播放时间",this.bgmCurrentTime),z.inst.play(x.res.mainGameBGM,1,F.SLOTS_PANDA),this.betLength=Z.length,U.startGame(),T.setNodesByComponent(this.node,this.node.parent.angle,this.node.scale.clone())},o.onEvent=function(){var i=this,e=this._mainView.clickIconPop,n=this._mainView.clickIconMask,t=e.getChildByName("price"),a=t.getComponent(s);e.on(r.TOUCH_END,(function(){i.unschedule(i._clickIconTimer),n.active=!1,e.active=!1,e.children.forEach((function(i){"clickIcon"==i.name&&(i.removeFromParent(),i=null)}))})),c.on(Q.init,this.init,this),c.on(Q.exitMiniGame,this.exitMiniGame,this),c.on("reconnectToGame",this.reconnect,this),this._mainView.centerRollGroup.node.children.forEach((function(o,s){o.children.forEach((function(n){n.on("click",(function(o){if(!(o.column>3)){e.children.forEach((function(i){"clickIcon"==i.name&&(i.removeFromParent(),i=null)}));var s=l(i._mainView.winIcon);s.parent=e,s.scale=h(.7,.7,1),s.position=h(237.5,252),s.name="clickIcon";var r=s.getComponent(O),c=X.sceneData.elementOdd[Number(o.sprite.spriteFrame.name)];i.unschedule(i._clickIconTimer),e.active=!0,i._mainView.clickIconMask.active=!0;i.node.getComponent(m);var u=n.worldPosition.clone(),d=o.layer;t.position=h(2!=d?113.357:-113.357),s.position=h(2!=d?-113.357:113.357),a.string=c,r.setSpData(Number(o.sprite.spriteFrame.name)),r.playClickIcon(),e.worldPosition=h(2!=d?u.x+20:u.x-20,u.y),i.scheduleOnce(i._clickIconTimer,3)}}))})),i._clickIconTimer=function(){n.active=!1,e.active=!1,e.children.forEach((function(i){"clickIcon"==i.name&&(i.removeFromParent(),i=null)}))}})),c.on(P.event.bigWinPopHide,this.bigWinPopHide,this),c.on(P.event.enterMiniGame,this.enterMiniGameListener,this),c.on(P.event.stopAudio,this.stopAudio,this)},o.onDestroy=function(){c.off(Q.init,this.init,this),c.off(Q.exitMiniGame,this.exitMiniGame,this),c.off("reconnectToGame",this.reconnect,this),c.off(P.event.bigWinPopHide,this.bigWinPopHide,this),c.off(P.event.enterMiniGame,this.enterMiniGameListener,this),c.off(P.event.stopAudio,this.stopAudio,this)},o.init=function(i){if(this._mainView.updateBalanceTxt(),this._isInit=!0,this.isFast?(this._mainView.centerRollGroup.stopType=L.立即停止,this._mainView.centerRollGroup.easingIn=C.Linear,this._mainView.centerRollGroup.easingOut=C.Linear):(this._mainView.centerRollGroup.stopType=L.立即陆续,this._mainView.centerRollGroup.easingIn=C.Back,this._mainView.centerRollGroup.easingOut=C.Elastic),this._miniIndex=0,this._isStart=!1,this._mainView.iconResistMask.active=!1,this._mainView.miniMask.active=!1,this._mainView.miniGameGuangzhu.active=!1,this._mainView.miniGameTitle.active=!1,this._mainView.touchPlayLoopEff.node.active=!1,this._mainView.touchPlayEff.node.active=!1,this._mainView.clickIconMask.active=!1,this._mainView.clickIconPop.active=!1,this._mainView.btnPlay.interactable=!0,this._mainView.btnAuto.interactable=!0,this._isFakeMini=!1,i&&this._isFirstInit){this._mainView.bottomNode.active=!0,this._mainView.updateBetTxt(X.sceneData.betScore[this.betIndex]),this._gearValueArr=[],this.betScore=X.sceneData.betScore[0]*X.sceneData.lineCount,this._mainView.betTxt.string=M.exchangeToThousands(1,X.sceneData.betScore[0]),this._gearValueArr=W.GetBetRange();var e=localStorage.getItem(E.SLOTS_PANDA+T.cacheName.betScore);this.betScore=e?Number(e):this._gearValueArr[0],this.betIndex=this._gearValueArr.indexOf(this.betScore),this._mainView.betTxt.string=M.exchangeToThousands(1,this._gearValueArr[this.betIndex]),this.updateBetGear(),this._mainView.centerRollGroup.setWheels(X.sceneData.mainWheel.map((function(i){return i.lineWheel})),0)}this._isFirstInit=!1},o.reconnect=function(){this._isInit=!0,this._mainView.btnPlay.interactable=!0,localStorage.setItem("autoCount",X.leftAutoCount.toString());var i=Number(localStorage.getItem("autoCount"));X.leftAutoCount=Number(i),X.leftAutoCount>0&&!this._isEnterMini?(this._mainView.bigWinPop.node.active&&c.emit(P.event.bigWinPopHide),this.updateLabelAutoCount()):(D.instance.onHide(),this._mainView.tweenRotateStand())},o.bigWinPopHide=function(i){var e=this;this.unscheduleAllCallbacks(),this.scheduleOnce((function(){e._mainView.bigWinPop.hide(),console.log("音乐继续播放时间",e.bgmCurrentTime),z.inst.play(x.res.mainGameBGM,1,F.SLOTS_PANDA),e.zoomBgGroup(0,1),e.isAuto?e.scheduleOnce((function(){e.updateLabelAutoCount()}),.5):e.gameOver()}),i)},o.enterMiniGameListener=function(){this._mainView.enterMiniGamePop.getChildByName("btnOK").active=!1},o.stopAudio=function(){-1!=this._bigWinRollId&&(z.inst.stopOneShot(this._bigWinRollId,x.res.bigWinRollNumber,F.SLOTS_PANDA),this._bigWinRollId=-1)},o.initBottomPos=function(){},o.touchPlay=function(){var i=n(t().mark((function i(){var e,n,a,o,s=this;return t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._isInit){i.next=2;break}return i.abrupt("return");case 2:return e={betScore:this.betScore/X.sceneData.lineCount/this._betLevel,betLevel:this._betLevel},this.unscheduleAllCallbacks(),this.stopLineStep(),this._mainView.missWildIconGroup.removeAllChildren(),this._mainView.centerRollGroup.rollVirtually(),this._mainView.btnPlay.interactable=!1,N.inst.coin>=this.betScore&&(this._mainView.balanceTxt.string=M.exchangeToThousands(1,N.inst.coin-this.betScore)),i.next=12,H.playSlots(E.SLOTS_PANDA,this.betScore.toString());case 12:n=i.sent,200==(a=T.conver(n,this.betScore)).code?(this._playedAmazed=!1,this._mainView.setFastClick(!0),this.isFast?(this._mainView.centerRollGroup.stopType=L.立即停止,this._mainView.centerRollGroup.easingIn=C.Linear,this._mainView.centerRollGroup.easingOut=C.Linear):(this._mainView.centerRollGroup.stopType=L.立即陆续,this._mainView.centerRollGroup.easingIn=C.Back,this._mainView.centerRollGroup.easingOut=C.Elastic),this.startRollBalance(),this._miniIndex=0,this._mainView.centerRollGroup.node.active=!0,this._isStart=!0,this._isFakeMini=!1,this._isFirstPlayLine=!0,this._mainView.winLineGroup.active=!1,this._mainView.winIconGroup.active=!1,this._mainView.missWildIconGroup.active=!1,this._mainView.iconResistMask.active=!0,this._mainView.clickIconPop.active=!1,this._mainView.clickIconMask.active=!1,this.unschedule(this._clickIconTimer),this._mainView.tipsPop.hideTipsPop(),this._mainView.tipsPop.resetBg(),this._totalLose+=a.betScore,this._totalWin-=a.betScore,this._mainView.btnSub.interactable=!1,this._mainView.btnAdd.interactable=!1,this._mainView.btnAuto.interactable=!1,this._mainView.betTxt.node.parent.getComponent(y).interactable=!1,this._mainView.setBtnAlpha(this._mainView.btnSub),this._mainView.setBtnAlpha(this._mainView.btnAdd),this._mainView.setBtnAlpha(this._mainView.btnAuto),this._mainView.tweenRotatePlay(),X.gameData=a,this.rollIcons(a)):(210==a.code||202==a.code&&console.warn("参数错误：",e),this.init(),this._mainView.onGameOver(),this.isAuto&&(this.isAuto=!1,this._mainView.btnPlay.node.active=!0,this._mainView.btnStop.node.active=!1),o=this.getRandomElementIds(),this._mainView.centerRollGroup.roll(o,(function(){})),this.scheduleOnce((function(){s._mainView.centerRollGroup.stop()}),.5),this._isInit=!0,this._mainView.btnPlay.interactable=!0,this._mainView.touchPlayLoopEff.node.active=!1,console.warn("start sever fail error code:"+a.code));case 15:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),o.getRandomElementIds=function(){for(var i=[],e=[4,4,4],n=["101","102","103","104","105","106","201"],t=0;t<3;t++){i.push([]);for(var a=[],o=0;o<2;o++){var s=u(0,n.length);a.push(n[s]),n.splice(s,1)}for(var r=0;r<e[t];r++){var c=a[u(0,2)];i[t].push({name:c.toString(),text:"0"})}}return i},o.roundEnd=function(){var i=this,e=X.gameData.mini?X.gameData.mini.winScore:X.gameData.main.winScore;this.recoverLineNumberGroup(),this._mainView.missWildIconGroup.removeAllChildren(),this._miniIndex++,this.totalScore(e),(!e||e/X.gameData.betScore<10)&&(this.isAuto?this.scheduleOnce((function(){i.updateLabelAutoCount()}),1.25):this.gameOver())},o.zoomBgGroup=function(i,e){var n=this._mainView.bgGroup,t=this._mainView.winIconGroup,a=this._mainView.baseIconGroup,o=this._mainView.missWildIconGroup,s=1==e;d(n).to(i,{scale:h(e,e,1),position:h(0,s?76.199:23.111)}).call((function(){t.position=n.position,a.scale=n.scale,a.position=n.position,o.scale=n.scale,o.position=n.position})).start()},o.miniGameOver=function(){},o.gameOver=function(){var i=this;(this.miniGameOver(),this.init(),this.scheduleOnce((function(){i._mainView.onGameOver()}),this.isAuto?0:.3),X.gameData.main&&X.gameData.main.lines.length>0&&this.playLineStep(X.gameData.main.lines,-1),X.gameData.mini)&&(X.gameData.mini.winScore/X.gameData.betScore<10&&(console.log("音乐继续播放时间",this.bgmCurrentTime),z.inst.play(x.res.mainGameBGM,1,F.SLOTS_PANDA)))},o.playLineStep=function(i,e){var n=this;this._lineStep=function(){++e==i.length&&(e=-1),n.playLineStep(i,e)},this.hideAllLines(),this.recoverLineNumberGroup(),this.resetBaseWinAni(),-1==e?(z.inst.playOneShot(x.res.allLines,1,F.SLOTS_PANDA),i.forEach((function(e){n.playOneLine(e,1==i.length)}))):(z.inst.playOneShot(x.res.singleLine,1,F.SLOTS_PANDA),this.playOneLine(i[e],!0)),this.scheduleOnce(this._lineStep,2)},o.stopLineStep=function(){this.unschedule(this._lineStep),this.hideAllLines(),this.recoverLineNumberGroup(),this.removeWinIcon(),this._mainView.winIconGroup.active=!1,this._mainView.winLineGroup.active=!1,this.resetRollItem()},o.resetRollItem=function(){this._mainView.centerRollGroup.columnFlat.forEach((function(i){i&&(i.active=!0)}))},o.rollIcons=function(i){var e=this,n=this;this._isFakeMini=Math.floor(1e4*Math.random())<X.sceneData.fakeMiniRate;i.main?(this._beforeIsMainGame||(this._mainView.centerRollGroup.setWheels(X.sceneData.mainWheel.map((function(i){return i.lineWheel})),0),this._beforeIsMainGame=!0),this.baseStopIcon(),z.inst.playOneShot(x.res.startSpin,1,F.SLOTS_PANDA).then((function(i){return e._startSpinId=i})),this._mainView.centerRollGroup.roll(this.getMainIcons(i),function(){e._removeWinIcon&&e.unschedule(e._removeWinIcon),X.gameData.main&&X.gameData.main.lines&&X.gameData.main.lines.length>0?n.playBaseWinAni():e.roundEnd()}.bind(this))):(this._mainView.miniGameGuangzhu.active=!1,this._mainView.miniMask.getChildByName("guang").active=!1,this._mainView.miniMask.getChildByName("x10").active=!1,this.enterMiniGame())},o.baseStopIcon=function(){var i=this,e=(this.isFast?.4:1.8)*this.timeScale,n=(X.gameData.mini&&X.gameData.mini.list[this._miniIndex].isAllSame,X.gameData.mini?X.gameData.mini.list[this._miniIndex]:X.gameData.main),t=.62;X.gameData.mini&&(this._miniIndex,X.gameData.mini.list.length);if(!X.gameData.mini){this._isFakeMini&&this.enterFakeMiniGame();var a=(this.timeScale,.06);this.scheduleOnce((function(){i._mainView.centerRollGroup.stop(),i.isFast?(i.scheduleOnce((function(){i.playBaseStopAni(n,0),i.playBaseStopAni(n,1),i.playBaseStopAni(n,2)}),t),i.scheduleOnce((function(){z.inst.playOneShot(x.res.stopSpin,1,F.SLOTS_PANDA),-1!=i._startSpinId&&(z.inst.stopOneShot(i._startSpinId,x.res.startSpin,F.SLOTS_PANDA),i._startSpinId=-1)}),.24)):(i.scheduleOnce((function(){i.playBaseStopAni(n,0)}),t),i.scheduleOnce((function(){i.playBaseStopAni(n,1)}),1.24),i.scheduleOnce((function(){i.playBaseStopAni(n,2)}),3*t),i.scheduleOnce((function(){z.inst.playOneShot(x.res.stopSpin,1,F.SLOTS_PANDA)}),.53),i.scheduleOnce((function(){z.inst.playOneShot(x.res.stopSpin,1,F.SLOTS_PANDA)}),1.12),i.scheduleOnce((function(){z.inst.playOneShot(x.res.stopSpin,1,F.SLOTS_PANDA),-1!=i._startSpinId&&(z.inst.stopOneShot(i._startSpinId,x.res.startSpin,F.SLOTS_PANDA),i._startSpinId=-1)}),.55*3))}),this._isFakeMini?4.5:a)}var o=e+.7;this._mainView.bigWinPop.resetData(),X.gameData.main&&this.rewardRollBalance(X.gameData.main.winScore,this._isFakeMini?5.5:o,!0,!1,X.gameData.main.isAllSame>0)},o.rewardRollBalance=function(i,e,n,t,a){var o=this;void 0===n&&(n=!0),void 0===a&&(a=!1),this._mainView.bigWinPop.winScoreTxt.string="0";this.scheduleOnce((function(){var e=i/X.gameData.betScore;if(n&&X.gameData.main&&(o.scrollToValue(0,X.gameData.main.isAllSame?i/10:i,n?.2:.5,o._mainView.winTxt),o._mainView.tipsPop.playTipsWinPop(X.gameData.main.isAllSame?i/10:i)),X.gameData.mini){if(i>0&&!o._isFakeMini){o._mainView.tipsPop.playTipsWinPop(i),o.scrollToValue(0,i,.5,o._mainView.winTxt,!1,false)}}else!o._isFakeMini&&!X.gameData.mini&&i>0&&(o.scheduleOnce((function(){z.inst.playOneShot(X.gameData.main.isAllSame?x.res.pandaCelebrate2:x.res.pandaCelebrate1,1,F.SLOTS_PANDA)}),.03),o._mainView.panda.play(X.gameData.main.isAllSame?G.CelebrationLv2:G.CelebrationLv1,!1,(function(){o._mainView.panda.play(G.Idle,!0)})));e<10||(o._mainView.bigWinPop.isClickHide=!1,o.scheduleOnce((function(){z.inst.playOneShot(x.res.bigWinRollNumber,1,F.SLOTS_PANDA).then((function(i){return o._bigWinRollId=i})),z.inst.play(x.res.bigWinBGM,1,F.SLOTS_PANDA);var e=o._mainView.bigWinPop.getComponent(p);e.opacity=0,d(e).to(.2,{opacity:255}).start(),o._mainView.bigWinPop.playAni(0),o._mainView.bigWinPop.winScoreTxt.string="0",o.scheduleOnce((function(){o.scrollToValue(0,i,a?8.8-3.8-.3:4.7,o._mainView.bigWinPop.winScoreTxt,!0)}),.3)}),a?3.8:1.5),e>=20&&o.scheduleOnce((function(){o._mainView.bigWinPop.playAni(1)}),a?5.3:3),e>=100&&o.scheduleOnce((function(){o._mainView.bigWinPop.playAni(2)}),a?6.8:4.5))}),e)},o.startRollBalance=function(){var i=this._mainView.winTxt.string;i.indexOf(",")>-1&&(i=i.replace(",",".")),this.scrollToValue(Number(i),0,.5,this._mainView.winTxt)},o.getMainIcons=function(i){var e=[];return X.gameData.main.lines.sort((function(i,e){return i.lineNo-e.lineNo})),i.main.colums.forEach((function(i,n){e.push([]),i.elementId.forEach((function(i,t){e[n][t]={name:i+""}}))})),e},o.getMiniIcons=function(i){var e=this,n=[];return X.gameData.mini.list[X.gameData.mini.list.length-1].lines.sort((function(i,e){return i.lineNo-e.lineNo})),i.mini.list[this._miniIndex].colums.forEach((function(t,a){n.push([]),t.elementId.forEach((function(i,e){n[a][e]={name:i+""}})),X.gameData.mini.winScore=i.mini.list[e._miniIndex].winScore})),n},o.scrollToValue=function(i,e,n,t,a,o){var s=this;void 0===i&&(i=0),void 0===a&&(a=!1),void 0===o&&(o=!1);var r=Date.now(),l=r+1e3*n;!function h(){if(s._mainView.bigWinPop.isClick)t.string=M.exchangeToThousands(1,e);else{var m=Date.now(),u=(m-r)/(1e3*n),d=i+(e-i)*Math.min(u,1);t.string=o?(d/10).toFixed(2):d.toFixed(2),m<l?s.scheduleOnce(h,.001):(a&&(-1!=s._bigWinRollId&&(z.inst.stopOneShot(s._bigWinRollId,x.res.bigWinRollNumber,F.SLOTS_PANDA),s._bigWinRollId=-1),c.emit(P.event.bigWinPopHide,3)),t.string=M.exchangeToThousands(1,o?e/10:e))}}()},o.exitMiniGame=function(){this._isEnterMini=!1,this._mainView.bigWinPop.resetData(),this._mainView.btnPlay.interactable=!0,this.rewardRollBalance(X.gameData.mini.winScore,0,!1,!0,!1),this.roundEnd()},o.enterMiniGame=function(){var i=this;this._isEnterMini=!0;var e=this.getRandomElementIds();this._mainView.centerRollGroup.roll(e,(function(){i._mainView.btnPlay.interactable=!1,z.inst.playOneShot(x.res.enterMiniGame,1,F.SLOTS_PANDA),z.inst.play(x.res.mainGameBGM,1,F.SLOTS_PANDA),i._mainView.enterMiniGamePop.active=!0,i._mainView.enterMiniGamePop.getChildByName("btnOK").active=!i.isAuto;var e=i._mainView.enterMiniGamePop.getComponent(p);e.opacity=0,d(e).to(.5,{opacity:255}).start(),i.isAuto&&i.scheduleOnce((function(){i._mainView.miniGame.onTouchOK()}),1.5)})),this.scheduleOnce((function(){i._mainView.centerRollGroup.stop()}),.5)},o.createFakeList=function(){var i=Math.floor(3*Math.random());function e(){var i=10*Math.random()==0,e=100+Math.floor(6*Math.random())+1,n=100+Math.floor(6*Math.random())+1,t=[],a=[],o=[];do{n=100+Math.floor(6*Math.random())+1}while(e===n);for(var s=0;s<4;s++){if(!i)do{n=100+Math.floor(6*Math.random())+1}while(e===n);a.push(e),o.push(n)}var r={elementId:o},c={elementId:a};t[0]=c,t[2]=c,t[1]=r;var l={winScore:0,colums:t,lines:[],hitType:0,isAllSame:0,wheelIndex:[]};X.gameData.mini.list.unshift(l)}for(var n=0;n<i;n++)e()},o.enterFakeMiniGame=function(){var i=this;this._mainView.miniGameCoin.node.parent.active=!1,this._mainView.panda.playMiniGold(1);this.scheduleOnce((function(){i.zoomBgGroup(1,1)}),3.5),this.scheduleOnce((function(){i._mainView.panda._ske.paused=!0,i._mainView.panda.playMiniGold(3)}),2.5)},o.onOpenAuto=function(){var i=this;k(this._mainView.panelParentNode,N.inst.coin,Number(this._mainView.betTxt.string),function(e){X.leftAutoCount=e,i.startAuto()}.bind(this))},o.onBet=function(){var i=this;if(!this.isAuto){B(this._mainView.panelParentNode,[.03,.1,.3,.9],[1,2,3,4,5,6,7,8,9,10],10,N.inst.coin,Number(this._mainView.betTxt.string),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("bet----",n),i.betIndex=n[2],i.betScore=n[3],i._mainView.betTxt.string=n[4],localStorage.setItem(E.SLOTS_PANDA+T.cacheName.betScore,i.betScore.toString()),i.updateBetGear()}.bind(this)).then((function(e){e.bindBet(i.betIndex)}))}},o.onBetAdd=function(){this.betIndex=Math.floor(this.betIndex+1),this.betIndex>=this._gearValueArr.length-1&&(this.betIndex=this._gearValueArr.length-1,this._mainView.btnAdd.interactable=!1,this._mainView.setBtnAlpha(this._mainView.btnAdd)),this._mainView.setBtnAlpha(this._mainView.btnSub,!0),this._mainView.btnSub.interactable=!0,this._mainView.betTxt.string=M.exchangeToThousands(1,this._gearValueArr[this.betIndex]),this.betScore=this._gearValueArr[this.betIndex],localStorage.setItem(E.SLOTS_PANDA+T.cacheName.betScore,this.betScore.toString()),this._betLevel=1},o.onBetSub=function(){this.betIndex=Math.ceil(this.betIndex-1),this.betIndex<=0&&(this.betIndex=0,this._mainView.btnSub.interactable=!1,this._mainView.setBtnAlpha(this._mainView.btnSub)),this._mainView.setBtnAlpha(this._mainView.btnAdd,!0),this._mainView.btnAdd.interactable=!0,this._mainView.betTxt.string=M.exchangeToThousands(1,this._gearValueArr[this.betIndex]),this.betScore=this._gearValueArr[this.betIndex],localStorage.setItem(E.SLOTS_PANDA+T.cacheName.betScore,this.betScore.toString()),this._betLevel=1},o.onLastMoney=function(){R(this._mainView.panelParentNode,N.inst.coin)},o.playBaseWinAni=function(){var i=this,e=X.gameData.main.lines;this.scheduleOnce((function(){i.resetBaseWinAni(),z.inst.playOneShot(x.res.allLines,1,F.SLOTS_PANDA),e.forEach((function(n){i.playOneLine(n,1==e.length)})),X.gameData.main&&X.gameData.main.isAllSame&&i.playAllSameImgAni()}),.25);this.scheduleOnce((function(){i.roundEnd()}),X.gameData.mini?1.2:.25)},o.resetBaseWinAni=function(){var i=this,e=this._mainView.winLineGroup,n=this._mainView.winIconGroup,t=e.getComponent(p),a=n.getComponent(p);t.opacity=0,a.opacity=0,this.resetRollItem(),e.active=!0,n.active=!0,d(t).to(.1,{opacity:255}).start(),d(a).to(.1,{opacity:255}).start(),this._removeWinIcon=function(){i.removeWinIcon()},this.scheduleOnce(this._removeWinIcon,1.5)},o.playOneLine=function(i,e){var n=this;void 0===e&&(e=!1),i&&i.line||console.warn("v::",i,"丢失");var t=_.getVisibleSize(),a=this._mainView.bgGroup,o=this._mainView.winIconGroup;i.line.forEach((function(r,c){var m=n._mainView.centerRollGroup.node.children[c].children[r],u=m.getWorldPosition(),d=u.x-t.width/2-3,p=u.y-t.height/2-a.position.y+3,b=h(d,p);m.active=!1;var v,S=l(n._mainView.winIcon).getComponent(O),V=n._mainView.clickIconPop,A=(n._mainView.clickIconMask,V.getChildByName("price")),y=A.getComponent(s);S.node.on(f.EventType.TOUCH_START,(function(){V.children.forEach((function(i){"clickIcon"==i.name&&(i.destroy(),i.removeFromParent(),i=null)}));var i=l(n._mainView.winIcon);i.parent=V,i.scale=h(.7,.7,1),i.position=h(237.5,252),i.name="clickIcon";var e=i.getComponent(O),t=X.sceneData.elementOdd[Number(m.getComponent(w).spriteFrame.name)];n.unschedule(n._clickIconTimer),V.active=!0,n._mainView.clickIconMask.active=!0;var a=h(S.node.getWorldPosition().x-_.getVisibleSize().width/2,S.node.getWorldPosition().y-_.getVisibleSize().height/2),o=c;A.position=h(2!=o?113.357:-113.357),i.position=h(2!=o?-113.357:113.357),e.setSpData(Number(m.getComponent(w).spriteFrame.name)),e.iconSP.paused=!1,e.playClickIcon(),y.string=t,V.position=h(2!=o?a.x+80:a.x-80,a.y),n.scheduleOnce(n._clickIconTimer,3)}));for(var I=0;I<o.children.length;I++){var P=o.children[I];if(P.name=="iconWinEff"+(r+1)+(c+1)){(v=P).active=!1,v.active=!0,v.parent=o,v.children.forEach((function(i){i.active=!1,i.active=!0;var e=i.getComponent(g);e.stop(),e.play()})),v.worldPosition=u;break}}S.node.parent=o,S&&S.node&&(S.node.active=!1),S.node.scale=a.scale,S.name="winIcon",S.setSpData(Number(m.getComponent(w).spriteFrame.name)),S.wildEff.node&&S.wildEff&&(S.wildEff.node.active=!1),201==Number(m.getComponent(w).spriteFrame.name)&&(b=h(b.x-1,b.y-28,b.z),S.wildTxtEff.node&&S.wildTxtEff&&(S.wildTxtEff.node.active=!0),S.wildTxtEff.stop(),S.wildTxtEff.play()),1==c?(S.priceTxt.node.parent&&S.priceTxt.node&&(S.priceTxt.node.parent.active=e),S.priceTxt.string=M.exchangeToThousands(1,i.lineScore)):S.priceTxt.node&&S.priceTxt.node.parent&&(S.priceTxt.node.parent.active=!1),S.node.worldPosition=u;S.playAni(!0),S&&S.node&&(S.node.active=!0);n.scheduleOnce((function(){m&&(m.active=!0)}),1.7)})),this.scheduleOnce((function(){n.playRewardLines(i.lineNo)}),.01),this._isFirstPlayLine=!1},o.removeWinIconEff=function(){var i=this;this._mainView.winIconGroup.children.forEach((function(e){for(var n=0;n<i._mainView.winIconGroup.children.length;n++){var t=i._mainView.winIconGroup.children[n];e.name.indexOf("iconWinEff")>-1&&e.uuid!=t.uuid&&t.name==e.name&&(t.removeFromParent(),t=null,n--)}}))},o.playBaseStopAni=function(i,e){var n=this;if(i&&i.colums){var t=_.getVisibleSize(),a=this._mainView.bgGroup,o=this._mainView.missWildIconGroup;o.active=!0,o.getComponent(p).opacity=255,i.colums.forEach((function(i,s){s==e&&i.elementId.forEach((function(i,e){var r=n._mainView.centerRollGroup.node.children[s].children[e];if(201==Number(r.getComponent(w).spriteFrame.name)){var c=r.getWorldPosition(),m=c.x-t.width/2-3,u=c.y-t.height/2-a.position.y-3,d=h(m,u);r.active=!0;var p=X.gameData.main.lines,_=l(n._mainView.winIcon).getComponent(O);_.node.parent=o,_.node.active=!1,_.node.scale=a.scale,_.setSpData(Number(r.getComponent(w).spriteFrame.name)),_.priceTxt.node.parent.active=!1,201==Number(r.getComponent(w).spriteFrame.name)?(_.name="baseWild",p.length||(n.isFast||(d=h(d.x+2,d.y-40,d.z)),_.wildEff&&_.wildEff.node&&(_.wildEff.node.active=!0),_.wildEff.stop(),_.wildEff.play(),z.inst.playOneShot(x.res.riseEff,1,F.SLOTS_PANDA),n.scheduleOnce((function(){var i=l(n._mainView.WildTuowei.node);i.position=d,i.active=!0,i.parent=n._mainView.miniGameCoin.node.parent.parent;var e=n._mainView.miniGameCoin.node.parent.position;n.bezierTo(i,.6,d,h(e.x+1*Math.random()>.5?-300:300,e.y+150,d.z),e).call((function(){n._mainView.miniCoinEffGroup.forEach((function(i){i&&i.node&&(i.node.parent.active=!0,i.node.active=!0,i.stop(),i.play())}))})).delay(.2).call((function(e){i.removeFromParent(),i=null})).start(),n.playPandaAmazed()}),.5))):_.name="baseIcon",n.scheduleOnce((function(){_.node.removeFromParent(),_.node=null}),.46),_.node.worldPosition=c,_.getComponent(b.Skeleton).enabled=!r.active,_.node.active=!0,n.isFast||_.playAni(!1),n.scheduleOnce((function(){r&&(r.active=!0),_&&_.node&&(_.node.active=!1)}),.55)}}))}))}else console.log("v::",i,"丢失")},o.playBaseWildAni=function(){var i=this,e=this._mainView.missWildIconGroup;e.active=!0;var n=X.gameData.main.lines;e.children.forEach((function(e){if("baseWild"==e.getComponent(O).name&&!n.length){var t=e.getComponent(O);e.active=!0,t.wildEff&&t.wildEff.node&&(t.wildEff.node.active=!0),t.wildEff.stop(),t.wildEff.play();i.scheduleOnce((function(){i._mainView.missWildIconGroup.removeAllChildren()}),t.wildEff.duration)}}))},o.playRewardLines=function(i){var e=this._mainView.lineGroup,n=this._mainView.lineNumbersGroup,t=n.getChildByName("left").getChildByName("labelContent"),a=n.getChildByName("right").getChildByName("labelContent");e.children.forEach((function(e,n){n==i-1&&(e.active=!0)})),t.children.forEach((function(e){Number(e.name)==i&&(e.getComponent(s).color=v(255,255,51))})),a.children.forEach((function(e){Number(e.name)==i&&(e.getComponent(s).color=v(255,255,51))}))},o.recoverLineNumberGroup=function(){var i=this._mainView.lineNumbersGroup,e=i.getChildByName("left").getChildByName("labelContent"),n=i.getChildByName("right").getChildByName("labelContent");e.children.forEach((function(i){i.getComponent(s).color=v(62,101,34)})),n.children.forEach((function(i){i.getComponent(s).color=v(62,101,34)}))},o.hideAllLines=function(){this._mainView.lineGroup.children.forEach((function(i,e){i&&(i.active=!1)}))},o.removeWinIcon=function(){var i=this,e=this._mainView.winLineGroup,n=this._mainView.winIconGroup;this.scheduleOnce((function(){for(var i=0;i<n.children.length;i++){var e=n.children[i];if(e.name.indexOf("iconWinEff")>-1)e.active&&(e.active=!1);else e.getComponentsInChildren(g).forEach((function(i){i.clear(),i.stop(),i.destroy(),i=null})),e.destroy(),e.removeFromParent(),e=null,i--}}),.2);var t=e.getComponent(p);d(t).to(.3,{opacity:0}).start();var a=n.getComponent(p);d(a).to(.3,{opacity:0}).call((function(){i.recoverLineNumberGroup()})).start()},o.updateBetGear=function(){for(var i=0;i<this._gearValueArr.length;i++){if(this._gearValueArr[i]===this.betScore){0===i?(this._mainView.btnSub.interactable=!1,this._mainView.btnAdd.interactable=!0):i===this._gearValueArr.length-1?(this._mainView.btnSub.interactable=!0,this._mainView.btnAdd.interactable=!1):(this._mainView.btnSub.interactable=!0,this._mainView.btnAdd.interactable=!0),this.betIndex=i;break}if(i===this._gearValueArr.length-1)break;var e=this._gearValueArr[i+1];if(this.betScore>this._gearValueArr[i]&&this.betScore<e){this.betIndex=i+.5,this._mainView.btnAdd.interactable=!0,this._mainView.btnSub.interactable=!0;break}}this._mainView.setBtnAlpha(this._mainView.btnAdd,this._mainView.btnAdd.interactable),this._mainView.setBtnAlpha(this._mainView.btnSub,this._mainView.btnSub.interactable)},o.startAuto=function(){this.isAuto=!0,this._mainView.btnPlay.node.active=!1,this._mainView.btnStop.node.active=!0,this._totalLose=0,this._totalWin=0,this._singleWin=0,this.updateLabelAutoCount()},o.updateLabelAutoCount=function(i){var e=this;void 0===i&&(i=0),this.scheduleOnce((function(){X.leftAutoCount--,X.leftAutoCount>0?e._mainView.autoCountLab.string=X.leftAutoCount.toString():e.touchStopAuto(),e.touchPlay()}),i)},o.touchStopAuto=function(){this.isAuto=!1,this._mainView.btnPlay.node.active=!0,this._mainView.btnStop.node.active=!1,this._mainView.setBtnAlpha(this._mainView.btnAuto,!0),X.leftAutoCount=0},o.totalScore=function(i){i||(i=0),this._totalLose-=i,this._totalWin+=i,this._singleWin=i,(0!=X.reduceLabel&&this._totalLose>=100*X.reduceLabel||0!=X.addLabel&&this._totalWin>=100*X.addLabel||0!=X.winLabel&&this._singleWin>=100*X.winLabel)&&this.touchStopAuto()},o.randomPandaAni=function(){var i=this;if(!this._isStart&&!this.isAuto){var e=[G.Eat,G.Look],n=Math.floor(Math.random()*e.length),t=[x.res.pandaLook1,x.res.pandaLook2,x.res.pandaLook3],a=0;if(this._mainView.panda.aniSate==G.Idle){if(n){do{a=Math.floor(Math.random()*t.length)}while(this._lookSoundIndex==a);this._lookSoundIndex=a,z.inst.playOneShot(t[this._lookSoundIndex],1,F.SLOTS_PANDA)}else this.scheduleOnce((function(){z.inst.playOneShot(x.res.pandaEat,1,F.SLOTS_PANDA)}),.4);this._mainView.panda.play(e[n],!1,(function(){i._mainView.panda.play(G.Idle,!0)}))}}},o.playPandaDrowsy=function(){var i=this;this._isStart||this.isAuto||this._mainView.panda.aniSate==G.Idle&&(z.inst.playOneShot(x.res.pandaSleep,1,F.SLOTS_PANDA),this._mainView.panda.play(G.Drowsy,!1,(function(){i._mainView.panda.play(G.Idle,!0)})),this._mainView.panda.playDrowsy(4))},o.playPandaAmazed=function(){var i=this,e=X.gameData.main.lines;if(!this._isFakeMini&&!e.length)for(var n=0;n<X.gameData.main.colums.length;n++){for(var t=!1,a=0;a<X.gameData.main.colums[n].elementId.length;a++){if(201==X.gameData.main.colums[n].elementId[a]&&!this._playedAmazed){t=!0,this._playedAmazed=!0,z.inst.playOneShot(x.res.pandaAmazed,1,F.SLOTS_PANDA),this._mainView.panda.play(G.Amazed,!1,(function(){i._mainView.panda.play(G.Idle,!0)}));break}}if(t)break}},o.playMiniGameCoinAni=function(){var i=this;d(this._mainView.miniGameCoin.node.parent).to(2,{position:h(0,650.299,1)}).to(1.8,{position:h(0,716.588,1)}).call((function(){i.playMiniGameCoinAni()})).start()},o.cameraShake=function(i){var e=this,n=!0;!function i(){var t=20*Math.random()-7.5,a=20*Math.random()-7.5;e.node.position=h(t,a),n?e.scheduleOnce((function(){i()}),.03):e.node.position=h(0,0)}(),this.scheduleOnce((function(){n=!1,e.node.position=h(0,0)}),i)},o.playMiniAllSameImgAni=function(i){var e=this;void 0===i&&(i=0);var n=this._mainView.allSameImg;n.active=!0,n.position=h(0,5),n.scale=h(.9,.9,1);var t=n.getComponent(p);t.opacity=255;var a=X.gameData.mini.winScore;d(n).delay(i).call((function(){z.inst.playOneShot(x.res.allSameX10Eff,1,F.SLOTS_PANDA)})).to(1,{scale:h(1.2,1.2,1)}).call((function(){t.opacity=255})).delay(.5).to(.2,{position:h(0,-523.089),scale:h(.8,.8,1)}).call((function(){d(t).to(.15,{opacity:0}).start(),e._mainView.tipsPop.playTipsWinPop(a),e.scrollToValue(0,a,.1,e._mainView.winTxt)})).start()},o.playAllSameImgAni=function(){var i=this,e=this._mainView.baseAllSameCoinAni,n=this._mainView.baseAllSameEff,t=this._mainView.baseAllSameImg;e.node.active=!0,e.node.scale=h(.8,.8,1),e.node.position=h(1.512,685.057),t.scale=h(.8,.8,1);var a=X.gameData.main.winScore;this._mainView.miniGameCoin.node.active=!1,e.setAnimation(0,"animation",!1),d(e.node).delay(1.8).call((function(){e.node.active=!1,n.node.active=!0,n.stop(),n.play(),n.node.children.forEach((function(i){var e=i.getComponent(g);e.node.active=!0,e.stop(),e.play()})),i.scheduleOnce((function(){n.node.active=!1,n.clear(),n.node.children.forEach((function(i){var e=i.getComponent(g);e.node.active=!1,e.clear()}))}),n.duration),t.position=h(0,731.613),d(t).delay(.1).call((function(){t.active=!0,t.scale=h(.3,.3,1),d(t).to(.3,{scale:h(.7,.7)}).delay(.9).to(.5,{scale:h(.3,.3)}).start(),i.bezierToNoAngle(t,1.7,t.position,h((Math.random(),0),t.position.y+300,0),h(0,-523)).call((function(e){t.active=!1,i._mainView.tipsPop.playTipsWinPop(a),i.scrollToValue(0,a,.1,i._mainView.winTxt),i._mainView.miniGameCoin.node.active=!0})).start()})).start()})).start()},o.bezierTo=function(i,e,n,t,a,o){o=o||Object.create(null);return o.onUpdate=function(e,o){var s=i.position.clone();i.position=function(i,e,n,t){var a=(1-i)*(1-i)*e.x+2*i*(1-i)*n.x+i*i*t.x,o=(1-i)*(1-i)*e.y+2*i*(1-i)*n.y+i*i*t.y,s=(1-i)*(1-i)*e.z+2*i*(1-i)*n.z+i*i*t.z;return new S(a,o,s)}(o,n,t,a);var r=i.position.clone(),c=s.x-r.x,l=s.y-r.y,h=180,m=V(0,0);c<0?(h=180,m=V(0,1)):(h=0,m=V(0,-1));var u=V(c,l).angle(m)/Math.PI*180+h;i.eulerAngles=new S(0,0,u)},d(i).to(e,{},o)},o.bezierToNoAngle=function(i,e,n,t,a,o){o=o||Object.create(null);return o.onUpdate=function(e,o){i.position=function(i,e,n,t){var a=(1-i)*(1-i)*e.x+2*i*(1-i)*n.x+i*i*t.x,o=(1-i)*(1-i)*e.y+2*i*(1-i)*n.y+i*i*t.y,s=(1-i)*(1-i)*e.z+2*i*(1-i)*n.z+i*i*t.z;return new S(a,o,s)}(o,n,t,a)},d(i).to(e,{},o)},a}(A))||j);a._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameLogic.ts","./PandaGameData.ts","./PandaTipsPop.ts","./PandaBigWinPop.ts","./PandaAnimation.ts","./PandaGameMiniGame.ts","./BaseSlot.ts","./Num.ts","./UserMgr.ts","./RoomMgr.ts","./ModuleDef.ts","./AudioMgr.ts","./PandaGameRes.ts","./LanguageData.ts","./UIHelp.ts"],(function(e){var i,t,n,o,a,l,r,u,s,c,p,b,h,m,g,f,y,d,S,w,P,G,T,A,L,z,v,O,k,_,C,I,B,M,R,x,N,D;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,u=e._decorator,s=e.Label,c=e.Button,p=e.Node,b=e.Sprite,h=e.Prefab,m=e.sp,g=e.ParticleSystem2D,f=e.ParticleSystem,y=e.Tween,d=e.tween,S=e.v3,w=e.UIOpacity,P=e.Component},function(e){G=e.PandaGameLogic},null,function(e){T=e.PandaTipsPop},function(e){A=e.PandaBigWinPop},function(e){L=e.PandaAnimation},function(e){z=e.PandaGameMiniGame},function(e){v=e.BaseSlot,O=e.SlotEaseType,k=e.SlotStopType},function(e){_=e.Num},function(e){C=e.UserMgr},function(e){I=e.RoomMgr},function(e){B=e.ModuleDef},function(e){M=e.AudioMgr},function(e){R=e.default},function(e){x=e.LanguageData},function(e){N=e.UIHelp,D=e.UIhelpParam}],execute:function(){var E,F,U,V,W,H,j,K,q,J,Q,X,Y,Z,$,ee,ie,te,ne,oe,ae,le,re,ue,se,ce,pe,be,he,me,ge,fe,ye,de,Se,we,Pe,Ge,Te,Ae,Le,ze,ve,Oe,ke,_e,Ce,Ie,Be,Me,Re,xe,Ne,De,Ee,Fe,Ue,Ve,We,He,je,Ke,qe,Je,Qe,Xe,Ye,Ze,$e,ei,ii,ti,ni,oi,ai,li,ri,ui,si,ci,pi,bi,hi,mi,gi,fi,yi,di,Si,wi,Pi,Gi,Ti,Ai,Li,zi,vi,Oi,ki,_i,Ci,Ii,Bi,Mi,Ri,xi,Ni,Di,Ei,Fi,Ui,Vi,Wi,Hi,ji,Ki,qi,Ji;r._RF.push({},"7bd7ezIh7dNOKEyvCrdUsWD","PandaGameMainView",void 0);var Qi=u.ccclass,Xi=u.property;e("PandaGameMainView",(E=Qi("PandaGameMainView"),F=Xi(v),U=Xi(s),V=Xi(s),W=Xi(s),H=Xi(c),j=Xi(c),K=Xi(c),q=Xi(c),J=Xi(c),Q=Xi(c),X=Xi(p),Y=Xi(b),Z=Xi(p),$=Xi(p),ee=Xi(p),ie=Xi(p),te=Xi(p),ne=Xi(p),oe=Xi(h),ae=Xi(p),le=Xi(p),re=Xi(p),ue=Xi(p),se=Xi(p),ce=Xi(c),pe=Xi(s),be=Xi(T),he=Xi(A),me=Xi(L),ge=Xi(p),fe=Xi([m.SkeletonData]),ye=Xi(m.Skeleton),de=Xi(g),Se=Xi(f),we=Xi(f),Pe=Xi(f),Ge=Xi(p),Te=Xi(f),Ae=Xi(p),Le=Xi(p),ze=Xi(p),ve=Xi(p),Oe=Xi(p),ke=Xi(p),_e=Xi(p),Ce=Xi(m.Skeleton),Ie=Xi(f),Be=Xi(p),Me=Xi(p),Re=Xi(p),xe=Xi(p),Ne=Xi(c),De=Xi(c),Ee=Xi(p),Fe=Xi(p),Ue=Xi(z),Ve=Xi({type:p,tooltip:"放置所有二级界面"}),E(((Ji=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"centerRollGroup",je,o(i)),n(i,"betTxt",Ke,o(i)),n(i,"winTxt",qe,o(i)),n(i,"balanceTxt",Je,o(i)),n(i,"btnAdd",Qe,o(i)),n(i,"btnSub",Xe,o(i)),n(i,"btnPlay",Ye,o(i)),n(i,"btnAuto",Ze,o(i)),n(i,"btnSpeedCut",$e,o(i)),n(i,"btnSpeedUp",ei,o(i)),n(i,"rotatePlay",ii,o(i)),n(i,"btnPlayGrayGroup",ti,o(i)),n(i,"clickIconPop",ni,o(i)),n(i,"clickIconMask",oi,o(i)),n(i,"iconResistMask",ai,o(i)),n(i,"lineGroup",li,o(i)),n(i,"lineNumbersGroup",ri,o(i)),n(i,"winLineGroup",ui,o(i)),n(i,"winIcon",si,o(i)),n(i,"bgGroup",ci,o(i)),n(i,"winIconGroup",pi,o(i)),n(i,"baseIconGroup",bi,o(i)),n(i,"missWildIconGroup",hi,o(i)),n(i,"autoPop",mi,o(i)),n(i,"btnStop",gi,o(i)),n(i,"autoCountLab",fi,o(i)),n(i,"tipsPop",yi,o(i)),n(i,"bigWinPop",di,o(i)),n(i,"panda",Si,o(i)),n(i,"miniGameTitle",wi,o(i)),n(i,"anis",Pi,o(i)),n(i,"miniGameCoin",Gi,o(i)),n(i,"WildTuowei",Ti,o(i)),n(i,"touchPlayEff",Ai,o(i)),n(i,"touchPlayLoopEff",Li,o(i)),n(i,"miniCoinEffGroup",zi,o(i)),n(i,"iconWinBgEffNode",vi,o(i)),n(i,"bambooEffGroup",Oi,o(i)),n(i,"miniMask",ki,o(i)),n(i,"bottomNode",_i,o(i)),n(i,"settingClose",Ci,o(i)),n(i,"miniGameGuangzhu",Ii,o(i)),n(i,"allSameImg",Bi,o(i)),n(i,"btnFirstClick",Mi,o(i)),n(i,"btnFastClick",Ri,o(i)),n(i,"baseAllSameCoinAni",xi,o(i)),n(i,"baseAllSameEff",Ni,o(i)),n(i,"baseAllSameImg",Di,o(i)),n(i,"videoClose",Ei,o(i)),n(i,"videoOpen",Fi,o(i)),n(i,"openningMask",Ui,o(i)),n(i,"btnBetAdd",Vi,o(i)),n(i,"btnBetSub",Wi,o(i)),n(i,"miniGamePop",Hi,o(i)),n(i,"enterMiniGamePop",ji,o(i)),n(i,"miniGame",Ki,o(i)),n(i,"panelParentNode",qi,o(i)),i._mainLogic=void 0,i.isFirstTouchSpeedUp=!1,i.isOpenVideo=!1,i}t(i,e);var r=i.prototype;return r.start=function(){var e=this;i.ins=this,this._mainLogic=this.node.getComponent(G),this.setBtnAlpha(this.btnSub),this.tweenRotateStand(),this.openningMask.active=!1,this.centerRollGroup.easingIn=O.Back,this.centerRollGroup.easingOut=O.Elastic;var t=localStorage.getItem("Panda_currentTime");t&&""!==t||(this.isOpenVideo=!0),this.scheduleOnce((function(){e.isOpenVideo||(e.openningMask.active=!1),e.miniGamePop.active=!1}),.001),this.videoClose.active=!this.isOpenVideo,this.videoOpen.active=this.isOpenVideo},r.onVideoEvent=function(){console.log("视频播放完成"),this.isOpenVideo&&(console.log("关闭视频按钮"),this.isOpenVideo=!1,this.videoClose.active=!this.isOpenVideo,this.videoOpen.active=this.isOpenVideo,this.openningMask.active=!1)},r.init=function(){},r.onTouchPlay=function(){this._mainLogic.touchPlay(),this.touchPlayEff.node.active=!0,this.touchPlayEff.stop(),this.touchPlayEff.play(),this.touchPlayLoopEff.node.active=!0,this.touchPlayLoopEff.stop(),this.touchPlayLoopEff.play(),M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.recoverSpeed=function(){this.btnFirstClick.active=!0,this.btnFastClick.active=!0,this.centerRollGroup.easingIn=O.Back,this.centerRollGroup.easingOut=O.Elastic,this.centerRollGroup.stopType=k.立即陆续,this._mainLogic.isFast=!1,this._mainLogic.timeScale=1},r.tweenRotatePlay=function(){var e=this;y.stopAllByTarget(this.rotatePlay);var i=this.rotatePlay.eulerAngles.z;d(this.rotatePlay).tag(11).to(.5,{eulerAngles:S(0,0,i-360)}).call((function(){e.tweenRotatePlay()})).start()},r.tweenRotateStand=function(){var e=this;y.stopAllByTarget(this.rotatePlay);var i=this.rotatePlay.eulerAngles.z;d(this.rotatePlay).tag(12).to(8,{eulerAngles:S(0,0,i-360)}).call((function(){e.tweenRotateStand()})).start()},r.onGameOver=function(){var e=this;this.setFastClick(!1),this.btnSub.interactable=this._mainLogic.betIndex>0,this.btnAdd.interactable=this._mainLogic.betIndex<this._mainLogic.betLength-1,this.setBtnAlpha(this.btnSub,this._mainLogic.betIndex>0),this.setBtnAlpha(this.btnAdd,this._mainLogic.betIndex<this._mainLogic.betLength-1),this.betTxt.node.parent.getComponent(c).interactable=!0,y.stopAllByTarget(this.rotatePlay),this.setSpriteGrayscale(this.rotatePlay,!1),this.btnPlayGrayGroup.forEach((function(i){e.setSpriteGrayscale(i.node,!1)})),this.tweenRotateStand(),this.setBtnAlpha(this.btnAuto,!this._mainLogic.isAuto)},r.onTouchSpeedUp=function(){this.isFirstTouchSpeedUp?(this.btnSpeedUp.node.active=!1,this.btnSpeedCut.node.active=!0,this.centerRollGroup.easingIn=O.Back,this.centerRollGroup.easingOut=O.Elastic,this.centerRollGroup.stopType=k.立即陆续,this._mainLogic.isFast=!1,this._mainLogic.timeScale=1):(this.centerRollGroup.stopType=k.立即停止,this.centerRollGroup.easingIn=O.Linear,this.centerRollGroup.easingOut=O.Linear,this._mainLogic.isFast=!0,this._mainLogic.timeScale=.5),this.isFirstTouchSpeedUp=!0,this.btnSpeedUp.node.getChildByName("eff").active=this.isFirstTouchSpeedUp,M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchSpeedCut=function(){this.btnSpeedUp.node.getChildByName("eff").active=!0,this.btnSpeedUp.node.active=!0,this.btnSpeedCut.node.active=!1,this.centerRollGroup.stopType=k.立即停止,this.centerRollGroup.easingIn=O.Linear,this.centerRollGroup.easingOut=O.Linear,this._mainLogic.timeScale=.5,this._mainLogic.isFast=!0,M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchFastClick=function(){this.btnFastClick.active=!1,this.centerRollGroup.stopType=k.立即停止,this.centerRollGroup.easingIn=O.Linear,this.centerRollGroup.easingOut=O.Linear,this._mainLogic.timeScale=.5,this._mainLogic.isFast=!0},r.onTouchFirstClick=function(){},r.setFastClick=function(e){void 0===e&&(e=!1),this._mainLogic.isAuto||(this.btnFirstClick.active=e,this.btnFastClick.active=e)},r.onTouchLastMoney=function(){this._mainLogic.onLastMoney()},r.onTouchBetSub=function(){this._mainLogic.onBetSub(),M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchBetAdd=function(){this._mainLogic.onBetAdd(),M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchBetTxt=function(){this._mainLogic.onBet(),M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchAuto=function(){this._mainLogic.onOpenAuto(),M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchSettingOpen=function(){this.settingClose.active=!0,M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchSettingClose=function(){this.settingClose.active=!1,M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onHelp=function(){M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA),tgx.UIMgr.inst.showUI(N,null,this,new D("rule"))},r.onPayout=function(){M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA),tgx.UIMgr.inst.showUI(N,null,this,new D("payout"))},r.onMusic=function(){M.inst.switch=!M.inst.switch},r.onMenu=function(){M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA)},r.onTouchAutoStop=function(){this.btnStop.node.active=!1,this.btnPlay.node.active=!0,M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA),this._mainLogic.touchStopAuto()},r.onTouchVideo=function(){},r.onExit=function(){M.inst.playOneShot(R.res.click,1,B.SLOTS_PANDA),tgx.UIAlert.show(x.getLangByID("exit_game"),!0,"#e9f7a8","#8ebc35","f0ffd3","13433a").onClick(a(l().mark((function e(i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,I.inst.exitRoom();case 3:case"end":return e.stop()}}),e)}))))},r.updateBetTxt=function(e){var i=Number(e);this.betTxt.string=_.exchangeToThousands(1,i)},r.updateWinTxt=function(e){var i=Number(e);this.winTxt.string=_.exchangeToThousands(1,i)},r.updateBalanceTxt=function(){this.balanceTxt.string=_.exchangeToThousands(1,C.inst.coin)},r.setSpriteGrayscale=function(e,i){e.getComponent(b).grayscale=i},r.setBtnAlpha=function(e,i){void 0===i&&(i=!1),e.getComponent(w).opacity=i?255:127.5},i}(P)).ins=void 0,je=i((He=Ji).prototype,"centerRollGroup",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=i(He.prototype,"betTxt",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=i(He.prototype,"winTxt",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=i(He.prototype,"balanceTxt",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=i(He.prototype,"btnAdd",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=i(He.prototype,"btnSub",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=i(He.prototype,"btnPlay",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=i(He.prototype,"btnAuto",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=i(He.prototype,"btnSpeedCut",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=i(He.prototype,"btnSpeedUp",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=i(He.prototype,"rotatePlay",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=i(He.prototype,"btnPlayGrayGroup",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ni=i(He.prototype,"clickIconPop",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=i(He.prototype,"clickIconMask",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=i(He.prototype,"iconResistMask",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=i(He.prototype,"lineGroup",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=i(He.prototype,"lineNumbersGroup",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=i(He.prototype,"winLineGroup",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=i(He.prototype,"winIcon",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=i(He.prototype,"bgGroup",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=i(He.prototype,"winIconGroup",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=i(He.prototype,"baseIconGroup",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=i(He.prototype,"missWildIconGroup",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=i(He.prototype,"autoPop",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gi=i(He.prototype,"btnStop",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=i(He.prototype,"autoCountLab",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi=i(He.prototype,"tipsPop",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=i(He.prototype,"bigWinPop",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=i(He.prototype,"panda",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=i(He.prototype,"miniGameTitle",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=i(He.prototype,"anis",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gi=i(He.prototype,"miniGameCoin",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti=i(He.prototype,"WildTuowei",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai=i(He.prototype,"touchPlayEff",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=i(He.prototype,"touchPlayLoopEff",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zi=i(He.prototype,"miniCoinEffGroup",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vi=i(He.prototype,"iconWinBgEffNode",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi=i(He.prototype,"bambooEffGroup",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ki=i(He.prototype,"miniMask",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_i=i(He.prototype,"bottomNode",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=i(He.prototype,"settingClose",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=i(He.prototype,"miniGameGuangzhu",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=i(He.prototype,"allSameImg",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=i(He.prototype,"btnFirstClick",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=i(He.prototype,"btnFastClick",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xi=i(He.prototype,"baseAllSameCoinAni",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=i(He.prototype,"baseAllSameEff",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=i(He.prototype,"baseAllSameImg",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei=i(He.prototype,"videoClose",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=i(He.prototype,"videoOpen",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=i(He.prototype,"openningMask",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=i(He.prototype,"btnBetAdd",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=i(He.prototype,"btnBetSub",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hi=i(He.prototype,"miniGamePop",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=i(He.prototype,"enterMiniGamePop",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=i(He.prototype,"miniGame",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=i(He.prototype,"panelParentNode",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=He))||We));r._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameData.ts","./PandaGameEvent.ts","./PandaGameRes.ts","./ModuleDef.ts","./AudioMgr.ts"],(function(i){var n,t,e,o,a,r,s,l,u,h,c,p,d,f,g,m,b,S,y,v,P,R,G,I,M,w,E,x;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Node,l=i.Button,u=i.SpriteFrame,h=i.sp,c=i.Vec3,p=i.Vec2,d=i.v3,f=i.Label,g=i.tween,m=i.Sprite,b=i.math,S=i.view,y=i.UITransform,v=i.easing,P=i.UIOpacity,R=i.director,G=i.Component},function(i){I=i.PandaGameData},function(i){M=i.default},function(i){w=i.default},function(i){E=i.ModuleDef},function(i){x=i.AudioMgr}],execute:function(){var A,z,O,_,W,N,D,T,B,C,k,F,H,L,V,Z,q,K,U,X,Y,j,J,Q,$,ii,ni,ti,ei,oi,ai;a._RF.push({},"f1793dYWDZLMIyoSSY5f+c9","PandaGameMiniGame",void 0);var ri=r.ccclass,si=r.property,li=I.data,ui=M.event;i("PandaGameMiniGame",(A=ri("PandaGameMiniGame"),z=si(s),O=si(s),_=si(s),W=si(s),N=si(l),D=si(l),T=si(l),B=si(u),C=si(h.Skeleton),k=si(s),F=si(s),H=si(s),L=si(s),V=si(s),A((K=n((q=function(i){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=i.call.apply(i,[this].concat(a))||this,e(n,"outerRing",K,o(n)),e(n,"innerRing",U,o(n)),e(n,"marble",X,o(n)),e(n,"mulNumGroup",Y,o(n)),e(n,"btnStart",j,o(n)),e(n,"mainBtnPlay",J,o(n)),e(n,"btnAuto",Q,o(n)),e(n,"iconSFGroup",$,o(n)),e(n,"pandaAni",ii,o(n)),e(n,"enterMiniGamePop",ni,o(n)),e(n,"innerSpinEffNode",ti,o(n)),e(n,"innerWinEff",ei,o(n)),e(n,"innerWinEffGroup",oi,o(n)),e(n,"outerWinEffGroup",ai,o(n)),n.rotationSpeed=400,n.centerPoint=new c(0,-50,0),n.mulWinIndex=0,n.radius=450,n.angle=0,n.randomIndex=0,n.canRotation=!1,n.timeArr=[1.04,1.2,1.36,1.5,1.64,1.78],n.winNodeWordPos=void 0,n.ballTracking=!1,n._angle=0,n._isStart=!1,n.isOutRingStop=!1,n.isInnerRingStop=!0,n.outRingIndex=0,n.nowPlayingSound="",n.soundGroup=[],n.ballBeforePoint=p.ZERO,n.ballHitCount=0,n._spinEffId=-1,n.testFlag=!0,n}t(n,i);var a=n.prototype;return a.init=function(){var i=this;this.canRotation=!1,this.testFlag=!0,this.marble.parent=this.node,this.marble.active=!1,this.ballTracking=!1,this.btnStart.node.position=this.mainBtnPlay.node.position,this.isOutRingStop=!1,this.isInnerRingStop=!0,this.btnStart.node.active=!1,this.btnAuto.node.active=!1,this.ballHitCount=0,this.creatIcons(),this.pandaAni.node.active=!0,this.pandaAni.paused=!1,this.innerWinEffGroup.children.forEach((function(i){i.active=!1})),this.outerWinEffGroup.children.forEach((function(i){i.active=!1})),this.innerWinEff.active=!1,this.innerSpinEffNode.active=!1,-1!=this._spinEffId&&(x.inst.stopOneShot(this._spinEffId,w.res.spinEff,E.SLOTS_PANDA),this._spinEffId=-1),this.scheduleOnce((function(){i.onTouchStart()}),.45),this.innerRing.angle=0,this.outerRing.angle=0,this.angle=0,this._angle=0,this.marble.position=d(0,408.7)},a.tweenPonit1=function(){var i=this,n=this.marble,t=c.ZERO,e=c.ZERO;this.mulWinIndex=Math.floor(Math.random()*this.mulNumGroup.children.length),this.mulNumGroup.children[this.mulWinIndex].getComponent(f).string="X"+li.gameData.mini.multiple;this.mulNumGroup.children[this.mulWinIndex];switch(this.randomIndex){case 0:t=d(36.948,-450.75),e=d(7.779,-75.723);break;case 1:t=d(-316.217,-250.153),e=d(-24.724,-69.889);break;case 2:t=d(-359.502,113.263),e=d(-27.025,-36.913);break;case 3:t=d(-20.605,326.264),e=d(-3.477,-15.177);break;case 4:t=d(310.056,168.527),e=d(27.316,-26.951);break;case 5:t=d(333.124,-204.141),e=d(27.929,-50.895)}g(n).to(.2,{position:t}).call((function(){i.playBallHit(),g(n).to(1,{position:e}).call((function(){i.ballTracking=!0,i.playBallHit()})).delay(.4).call((function(){})).start()})).start()},a.creatIcons=function(){for(var i=this.outerRing.children,n=0;n<i.length;n++){i[n].getComponent(m).spriteFrame=this.iconSFGroup[n],this.iconSFGroup[n].name==li.gameData.mini.elementId+""&&(this.outRingIndex=n)}var t=[];t=[].concat(li.sceneData.miniMultiple,li.sceneData.miniMultiple);for(var e=0;e<this.mulNumGroup.children.length;e++){var o=this.mulNumGroup.children[e].getComponent(f),a=Math.floor(Math.random()*t.length),r=t[a];o.string="X"+r,t.splice(a,1)}},a.update=function(i){if(this.canRotation){this.angle-=this.rotationSpeed*i;var n=b.toRadian(this.angle),t=this.centerPoint.x+this.radius*Math.cos(n),e=this.centerPoint.y+this.radius*Math.sin(n);this.marble.setPosition(new c(t,e,this.centerPoint.z))}if(this.ringRoation(this.outerRing,3.6),this.innerRingRotaion(),this.ballTracking){this.ballHitCount++;var o=this.marble,a=o.position,r=d(this.winNodeWordPos.x-S.getVisibleSize().width/2+10,this.winNodeWordPos.y-S.getVisibleSize().height/2+this.innerRing.getComponent(y).height/4-130);this._angle+=.007;var s=this.isPointInCircleAround(a.toVec2(),this.centerPoint.toVec2(),180)&&p.distance(a.toVec2(),this.ballBeforePoint)<=5&&!this.isInnerRingStop&&this.ballHitCount%8==0;this.ballBeforePoint=a.clone().toVec2(),s&&this.playBallHit(),a.x>r.x+5&&(o.position=d(o.position.x-5+Math.cos(this._angle),a.y,a.z)),a.x<r.x-5&&(o.position=d(o.position.x+5+Math.cos(this._angle),a.y,a.z)),a.y>r.y+5&&(o.position=d(a.x,o.position.y-5+Math.sin(this._angle),a.z)),a.y<r.y-5&&(o.position=d(a.x,o.position.y+5+Math.sin(this._angle),a.z))}},a.onTouchStart=function(){var i=this;console.log("进了几次"),this.testFlag=!1,this.isInnerRingStop=!1,this.innerSpinEffNode.active=!0,x.inst.playOneShot(w.res.spinEff,1,E.SLOTS_PANDA).then((function(n){return i._spinEffId=n})),this.btnStart.node.active=!1,this.soundGroup.length=0,this._isStart=!0,this.marble.active=!0,this.canRotation=!0,x.inst.playOneShot(w.res.dropBall,1,E.SLOTS_PANDA),this.randomIndex=Math.floor(Math.random()*this.timeArr.length),this.scheduleOnce((function(){i.canRotation=!1,i.tweenPonit1()}),this.timeArr[this.randomIndex]),this.scheduleOnce((function(){i.testFlag=!0,i._isStart=!1}),7),this.scheduleOnce((function(){i.isOutRingStop=!0}),5)},a.stopCorona=function(){this.isOutRingStop=!0},a.ringRoation=function(i,n){this.testFlag},a.innerRingRotaion=function(){var i=this;this.winNodeWordPos=this.mulNumGroup.children[this.mulWinIndex].getWorldPosition();var n=this.outerRing.children[this.outRingIndex].getWorldPosition();!this.isInnerRingStop&&(this.innerRing.angle-=1.8);var t=180*this.getAngleBetweenVectors(this.winNodeWordPos,n)/Math.PI,e=c.distance(this.winNodeWordPos,n);if(t<30&&e<135&&this.isOutRingStop&&!this.isInnerRingStop){this.isInnerRingStop=!0,g(this.innerRing).to(.45,{angle:this.innerRing.angle-5},{easing:v.quadOut}).call((function(){i.innerWinEffGroup.children[i.mulWinIndex].active=!0,i.outerWinEffGroup.children[i.outRingIndex].active=!0,i.innerWinEff.active=!0,i.innerSpinEffNode.active=!1,i.marble.active=!1,i.ballTracking=!1,-1!=i._spinEffId&&(x.inst.stopOneShot(i._spinEffId,w.res.spinEff,E.SLOTS_PANDA),i._spinEffId=-1)})).start();var o=this.node.getComponent(P);o.opacity=255,g(o).delay(3.45).to(.2,{opacity:0}).call((function(){i.ballTracking=!1,i.node.active=!1,R.emit(ui.exitMiniGame)})).start()}},a.stopSound=function(i){var n;return null==(n=this.soundGroup.find((function(n){return n.res==i})))?void 0:n.uuid},a.onTouchOK=function(){var i=this;console.log("点了OK"),R.emit(M.event.enterMiniGame,"");var n=this.enterMiniGamePop.getComponent(P);x.inst.playOneShot(w.res.click,1,E.SLOTS_PANDA),this.marble.position=d(0,408.7),this.innerRing.angle=0,this.outerRing.angle=0,this.angle=0,this._angle=0,this.init(),g(n).to(.2,{opacity:0}).call((function(){i.node.active=!0,i.pandaAni.setAnimation(0,"animation",!1);var n=i.node.getComponent(P);n.opacity=0,g(n).to(.2,{opacity:255}).start(),i.enterMiniGamePop.active=!1})).start()},a.playBallHit=function(){var i=this,n=[w.res.ballHit1,w.res.ballHit2,w.res.ballHit3];n.forEach((function(t,e){t.indexOf(i.nowPlayingSound)>-1&&n.splice(e,1)}));var t=n[Math.floor(Math.random()*n.length)];this.nowPlayingSound=t,x.inst.playOneShot(this.nowPlayingSound,1,E.SLOTS_PANDA)},a.isPointInCircleAround=function(i,n,t,e){return void 0===e&&(e=.92),p.distance(i,n)>t*e},a.getAngleBetweenVectors=function(i,n){var t=(i.x*n.x+i.y*n.y+i.z*n.z)/(Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)*Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z));return Math.acos(t)},n}(G)).prototype,"outerRing",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(q.prototype,"innerRing",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(q.prototype,"marble",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(q.prototype,"mulNumGroup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(q.prototype,"btnStart",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(q.prototype,"mainBtnPlay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(q.prototype,"btnAuto",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(q.prototype,"iconSFGroup",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ii=n(q.prototype,"pandaAni",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=n(q.prototype,"enterMiniGamePop",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=n(q.prototype,"innerSpinEffNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=n(q.prototype,"innerWinEff",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=n(q.prototype,"innerWinEffGroup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=n(q.prototype,"outerWinEffGroup",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=q))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/PandaGameRes.ts",["cc"],(function(_){var n;return{setters:[function(_){n=_.cclegacy}],execute:function(){n._RF.push({},"14a2fnhGOxI1LMHs8e66sMJ","PandaGameRes",void 0);_("default",(function(){})).res={mainGameBGM:"sound/AC_sound_8003_music_interface_001",miniGameBGM:"sound/AC_sound_8003_music_interface_002",bigWinBGM:"sound/AC_sound_8003_music_interface_003",click:"sound/AC_sound_8003_panda_UI_button_001",startSpin:"sound/AC_sound_8003_panda_turntable_glitter",stopSpin:"sound/AC_sound_8003_panda_turntable_stop",singleLine:"sound/AC_sound_8003_panda_connect_single",allLines:"sound/AC_sound_8003_panda_connect_multiple",tipsPopWin:"sound/AC_sound_8003_panda_card_integral",bigWinRollNumber:"sound/AC_sound_8003_panda_number_collect",bigWin1:"sound/AC_sound_8003_panda_score_treasure_001",bigWin2:"sound/AC_sound_8003_panda_score_treasure_002",bigWin3:"sound/AC_sound_8003_panda_score_treasure_003",fakeMini:"sound/AC_sound_8003_panda_change_error",enterMiniGame:"sound/AC_sound_8003_panda_change",miniSpin:"sound/AC_sound_8003_panda_card_roll",riseEff:"sound/AC_sound_8003_panda_score_collect_rise",X10Eff:"sound/AC_sound_8003_panda_minigame_score10",allSameX10Eff:"sound/AC_sound_8003_panda_minigame_score10_001",pandaEat:"sound/AC_sound_8003_panda_eat",pandaSleep:"sound/AC_sound_8003_panda_sleep",pandaLook1:"sound/AC_sound_8003_panda_look_01",pandaLook2:"sound/AC_sound_8003_panda_look_02",pandaLook3:"sound/AC_sound_8003_panda_look_03",pandaAngry:"sound/AC_sound_8003_panda_angry",pandaAmazed:"sound/AC_sound_8003_panda_amazed",pandaCelebrate1:"sound/AC_sound_8003_panda_celebrate_001",pandaCelebrate2:"sound/AC_sound_8003_panda_celebrate_002",opening:"sound/AC_sound_8003_panda_opening",baseX10Eff:"sound/AC_sound_8003_panda_score10_appear",dropBall:"sound/AC_sound_8003_panda_ball_downfall_001",ballSpin:"sound/AC_sound_8003_panda_ball_roll_loop",xiaoQuan:"sound/AC_sound_8003_panda_ball_roll_rotate_loop_001",daQuan:"sound/AC_sound_8003_panda_ball_turntable",ballHit1:"sound/AC_sound_8003_panda_ball_impact_001",ballHit2:"sound/AC_sound_8003_panda_ball_impact_002",ballHit3:"sound/AC_sound_8003_panda_ball_impact_003",spinEff:"sound/AC_sound_8003_panda_ball_chime_appear",guangQuanEff:"sound/AC_sound_8003_panda_ball_roll_light"},n._RF.pop()}}}));

System.register("chunks:///_virtual/PandaInterface.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"e1b71/FCYNKzYsIJAdEppeG","PandaInterface",void 0);e("EPandaAni",function(e){return e[e.Idle=0]="Idle",e[e.CelebrationLv1=1]="CelebrationLv1",e[e.CelebrationLv2=2]="CelebrationLv2",e[e.Eat=3]="Eat",e[e.Look=4]="Look",e[e.Drowsy=5]="Drowsy",e[e.Level1=6]="Level1",e[e.Amazed=7]="Amazed",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/PandaMainControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameEvent.ts","./PandaGameData.ts"],(function(e){var n,t,a,i,o,l,r,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,i=e.UITransform,o=e.director,l=e.Component},function(e){r=e.default},function(e){c=e.PandaGameData}],execute:function(){var s;t._RF.push({},"928bcOcYBBHFJ3e84eyKbJ/","PandaMainControl",void 0);var u=a.ccclass,d=(a.property,r.event),h=c.data;e("PandaMainControl",u("PandaMainControl")(s=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).gameMainTran=null,n}return n(t,e),t.prototype.onLoad=function(){this.gameMainTran=this.node.getComponent(i)},t.startGame=function(){this.setData({betScore:[100,200,300,400,500,600,700,800,900],elementOdd:{101:3,102:5,103:8,104:10,105:25,106:100,201:250},fakeMiniRate:10,lineCount:10,mainWheel:[{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]},{lineWheel:[101,102,103,104,105,106,105,104,103,102,101]}],miniWheel:[{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]},{lineWheel:[302,302,302,302,302,302,302,302,302,302,302]}],miniMultiple:[1,2,3,4,5,6,7,8]})},t.setData=function(e){h.sceneData=e,o.emit(d.init,!0)},t}(l))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/PandaTipsPop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameData.ts","./PandaGameRes.ts","./Num.ts","./AudioMgr.ts","./ModuleDef.ts"],(function(t){var e,o,n,i,a,p,r,s,c,u,d,l,f,h,T,g,y,x,m,v,P,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,p=t._decorator,r=t.SpriteFrame,s=t.Label,c=t.ParticleSystem,u=t.Sprite,d=t.UIOpacity,l=t.v3,f=t.UITransform,h=t.tween,T=t.Vec3,g=t.Component,y=t.Tween},function(t){x=t.PandaGameData},function(t){m=t.default},function(t){v=t.Num},function(t){P=t.AudioMgr},function(t){C=t.ModuleDef}],execute:function(){var b,w,G,S,B,D,F,I,A,O,z;a._RF.push({},"0267eZ7IyRIDqeoimWWHFKZ","PandaTipsPop",void 0);var N=p.ccclass,M=p.property,_=x.data;t("PandaTipsPop",(b=N("PandaTipsPop"),w=M(r),G=M(s),S=M(s),B=M(c),b((I=e((F=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),p=0;p<o;p++)a[p]=arguments[p];return e=t.call.apply(t,[this].concat(a))||this,n(e,"tipsPopSFGroup",I,i(e)),n(e,"scoreTxt",A,i(e)),n(e,"tipTxt",O,i(e)),n(e,"effGroup",z,i(e)),e.playIndex=0,e}o(e,t);var a=e.prototype;return a.start=function(){},a.resetBg=function(){this.node.getComponent(u).spriteFrame=this.tipsPopSFGroup[0],this.effGroup.forEach((function(t){t.node.active=!1}))},a.setBg=function(t){this.node.getComponent(u).spriteFrame=this.tipsPopSFGroup[t-1],this.effGroup[t-2].node.active=!1,this.effGroup[t-2].node.active=!0,this.effGroup[t-2].stop(),this.effGroup[t-2].play(),this.effGroup[t-2].node.children.forEach((function(t){t.active=!1,t.active=!0;var e=t.getComponent(c);e.stop(),e.play()}))},a.playTipsWinPop=function(t){var e=this;if(t){var o=t/_.gameData.betScore;this.tipTxt.node.active=!1,this.scoreTxt.node.parent.active=!0;var n=this.scoreTxt.node.parent,i=this.scoreTxt.node,a=this.scoreTxt.node.parent.getChildByName("winNode"),p=n.getComponent(d);n.scale=l(1.2,1.2,1.2),this.scoreTxt.string=v.exchangeToThousands(1,t),this.scheduleOnce((function(){a.position=l(-i.getComponent(f).width/2),i.position=l(a.position.x+a.getComponent(f).width*a.scale.x/2+10,5),o>=10&&o<=20?e.setBg(2):o>20&&o<=100?e.setBg(3):o>100&&e.setBg(4),P.inst.playOneShot(m.res.tipsPopWin,1,C.SLOTS_PANDA),h(n).to(1,{scale:T.ONE},{easing:"bounceOut"}).start(),h(p).to(.05,{opacity:255}).start()}),.001)}},a.hideTipsPop=function(){var t=this,e=this.scoreTxt.node.parent.getComponent(d),o=this.tipTxt.node.getComponent(d);e.opacity=255,h(e).to(.05,{opacity:0}).call((function(){t.scoreTxt.node.parent.active=!1,t.resetBg(),t.tipTxt.node.active=!0,o.opacity=255})).start()},a.playTipsTxt=function(){var t=this;if(!this.scoreTxt.node.parent.active){this.tipTxt.node.active=!0;var e=this.tipTxt.node.getComponent(d);e.opacity=0;this.scheduleOnce((function(){y.stopAllByTarget(t.tipTxt.node),y.stopAllByTarget(t.tipTxt.node.getComponent(d)),h(e).to(.25,{opacity:255}).start(),t.tipTxt.node.position=l(t.tipTxt.node.getComponent(f).width>t.tipTxt.node.parent.getComponent(f).width?-t.tipTxt.node.getComponent(f).width/2+(t.tipTxt.node.getComponent(f).width-t.tipTxt.node.parent.getComponent(f).width)/2:-t.tipTxt.node.getComponent(f).width/2,3.579),2==t.playIndex&&h(t.tipTxt.node).delay(3).to(7,{position:l(-1779.265,3.579)}).start(),h(e).to(.25,{opacity:255}).start(),h(e).delay(9.5).to(.25,{opacity:0}).start(),t.playIndex=t.playIndex>=2?0:t.playIndex+1}),.001)}},e}(g)).prototype,"tipsPopSFGroup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(F.prototype,"scoreTxt",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(F.prototype,"tipTxt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(F.prototype,"effGroup",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=F))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/PandaWinIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PandaGameData.ts"],(function(i){var t,n,e,o,a,r,c,l,s,p,u,f,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,c=i.SpriteFrame,l=i.sp,s=i.Label,p=i.ParticleSystem,u=i.Sprite,f=i.Component},function(i){h=i.PandaGameData}],execute:function(){var d,S,P,m,y,b,g,v,w,G,k,z,A;a._RF.push({},"fe179fi8uVIsaLxs7QqzVoN","PandaWinIcon",void 0);var D=r.ccclass,F=r.property;i("PandaWinIcon",(d=D("PandaWinIcon"),S=F(c),P=F(l.SkeletonData),m=F(s),y=F(p),b=F(p),d((w=t((v=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"iconSFGroup",w,o(t)),e(t,"iconSPGroup",G,o(t)),e(t,"priceTxt",k,o(t)),e(t,"wildEff",z,o(t)),e(t,"wildTxtEff",A,o(t)),t._isHit=!1,t.iconSP=void 0,t}n(t,i);var a=t.prototype;return a.start=function(){this.iconSP=this.node.getComponent(l.Skeleton),h.setNodesByComponent(this.node)},a.setSkin=function(i){var t;t=i<200?i%100:6,this.node.getComponent(u).spriteFrame=this.iconSFGroup[t]},a.setPos=function(i){this.node.position=i},a.setSpData=function(i){this.iconSP=this.node.getComponent(l.Skeleton);var t;(t=i<200?i%100-1:6)>=this.iconSPGroup.length-1?this.iconSP.premultipliedAlpha=!0:this.iconSP.premultipliedAlpha=!1,this.iconSP.skeletonData=this.iconSPGroup[t]},a.playAni=function(i){var t=this;if(this._isHit=i,this.node.active=!0,i){this.iconSP.setAnimation(0,"2",!1);var n=this.iconSP.getState().tracks[0].animation.duration;this.scheduleOnce((function(){t.iconSP.setAnimation(0,"3",!1)}),n)}else this.iconSP.setAnimation(0,"3",!1)},a.playClickIcon=function(){this.playAni(!0)},a.update=function(i){},t}(f)).prototype,"iconSFGroup",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(v.prototype,"iconSPGroup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(v.prototype,"priceTxt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"wildEff",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(v.prototype,"wildTxtEff",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotPandaGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./RoomMgr.ts","./SubGameDef.ts","./SubGameMgr.ts","./ModuleDef.ts"],(function(e){var n,t,r,a,s,o,i,u,c,g,l,d;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,i=e.assetManager},function(e){u=e.GameMgr},function(e){c=e.RoomMgr},function(e){g=e.SubGameDef},function(e){l=e.SubGameMgr},function(e){d=e.ModuleDef}],execute:function(){var f,m;s._RF.push({},"d1ccaXa4BdJTZqeaOnkQDTa","SlotPandaGameMgr",void 0);var p=o.ccclass,_=(o.property,e("SlotPandaGameMgr",p("SlotPandaGameMgr")(((m=function(e){function s(){var n;return(n=e.call(this)||this)._porcessFun=void 0,n._gameType=g.SLOTS_PANDA,n._loadingScene={name:"subgame_loading",bundle:d.BASIC},n._gameScene={name:"game_slots_panda",bundle:d.SLOTS_PANDA},n.initNetMsgHandlers(),n}n(s,e);var o=s.prototype;return o.initNetMsgHandlers=function(){},o.initSoloMode=function(){c.inst.reset(),this.reset(),l.gameMgr=this},o.preLoadRes=function(){var e=r(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._porcessFun=n,n&&n(0),e.next=4,this.preLoadMain();case 4:return e.next=6,this.preLoadLanguage();case 6:return n&&n(1),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o.preLoadMain=function(){var e=this;return new Promise((function(n,t){var r=i.getBundle(e._gameScene.bundle);r?r.preloadScene(e._gameScene.name,(function(n,t){e._porcessFun&&e._porcessFun(n/t)}),(function(){e._porcessFun(1),n()})):n()}))},o.preLoadLanguage=function(){return new Promise((function(e,n){e()}))},t(s,null,[{key:"inst",get:function(){return this._inst||(this._inst=new s),this._inst}}]),s}(u))._inst=void 0,f=m))||f));l.inst.registerGameMgr(_.inst),s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_slots_panda', 'chunks:///_virtual/module_slots_panda'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});