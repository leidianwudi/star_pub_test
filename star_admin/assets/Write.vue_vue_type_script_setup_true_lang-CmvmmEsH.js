var p=(s,c,o)=>new Promise((l,n)=>{var i=t=>{try{r(o.next(t))}catch(a){n(a)}},m=t=>{try{r(o.throw(t))}catch(a){n(a)}},r=t=>t.done?l(t.value):Promise.resolve(t.value).then(i,m);r((o=o.apply(s,c)).next())});import{a as b}from"./index-D7Tnk3Vo.js";import{F as h}from"./Form-BurHqMWS.js";import{u as v}from"./useForm-dGPra2nm.js";import{v as w,r as g,V as y,w as I,x,J as F,u as f}from"./vue-chunks-COp0tDkU.js";const B=w({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(s,{expose:c}){const o=s,l=g([{field:"day",label:"第几天",component:"Input"},{field:"title",label:"名称",component:"Input"},{field:"tip",label:"客户端提示",component:"Input"},{field:"item_code",label:"道具编码",component:"Select",componentProps:{nodeKey:"item_code",props:{label:e=>{if(e&&e.item_code)return e.item_code},value:"item_code"},checkStrictly:!0},optionApi:()=>p(this,null,function*(){return(yield b()).data.list||[]})},{field:"reward",label:"奖励数量",component:"InputNumber"},{field:"desc",label:"备注",component:"Input"}]),n=y({}),{formRegister:i,formMethods:m}=v(),{setValues:r,getFormData:t,getElFormExpose:a}=m,d=()=>p(this,null,function*(){const e=yield a();if(yield e==null?void 0:e.validate().catch(u=>{}))return yield t()});return I(()=>o.currentRow,e=>{e&&r(e)},{deep:!0,immediate:!0}),c({submit:d}),(e,_)=>(x(),F(f(h),{rules:n,onRegister:f(i),schema:l.value},null,8,["rules","onRegister","schema"]))}});export{B as _};
