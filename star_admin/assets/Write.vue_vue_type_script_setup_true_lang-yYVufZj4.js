var m=(l,c,t)=>new Promise((s,r)=>{var i=o=>{try{a(t.next(o))}catch(n){r(n)}},p=o=>{try{a(t.throw(o))}catch(n){r(n)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(i,p);a((t=t.apply(l,c)).next())});import{F as g}from"./Form-BurHqMWS.js";import{u as _}from"./useForm-dGPra2nm.js";import{u as x}from"./useValidator-DY0gbKVw.js";import{v as I,c as d,r as P,V as R,w as V,x as F,J as y,u as f}from"./vue-chunks-COp0tDkU.js";const j=I({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(l,{expose:c}){const{required:t}=x(),s=l,r=d(()=>{var e;return!!((e=s.currentRow)!=null&&e.id)}),i=P([{field:"account",label:"账号",component:"Input"},{field:"password",label:"密码",component:"InputPassword",componentProps:d(()=>({disabled:r.value}))},{field:"name",label:"昵称",component:"Input"},{field:"visualId",label:"头像id",component:"Input"},{field:"gender",label:"性别",component:"Select",componentProps:{options:[{label:"保密",value:0},{label:"男",value:1},{label:"女",value:2}]}},{field:"introduction",label:"简介",component:"Input",componentProps:{type:"textarea",rows:2}},{field:"deleted",label:"是否删除",component:"Switch",componentProps:{activeValue:1,inactiveValue:0}}]),p=R({account:[t()],password:[t()]}),{formRegister:a,formMethods:o}=_(),{setValues:n,getFormData:b,getElFormExpose:v}=o,w=()=>m(this,null,function*(){const e=yield v();if(yield e==null?void 0:e.validate().catch(u=>{}))return yield b()});return V(()=>s.currentRow,e=>{e&&n(e)},{deep:!0,immediate:!0}),c({submit:w}),(e,h)=>(F(),y(f(g),{rules:p,onRegister:f(a),schema:i.value},null,8,["rules","onRegister","schema"]))}});export{j as _};
