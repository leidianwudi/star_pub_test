var m=(n,c,o)=>new Promise((p,s)=>{var i=t=>{try{r(o.next(t))}catch(a){s(a)}},l=t=>{try{r(o.throw(t))}catch(a){s(a)}},r=t=>t.done?p(t.value):Promise.resolve(t.value).then(i,l);r((o=o.apply(n,c)).next())});import{F as g}from"./Form-BurHqMWS.js";import{u as h}from"./useForm-dGPra2nm.js";import{g as w}from"./index-DOJE_sUj.js";import{v,aI as x,V as u,w as I,x as k,J as F,u as d}from"./vue-chunks-COp0tDkU.js";const E=v({__name:"Write",props:{currentRow:{type:Object,default:()=>{}}},setup(n,{expose:c}){const{t:o}=x(),p=n,s=u([{field:"game_type_code",label:"游戏类型",component:"Select",componentProps:{nodeKey:"type_code",props:{label:e=>{if(e&&e.type_code)return o(e.type_code)},value:"type_code"},checkStrictly:!0},optionApi:()=>m(this,null,function*(){return(yield w()).data.list||[]})},{field:"odds_key",label:"概率key",component:"Input"},{field:"odds_value",label:"概率值",component:"Input"},{field:"sort",label:"排序",component:"InputNumber"},{field:"desc",label:"说明",component:"Input",componentProps:{type:"textarea",rows:2}}]),i=u({}),{formRegister:l,formMethods:r}=h(),{setValues:t,getFormData:a,getElFormExpose:f}=r,_=()=>m(this,null,function*(){const e=yield f();if(yield e==null?void 0:e.validate().catch(b=>{}))return yield a()});return I(()=>p.currentRow,e=>{e&&t(e)},{deep:!0,immediate:!0}),c({submit:_}),(e,y)=>(k(),F(d(g),{rules:i,onRegister:d(l),schema:s},null,8,["rules","onRegister","schema"]))}});export{E as _};
