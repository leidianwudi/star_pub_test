var x=(l,p,i)=>new Promise((b,a)=>{var g=t=>{try{f(i.next(t))}catch(e){a(e)}},d=t=>{try{f(i.throw(t))}catch(e){a(e)}},f=t=>t.done?b(t.value):Promise.resolve(t.value).then(g,d);f((i=i.apply(l,p)).next())});import{D as _}from"./Descriptions-C1pGrySo.js";import{A as k}from"./index-CHi5EjGf.js";/* empty css               *//* empty css                *//* empty css                    */import{b as y}from"./index-BmpB-Ny1.js";import{ae as L,n as h}from"./element-plus-B2PLgZHf.js";import{v as w,r as m,x as D,J as N,u,n as T,M as n,H as j,a7 as M}from"./vue-chunks-COp0tDkU.js";function A(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!M(l)}const I=w({__name:"Detail",props:{currentRow:{type:Object,default:()=>{}}},setup(l){const p=e=>{var c,r,s;const o=k(((c=u(a))==null?void 0:c.permissionList)||[],v=>v.value===e);return(s=(((r=u(a))==null?void 0:r.permissionList)||[])[o].label)!=null?s:""},i=e=>n(h,{type:e?"success":"danger"},{default:()=>[e?"启用":"禁用"]}),b=m(),a=m(),g=e=>{a.value=e},d=m([]);x(this,null,function*(){const e=yield y();e&&(d.value=e.data.list,yield T())});const t=m([{field:"roleName",label:"角色名称"},{field:"status",label:"状态",slots:{default:e=>i(e.status)}},{field:"remark",label:"备注",span:24},{field:"permissionList",label:"菜单分配",span:24,slots:{default:()=>{var e,o,c;return n(j,null,[n("div",{class:"flex w-full"},[n("div",{class:"flex-1"},[n(L,{ref:b,"node-key":"id",props:{children:"children",label:"title"},"highlight-current":!0,"expand-on-click-node":!1,data:d.value,"onNode-click":g},{default:r=>{var s;return n("span",null,[(s=r==null?void 0:r.data)==null?void 0:s.title])}})]),n("div",{class:"flex-1"},[u(a)?(c=(o=(e=u(a))==null?void 0:e.meta)==null?void 0:o.permission)==null?void 0:c.map(r=>{let s;return n(h,{class:"ml-2 mt-2"},A(s=p(r))?s:{default:()=>[s]})}):null])])])}}}]);return(e,o)=>(D(),N(u(_),{schema:t.value,data:l.currentRow||{}},null,8,["schema","data"]))}});export{I as _};
