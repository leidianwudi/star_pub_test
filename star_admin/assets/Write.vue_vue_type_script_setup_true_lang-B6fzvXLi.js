var s=(c,p,o)=>new Promise((i,a)=>{var l=t=>{try{r(o.next(t))}catch(n){a(n)}},m=t=>{try{r(o.throw(t))}catch(n){a(n)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(l,m);r((o=o.apply(c,p)).next())});import{F as w}from"./Form-BSQhYHrI.js";import{u as v}from"./useForm-D392SAX5.js";import{g as u}from"./index-Baxg4tbs.js";import{v as g,aI as x,V as d,w as I,x as S,J as k,u as f}from"./vue-chunks-COp0tDkU.js";const B=g({__name:"Write",props:{currentRow:{type:Object,default:()=>{}}},setup(c,{expose:p}){const{t:o}=x(),i=c,a=d([{field:"type_code",label:"游戏类型",component:"Select",componentProps:{nodeKey:"type_code",props:{label:e=>{if(e&&e.type_code)return o(e.type_code)},value:"type_code"},checkStrictly:!0},optionApi:()=>s(this,null,function*(){return(yield u()).data.list||[]})},{field:"type_name",label:"类型名称",component:"Select",componentProps:{nodeKey:"type_code",props:{label:e=>{if(e&&e.type_name)return o(e.type_name)},value:"type_name"},checkStrictly:!0},optionApi:()=>s(this,null,function*(){return(yield u()).data.list||[]})},{field:"odds_value",label:"概率值",component:"Input"},{field:"sort",label:"排序",component:"Input"},{field:"desc",label:"说明",component:"Input",componentProps:{type:"textarea",rows:2}}]),l=d({}),{formRegister:m,formMethods:r}=v(),{setValues:t,getFormData:n,getElFormExpose:y}=r,_=()=>s(this,null,function*(){const e=yield y();if(yield e==null?void 0:e.validate().catch(h=>{}))return yield n()});return I(()=>i.currentRow,e=>{e&&t(e)},{deep:!0,immediate:!0}),p({submit:_}),(e,b)=>(S(),k(f(w),{rules:l,onRegister:f(m),schema:a},null,8,["rules","onRegister","schema"]))}});export{B as _};
