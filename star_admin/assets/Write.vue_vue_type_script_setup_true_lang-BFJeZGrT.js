var s=(c,p,o)=>new Promise((l,n)=>{var i=t=>{try{r(o.next(t))}catch(a){n(a)}},m=t=>{try{r(o.throw(t))}catch(a){n(a)}},r=t=>t.done?l(t.value):Promise.resolve(t.value).then(i,m);r((o=o.apply(c,p)).next())});import{F as g}from"./Form-BurHqMWS.js";import{u as h}from"./useForm-dGPra2nm.js";import{g as w,a as v}from"./index-DOJE_sUj.js";import{v as k,aI as x,V as u,w as A,x as I,J as S,u as d}from"./vue-chunks-COp0tDkU.js";const E=k({__name:"Write",props:{currentRow:{type:Object,default:()=>{}}},setup(c,{expose:p}){const{t:o}=x(),l=c,n=u([{field:"game_type_code",label:"游戏类型编号",component:"Select",componentProps:{nodeKey:"type_code",props:{label:e=>{if(e&&e.type_code)return o(e.type_code)},value:"type_code"},checkStrictly:!0},optionApi:()=>s(this,null,function*(){return(yield w()).data.list||[]})},{field:"game_code",label:"游戏编码",component:"Select",componentProps:{nodeKey:"code",props:{label:e=>{if(e&&e.code)return o(e.code)},value:"code"},checkStrictly:!0},optionApi:()=>s(this,null,function*(){return(yield v()).data.list||[]})},{field:"sort",label:"排序",component:"InputNumber"},{field:"odds_key",label:"几率key",component:"Input"},{field:"odds_value",label:"几率值",component:"Input"},{field:"desc",label:"说明",component:"Input",componentProps:{type:"textarea",rows:2}}]),i=u({}),{formRegister:m,formMethods:r}=h(),{setValues:t,getFormData:a,getElFormExpose:f}=r,y=()=>s(this,null,function*(){const e=yield f();if(yield e==null?void 0:e.validate().catch(b=>{}))return yield a()});return A(()=>l.currentRow,e=>{e&&t(e)},{deep:!0,immediate:!0}),p({submit:y}),(e,_)=>(I(),S(d(g),{rules:i,onRegister:d(m),schema:n},null,8,["rules","onRegister","schema"]))}});export{E as _};
