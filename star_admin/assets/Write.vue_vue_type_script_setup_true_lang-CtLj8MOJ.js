var p=(s,c,o)=>new Promise((m,r)=>{var l=t=>{try{a(o.next(t))}catch(n){r(n)}},i=t=>{try{a(o.throw(t))}catch(n){r(n)}},a=t=>t.done?m(t.value):Promise.resolve(t.value).then(l,i);a((o=o.apply(s,c)).next())});import{F as h}from"./Form-BurHqMWS.js";import{u as w}from"./useForm-dGPra2nm.js";import{a as x}from"./index-DOJE_sUj.js";import{u as v}from"./useValidator-DY0gbKVw.js";import{v as y,V as u,w as I,x as F,J as R,u as d}from"./vue-chunks-COp0tDkU.js";const E=y({__name:"Write",props:{currentRow:{type:Object,default:()=>{}}},setup(s,{expose:c}){const{required:o}=v(),m=s,r=u([{field:"game_code",label:"游戏编号",component:"Select",componentProps:{nodeKey:"code",props:{label:e=>{if(e&&e.code)return e.code},value:"code"},checkStrictly:!0},optionApi:()=>p(this,null,function*(){return(yield x()).data.list||[]})},{field:"game_code_sub",label:"房间类型id",component:"Input"},{field:"bet",label:"底分",component:"Input"},{field:"min_gold",label:"需要的最小金币",component:"Input"},{field:"max_gold",label:"最大金币",component:"Input"},{field:"name",label:"名字",component:"Input"},{field:"desc",label:"说明",component:"Input",componentProps:{type:"textarea",rows:2}}]),l=u({game_code:[o()],game_code_sub:[o()],bet:[o()],min_gold:[o()],max_gold:[o()]}),{formRegister:i,formMethods:a}=w(),{setValues:t,getFormData:n,getElFormExpose:f}=a,_=()=>p(this,null,function*(){const e=yield f();if(yield e==null?void 0:e.validate().catch(g=>{}))return yield n()});return I(()=>m.currentRow,e=>{e&&t(e)},{deep:!0,immediate:!0}),c({submit:_}),(e,b)=>(F(),R(d(h),{rules:l,onRegister:d(i),schema:r},null,8,["rules","onRegister","schema"]))}});export{E as _};
