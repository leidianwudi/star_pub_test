var P=Object.defineProperty;var u=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var d=(n,o,t)=>o in n?P(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,f=(n,o)=>{for(var t in o||(o={}))R.call(o,t)&&d(n,t,o[t]);if(u)for(var t of u(o))C.call(o,t)&&d(n,t,o[t]);return n};var b=(n,o,t)=>new Promise((s,l)=>{var p=a=>{try{r(t.next(a))}catch(c){l(c)}},m=a=>{try{r(t.throw(a))}catch(c){l(c)}},r=a=>a.done?s(a.value):Promise.resolve(a.value).then(p,m);r((t=t.apply(n,o)).next())});import{F as D}from"./Form-BSQhYHrI.js";import{u as S}from"./useForm-D392SAX5.js";import{u as V}from"./useValidator-Dq57AcmW.js";import{v as j,V as y,w as B,x as E,J as O,u as h}from"./vue-chunks-COp0tDkU.js";const z=j({__name:"ChangePassword",props:{currentRow:{type:Object,default:()=>{}},actionType:{type:String,default:()=>"change"}},setup(n,{expose:o}){const{required:t}=V(),s=n,l=()=>{let e="password";return s.actionType==="enabled"?e="enable":s.actionType==="locked"&&(e="locked"),e},p=()=>{let e="密码";return s.actionType==="enabled"?e="是否可用":s.actionType==="locked"&&(e="是否冻结"),e},m=()=>{let e="InputPassword",i={};return(s.actionType==="enabled"||s.actionType==="locked")&&(e="Select",i={options:[{label:"是",value:1},{label:"否",value:0}]}),{component:e,componentProps:i}},{component:r,componentProps:a}=m(),c=y([f({field:l(),label:p(),component:r},Object.keys(a).length?{componentProps:a}:{})]),g=y({account:[t()]}),{formRegister:w,formMethods:k}=S(),{setValues:v,getFormData:T,getElFormExpose:_}=k,x=()=>b(this,null,function*(){const e=yield _();if(yield e==null?void 0:e.validate().catch(F=>{}))return yield T()});return B(()=>s.currentRow,e=>{e&&v(e)},{deep:!0,immediate:!0}),o({submit:x}),(e,i)=>(E(),O(h(D),{rules:g,onRegister:h(w),schema:c},null,8,["rules","onRegister","schema"]))}});export{z as _};
