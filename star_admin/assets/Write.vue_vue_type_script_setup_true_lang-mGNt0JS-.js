var r=(c,i,t)=>new Promise((p,s)=>{var l=o=>{try{n(t.next(o))}catch(a){s(a)}},m=o=>{try{n(t.throw(o))}catch(a){s(a)}},n=o=>o.done?p(o.value):Promise.resolve(o.value).then(l,m);n((t=t.apply(c,i)).next())});import{F as h}from"./Form-BSQhYHrI.js";import{u as w}from"./useForm-D392SAX5.js";import{g as u,a as v}from"./index-Baxg4tbs.js";import{v as S,aI as A,V as d,w as k,x,J as P,u as f}from"./vue-chunks-COp0tDkU.js";const D=S({__name:"Write",props:{currentRow:{type:Object,default:()=>{}}},setup(c,{expose:i}){const{t}=A(),p=c,s=d([{field:"id",label:"游戏类型编号",component:"Select",componentProps:{nodeKey:"id",props:{label:e=>{if(e&&e.id)return t(e.id)},value:"id"},checkStrictly:!0},optionApi:()=>r(this,null,function*(){return(yield u()).data.list||[]})},{field:"type_name",label:"类型名称",component:"Select",componentProps:{nodeKey:"type_code",props:{label:e=>{if(e&&e.type_name)return t(e.type_name)},value:"type_name"},checkStrictly:!0},optionApi:()=>r(this,null,function*(){return(yield u()).data.list||[]})},{field:"game_code",label:"游戏编码",component:"Select",componentProps:{nodeKey:"game_code",props:{label:e=>{if(e&&e.game_code)return t(e.game_code)},value:"game_code"},checkStrictly:!0},optionApi:()=>r(this,null,function*(){return(yield v()).data.list||[]})},{field:"sort",label:"排序",component:"Input"},{field:"odd_key",label:"排序",component:"Select",componentProps:{nodeKey:"game_code",props:{label:e=>{if(e&&e.game_code)return t(e.game_code)},value:"game_code"},checkStrictly:!0},optionApi:()=>r(this,null,function*(){return(yield u()).data.list||[]})},{field:"desc",label:"说明",component:"Input",componentProps:{type:"textarea",rows:2}}]),l=d({}),{formRegister:m,formMethods:n}=w(),{setValues:o,getFormData:a,getElFormExpose:y}=n,_=()=>r(this,null,function*(){const e=yield y();if(yield e==null?void 0:e.validate().catch(b=>{}))return yield a()});return k(()=>p.currentRow,e=>{e&&o(e)},{deep:!0,immediate:!0}),i({submit:_}),(e,g)=>(x(),P(f(h),{rules:l,onRegister:f(m),schema:s},null,8,["rules","onRegister","schema"]))}});export{D as _};
